var vJ=Object.defineProperty;var yJ=(n,e,t)=>e in n?vJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ft=(n,e,t)=>(yJ(n,typeof e!="symbol"?e+"":e,t),t);function SJ(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var iO={exports:{}},LE={},rO={exports:{}},Pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=Symbol.for("react.element"),_J=Symbol.for("react.portal"),xJ=Symbol.for("react.fragment"),wJ=Symbol.for("react.strict_mode"),CJ=Symbol.for("react.profiler"),EJ=Symbol.for("react.provider"),bJ=Symbol.for("react.context"),AJ=Symbol.for("react.forward_ref"),MJ=Symbol.for("react.suspense"),TJ=Symbol.for("react.memo"),BJ=Symbol.for("react.lazy"),iF=Symbol.iterator;function RJ(n){return n===null||typeof n!="object"?null:(n=iF&&n[iF]||n["@@iterator"],typeof n=="function"?n:null)}var oO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sO=Object.assign,aO={};function Hv(n,e,t){this.props=n,this.context=e,this.refs=aO,this.updater=t||oO}Hv.prototype.isReactComponent={};Hv.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Hv.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function lO(){}lO.prototype=Hv.prototype;function qR(n,e,t){this.props=n,this.context=e,this.refs=aO,this.updater=t||oO}var jR=qR.prototype=new lO;jR.constructor=qR;sO(jR,Hv.prototype);jR.isPureReactComponent=!0;var rF=Array.isArray,uO=Object.prototype.hasOwnProperty,XR={current:null},cO={key:!0,ref:!0,__self:!0,__source:!0};function dO(n,e,t){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)uO.call(e,i)&&!cO.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:S1,type:n,key:o,ref:s,props:r,_owner:XR.current}}function IJ(n,e){return{$$typeof:S1,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function QR(n){return typeof n=="object"&&n!==null&&n.$$typeof===S1}function kJ(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var oF=/\/+/g;function MA(n,e){return typeof n=="object"&&n!==null&&n.key!=null?kJ(""+n.key):e.toString(36)}function Nw(n,e,t,i,r){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case S1:case _J:s=!0}}if(s)return s=n,r=r(s),n=i===""?"."+MA(s,0):i,rF(r)?(t="",n!=null&&(t=n.replace(oF,"$&/")+"/"),Nw(r,e,t,"",function(u){return u})):r!=null&&(QR(r)&&(r=IJ(r,t+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(oF,"$&/")+"/")+n)),e.push(r)),1;if(s=0,i=i===""?".":i+":",rF(n))for(var a=0;a<n.length;a++){o=n[a];var l=i+MA(o,a);s+=Nw(o,e,t,l,r)}else if(l=RJ(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=i+MA(o,a++),s+=Nw(o,e,t,l,r);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Q_(n,e,t){if(n==null)return n;var i=[],r=0;return Nw(n,i,"","",function(o){return e.call(t,o,r++)}),i}function LJ(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ss={current:null},Ow={transition:null},FJ={ReactCurrentDispatcher:Ss,ReactCurrentBatchConfig:Ow,ReactCurrentOwner:XR};Pn.Children={map:Q_,forEach:function(n,e,t){Q_(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Q_(n,function(){e++}),e},toArray:function(n){return Q_(n,function(e){return e})||[]},only:function(n){if(!QR(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Pn.Component=Hv;Pn.Fragment=xJ;Pn.Profiler=CJ;Pn.PureComponent=qR;Pn.StrictMode=wJ;Pn.Suspense=MJ;Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FJ;Pn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=sO({},n.props),r=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=XR.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)uO.call(e,l)&&!cO.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:S1,type:n.type,key:r,ref:o,props:i,_owner:s}};Pn.createContext=function(n){return n={$$typeof:bJ,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:EJ,_context:n},n.Consumer=n};Pn.createElement=dO;Pn.createFactory=function(n){var e=dO.bind(null,n);return e.type=n,e};Pn.createRef=function(){return{current:null}};Pn.forwardRef=function(n){return{$$typeof:AJ,render:n}};Pn.isValidElement=QR;Pn.lazy=function(n){return{$$typeof:BJ,_payload:{_status:-1,_result:n},_init:LJ}};Pn.memo=function(n,e){return{$$typeof:TJ,type:n,compare:e===void 0?null:e}};Pn.startTransition=function(n){var e=Ow.transition;Ow.transition={};try{n()}finally{Ow.transition=e}};Pn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pn.useCallback=function(n,e){return Ss.current.useCallback(n,e)};Pn.useContext=function(n){return Ss.current.useContext(n)};Pn.useDebugValue=function(){};Pn.useDeferredValue=function(n){return Ss.current.useDeferredValue(n)};Pn.useEffect=function(n,e){return Ss.current.useEffect(n,e)};Pn.useId=function(){return Ss.current.useId()};Pn.useImperativeHandle=function(n,e,t){return Ss.current.useImperativeHandle(n,e,t)};Pn.useInsertionEffect=function(n,e){return Ss.current.useInsertionEffect(n,e)};Pn.useLayoutEffect=function(n,e){return Ss.current.useLayoutEffect(n,e)};Pn.useMemo=function(n,e){return Ss.current.useMemo(n,e)};Pn.useReducer=function(n,e,t){return Ss.current.useReducer(n,e,t)};Pn.useRef=function(n){return Ss.current.useRef(n)};Pn.useState=function(n){return Ss.current.useState(n)};Pn.useSyncExternalStore=function(n,e,t){return Ss.current.useSyncExternalStore(n,e,t)};Pn.useTransition=function(){return Ss.current.useTransition()};Pn.version="18.2.0";rO.exports=Pn;var T=rO.exports;const fO=kE(T),wC=SJ({__proto__:null,default:fO},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DJ=T,PJ=Symbol.for("react.element"),NJ=Symbol.for("react.fragment"),OJ=Object.prototype.hasOwnProperty,zJ=DJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UJ={key:!0,ref:!0,__self:!0,__source:!0};function hO(n,e,t){var i,r={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)OJ.call(e,i)&&!UJ.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:PJ,type:n,key:o,ref:s,props:r,_owner:zJ.current}}LE.Fragment=NJ;LE.jsx=hO;LE.jsxs=hO;iO.exports=LE;var YR=iO.exports;const sF=YR.Fragment,Ge=YR.jsx,ti=YR.jsxs;var hT={},pO={exports:{}},za={},mO={exports:{}},gO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,V){var $=O.length;O.push(V);e:for(;0<$;){var ie=$-1>>>1,ae=O[ie];if(0<r(ae,V))O[ie]=V,O[$]=ae,$=ie;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var V=O[0],$=O.pop();if($!==V){O[0]=$;e:for(var ie=0,ae=O.length,Ce=ae>>>1;ie<Ce;){var Fe=2*(ie+1)-1,Ne=O[Fe],he=Fe+1,mt=O[he];if(0>r(Ne,$))he<ae&&0>r(mt,Ne)?(O[ie]=mt,O[he]=$,ie=he):(O[ie]=Ne,O[Fe]=$,ie=Fe);else if(he<ae&&0>r(mt,$))O[ie]=mt,O[he]=$,ie=he;else break e}}return V}function r(O,V){var $=O.sortIndex-V.sortIndex;return $!==0?$:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,m=3,v=!1,y=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var V=t(u);V!==null;){if(V.callback===null)i(u);else if(V.startTime<=O)i(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(u)}}function M(O){if(_=!1,b(O),!y)if(t(l)!==null)y=!0,te(B);else{var V=t(u);V!==null&&de(M,V.startTime-O)}}function B(O,V){y=!1,_&&(_=!1,x(R),R=-1),v=!0;var $=m;try{for(b(V),d=t(l);d!==null&&(!(d.expirationTime>V)||O&&!G());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,m=d.priorityLevel;var ae=ie(d.expirationTime<=V);V=n.unstable_now(),typeof ae=="function"?d.callback=ae:d===t(l)&&i(l),b(V)}else i(l);d=t(l)}if(d!==null)var Ce=!0;else{var Fe=t(u);Fe!==null&&de(M,Fe.startTime-V),Ce=!1}return Ce}finally{d=null,m=$,v=!1}}var k=!1,F=null,R=-1,N=5,U=-1;function G(){return!(n.unstable_now()-U<N)}function oe(){if(F!==null){var O=n.unstable_now();U=O;var V=!0;try{V=F(!0,O)}finally{V?me():(k=!1,F=null)}}else k=!1}var me;if(typeof C=="function")me=function(){C(oe)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ne=j.port2;j.port1.onmessage=oe,me=function(){ne.postMessage(null)}}else me=function(){S(oe,0)};function te(O){F=O,k||(k=!0,me())}function de(O,V){R=S(function(){O(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,te(B))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var $=m;m=V;try{return O()}finally{m=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=m;m=O;try{return V()}finally{m=$}},n.unstable_scheduleCallback=function(O,V,$){var ie=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ie+$:ie):$=ie,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=$+ae,O={id:c++,callback:V,priorityLevel:O,startTime:$,expirationTime:ae,sortIndex:-1},$>ie?(O.sortIndex=$,e(u,O),t(l)===null&&O===t(u)&&(_?(x(R),R=-1):_=!0,de(M,$-ie))):(O.sortIndex=ae,e(l,O),y||v||(y=!0,te(B))),O},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(O){var V=m;return function(){var $=m;m=V;try{return O.apply(this,arguments)}finally{m=$}}}})(gO);mO.exports=gO;var HJ=mO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vO=T,Na=HJ;function ut(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yO=new Set,mS={};function Yp(n,e){sv(n,e),sv(n+"Capture",e)}function sv(n,e){for(mS[n]=e,n=0;n<e.length;n++)yO.add(e[n])}var Jc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pT=Object.prototype.hasOwnProperty,GJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aF={},lF={};function WJ(n){return pT.call(lF,n)?!0:pT.call(aF,n)?!1:GJ.test(n)?lF[n]=!0:(aF[n]=!0,!1)}function VJ(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function KJ(n,e,t,i){if(e===null||typeof e>"u"||VJ(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _s(n,e,t,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var bo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){bo[n]=new _s(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];bo[e]=new _s(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){bo[n]=new _s(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){bo[n]=new _s(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){bo[n]=new _s(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){bo[n]=new _s(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){bo[n]=new _s(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){bo[n]=new _s(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){bo[n]=new _s(n,5,!1,n.toLowerCase(),null,!1,!1)});var ZR=/[\-:]([a-z])/g;function e2(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ZR,e2);bo[e]=new _s(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ZR,e2);bo[e]=new _s(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ZR,e2);bo[e]=new _s(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){bo[n]=new _s(n,1,!1,n.toLowerCase(),null,!1,!1)});bo.xlinkHref=new _s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){bo[n]=new _s(n,1,!1,n.toLowerCase(),null,!0,!0)});function t2(n,e,t,i){var r=bo.hasOwnProperty(e)?bo[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KJ(e,t,r,i)&&(t=null),i||r===null?WJ(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var ad=vO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y_=Symbol.for("react.element"),bg=Symbol.for("react.portal"),Ag=Symbol.for("react.fragment"),n2=Symbol.for("react.strict_mode"),mT=Symbol.for("react.profiler"),SO=Symbol.for("react.provider"),_O=Symbol.for("react.context"),i2=Symbol.for("react.forward_ref"),gT=Symbol.for("react.suspense"),vT=Symbol.for("react.suspense_list"),r2=Symbol.for("react.memo"),of=Symbol.for("react.lazy"),xO=Symbol.for("react.offscreen"),uF=Symbol.iterator;function q0(n){return n===null||typeof n!="object"?null:(n=uF&&n[uF]||n["@@iterator"],typeof n=="function"?n:null)}var $i=Object.assign,TA;function Ay(n){if(TA===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);TA=e&&e[1]||""}return`
`+TA+n}var BA=!1;function RA(n,e){if(!n||BA)return"";BA=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==o[a]){var l=`
`+r[s].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=s&&0<=a);break}}}finally{BA=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ay(n):""}function $J(n){switch(n.tag){case 5:return Ay(n.type);case 16:return Ay("Lazy");case 13:return Ay("Suspense");case 19:return Ay("SuspenseList");case 0:case 2:case 15:return n=RA(n.type,!1),n;case 11:return n=RA(n.type.render,!1),n;case 1:return n=RA(n.type,!0),n;default:return""}}function yT(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ag:return"Fragment";case bg:return"Portal";case mT:return"Profiler";case n2:return"StrictMode";case gT:return"Suspense";case vT:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case _O:return(n.displayName||"Context")+".Consumer";case SO:return(n._context.displayName||"Context")+".Provider";case i2:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case r2:return e=n.displayName||null,e!==null?e:yT(n.type)||"Memo";case of:e=n._payload,n=n._init;try{return yT(n(e))}catch{}}return null}function JJ(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yT(e);case 8:return e===n2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nf(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wO(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qJ(n){var e=wO(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Z_(n){n._valueTracker||(n._valueTracker=qJ(n))}function CO(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=wO(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function CC(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ST(n,e){var t=e.checked;return $i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function cF(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Nf(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EO(n,e){e=e.checked,e!=null&&t2(n,"checked",e,!1)}function _T(n,e){EO(n,e);var t=Nf(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?xT(n,e.type,t):e.hasOwnProperty("defaultValue")&&xT(n,e.type,Nf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function dF(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function xT(n,e,t){(e!=="number"||CC(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var My=Array.isArray;function $g(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Nf(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function wT(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ut(91));return $i({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fF(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ut(92));if(My(t)){if(1<t.length)throw Error(ut(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Nf(t)}}function bO(n,e){var t=Nf(e.value),i=Nf(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function hF(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function AO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function CT(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?AO(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ex,MO=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ex=ex||document.createElement("div"),ex.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ex.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function gS(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Uy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jJ=["Webkit","ms","Moz","O"];Object.keys(Uy).forEach(function(n){jJ.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Uy[e]=Uy[n]})});function TO(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Uy.hasOwnProperty(n)&&Uy[n]?(""+e).trim():e+"px"}function BO(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=TO(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var XJ=$i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ET(n,e){if(e){if(XJ[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ut(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ut(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ut(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ut(62))}}function bT(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AT=null;function o2(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var MT=null,Jg=null,qg=null;function pF(n){if(n=w1(n)){if(typeof MT!="function")throw Error(ut(280));var e=n.stateNode;e&&(e=OE(e),MT(n.stateNode,n.type,e))}}function RO(n){Jg?qg?qg.push(n):qg=[n]:Jg=n}function IO(){if(Jg){var n=Jg,e=qg;if(qg=Jg=null,pF(n),e)for(n=0;n<e.length;n++)pF(e[n])}}function kO(n,e){return n(e)}function LO(){}var IA=!1;function FO(n,e,t){if(IA)return n(e,t);IA=!0;try{return kO(n,e,t)}finally{IA=!1,(Jg!==null||qg!==null)&&(LO(),IO())}}function vS(n,e){var t=n.stateNode;if(t===null)return null;var i=OE(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ut(231,e,typeof t));return t}var TT=!1;if(Jc)try{var j0={};Object.defineProperty(j0,"passive",{get:function(){TT=!0}}),window.addEventListener("test",j0,j0),window.removeEventListener("test",j0,j0)}catch{TT=!1}function QJ(n,e,t,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var Hy=!1,EC=null,bC=!1,BT=null,YJ={onError:function(n){Hy=!0,EC=n}};function ZJ(n,e,t,i,r,o,s,a,l){Hy=!1,EC=null,QJ.apply(YJ,arguments)}function eq(n,e,t,i,r,o,s,a,l){if(ZJ.apply(this,arguments),Hy){if(Hy){var u=EC;Hy=!1,EC=null}else throw Error(ut(198));bC||(bC=!0,BT=u)}}function Zp(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function DO(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function mF(n){if(Zp(n)!==n)throw Error(ut(188))}function tq(n){var e=n.alternate;if(!e){if(e=Zp(n),e===null)throw Error(ut(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===t)return mF(r),n;if(o===i)return mF(r),e;o=o.sibling}throw Error(ut(188))}if(t.return!==i.return)t=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===t){s=!0,t=r,i=o;break}if(a===i){s=!0,i=r,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,i=r;break}if(a===i){s=!0,i=o,t=r;break}a=a.sibling}if(!s)throw Error(ut(189))}}if(t.alternate!==i)throw Error(ut(190))}if(t.tag!==3)throw Error(ut(188));return t.stateNode.current===t?n:e}function PO(n){return n=tq(n),n!==null?NO(n):null}function NO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=NO(n);if(e!==null)return e;n=n.sibling}return null}var OO=Na.unstable_scheduleCallback,gF=Na.unstable_cancelCallback,nq=Na.unstable_shouldYield,iq=Na.unstable_requestPaint,vr=Na.unstable_now,rq=Na.unstable_getCurrentPriorityLevel,s2=Na.unstable_ImmediatePriority,zO=Na.unstable_UserBlockingPriority,AC=Na.unstable_NormalPriority,oq=Na.unstable_LowPriority,UO=Na.unstable_IdlePriority,FE=null,Xu=null;function sq(n){if(Xu&&typeof Xu.onCommitFiberRoot=="function")try{Xu.onCommitFiberRoot(FE,n,void 0,(n.current.flags&128)===128)}catch{}}var su=Math.clz32?Math.clz32:uq,aq=Math.log,lq=Math.LN2;function uq(n){return n>>>=0,n===0?32:31-(aq(n)/lq|0)|0}var tx=64,nx=4194304;function Ty(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function MC(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~r;a!==0?i=Ty(a):(o&=s,o!==0&&(i=Ty(o)))}else s=t&~r,s!==0?i=Ty(s):o!==0&&(i=Ty(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-su(e),r=1<<t,i|=n[t],e&=~r;return i}function cq(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dq(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-su(o),a=1<<s,l=r[s];l===-1?(!(a&t)||a&i)&&(r[s]=cq(a,e)):l<=e&&(n.expiredLanes|=a),o&=~a}}function RT(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function HO(){var n=tx;return tx<<=1,!(tx&4194240)&&(tx=64),n}function kA(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function _1(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-su(e),n[e]=t}function fq(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-su(t),o=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~o}}function a2(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-su(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var si=0;function GO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var WO,l2,VO,KO,$O,IT=!1,ix=[],Af=null,Mf=null,Tf=null,yS=new Map,SS=new Map,ff=[],hq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vF(n,e){switch(n){case"focusin":case"focusout":Af=null;break;case"dragenter":case"dragleave":Mf=null;break;case"mouseover":case"mouseout":Tf=null;break;case"pointerover":case"pointerout":yS.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":SS.delete(e.pointerId)}}function X0(n,e,t,i,r,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=w1(e),e!==null&&l2(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function pq(n,e,t,i,r){switch(e){case"focusin":return Af=X0(Af,n,e,t,i,r),!0;case"dragenter":return Mf=X0(Mf,n,e,t,i,r),!0;case"mouseover":return Tf=X0(Tf,n,e,t,i,r),!0;case"pointerover":var o=r.pointerId;return yS.set(o,X0(yS.get(o)||null,n,e,t,i,r)),!0;case"gotpointercapture":return o=r.pointerId,SS.set(o,X0(SS.get(o)||null,n,e,t,i,r)),!0}return!1}function JO(n){var e=ap(n.target);if(e!==null){var t=Zp(e);if(t!==null){if(e=t.tag,e===13){if(e=DO(t),e!==null){n.blockedOn=e,$O(n.priority,function(){VO(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function zw(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=kT(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);AT=i,t.target.dispatchEvent(i),AT=null}else return e=w1(t),e!==null&&l2(e),n.blockedOn=t,!1;e.shift()}return!0}function yF(n,e,t){zw(n)&&t.delete(e)}function mq(){IT=!1,Af!==null&&zw(Af)&&(Af=null),Mf!==null&&zw(Mf)&&(Mf=null),Tf!==null&&zw(Tf)&&(Tf=null),yS.forEach(yF),SS.forEach(yF)}function Q0(n,e){n.blockedOn===e&&(n.blockedOn=null,IT||(IT=!0,Na.unstable_scheduleCallback(Na.unstable_NormalPriority,mq)))}function _S(n){function e(r){return Q0(r,n)}if(0<ix.length){Q0(ix[0],n);for(var t=1;t<ix.length;t++){var i=ix[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Af!==null&&Q0(Af,n),Mf!==null&&Q0(Mf,n),Tf!==null&&Q0(Tf,n),yS.forEach(e),SS.forEach(e),t=0;t<ff.length;t++)i=ff[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<ff.length&&(t=ff[0],t.blockedOn===null);)JO(t),t.blockedOn===null&&ff.shift()}var jg=ad.ReactCurrentBatchConfig,TC=!0;function gq(n,e,t,i){var r=si,o=jg.transition;jg.transition=null;try{si=1,u2(n,e,t,i)}finally{si=r,jg.transition=o}}function vq(n,e,t,i){var r=si,o=jg.transition;jg.transition=null;try{si=4,u2(n,e,t,i)}finally{si=r,jg.transition=o}}function u2(n,e,t,i){if(TC){var r=kT(n,e,t,i);if(r===null)GA(n,e,i,BC,t),vF(n,i);else if(pq(r,n,e,t,i))i.stopPropagation();else if(vF(n,i),e&4&&-1<hq.indexOf(n)){for(;r!==null;){var o=w1(r);if(o!==null&&WO(o),o=kT(n,e,t,i),o===null&&GA(n,e,i,BC,t),o===r)break;r=o}r!==null&&i.stopPropagation()}else GA(n,e,i,null,t)}}var BC=null;function kT(n,e,t,i){if(BC=null,n=o2(i),n=ap(n),n!==null)if(e=Zp(n),e===null)n=null;else if(t=e.tag,t===13){if(n=DO(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return BC=n,null}function qO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rq()){case s2:return 1;case zO:return 4;case AC:case oq:return 16;case UO:return 536870912;default:return 16}default:return 16}}var mf=null,c2=null,Uw=null;function jO(){if(Uw)return Uw;var n,e=c2,t=e.length,i,r="value"in mf?mf.value:mf.textContent,o=r.length;for(n=0;n<t&&e[n]===r[n];n++);var s=t-n;for(i=1;i<=s&&e[t-i]===r[o-i];i++);return Uw=r.slice(n,1<i?1-i:void 0)}function Hw(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function rx(){return!0}function SF(){return!1}function Ua(n){function e(t,i,r,o,s){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rx:SF,this.isPropagationStopped=SF,this}return $i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=rx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=rx)},persist:function(){},isPersistent:rx}),e}var Gv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d2=Ua(Gv),x1=$i({},Gv,{view:0,detail:0}),yq=Ua(x1),LA,FA,Y0,DE=$i({},x1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f2,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Y0&&(Y0&&n.type==="mousemove"?(LA=n.screenX-Y0.screenX,FA=n.screenY-Y0.screenY):FA=LA=0,Y0=n),LA)},movementY:function(n){return"movementY"in n?n.movementY:FA}}),_F=Ua(DE),Sq=$i({},DE,{dataTransfer:0}),_q=Ua(Sq),xq=$i({},x1,{relatedTarget:0}),DA=Ua(xq),wq=$i({},Gv,{animationName:0,elapsedTime:0,pseudoElement:0}),Cq=Ua(wq),Eq=$i({},Gv,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bq=Ua(Eq),Aq=$i({},Gv,{data:0}),xF=Ua(Aq),Mq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rq(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Bq[n])?!!e[n]:!1}function f2(){return Rq}var Iq=$i({},x1,{key:function(n){if(n.key){var e=Mq[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Hw(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tq[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f2,charCode:function(n){return n.type==="keypress"?Hw(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Hw(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),kq=Ua(Iq),Lq=$i({},DE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wF=Ua(Lq),Fq=$i({},x1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f2}),Dq=Ua(Fq),Pq=$i({},Gv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nq=Ua(Pq),Oq=$i({},DE,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zq=Ua(Oq),Uq=[9,13,27,32],h2=Jc&&"CompositionEvent"in window,Gy=null;Jc&&"documentMode"in document&&(Gy=document.documentMode);var Hq=Jc&&"TextEvent"in window&&!Gy,XO=Jc&&(!h2||Gy&&8<Gy&&11>=Gy),CF=String.fromCharCode(32),EF=!1;function QO(n,e){switch(n){case"keyup":return Uq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YO(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mg=!1;function Gq(n,e){switch(n){case"compositionend":return YO(e);case"keypress":return e.which!==32?null:(EF=!0,CF);case"textInput":return n=e.data,n===CF&&EF?null:n;default:return null}}function Wq(n,e){if(Mg)return n==="compositionend"||!h2&&QO(n,e)?(n=jO(),Uw=c2=mf=null,Mg=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XO&&e.locale!=="ko"?null:e.data;default:return null}}var Vq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bF(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Vq[n.type]:e==="textarea"}function ZO(n,e,t,i){RO(i),e=RC(e,"onChange"),0<e.length&&(t=new d2("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Wy=null,xS=null;function Kq(n){c4(n,0)}function PE(n){var e=Rg(n);if(CO(e))return n}function $q(n,e){if(n==="change")return e}var e4=!1;if(Jc){var PA;if(Jc){var NA="oninput"in document;if(!NA){var AF=document.createElement("div");AF.setAttribute("oninput","return;"),NA=typeof AF.oninput=="function"}PA=NA}else PA=!1;e4=PA&&(!document.documentMode||9<document.documentMode)}function MF(){Wy&&(Wy.detachEvent("onpropertychange",t4),xS=Wy=null)}function t4(n){if(n.propertyName==="value"&&PE(xS)){var e=[];ZO(e,xS,n,o2(n)),FO(Kq,e)}}function Jq(n,e,t){n==="focusin"?(MF(),Wy=e,xS=t,Wy.attachEvent("onpropertychange",t4)):n==="focusout"&&MF()}function qq(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return PE(xS)}function jq(n,e){if(n==="click")return PE(e)}function Xq(n,e){if(n==="input"||n==="change")return PE(e)}function Qq(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var cu=typeof Object.is=="function"?Object.is:Qq;function wS(n,e){if(cu(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!pT.call(e,r)||!cu(n[r],e[r]))return!1}return!0}function TF(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function BF(n,e){var t=TF(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=TF(t)}}function n4(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?n4(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function i4(){for(var n=window,e=CC();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=CC(n.document)}return e}function p2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Yq(n){var e=i4(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&n4(t.ownerDocument.documentElement,t)){if(i!==null&&p2(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!n.extend&&o>i&&(r=i,i=o,o=r),r=BF(t,o);var s=BF(t,i);r&&s&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Zq=Jc&&"documentMode"in document&&11>=document.documentMode,Tg=null,LT=null,Vy=null,FT=!1;function RF(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;FT||Tg==null||Tg!==CC(i)||(i=Tg,"selectionStart"in i&&p2(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vy&&wS(Vy,i)||(Vy=i,i=RC(LT,"onSelect"),0<i.length&&(e=new d2("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Tg)))}function ox(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Bg={animationend:ox("Animation","AnimationEnd"),animationiteration:ox("Animation","AnimationIteration"),animationstart:ox("Animation","AnimationStart"),transitionend:ox("Transition","TransitionEnd")},OA={},r4={};Jc&&(r4=document.createElement("div").style,"AnimationEvent"in window||(delete Bg.animationend.animation,delete Bg.animationiteration.animation,delete Bg.animationstart.animation),"TransitionEvent"in window||delete Bg.transitionend.transition);function NE(n){if(OA[n])return OA[n];if(!Bg[n])return n;var e=Bg[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in r4)return OA[n]=e[t];return n}var o4=NE("animationend"),s4=NE("animationiteration"),a4=NE("animationstart"),l4=NE("transitionend"),u4=new Map,IF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qf(n,e){u4.set(n,e),Yp(e,[n])}for(var zA=0;zA<IF.length;zA++){var UA=IF[zA],ej=UA.toLowerCase(),tj=UA[0].toUpperCase()+UA.slice(1);qf(ej,"on"+tj)}qf(o4,"onAnimationEnd");qf(s4,"onAnimationIteration");qf(a4,"onAnimationStart");qf("dblclick","onDoubleClick");qf("focusin","onFocus");qf("focusout","onBlur");qf(l4,"onTransitionEnd");sv("onMouseEnter",["mouseout","mouseover"]);sv("onMouseLeave",["mouseout","mouseover"]);sv("onPointerEnter",["pointerout","pointerover"]);sv("onPointerLeave",["pointerout","pointerover"]);Yp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var By="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nj=new Set("cancel close invalid load scroll toggle".split(" ").concat(By));function kF(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,eq(i,e,void 0,n),n.currentTarget=null}function c4(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;kF(r,a,u),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;kF(r,a,u),o=l}}}if(bC)throw n=BT,bC=!1,BT=null,n}function Ei(n,e){var t=e[zT];t===void 0&&(t=e[zT]=new Set);var i=n+"__bubble";t.has(i)||(d4(e,n,2,!1),t.add(i))}function HA(n,e,t){var i=0;e&&(i|=4),d4(t,n,i,e)}var sx="_reactListening"+Math.random().toString(36).slice(2);function CS(n){if(!n[sx]){n[sx]=!0,yO.forEach(function(t){t!=="selectionchange"&&(nj.has(t)||HA(t,!1,n),HA(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[sx]||(e[sx]=!0,HA("selectionchange",!1,e))}}function d4(n,e,t,i){switch(qO(e)){case 1:var r=gq;break;case 4:r=vq;break;default:r=u2}t=r.bind(null,e,t,n),r=void 0,!TT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function GA(n,e,t,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=ap(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}FO(function(){var u=o,c=o2(t),d=[];e:{var m=u4.get(n);if(m!==void 0){var v=d2,y=n;switch(n){case"keypress":if(Hw(t)===0)break e;case"keydown":case"keyup":v=kq;break;case"focusin":y="focus",v=DA;break;case"focusout":y="blur",v=DA;break;case"beforeblur":case"afterblur":v=DA;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=_F;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=_q;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Dq;break;case o4:case s4:case a4:v=Cq;break;case l4:v=Nq;break;case"scroll":v=yq;break;case"wheel":v=zq;break;case"copy":case"cut":case"paste":v=bq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=wF}var _=(e&4)!==0,S=!_&&n==="scroll",x=_?m!==null?m+"Capture":null:m;_=[];for(var C=u,b;C!==null;){b=C;var M=b.stateNode;if(b.tag===5&&M!==null&&(b=M,x!==null&&(M=vS(C,x),M!=null&&_.push(ES(C,M,b)))),S)break;C=C.return}0<_.length&&(m=new v(m,y,null,t,c),d.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",m&&t!==AT&&(y=t.relatedTarget||t.fromElement)&&(ap(y)||y[qc]))break e;if((v||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=t.relatedTarget||t.toElement,v=u,y=y?ap(y):null,y!==null&&(S=Zp(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(_=_F,M="onMouseLeave",x="onMouseEnter",C="mouse",(n==="pointerout"||n==="pointerover")&&(_=wF,M="onPointerLeave",x="onPointerEnter",C="pointer"),S=v==null?m:Rg(v),b=y==null?m:Rg(y),m=new _(M,C+"leave",v,t,c),m.target=S,m.relatedTarget=b,M=null,ap(c)===u&&(_=new _(x,C+"enter",y,t,c),_.target=b,_.relatedTarget=S,M=_),S=M,v&&y)t:{for(_=v,x=y,C=0,b=_;b;b=Vm(b))C++;for(b=0,M=x;M;M=Vm(M))b++;for(;0<C-b;)_=Vm(_),C--;for(;0<b-C;)x=Vm(x),b--;for(;C--;){if(_===x||x!==null&&_===x.alternate)break t;_=Vm(_),x=Vm(x)}_=null}else _=null;v!==null&&LF(d,m,v,_,!1),y!==null&&S!==null&&LF(d,S,y,_,!0)}}e:{if(m=u?Rg(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var B=$q;else if(bF(m))if(e4)B=Xq;else{B=qq;var k=Jq}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(B=jq);if(B&&(B=B(n,u))){ZO(d,B,t,c);break e}k&&k(n,m,u),n==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&xT(m,"number",m.value)}switch(k=u?Rg(u):window,n){case"focusin":(bF(k)||k.contentEditable==="true")&&(Tg=k,LT=u,Vy=null);break;case"focusout":Vy=LT=Tg=null;break;case"mousedown":FT=!0;break;case"contextmenu":case"mouseup":case"dragend":FT=!1,RF(d,t,c);break;case"selectionchange":if(Zq)break;case"keydown":case"keyup":RF(d,t,c)}var F;if(h2)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Mg?QO(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(XO&&t.locale!=="ko"&&(Mg||R!=="onCompositionStart"?R==="onCompositionEnd"&&Mg&&(F=jO()):(mf=c,c2="value"in mf?mf.value:mf.textContent,Mg=!0)),k=RC(u,R),0<k.length&&(R=new xF(R,n,null,t,c),d.push({event:R,listeners:k}),F?R.data=F:(F=YO(t),F!==null&&(R.data=F)))),(F=Hq?Gq(n,t):Wq(n,t))&&(u=RC(u,"onBeforeInput"),0<u.length&&(c=new xF("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:u}),c.data=F))}c4(d,e)})}function ES(n,e,t){return{instance:n,listener:e,currentTarget:t}}function RC(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=vS(n,t),o!=null&&i.unshift(ES(n,o,r)),o=vS(n,e),o!=null&&i.push(ES(n,o,r))),n=n.return}return i}function Vm(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function LF(n,e,t,i,r){for(var o=e._reactName,s=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=vS(t,o),l!=null&&s.unshift(ES(t,l,a))):r||(l=vS(t,o),l!=null&&s.push(ES(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var ij=/\r\n?/g,rj=/\u0000|\uFFFD/g;function FF(n){return(typeof n=="string"?n:""+n).replace(ij,`
`).replace(rj,"")}function ax(n,e,t){if(e=FF(e),FF(n)!==e&&t)throw Error(ut(425))}function IC(){}var DT=null,PT=null;function NT(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var OT=typeof setTimeout=="function"?setTimeout:void 0,oj=typeof clearTimeout=="function"?clearTimeout:void 0,DF=typeof Promise=="function"?Promise:void 0,sj=typeof queueMicrotask=="function"?queueMicrotask:typeof DF<"u"?function(n){return DF.resolve(null).then(n).catch(aj)}:OT;function aj(n){setTimeout(function(){throw n})}function WA(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),_S(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);_S(e)}function Bf(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function PF(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Wv=Math.random().toString(36).slice(2),Ju="__reactFiber$"+Wv,bS="__reactProps$"+Wv,qc="__reactContainer$"+Wv,zT="__reactEvents$"+Wv,lj="__reactListeners$"+Wv,uj="__reactHandles$"+Wv;function ap(n){var e=n[Ju];if(e)return e;for(var t=n.parentNode;t;){if(e=t[qc]||t[Ju]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=PF(n);n!==null;){if(t=n[Ju])return t;n=PF(n)}return e}n=t,t=n.parentNode}return null}function w1(n){return n=n[Ju]||n[qc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Rg(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ut(33))}function OE(n){return n[bS]||null}var UT=[],Ig=-1;function jf(n){return{current:n}}function Bi(n){0>Ig||(n.current=UT[Ig],UT[Ig]=null,Ig--)}function wi(n,e){Ig++,UT[Ig]=n.current,n.current=e}var Of={},Jo=jf(Of),Ks=jf(!1),Rp=Of;function av(n,e){var t=n.type.contextTypes;if(!t)return Of;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in t)r[o]=e[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function $s(n){return n=n.childContextTypes,n!=null}function kC(){Bi(Ks),Bi(Jo)}function NF(n,e,t){if(Jo.current!==Of)throw Error(ut(168));wi(Jo,e),wi(Ks,t)}function f4(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(ut(108,JJ(n)||"Unknown",r));return $i({},t,i)}function LC(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Of,Rp=Jo.current,wi(Jo,n),wi(Ks,Ks.current),!0}function OF(n,e,t){var i=n.stateNode;if(!i)throw Error(ut(169));t?(n=f4(n,e,Rp),i.__reactInternalMemoizedMergedChildContext=n,Bi(Ks),Bi(Jo),wi(Jo,n)):Bi(Ks),wi(Ks,t)}var Nc=null,zE=!1,VA=!1;function h4(n){Nc===null?Nc=[n]:Nc.push(n)}function cj(n){zE=!0,h4(n)}function Xf(){if(!VA&&Nc!==null){VA=!0;var n=0,e=si;try{var t=Nc;for(si=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Nc=null,zE=!1}catch(r){throw Nc!==null&&(Nc=Nc.slice(n+1)),OO(s2,Xf),r}finally{si=e,VA=!1}}return null}var kg=[],Lg=0,FC=null,DC=0,sl=[],al=0,Ip=null,Hc=1,Gc="";function Xh(n,e){kg[Lg++]=DC,kg[Lg++]=FC,FC=n,DC=e}function p4(n,e,t){sl[al++]=Hc,sl[al++]=Gc,sl[al++]=Ip,Ip=n;var i=Hc;n=Gc;var r=32-su(i)-1;i&=~(1<<r),t+=1;var o=32-su(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Hc=1<<32-su(e)+r|t<<r|i,Gc=o+n}else Hc=1<<o|t<<r|i,Gc=n}function m2(n){n.return!==null&&(Xh(n,1),p4(n,1,0))}function g2(n){for(;n===FC;)FC=kg[--Lg],kg[Lg]=null,DC=kg[--Lg],kg[Lg]=null;for(;n===Ip;)Ip=sl[--al],sl[al]=null,Gc=sl[--al],sl[al]=null,Hc=sl[--al],sl[al]=null}var La=null,Ta=null,Fi=!1,Xl=null;function m4(n,e){var t=pl(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function zF(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,La=n,Ta=Bf(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,La=n,Ta=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ip!==null?{id:Hc,overflow:Gc}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=pl(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,La=n,Ta=null,!0):!1;default:return!1}}function HT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function GT(n){if(Fi){var e=Ta;if(e){var t=e;if(!zF(n,e)){if(HT(n))throw Error(ut(418));e=Bf(t.nextSibling);var i=La;e&&zF(n,e)?m4(i,t):(n.flags=n.flags&-4097|2,Fi=!1,La=n)}}else{if(HT(n))throw Error(ut(418));n.flags=n.flags&-4097|2,Fi=!1,La=n}}}function UF(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;La=n}function lx(n){if(n!==La)return!1;if(!Fi)return UF(n),Fi=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!NT(n.type,n.memoizedProps)),e&&(e=Ta)){if(HT(n))throw g4(),Error(ut(418));for(;e;)m4(n,e),e=Bf(e.nextSibling)}if(UF(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ut(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ta=Bf(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ta=null}}else Ta=La?Bf(n.stateNode.nextSibling):null;return!0}function g4(){for(var n=Ta;n;)n=Bf(n.nextSibling)}function lv(){Ta=La=null,Fi=!1}function v2(n){Xl===null?Xl=[n]:Xl.push(n)}var dj=ad.ReactCurrentBatchConfig;function ql(n,e){if(n&&n.defaultProps){e=$i({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var PC=jf(null),NC=null,Fg=null,y2=null;function S2(){y2=Fg=NC=null}function _2(n){var e=PC.current;Bi(PC),n._currentValue=e}function WT(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Xg(n,e){NC=n,y2=Fg=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ws=!0),n.firstContext=null)}function Sl(n){var e=n._currentValue;if(y2!==n)if(n={context:n,memoizedValue:e,next:null},Fg===null){if(NC===null)throw Error(ut(308));Fg=n,NC.dependencies={lanes:0,firstContext:n}}else Fg=Fg.next=n;return e}var lp=null;function x2(n){lp===null?lp=[n]:lp.push(n)}function v4(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,x2(e)):(t.next=r.next,r.next=t),e.interleaved=t,jc(n,i)}function jc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var sf=!1;function w2(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y4(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Kc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Rf(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,qn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,jc(n,t)}return r=i.interleaved,r===null?(e.next=e,x2(i)):(e.next=r.next,r.next=e),i.interleaved=e,jc(n,t)}function Gw(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,a2(n,t)}}function HF(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?r=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?r=o=e:o=o.next=e}else r=o=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function OC(n,e,t,i){var r=n.updateQueue;sf=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=r.baseState;s=0,c=u=l=null,a=o;do{var m=a.lane,v=a.eventTime;if((i&m)===m){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,_=a;switch(m=e,v=t,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(v,d,m);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,m=typeof y=="function"?y.call(v,d,m):y,m==null)break e;d=$i({},d,m);break e;case 2:sf=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,m=r.effects,m===null?r.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=d):c=c.next=v,s|=m;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;m=a,a=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(1);if(c===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Lp|=s,n.lanes=s,n.memoizedState=d}}function GF(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(ut(191,r));r.call(i)}}}var S4=new vO.Component().refs;function VT(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:$i({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var UE={isMounted:function(n){return(n=n._reactInternals)?Zp(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=ms(),r=kf(n),o=Kc(i,r);o.payload=e,t!=null&&(o.callback=t),e=Rf(n,o,r),e!==null&&(au(e,n,r,i),Gw(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=ms(),r=kf(n),o=Kc(i,r);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Rf(n,o,r),e!==null&&(au(e,n,r,i),Gw(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ms(),i=kf(n),r=Kc(t,i);r.tag=2,e!=null&&(r.callback=e),e=Rf(n,r,i),e!==null&&(au(e,n,i,t),Gw(e,n,i))}};function WF(n,e,t,i,r,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!wS(t,i)||!wS(r,o):!0}function _4(n,e,t){var i=!1,r=Of,o=e.contextType;return typeof o=="object"&&o!==null?o=Sl(o):(r=$s(e)?Rp:Jo.current,i=e.contextTypes,o=(i=i!=null)?av(n,r):Of),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=UE,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=o),e}function VF(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&UE.enqueueReplaceState(e,e.state,null)}function KT(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=S4,w2(n);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Sl(o):(o=$s(e)?Rp:Jo.current,r.context=av(n,o)),r.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(VT(n,e,o,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&UE.enqueueReplaceState(r,r.state,null),OC(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Z0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ut(309));var i=t.stateNode}if(!i)throw Error(ut(147,n));var r=i,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=r.refs;a===S4&&(a=r.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(ut(284));if(!t._owner)throw Error(ut(290,n))}return n}function ux(n,e){throw n=Object.prototype.toString.call(e),Error(ut(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function KF(n){var e=n._init;return e(n._payload)}function x4(n){function e(x,C){if(n){var b=x.deletions;b===null?(x.deletions=[C],x.flags|=16):b.push(C)}}function t(x,C){if(!n)return null;for(;C!==null;)e(x,C),C=C.sibling;return null}function i(x,C){for(x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function r(x,C){return x=Lf(x,C),x.index=0,x.sibling=null,x}function o(x,C,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<C?(x.flags|=2,C):b):(x.flags|=2,C)):(x.flags|=1048576,C)}function s(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,C,b,M){return C===null||C.tag!==6?(C=QA(b,x.mode,M),C.return=x,C):(C=r(C,b),C.return=x,C)}function l(x,C,b,M){var B=b.type;return B===Ag?c(x,C,b.props.children,M,b.key):C!==null&&(C.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===of&&KF(B)===C.type)?(M=r(C,b.props),M.ref=Z0(x,C,b),M.return=x,M):(M=qw(b.type,b.key,b.props,null,x.mode,M),M.ref=Z0(x,C,b),M.return=x,M)}function u(x,C,b,M){return C===null||C.tag!==4||C.stateNode.containerInfo!==b.containerInfo||C.stateNode.implementation!==b.implementation?(C=YA(b,x.mode,M),C.return=x,C):(C=r(C,b.children||[]),C.return=x,C)}function c(x,C,b,M,B){return C===null||C.tag!==7?(C=xp(b,x.mode,M,B),C.return=x,C):(C=r(C,b),C.return=x,C)}function d(x,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return C=QA(""+C,x.mode,b),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Y_:return b=qw(C.type,C.key,C.props,null,x.mode,b),b.ref=Z0(x,null,C),b.return=x,b;case bg:return C=YA(C,x.mode,b),C.return=x,C;case of:var M=C._init;return d(x,M(C._payload),b)}if(My(C)||q0(C))return C=xp(C,x.mode,b,null),C.return=x,C;ux(x,C)}return null}function m(x,C,b,M){var B=C!==null?C.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return B!==null?null:a(x,C,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Y_:return b.key===B?l(x,C,b,M):null;case bg:return b.key===B?u(x,C,b,M):null;case of:return B=b._init,m(x,C,B(b._payload),M)}if(My(b)||q0(b))return B!==null?null:c(x,C,b,M,null);ux(x,b)}return null}function v(x,C,b,M,B){if(typeof M=="string"&&M!==""||typeof M=="number")return x=x.get(b)||null,a(C,x,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Y_:return x=x.get(M.key===null?b:M.key)||null,l(C,x,M,B);case bg:return x=x.get(M.key===null?b:M.key)||null,u(C,x,M,B);case of:var k=M._init;return v(x,C,b,k(M._payload),B)}if(My(M)||q0(M))return x=x.get(b)||null,c(C,x,M,B,null);ux(C,M)}return null}function y(x,C,b,M){for(var B=null,k=null,F=C,R=C=0,N=null;F!==null&&R<b.length;R++){F.index>R?(N=F,F=null):N=F.sibling;var U=m(x,F,b[R],M);if(U===null){F===null&&(F=N);break}n&&F&&U.alternate===null&&e(x,F),C=o(U,C,R),k===null?B=U:k.sibling=U,k=U,F=N}if(R===b.length)return t(x,F),Fi&&Xh(x,R),B;if(F===null){for(;R<b.length;R++)F=d(x,b[R],M),F!==null&&(C=o(F,C,R),k===null?B=F:k.sibling=F,k=F);return Fi&&Xh(x,R),B}for(F=i(x,F);R<b.length;R++)N=v(F,x,R,b[R],M),N!==null&&(n&&N.alternate!==null&&F.delete(N.key===null?R:N.key),C=o(N,C,R),k===null?B=N:k.sibling=N,k=N);return n&&F.forEach(function(G){return e(x,G)}),Fi&&Xh(x,R),B}function _(x,C,b,M){var B=q0(b);if(typeof B!="function")throw Error(ut(150));if(b=B.call(b),b==null)throw Error(ut(151));for(var k=B=null,F=C,R=C=0,N=null,U=b.next();F!==null&&!U.done;R++,U=b.next()){F.index>R?(N=F,F=null):N=F.sibling;var G=m(x,F,U.value,M);if(G===null){F===null&&(F=N);break}n&&F&&G.alternate===null&&e(x,F),C=o(G,C,R),k===null?B=G:k.sibling=G,k=G,F=N}if(U.done)return t(x,F),Fi&&Xh(x,R),B;if(F===null){for(;!U.done;R++,U=b.next())U=d(x,U.value,M),U!==null&&(C=o(U,C,R),k===null?B=U:k.sibling=U,k=U);return Fi&&Xh(x,R),B}for(F=i(x,F);!U.done;R++,U=b.next())U=v(F,x,R,U.value,M),U!==null&&(n&&U.alternate!==null&&F.delete(U.key===null?R:U.key),C=o(U,C,R),k===null?B=U:k.sibling=U,k=U);return n&&F.forEach(function(oe){return e(x,oe)}),Fi&&Xh(x,R),B}function S(x,C,b,M){if(typeof b=="object"&&b!==null&&b.type===Ag&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Y_:e:{for(var B=b.key,k=C;k!==null;){if(k.key===B){if(B=b.type,B===Ag){if(k.tag===7){t(x,k.sibling),C=r(k,b.props.children),C.return=x,x=C;break e}}else if(k.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===of&&KF(B)===k.type){t(x,k.sibling),C=r(k,b.props),C.ref=Z0(x,k,b),C.return=x,x=C;break e}t(x,k);break}else e(x,k);k=k.sibling}b.type===Ag?(C=xp(b.props.children,x.mode,M,b.key),C.return=x,x=C):(M=qw(b.type,b.key,b.props,null,x.mode,M),M.ref=Z0(x,C,b),M.return=x,x=M)}return s(x);case bg:e:{for(k=b.key;C!==null;){if(C.key===k)if(C.tag===4&&C.stateNode.containerInfo===b.containerInfo&&C.stateNode.implementation===b.implementation){t(x,C.sibling),C=r(C,b.children||[]),C.return=x,x=C;break e}else{t(x,C);break}else e(x,C);C=C.sibling}C=YA(b,x.mode,M),C.return=x,x=C}return s(x);case of:return k=b._init,S(x,C,k(b._payload),M)}if(My(b))return y(x,C,b,M);if(q0(b))return _(x,C,b,M);ux(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,C!==null&&C.tag===6?(t(x,C.sibling),C=r(C,b),C.return=x,x=C):(t(x,C),C=QA(b,x.mode,M),C.return=x,x=C),s(x)):t(x,C)}return S}var uv=x4(!0),w4=x4(!1),C1={},Qu=jf(C1),AS=jf(C1),MS=jf(C1);function up(n){if(n===C1)throw Error(ut(174));return n}function C2(n,e){switch(wi(MS,e),wi(AS,n),wi(Qu,C1),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:CT(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=CT(e,n)}Bi(Qu),wi(Qu,e)}function cv(){Bi(Qu),Bi(AS),Bi(MS)}function C4(n){up(MS.current);var e=up(Qu.current),t=CT(e,n.type);e!==t&&(wi(AS,n),wi(Qu,t))}function E2(n){AS.current===n&&(Bi(Qu),Bi(AS))}var Gi=jf(0);function zC(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var KA=[];function b2(){for(var n=0;n<KA.length;n++)KA[n]._workInProgressVersionPrimary=null;KA.length=0}var Ww=ad.ReactCurrentDispatcher,$A=ad.ReactCurrentBatchConfig,kp=0,Ki=null,Gr=null,oo=null,UC=!1,Ky=!1,TS=0,fj=0;function Fo(){throw Error(ut(321))}function A2(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!cu(n[t],e[t]))return!1;return!0}function M2(n,e,t,i,r,o){if(kp=o,Ki=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ww.current=n===null||n.memoizedState===null?gj:vj,n=t(i,r),Ky){o=0;do{if(Ky=!1,TS=0,25<=o)throw Error(ut(301));o+=1,oo=Gr=null,e.updateQueue=null,Ww.current=yj,n=t(i,r)}while(Ky)}if(Ww.current=HC,e=Gr!==null&&Gr.next!==null,kp=0,oo=Gr=Ki=null,UC=!1,e)throw Error(ut(300));return n}function T2(){var n=TS!==0;return TS=0,n}function zu(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oo===null?Ki.memoizedState=oo=n:oo=oo.next=n,oo}function _l(){if(Gr===null){var n=Ki.alternate;n=n!==null?n.memoizedState:null}else n=Gr.next;var e=oo===null?Ki.memoizedState:oo.next;if(e!==null)oo=e,Gr=n;else{if(n===null)throw Error(ut(310));Gr=n,n={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},oo===null?Ki.memoizedState=oo=n:oo=oo.next=n}return oo}function BS(n,e){return typeof e=="function"?e(n):e}function JA(n){var e=_l(),t=e.queue;if(t===null)throw Error(ut(311));t.lastRenderedReducer=n;var i=Gr,r=i.baseQueue,o=t.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,t.pending=null}if(r!==null){o=r.next,i=i.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((kp&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=i):l=l.next=d,Ki.lanes|=c,Lp|=c}u=u.next}while(u!==null&&u!==o);l===null?s=i:l.next=a,cu(i,e.memoizedState)||(Ws=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do o=r.lane,Ki.lanes|=o,Lp|=o,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function qA(n){var e=_l(),t=e.queue;if(t===null)throw Error(ut(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,o=e.memoizedState;if(r!==null){t.pending=null;var s=r=r.next;do o=n(o,s.action),s=s.next;while(s!==r);cu(o,e.memoizedState)||(Ws=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,i]}function E4(){}function b4(n,e){var t=Ki,i=_l(),r=e(),o=!cu(i.memoizedState,r);if(o&&(i.memoizedState=r,Ws=!0),i=i.queue,B2(T4.bind(null,t,i,n),[n]),i.getSnapshot!==e||o||oo!==null&&oo.memoizedState.tag&1){if(t.flags|=2048,RS(9,M4.bind(null,t,i,r,e),void 0,null),co===null)throw Error(ut(349));kp&30||A4(t,e,r)}return r}function A4(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ki.updateQueue,e===null?(e={lastEffect:null,stores:null},Ki.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function M4(n,e,t,i){e.value=t,e.getSnapshot=i,B4(e)&&R4(n)}function T4(n,e,t){return t(function(){B4(e)&&R4(n)})}function B4(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!cu(n,t)}catch{return!0}}function R4(n){var e=jc(n,1);e!==null&&au(e,n,1,-1)}function $F(n){var e=zu();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:BS,lastRenderedState:n},e.queue=n,n=n.dispatch=mj.bind(null,Ki,n),[e.memoizedState,n]}function RS(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Ki.updateQueue,e===null?(e={lastEffect:null,stores:null},Ki.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function I4(){return _l().memoizedState}function Vw(n,e,t,i){var r=zu();Ki.flags|=n,r.memoizedState=RS(1|e,t,void 0,i===void 0?null:i)}function HE(n,e,t,i){var r=_l();i=i===void 0?null:i;var o=void 0;if(Gr!==null){var s=Gr.memoizedState;if(o=s.destroy,i!==null&&A2(i,s.deps)){r.memoizedState=RS(e,t,o,i);return}}Ki.flags|=n,r.memoizedState=RS(1|e,t,o,i)}function JF(n,e){return Vw(8390656,8,n,e)}function B2(n,e){return HE(2048,8,n,e)}function k4(n,e){return HE(4,2,n,e)}function L4(n,e){return HE(4,4,n,e)}function F4(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function D4(n,e,t){return t=t!=null?t.concat([n]):null,HE(4,4,F4.bind(null,e,n),t)}function R2(){}function P4(n,e){var t=_l();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&A2(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function N4(n,e){var t=_l();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&A2(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function O4(n,e,t){return kp&21?(cu(t,e)||(t=HO(),Ki.lanes|=t,Lp|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ws=!0),n.memoizedState=t)}function hj(n,e){var t=si;si=t!==0&&4>t?t:4,n(!0);var i=$A.transition;$A.transition={};try{n(!1),e()}finally{si=t,$A.transition=i}}function z4(){return _l().memoizedState}function pj(n,e,t){var i=kf(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},U4(n))H4(e,t);else if(t=v4(n,e,t,i),t!==null){var r=ms();au(t,n,i,r),G4(t,e,i)}}function mj(n,e,t){var i=kf(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(U4(n))H4(e,r);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(r.hasEagerState=!0,r.eagerState=a,cu(a,s)){var l=e.interleaved;l===null?(r.next=r,x2(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=v4(n,e,r,i),t!==null&&(r=ms(),au(t,n,i,r),G4(t,e,i))}}function U4(n){var e=n.alternate;return n===Ki||e!==null&&e===Ki}function H4(n,e){Ky=UC=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function G4(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,a2(n,t)}}var HC={readContext:Sl,useCallback:Fo,useContext:Fo,useEffect:Fo,useImperativeHandle:Fo,useInsertionEffect:Fo,useLayoutEffect:Fo,useMemo:Fo,useReducer:Fo,useRef:Fo,useState:Fo,useDebugValue:Fo,useDeferredValue:Fo,useTransition:Fo,useMutableSource:Fo,useSyncExternalStore:Fo,useId:Fo,unstable_isNewReconciler:!1},gj={readContext:Sl,useCallback:function(n,e){return zu().memoizedState=[n,e===void 0?null:e],n},useContext:Sl,useEffect:JF,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Vw(4194308,4,F4.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Vw(4194308,4,n,e)},useInsertionEffect:function(n,e){return Vw(4,2,n,e)},useMemo:function(n,e){var t=zu();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=zu();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=pj.bind(null,Ki,n),[i.memoizedState,n]},useRef:function(n){var e=zu();return n={current:n},e.memoizedState=n},useState:$F,useDebugValue:R2,useDeferredValue:function(n){return zu().memoizedState=n},useTransition:function(){var n=$F(!1),e=n[0];return n=hj.bind(null,n[1]),zu().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Ki,r=zu();if(Fi){if(t===void 0)throw Error(ut(407));t=t()}else{if(t=e(),co===null)throw Error(ut(349));kp&30||A4(i,e,t)}r.memoizedState=t;var o={value:t,getSnapshot:e};return r.queue=o,JF(T4.bind(null,i,o,n),[n]),i.flags|=2048,RS(9,M4.bind(null,i,o,t,e),void 0,null),t},useId:function(){var n=zu(),e=co.identifierPrefix;if(Fi){var t=Gc,i=Hc;t=(i&~(1<<32-su(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=TS++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=fj++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},vj={readContext:Sl,useCallback:P4,useContext:Sl,useEffect:B2,useImperativeHandle:D4,useInsertionEffect:k4,useLayoutEffect:L4,useMemo:N4,useReducer:JA,useRef:I4,useState:function(){return JA(BS)},useDebugValue:R2,useDeferredValue:function(n){var e=_l();return O4(e,Gr.memoizedState,n)},useTransition:function(){var n=JA(BS)[0],e=_l().memoizedState;return[n,e]},useMutableSource:E4,useSyncExternalStore:b4,useId:z4,unstable_isNewReconciler:!1},yj={readContext:Sl,useCallback:P4,useContext:Sl,useEffect:B2,useImperativeHandle:D4,useInsertionEffect:k4,useLayoutEffect:L4,useMemo:N4,useReducer:qA,useRef:I4,useState:function(){return qA(BS)},useDebugValue:R2,useDeferredValue:function(n){var e=_l();return Gr===null?e.memoizedState=n:O4(e,Gr.memoizedState,n)},useTransition:function(){var n=qA(BS)[0],e=_l().memoizedState;return[n,e]},useMutableSource:E4,useSyncExternalStore:b4,useId:z4,unstable_isNewReconciler:!1};function dv(n,e){try{var t="",i=e;do t+=$J(i),i=i.return;while(i);var r=t}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:r,digest:null}}function jA(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function $T(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Sj=typeof WeakMap=="function"?WeakMap:Map;function W4(n,e,t){t=Kc(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){WC||(WC=!0,nB=i),$T(n,e)},t}function V4(n,e,t){t=Kc(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){$T(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){$T(n,e),typeof i!="function"&&(If===null?If=new Set([this]):If.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function qF(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new Sj;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=Lj.bind(null,n,e,t),e.then(n,n))}function jF(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function XF(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Kc(-1,1),e.tag=2,Rf(t,e,1))),t.lanes|=1),n)}var _j=ad.ReactCurrentOwner,Ws=!1;function as(n,e,t,i){e.child=n===null?w4(e,null,t,i):uv(e,n.child,t,i)}function QF(n,e,t,i,r){t=t.render;var o=e.ref;return Xg(e,r),i=M2(n,e,t,i,o,r),t=T2(),n!==null&&!Ws?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Xc(n,e,r)):(Fi&&t&&m2(e),e.flags|=1,as(n,e,i,r),e.child)}function YF(n,e,t,i,r){if(n===null){var o=t.type;return typeof o=="function"&&!O2(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,K4(n,e,o,i,r)):(n=qw(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&r)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:wS,t(s,i)&&n.ref===e.ref)return Xc(n,e,r)}return e.flags|=1,n=Lf(o,i),n.ref=e.ref,n.return=e,e.child=n}function K4(n,e,t,i,r){if(n!==null){var o=n.memoizedProps;if(wS(o,i)&&n.ref===e.ref)if(Ws=!1,e.pendingProps=i=o,(n.lanes&r)!==0)n.flags&131072&&(Ws=!0);else return e.lanes=n.lanes,Xc(n,e,r)}return JT(n,e,t,i,r)}function $4(n,e,t){var i=e.pendingProps,r=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wi(Pg,wa),wa|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,wi(Pg,wa),wa|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:t,wi(Pg,wa),wa|=i}else o!==null?(i=o.baseLanes|t,e.memoizedState=null):i=t,wi(Pg,wa),wa|=i;return as(n,e,r,t),e.child}function J4(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function JT(n,e,t,i,r){var o=$s(t)?Rp:Jo.current;return o=av(e,o),Xg(e,r),t=M2(n,e,t,i,o,r),i=T2(),n!==null&&!Ws?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Xc(n,e,r)):(Fi&&i&&m2(e),e.flags|=1,as(n,e,t,r),e.child)}function ZF(n,e,t,i,r){if($s(t)){var o=!0;LC(e)}else o=!1;if(Xg(e,r),e.stateNode===null)Kw(n,e),_4(e,t,i),KT(e,t,i,r),i=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=t.contextType;typeof u=="object"&&u!==null?u=Sl(u):(u=$s(t)?Rp:Jo.current,u=av(e,u));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==u)&&VF(e,s,i,u),sf=!1;var m=e.memoizedState;s.state=m,OC(e,i,s,r),l=e.memoizedState,a!==i||m!==l||Ks.current||sf?(typeof c=="function"&&(VT(e,t,c,i),l=e.memoizedState),(a=sf||WF(e,t,a,i,m,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,y4(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:ql(e.type,a),s.props=u,d=e.pendingProps,m=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=Sl(l):(l=$s(t)?Rp:Jo.current,l=av(e,l));var v=t.getDerivedStateFromProps;(c=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||m!==l)&&VF(e,s,i,l),sf=!1,m=e.memoizedState,s.state=m,OC(e,i,s,r);var y=e.memoizedState;a!==d||m!==y||Ks.current||sf?(typeof v=="function"&&(VT(e,t,v,i),y=e.memoizedState),(u=sf||WF(e,t,u,i,m,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=l,i=u):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),i=!1)}return qT(n,e,t,i,o,r)}function qT(n,e,t,i,r,o){J4(n,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&OF(e,t,!1),Xc(n,e,o);i=e.stateNode,_j.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&s?(e.child=uv(e,n.child,null,o),e.child=uv(e,null,a,o)):as(n,e,a,o),e.memoizedState=i.state,r&&OF(e,t,!0),e.child}function q4(n){var e=n.stateNode;e.pendingContext?NF(n,e.pendingContext,e.pendingContext!==e.context):e.context&&NF(n,e.context,!1),C2(n,e.containerInfo)}function eD(n,e,t,i,r){return lv(),v2(r),e.flags|=256,as(n,e,t,i),e.child}var jT={dehydrated:null,treeContext:null,retryLane:0};function XT(n){return{baseLanes:n,cachePool:null,transitions:null}}function j4(n,e,t){var i=e.pendingProps,r=Gi.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),wi(Gi,r&1),n===null)return GT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,n=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=VE(s,i,0,null),n=xp(n,i,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=XT(t),e.memoizedState=jT,n):I2(e,s));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return xj(n,e,s,i,a,r,t);if(o){o=i.fallback,s=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Lf(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=Lf(a,o):(o=xp(o,s,t,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=n.child.memoizedState,s=s===null?XT(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=jT,i}return o=n.child,n=o.sibling,i=Lf(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function I2(n,e){return e=VE({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function cx(n,e,t,i){return i!==null&&v2(i),uv(e,n.child,null,t),n=I2(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function xj(n,e,t,i,r,o,s){if(t)return e.flags&256?(e.flags&=-257,i=jA(Error(ut(422))),cx(n,e,s,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=VE({mode:"visible",children:i.children},r,0,null),o=xp(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&uv(e,n.child,null,s),e.child.memoizedState=XT(s),e.memoizedState=jT,o);if(!(e.mode&1))return cx(n,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(ut(419)),i=jA(o,i,void 0),cx(n,e,s,i)}if(a=(s&n.childLanes)!==0,Ws||a){if(i=co,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,jc(n,r),au(i,n,r,-1))}return N2(),i=jA(Error(ut(421))),cx(n,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=Fj.bind(null,n),r._reactRetry=e,null):(n=o.treeContext,Ta=Bf(r.nextSibling),La=e,Fi=!0,Xl=null,n!==null&&(sl[al++]=Hc,sl[al++]=Gc,sl[al++]=Ip,Hc=n.id,Gc=n.overflow,Ip=e),e=I2(e,i.children),e.flags|=4096,e)}function tD(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),WT(n.return,e,t)}function XA(n,e,t,i,r){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=t,o.tailMode=r)}function X4(n,e,t){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(as(n,e,i.children,t),i=Gi.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tD(n,t,e);else if(n.tag===19)tD(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(wi(Gi,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&zC(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),XA(e,!1,r,t,o);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&zC(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}XA(e,!0,t,null,o);break;case"together":XA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kw(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Xc(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Lp|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ut(153));if(e.child!==null){for(n=e.child,t=Lf(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Lf(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function wj(n,e,t){switch(e.tag){case 3:q4(e),lv();break;case 5:C4(e);break;case 1:$s(e.type)&&LC(e);break;case 4:C2(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;wi(PC,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(wi(Gi,Gi.current&1),e.flags|=128,null):t&e.child.childLanes?j4(n,e,t):(wi(Gi,Gi.current&1),n=Xc(n,e,t),n!==null?n.sibling:null);wi(Gi,Gi.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return X4(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),wi(Gi,Gi.current),i)break;return null;case 22:case 23:return e.lanes=0,$4(n,e,t)}return Xc(n,e,t)}var Q4,QT,Y4,Z4;Q4=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};QT=function(){};Y4=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,up(Qu.current);var o=null;switch(t){case"input":r=ST(n,r),i=ST(n,i),o=[];break;case"select":r=$i({},r,{value:void 0}),i=$i({},i,{value:void 0}),o=[];break;case"textarea":r=wT(n,r),i=wT(n,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=IC)}ET(t,i);var s;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mS.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mS.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ei("scroll",n),o||a===l||(o=[])):(o=o||[]).push(u,l))}t&&(o=o||[]).push("style",t);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Z4=function(n,e,t,i){t!==i&&(e.flags|=4)};function ey(n,e){if(!Fi)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Do(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function Cj(n,e,t){var i=e.pendingProps;switch(g2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Do(e),null;case 1:return $s(e.type)&&kC(),Do(e),null;case 3:return i=e.stateNode,cv(),Bi(Ks),Bi(Jo),b2(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(lx(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xl!==null&&(oB(Xl),Xl=null))),QT(n,e),Do(e),null;case 5:E2(e);var r=up(MS.current);if(t=e.type,n!==null&&e.stateNode!=null)Y4(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(ut(166));return Do(e),null}if(n=up(Qu.current),lx(e)){i=e.stateNode,t=e.type;var o=e.memoizedProps;switch(i[Ju]=e,i[bS]=o,n=(e.mode&1)!==0,t){case"dialog":Ei("cancel",i),Ei("close",i);break;case"iframe":case"object":case"embed":Ei("load",i);break;case"video":case"audio":for(r=0;r<By.length;r++)Ei(By[r],i);break;case"source":Ei("error",i);break;case"img":case"image":case"link":Ei("error",i),Ei("load",i);break;case"details":Ei("toggle",i);break;case"input":cF(i,o),Ei("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ei("invalid",i);break;case"textarea":fF(i,o),Ei("invalid",i)}ET(t,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&ax(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ax(i.textContent,a,n),r=["children",""+a]):mS.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ei("scroll",i)}switch(t){case"input":Z_(i),dF(i,o,!0);break;case"textarea":Z_(i),hF(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=IC)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=AO(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=s.createElement(t,{is:i.is}):(n=s.createElement(t),t==="select"&&(s=n,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):n=s.createElementNS(n,t),n[Ju]=e,n[bS]=i,Q4(n,e,!1,!1),e.stateNode=n;e:{switch(s=bT(t,i),t){case"dialog":Ei("cancel",n),Ei("close",n),r=i;break;case"iframe":case"object":case"embed":Ei("load",n),r=i;break;case"video":case"audio":for(r=0;r<By.length;r++)Ei(By[r],n);r=i;break;case"source":Ei("error",n),r=i;break;case"img":case"image":case"link":Ei("error",n),Ei("load",n),r=i;break;case"details":Ei("toggle",n),r=i;break;case"input":cF(n,i),r=ST(n,i),Ei("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=$i({},i,{value:void 0}),Ei("invalid",n);break;case"textarea":fF(n,i),r=wT(n,i),Ei("invalid",n);break;default:r=i}ET(t,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?BO(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MO(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&gS(n,l):typeof l=="number"&&gS(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(mS.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ei("scroll",n):l!=null&&t2(n,o,l,s))}switch(t){case"input":Z_(n),dF(n,i,!1);break;case"textarea":Z_(n),hF(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Nf(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?$g(n,!!i.multiple,o,!1):i.defaultValue!=null&&$g(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=IC)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Do(e),null;case 6:if(n&&e.stateNode!=null)Z4(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ut(166));if(t=up(MS.current),up(Qu.current),lx(e)){if(i=e.stateNode,t=e.memoizedProps,i[Ju]=e,(o=i.nodeValue!==t)&&(n=La,n!==null))switch(n.tag){case 3:ax(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ax(i.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Ju]=e,e.stateNode=i}return Do(e),null;case 13:if(Bi(Gi),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Fi&&Ta!==null&&e.mode&1&&!(e.flags&128))g4(),lv(),e.flags|=98560,o=!1;else if(o=lx(e),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(ut(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ut(317));o[Ju]=e}else lv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Do(e),o=!1}else Xl!==null&&(oB(Xl),Xl=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Gi.current&1?Wr===0&&(Wr=3):N2())),e.updateQueue!==null&&(e.flags|=4),Do(e),null);case 4:return cv(),QT(n,e),n===null&&CS(e.stateNode.containerInfo),Do(e),null;case 10:return _2(e.type._context),Do(e),null;case 17:return $s(e.type)&&kC(),Do(e),null;case 19:if(Bi(Gi),o=e.memoizedState,o===null)return Do(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)ey(o,!1);else{if(Wr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=zC(n),s!==null){for(e.flags|=128,ey(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)o=t,n=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return wi(Gi,Gi.current&1|2),e.child}n=n.sibling}o.tail!==null&&vr()>fv&&(e.flags|=128,i=!0,ey(o,!1),e.lanes=4194304)}else{if(!i)if(n=zC(s),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ey(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Fi)return Do(e),null}else 2*vr()-o.renderingStartTime>fv&&t!==1073741824&&(e.flags|=128,i=!0,ey(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vr(),e.sibling=null,t=Gi.current,wi(Gi,i?t&1|2:t&1),e):(Do(e),null);case 22:case 23:return P2(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?wa&1073741824&&(Do(e),e.subtreeFlags&6&&(e.flags|=8192)):Do(e),null;case 24:return null;case 25:return null}throw Error(ut(156,e.tag))}function Ej(n,e){switch(g2(e),e.tag){case 1:return $s(e.type)&&kC(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return cv(),Bi(Ks),Bi(Jo),b2(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return E2(e),null;case 13:if(Bi(Gi),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ut(340));lv()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Bi(Gi),null;case 4:return cv(),null;case 10:return _2(e.type._context),null;case 22:case 23:return P2(),null;case 24:return null;default:return null}}var dx=!1,Go=!1,bj=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Dg(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){or(n,e,i)}else t.current=null}function YT(n,e,t){try{t()}catch(i){or(n,e,i)}}var nD=!1;function Aj(n,e){if(DT=TC,n=i4(),p2(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=n,m=null;t:for(;;){for(var v;d!==t||r!==0&&d.nodeType!==3||(a=s+r),d!==o||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(v=d.firstChild)!==null;)m=d,d=v;for(;;){if(d===n)break t;if(m===t&&++u===r&&(a=s),m===o&&++c===i&&(l=s),(v=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=v}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(PT={focusedElem:n,selectionRange:t},TC=!1,Dt=e;Dt!==null;)if(e=Dt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Dt=n;else for(;Dt!==null;){e=Dt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,S=y.memoizedState,x=e.stateNode,C=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:ql(e.type,_),S);x.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ut(163))}}catch(M){or(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,Dt=n;break}Dt=e.return}return y=nD,nD=!1,y}function $y(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var o=r.destroy;r.destroy=void 0,o!==void 0&&YT(e,t,o)}r=r.next}while(r!==i)}}function GE(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function ZT(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function e8(n){var e=n.alternate;e!==null&&(n.alternate=null,e8(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ju],delete e[bS],delete e[zT],delete e[lj],delete e[uj])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function t8(n){return n.tag===5||n.tag===3||n.tag===4}function iD(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||t8(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function eB(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=IC));else if(i!==4&&(n=n.child,n!==null))for(eB(n,e,t),n=n.sibling;n!==null;)eB(n,e,t),n=n.sibling}function tB(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(tB(n,e,t),n=n.sibling;n!==null;)tB(n,e,t),n=n.sibling}var So=null,jl=!1;function Hd(n,e,t){for(t=t.child;t!==null;)n8(n,e,t),t=t.sibling}function n8(n,e,t){if(Xu&&typeof Xu.onCommitFiberUnmount=="function")try{Xu.onCommitFiberUnmount(FE,t)}catch{}switch(t.tag){case 5:Go||Dg(t,e);case 6:var i=So,r=jl;So=null,Hd(n,e,t),So=i,jl=r,So!==null&&(jl?(n=So,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):So.removeChild(t.stateNode));break;case 18:So!==null&&(jl?(n=So,t=t.stateNode,n.nodeType===8?WA(n.parentNode,t):n.nodeType===1&&WA(n,t),_S(n)):WA(So,t.stateNode));break;case 4:i=So,r=jl,So=t.stateNode.containerInfo,jl=!0,Hd(n,e,t),So=i,jl=r;break;case 0:case 11:case 14:case 15:if(!Go&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&YT(t,e,s),r=r.next}while(r!==i)}Hd(n,e,t);break;case 1:if(!Go&&(Dg(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){or(t,e,a)}Hd(n,e,t);break;case 21:Hd(n,e,t);break;case 22:t.mode&1?(Go=(i=Go)||t.memoizedState!==null,Hd(n,e,t),Go=i):Hd(n,e,t);break;default:Hd(n,e,t)}}function rD(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new bj),e.forEach(function(i){var r=Dj.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Ol(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var o=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:So=a.stateNode,jl=!1;break e;case 3:So=a.stateNode.containerInfo,jl=!0;break e;case 4:So=a.stateNode.containerInfo,jl=!0;break e}a=a.return}if(So===null)throw Error(ut(160));n8(o,s,r),So=null,jl=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){or(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)i8(e,n),e=e.sibling}function i8(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ol(e,n),Lu(n),i&4){try{$y(3,n,n.return),GE(3,n)}catch(_){or(n,n.return,_)}try{$y(5,n,n.return)}catch(_){or(n,n.return,_)}}break;case 1:Ol(e,n),Lu(n),i&512&&t!==null&&Dg(t,t.return);break;case 5:if(Ol(e,n),Lu(n),i&512&&t!==null&&Dg(t,t.return),n.flags&32){var r=n.stateNode;try{gS(r,"")}catch(_){or(n,n.return,_)}}if(i&4&&(r=n.stateNode,r!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&EO(r,o),bT(a,s);var u=bT(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?BO(r,d):c==="dangerouslySetInnerHTML"?MO(r,d):c==="children"?gS(r,d):t2(r,c,d,u)}switch(a){case"input":_T(r,o);break;case"textarea":bO(r,o);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?$g(r,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?$g(r,!!o.multiple,o.defaultValue,!0):$g(r,!!o.multiple,o.multiple?[]:"",!1))}r[bS]=o}catch(_){or(n,n.return,_)}}break;case 6:if(Ol(e,n),Lu(n),i&4){if(n.stateNode===null)throw Error(ut(162));r=n.stateNode,o=n.memoizedProps;try{r.nodeValue=o}catch(_){or(n,n.return,_)}}break;case 3:if(Ol(e,n),Lu(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{_S(e.containerInfo)}catch(_){or(n,n.return,_)}break;case 4:Ol(e,n),Lu(n);break;case 13:Ol(e,n),Lu(n),r=n.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(F2=vr())),i&4&&rD(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(Go=(u=Go)||c,Ol(e,n),Go=u):Ol(e,n),Lu(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(Dt=n,c=n.child;c!==null;){for(d=Dt=c;Dt!==null;){switch(m=Dt,v=m.child,m.tag){case 0:case 11:case 14:case 15:$y(4,m,m.return);break;case 1:Dg(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){i=m,t=m.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){or(i,t,_)}}break;case 5:Dg(m,m.return);break;case 22:if(m.memoizedState!==null){sD(d);continue}}v!==null?(v.return=m,Dt=v):sD(d)}c=c.sibling}e:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{r=d.stateNode,u?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TO("display",s))}catch(_){or(n,n.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){or(n,n.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ol(e,n),Lu(n),i&4&&rD(n);break;case 21:break;default:Ol(e,n),Lu(n)}}function Lu(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(t8(t)){var i=t;break e}t=t.return}throw Error(ut(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(gS(r,""),i.flags&=-33);var o=iD(n);tB(n,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=iD(n);eB(n,a,s);break;default:throw Error(ut(161))}}catch(l){or(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Mj(n,e,t){Dt=n,r8(n)}function r8(n,e,t){for(var i=(n.mode&1)!==0;Dt!==null;){var r=Dt,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||dx;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Go;a=dx;var u=Go;if(dx=s,(Go=l)&&!u)for(Dt=r;Dt!==null;)s=Dt,l=s.child,s.tag===22&&s.memoizedState!==null?aD(r):l!==null?(l.return=s,Dt=l):aD(r);for(;o!==null;)Dt=o,r8(o),o=o.sibling;Dt=r,dx=a,Go=u}oD(n)}else r.subtreeFlags&8772&&o!==null?(o.return=r,Dt=o):oD(n)}}function oD(n){for(;Dt!==null;){var e=Dt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Go||GE(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Go)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:ql(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&GF(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}GF(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&_S(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ut(163))}Go||e.flags&512&&ZT(e)}catch(m){or(e,e.return,m)}}if(e===n){Dt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Dt=t;break}Dt=e.return}}function sD(n){for(;Dt!==null;){var e=Dt;if(e===n){Dt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Dt=t;break}Dt=e.return}}function aD(n){for(;Dt!==null;){var e=Dt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{GE(4,e)}catch(l){or(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){or(e,r,l)}}var o=e.return;try{ZT(e)}catch(l){or(e,o,l)}break;case 5:var s=e.return;try{ZT(e)}catch(l){or(e,s,l)}}}catch(l){or(e,e.return,l)}if(e===n){Dt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Dt=a;break}Dt=e.return}}var Tj=Math.ceil,GC=ad.ReactCurrentDispatcher,k2=ad.ReactCurrentOwner,gl=ad.ReactCurrentBatchConfig,qn=0,co=null,Rr=null,Eo=0,wa=0,Pg=jf(0),Wr=0,IS=null,Lp=0,WE=0,L2=0,Jy=null,Us=null,F2=0,fv=1/0,Lc=null,WC=!1,nB=null,If=null,fx=!1,gf=null,VC=0,qy=0,iB=null,$w=-1,Jw=0;function ms(){return qn&6?vr():$w!==-1?$w:$w=vr()}function kf(n){return n.mode&1?qn&2&&Eo!==0?Eo&-Eo:dj.transition!==null?(Jw===0&&(Jw=HO()),Jw):(n=si,n!==0||(n=window.event,n=n===void 0?16:qO(n.type)),n):1}function au(n,e,t,i){if(50<qy)throw qy=0,iB=null,Error(ut(185));_1(n,t,i),(!(qn&2)||n!==co)&&(n===co&&(!(qn&2)&&(WE|=t),Wr===4&&hf(n,Eo)),Js(n,i),t===1&&qn===0&&!(e.mode&1)&&(fv=vr()+500,zE&&Xf()))}function Js(n,e){var t=n.callbackNode;dq(n,e);var i=MC(n,n===co?Eo:0);if(i===0)t!==null&&gF(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&gF(t),e===1)n.tag===0?cj(lD.bind(null,n)):h4(lD.bind(null,n)),sj(function(){!(qn&6)&&Xf()}),t=null;else{switch(GO(i)){case 1:t=s2;break;case 4:t=zO;break;case 16:t=AC;break;case 536870912:t=UO;break;default:t=AC}t=f8(t,o8.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function o8(n,e){if($w=-1,Jw=0,qn&6)throw Error(ut(327));var t=n.callbackNode;if(Qg()&&n.callbackNode!==t)return null;var i=MC(n,n===co?Eo:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=KC(n,i);else{e=i;var r=qn;qn|=2;var o=a8();(co!==n||Eo!==e)&&(Lc=null,fv=vr()+500,_p(n,e));do try{Ij();break}catch(a){s8(n,a)}while(1);S2(),GC.current=o,qn=r,Rr!==null?e=0:(co=null,Eo=0,e=Wr)}if(e!==0){if(e===2&&(r=RT(n),r!==0&&(i=r,e=rB(n,r))),e===1)throw t=IS,_p(n,0),hf(n,i),Js(n,vr()),t;if(e===6)hf(n,i);else{if(r=n.current.alternate,!(i&30)&&!Bj(r)&&(e=KC(n,i),e===2&&(o=RT(n),o!==0&&(i=o,e=rB(n,o))),e===1))throw t=IS,_p(n,0),hf(n,i),Js(n,vr()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(ut(345));case 2:Qh(n,Us,Lc);break;case 3:if(hf(n,i),(i&130023424)===i&&(e=F2+500-vr(),10<e)){if(MC(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){ms(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=OT(Qh.bind(null,n,Us,Lc),e);break}Qh(n,Us,Lc);break;case 4:if(hf(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var s=31-su(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=vr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Tj(i/1960))-i,10<i){n.timeoutHandle=OT(Qh.bind(null,n,Us,Lc),i);break}Qh(n,Us,Lc);break;case 5:Qh(n,Us,Lc);break;default:throw Error(ut(329))}}}return Js(n,vr()),n.callbackNode===t?o8.bind(null,n):null}function rB(n,e){var t=Jy;return n.current.memoizedState.isDehydrated&&(_p(n,e).flags|=256),n=KC(n,e),n!==2&&(e=Us,Us=t,e!==null&&oB(e)),n}function oB(n){Us===null?Us=n:Us.push.apply(Us,n)}function Bj(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],o=r.getSnapshot;r=r.value;try{if(!cu(o(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hf(n,e){for(e&=~L2,e&=~WE,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-su(e),i=1<<t;n[t]=-1,e&=~i}}function lD(n){if(qn&6)throw Error(ut(327));Qg();var e=MC(n,0);if(!(e&1))return Js(n,vr()),null;var t=KC(n,e);if(n.tag!==0&&t===2){var i=RT(n);i!==0&&(e=i,t=rB(n,i))}if(t===1)throw t=IS,_p(n,0),hf(n,e),Js(n,vr()),t;if(t===6)throw Error(ut(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Qh(n,Us,Lc),Js(n,vr()),null}function D2(n,e){var t=qn;qn|=1;try{return n(e)}finally{qn=t,qn===0&&(fv=vr()+500,zE&&Xf())}}function Fp(n){gf!==null&&gf.tag===0&&!(qn&6)&&Qg();var e=qn;qn|=1;var t=gl.transition,i=si;try{if(gl.transition=null,si=1,n)return n()}finally{si=i,gl.transition=t,qn=e,!(qn&6)&&Xf()}}function P2(){wa=Pg.current,Bi(Pg)}function _p(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,oj(t)),Rr!==null)for(t=Rr.return;t!==null;){var i=t;switch(g2(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&kC();break;case 3:cv(),Bi(Ks),Bi(Jo),b2();break;case 5:E2(i);break;case 4:cv();break;case 13:Bi(Gi);break;case 19:Bi(Gi);break;case 10:_2(i.type._context);break;case 22:case 23:P2()}t=t.return}if(co=n,Rr=n=Lf(n.current,null),Eo=wa=e,Wr=0,IS=null,L2=WE=Lp=0,Us=Jy=null,lp!==null){for(e=0;e<lp.length;e++)if(t=lp[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,o=t.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}t.pending=i}lp=null}return n}function s8(n,e){do{var t=Rr;try{if(S2(),Ww.current=HC,UC){for(var i=Ki.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}UC=!1}if(kp=0,oo=Gr=Ki=null,Ky=!1,TS=0,k2.current=null,t===null||t.return===null){Wr=1,IS=e,Rr=null;break}e:{var o=n,s=t.return,a=t,l=e;if(e=Eo,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=jF(s);if(v!==null){v.flags&=-257,XF(v,s,a,o,e),v.mode&1&&qF(o,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){qF(o,u,e),N2();break e}l=Error(ut(426))}}else if(Fi&&a.mode&1){var S=jF(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),XF(S,s,a,o,e),v2(dv(l,a));break e}}o=l=dv(l,a),Wr!==4&&(Wr=2),Jy===null?Jy=[o]:Jy.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=W4(o,l,e);HF(o,x);break e;case 1:a=l;var C=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof C.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(If===null||!If.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=V4(o,a,e);HF(o,M);break e}}o=o.return}while(o!==null)}u8(t)}catch(B){e=B,Rr===t&&t!==null&&(Rr=t=t.return);continue}break}while(1)}function a8(){var n=GC.current;return GC.current=HC,n===null?HC:n}function N2(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),co===null||!(Lp&268435455)&&!(WE&268435455)||hf(co,Eo)}function KC(n,e){var t=qn;qn|=2;var i=a8();(co!==n||Eo!==e)&&(Lc=null,_p(n,e));do try{Rj();break}catch(r){s8(n,r)}while(1);if(S2(),qn=t,GC.current=i,Rr!==null)throw Error(ut(261));return co=null,Eo=0,Wr}function Rj(){for(;Rr!==null;)l8(Rr)}function Ij(){for(;Rr!==null&&!nq();)l8(Rr)}function l8(n){var e=d8(n.alternate,n,wa);n.memoizedProps=n.pendingProps,e===null?u8(n):Rr=e,k2.current=null}function u8(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Ej(t,e),t!==null){t.flags&=32767,Rr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Wr=6,Rr=null;return}}else if(t=Cj(t,e,wa),t!==null){Rr=t;return}if(e=e.sibling,e!==null){Rr=e;return}Rr=e=n}while(e!==null);Wr===0&&(Wr=5)}function Qh(n,e,t){var i=si,r=gl.transition;try{gl.transition=null,si=1,kj(n,e,t,i)}finally{gl.transition=r,si=i}return null}function kj(n,e,t,i){do Qg();while(gf!==null);if(qn&6)throw Error(ut(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ut(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(fq(n,o),n===co&&(Rr=co=null,Eo=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||fx||(fx=!0,f8(AC,function(){return Qg(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=gl.transition,gl.transition=null;var s=si;si=1;var a=qn;qn|=4,k2.current=null,Aj(n,t),i8(t,n),Yq(PT),TC=!!DT,PT=DT=null,n.current=t,Mj(t),iq(),qn=a,si=s,gl.transition=o}else n.current=t;if(fx&&(fx=!1,gf=n,VC=r),o=n.pendingLanes,o===0&&(If=null),sq(t.stateNode),Js(n,vr()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(WC)throw WC=!1,n=nB,nB=null,n;return VC&1&&n.tag!==0&&Qg(),o=n.pendingLanes,o&1?n===iB?qy++:(qy=0,iB=n):qy=0,Xf(),null}function Qg(){if(gf!==null){var n=GO(VC),e=gl.transition,t=si;try{if(gl.transition=null,si=16>n?16:n,gf===null)var i=!1;else{if(n=gf,gf=null,VC=0,qn&6)throw Error(ut(331));var r=qn;for(qn|=4,Dt=n.current;Dt!==null;){var o=Dt,s=o.child;if(Dt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Dt=u;Dt!==null;){var c=Dt;switch(c.tag){case 0:case 11:case 15:$y(8,c,o)}var d=c.child;if(d!==null)d.return=c,Dt=d;else for(;Dt!==null;){c=Dt;var m=c.sibling,v=c.return;if(e8(c),c===u){Dt=null;break}if(m!==null){m.return=v,Dt=m;break}Dt=v}}}var y=o.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}Dt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Dt=s;else e:for(;Dt!==null;){if(o=Dt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$y(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Dt=x;break e}Dt=o.return}}var C=n.current;for(Dt=C;Dt!==null;){s=Dt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Dt=b;else e:for(s=C;Dt!==null;){if(a=Dt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:GE(9,a)}}catch(B){or(a,a.return,B)}if(a===s){Dt=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Dt=M;break e}Dt=a.return}}if(qn=r,Xf(),Xu&&typeof Xu.onPostCommitFiberRoot=="function")try{Xu.onPostCommitFiberRoot(FE,n)}catch{}i=!0}return i}finally{si=t,gl.transition=e}}return!1}function uD(n,e,t){e=dv(t,e),e=W4(n,e,1),n=Rf(n,e,1),e=ms(),n!==null&&(_1(n,1,e),Js(n,e))}function or(n,e,t){if(n.tag===3)uD(n,n,t);else for(;e!==null;){if(e.tag===3){uD(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(If===null||!If.has(i))){n=dv(t,n),n=V4(e,n,1),e=Rf(e,n,1),n=ms(),e!==null&&(_1(e,1,n),Js(e,n));break}}e=e.return}}function Lj(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=ms(),n.pingedLanes|=n.suspendedLanes&t,co===n&&(Eo&t)===t&&(Wr===4||Wr===3&&(Eo&130023424)===Eo&&500>vr()-F2?_p(n,0):L2|=t),Js(n,e)}function c8(n,e){e===0&&(n.mode&1?(e=nx,nx<<=1,!(nx&130023424)&&(nx=4194304)):e=1);var t=ms();n=jc(n,e),n!==null&&(_1(n,e,t),Js(n,t))}function Fj(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),c8(n,t)}function Dj(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(ut(314))}i!==null&&i.delete(e),c8(n,t)}var d8;d8=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ks.current)Ws=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ws=!1,wj(n,e,t);Ws=!!(n.flags&131072)}else Ws=!1,Fi&&e.flags&1048576&&p4(e,DC,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Kw(n,e),n=e.pendingProps;var r=av(e,Jo.current);Xg(e,t),r=M2(null,e,i,n,r,t);var o=T2();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$s(i)?(o=!0,LC(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,w2(e),r.updater=UE,e.stateNode=r,r._reactInternals=e,KT(e,i,n,t),e=qT(null,e,i,!0,o,t)):(e.tag=0,Fi&&o&&m2(e),as(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Kw(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Nj(i),n=ql(i,n),r){case 0:e=JT(null,e,i,n,t);break e;case 1:e=ZF(null,e,i,n,t);break e;case 11:e=QF(null,e,i,n,t);break e;case 14:e=YF(null,e,i,ql(i.type,n),t);break e}throw Error(ut(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ql(i,r),JT(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ql(i,r),ZF(n,e,i,r,t);case 3:e:{if(q4(e),n===null)throw Error(ut(387));i=e.pendingProps,o=e.memoizedState,r=o.element,y4(n,e),OC(e,i,null,t);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=dv(Error(ut(423)),e),e=eD(n,e,i,t,r);break e}else if(i!==r){r=dv(Error(ut(424)),e),e=eD(n,e,i,t,r);break e}else for(Ta=Bf(e.stateNode.containerInfo.firstChild),La=e,Fi=!0,Xl=null,t=w4(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(lv(),i===r){e=Xc(n,e,t);break e}as(n,e,i,t)}e=e.child}return e;case 5:return C4(e),n===null&&GT(e),i=e.type,r=e.pendingProps,o=n!==null?n.memoizedProps:null,s=r.children,NT(i,r)?s=null:o!==null&&NT(i,o)&&(e.flags|=32),J4(n,e),as(n,e,s,t),e.child;case 6:return n===null&&GT(e),null;case 13:return j4(n,e,t);case 4:return C2(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=uv(e,null,i,t):as(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ql(i,r),QF(n,e,i,r,t);case 7:return as(n,e,e.pendingProps,t),e.child;case 8:return as(n,e,e.pendingProps.children,t),e.child;case 12:return as(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,wi(PC,i._currentValue),i._currentValue=s,o!==null)if(cu(o.value,s)){if(o.children===r.children&&!Ks.current){e=Xc(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=Kc(-1,t&-t),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),WT(o.return,t,e),a.lanes|=t;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ut(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),WT(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}as(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Xg(e,t),r=Sl(r),i=i(r),e.flags|=1,as(n,e,i,t),e.child;case 14:return i=e.type,r=ql(i,e.pendingProps),r=ql(i.type,r),YF(n,e,i,r,t);case 15:return K4(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ql(i,r),Kw(n,e),e.tag=1,$s(i)?(n=!0,LC(e)):n=!1,Xg(e,t),_4(e,i,r),KT(e,i,r,t),qT(null,e,i,!0,n,t);case 19:return X4(n,e,t);case 22:return $4(n,e,t)}throw Error(ut(156,e.tag))};function f8(n,e){return OO(n,e)}function Pj(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pl(n,e,t,i){return new Pj(n,e,t,i)}function O2(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Nj(n){if(typeof n=="function")return O2(n)?1:0;if(n!=null){if(n=n.$$typeof,n===i2)return 11;if(n===r2)return 14}return 2}function Lf(n,e){var t=n.alternate;return t===null?(t=pl(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function qw(n,e,t,i,r,o){var s=2;if(i=n,typeof n=="function")O2(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Ag:return xp(t.children,r,o,e);case n2:s=8,r|=8;break;case mT:return n=pl(12,t,e,r|2),n.elementType=mT,n.lanes=o,n;case gT:return n=pl(13,t,e,r),n.elementType=gT,n.lanes=o,n;case vT:return n=pl(19,t,e,r),n.elementType=vT,n.lanes=o,n;case xO:return VE(t,r,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case SO:s=10;break e;case _O:s=9;break e;case i2:s=11;break e;case r2:s=14;break e;case of:s=16,i=null;break e}throw Error(ut(130,n==null?n:typeof n,""))}return e=pl(s,t,e,r),e.elementType=n,e.type=i,e.lanes=o,e}function xp(n,e,t,i){return n=pl(7,n,i,e),n.lanes=t,n}function VE(n,e,t,i){return n=pl(22,n,i,e),n.elementType=xO,n.lanes=t,n.stateNode={isHidden:!1},n}function QA(n,e,t){return n=pl(6,n,null,e),n.lanes=t,n}function YA(n,e,t){return e=pl(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Oj(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kA(0),this.expirationTimes=kA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kA(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function z2(n,e,t,i,r,o,s,a,l){return n=new Oj(n,e,t,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=pl(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},w2(o),n}function zj(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bg,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function h8(n){if(!n)return Of;n=n._reactInternals;e:{if(Zp(n)!==n||n.tag!==1)throw Error(ut(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($s(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ut(171))}if(n.tag===1){var t=n.type;if($s(t))return f4(n,t,e)}return e}function p8(n,e,t,i,r,o,s,a,l){return n=z2(t,i,!0,n,r,o,s,a,l),n.context=h8(null),t=n.current,i=ms(),r=kf(t),o=Kc(i,r),o.callback=e??null,Rf(t,o,r),n.current.lanes=r,_1(n,r,i),Js(n,i),n}function KE(n,e,t,i){var r=e.current,o=ms(),s=kf(r);return t=h8(t),e.context===null?e.context=t:e.pendingContext=t,e=Kc(o,s),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Rf(r,e,s),n!==null&&(au(n,r,s,o),Gw(n,r,s)),s}function $C(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function cD(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function U2(n,e){cD(n,e),(n=n.alternate)&&cD(n,e)}function Uj(){return null}var m8=typeof reportError=="function"?reportError:function(n){console.error(n)};function H2(n){this._internalRoot=n}$E.prototype.render=H2.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ut(409));KE(n,e,null,null)};$E.prototype.unmount=H2.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Fp(function(){KE(null,n,null,null)}),e[qc]=null}};function $E(n){this._internalRoot=n}$E.prototype.unstable_scheduleHydration=function(n){if(n){var e=KO();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ff.length&&e!==0&&e<ff[t].priority;t++);ff.splice(t,0,n),t===0&&JO(n)}};function G2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function JE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function dD(){}function Hj(n,e,t,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var u=$C(s);o.call(u)}}var s=p8(e,i,n,0,null,!1,!1,"",dD);return n._reactRootContainer=s,n[qc]=s.current,CS(n.nodeType===8?n.parentNode:n),Fp(),s}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=$C(l);a.call(u)}}var l=z2(n,0,!1,null,null,!1,!1,"",dD);return n._reactRootContainer=l,n[qc]=l.current,CS(n.nodeType===8?n.parentNode:n),Fp(function(){KE(e,l,t,i)}),l}function qE(n,e,t,i,r){var o=t._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var a=r;r=function(){var l=$C(s);a.call(l)}}KE(e,s,n,r)}else s=Hj(t,e,n,r,i);return $C(s)}WO=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ty(e.pendingLanes);t!==0&&(a2(e,t|1),Js(e,vr()),!(qn&6)&&(fv=vr()+500,Xf()))}break;case 13:Fp(function(){var i=jc(n,1);if(i!==null){var r=ms();au(i,n,1,r)}}),U2(n,1)}};l2=function(n){if(n.tag===13){var e=jc(n,134217728);if(e!==null){var t=ms();au(e,n,134217728,t)}U2(n,134217728)}};VO=function(n){if(n.tag===13){var e=kf(n),t=jc(n,e);if(t!==null){var i=ms();au(t,n,e,i)}U2(n,e)}};KO=function(){return si};$O=function(n,e){var t=si;try{return si=n,e()}finally{si=t}};MT=function(n,e,t){switch(e){case"input":if(_T(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=OE(i);if(!r)throw Error(ut(90));CO(i),_T(i,r)}}}break;case"textarea":bO(n,t);break;case"select":e=t.value,e!=null&&$g(n,!!t.multiple,e,!1)}};kO=D2;LO=Fp;var Gj={usingClientEntryPoint:!1,Events:[w1,Rg,OE,RO,IO,D2]},ty={findFiberByHostInstance:ap,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wj={bundleType:ty.bundleType,version:ty.version,rendererPackageName:ty.rendererPackageName,rendererConfig:ty.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ad.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=PO(n),n===null?null:n.stateNode},findFiberByHostInstance:ty.findFiberByHostInstance||Uj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hx.isDisabled&&hx.supportsFiber)try{FE=hx.inject(Wj),Xu=hx}catch{}}za.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gj;za.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G2(e))throw Error(ut(200));return zj(n,e,null,t)};za.createRoot=function(n,e){if(!G2(n))throw Error(ut(299));var t=!1,i="",r=m8;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=z2(n,1,!1,null,null,t,!1,i,r),n[qc]=e.current,CS(n.nodeType===8?n.parentNode:n),new H2(e)};za.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ut(188)):(n=Object.keys(n).join(","),Error(ut(268,n)));return n=PO(e),n=n===null?null:n.stateNode,n};za.flushSync=function(n){return Fp(n)};za.hydrate=function(n,e,t){if(!JE(e))throw Error(ut(200));return qE(null,n,e,!0,t)};za.hydrateRoot=function(n,e,t){if(!G2(n))throw Error(ut(405));var i=t!=null&&t.hydratedSources||null,r=!1,o="",s=m8;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=p8(e,null,n,1,t??null,r,!1,o,s),n[qc]=e.current,CS(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new $E(e)};za.render=function(n,e,t){if(!JE(e))throw Error(ut(200));return qE(null,n,e,!1,t)};za.unmountComponentAtNode=function(n){if(!JE(n))throw Error(ut(40));return n._reactRootContainer?(Fp(function(){qE(null,null,n,!1,function(){n._reactRootContainer=null,n[qc]=null})}),!0):!1};za.unstable_batchedUpdates=D2;za.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!JE(t))throw Error(ut(200));if(n==null||n._reactInternals===void 0)throw Error(ut(38));return qE(n,e,t,!1,i)};za.version="18.2.0-next-9e3b772b8-20220608";function g8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g8)}catch(n){console.error(n)}}g8(),pO.exports=za;var W2=pO.exports,fD=W2;hT.createRoot=fD.createRoot,hT.hydrateRoot=fD.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function JC(){return JC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},JC.apply(this,arguments)}var vf;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(vf||(vf={}));const hD="popstate";function Vj(n){n===void 0&&(n={});function e(r,o){let{pathname:s="/",search:a="",hash:l=""}=E1(r.location.hash.substr(1));return sB("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let s=r.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:v8(o))}function i(r,o){Kj(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Jj(e,t,i,n)}function qs(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Kj(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $j(){return Math.random().toString(36).substr(2,8)}function pD(n,e){return{usr:n.state,key:n.key,idx:e}}function sB(n,e,t,i){return t===void 0&&(t=null),JC({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?E1(e):e,{state:t,key:e&&e.key||i||$j()})}function v8(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function E1(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Jj(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,s=r.history,a=vf.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(JC({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=vf.Pop;let S=c(),x=S==null?null:S-u;u=S,l&&l({action:a,location:_.location,delta:x})}function m(S,x){a=vf.Push;let C=sB(_.location,S,x);t&&t(C,S),u=c()+1;let b=pD(C,u),M=_.createHref(C);try{s.pushState(b,"",M)}catch{r.location.assign(M)}o&&l&&l({action:a,location:_.location,delta:1})}function v(S,x){a=vf.Replace;let C=sB(_.location,S,x);t&&t(C,S),u=c();let b=pD(C,u),M=_.createHref(C);s.replaceState(b,"",M),o&&l&&l({action:a,location:_.location,delta:0})}function y(S){let x=r.location.origin!=="null"?r.location.origin:r.location.href,C=typeof S=="string"?S:v8(S);return qs(x,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,x)}let _={get action(){return a},get location(){return n(r,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(hD,d),l=S,()=>{r.removeEventListener(hD,d),l=null}},createHref(S){return e(r,S)},createURL:y,encodeLocation(S){let x=y(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(S){return s.go(S)}};return _}var mD;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(mD||(mD={}));function qj(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?E1(e):e,r=_8(i.pathname||"/",t);if(r==null)return null;let o=y8(n);jj(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=rX(o[a],aX(r));return s}function y8(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(qs(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Yg([i,l.relativePath]),c=t.concat(l);o.children&&o.children.length>0&&(qs(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),y8(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:nX(u,o.index),routesMeta:c})};return n.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))r(o,s);else for(let l of S8(o.path))r(o,s,l)}),e}function S8(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let s=S8(i.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),r&&a.push(...s),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function jj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iX(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const Xj=/^:\w+$/,Qj=3,Yj=2,Zj=1,eX=10,tX=-2,gD=n=>n==="*";function nX(n,e){let t=n.split("/"),i=t.length;return t.some(gD)&&(i+=tX),e&&(i+=Yj),t.filter(r=>!gD(r)).reduce((r,o)=>r+(Xj.test(o)?Qj:o===""?Zj:eX),i)}function iX(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function rX(n,e){let{routesMeta:t}=n,i={},r="/",o=[];for(let s=0;s<t.length;++s){let a=t[s],l=s===t.length-1,u=r==="/"?e:e.slice(r.length)||"/",c=oX({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let d=a.route;o.push({params:i,pathname:Yg([r,c.pathname]),pathnameBase:uX(Yg([r,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(r=Yg([r,c.pathnameBase]))}return o}function oX(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=sX(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,d)=>{if(c==="*"){let m=a[d]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}return u[c]=lX(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:n}}function sX(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),V2(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(i.push(a),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function aX(n){try{return decodeURI(n)}catch(e){return V2(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function lX(n,e){try{return decodeURIComponent(n)}catch(t){return V2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function _8(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function V2(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}const Yg=n=>n.join("/").replace(/\/\/+/g,"/"),uX=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function cX(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const x8=["post","put","patch","delete"];new Set(x8);const dX=["get",...x8];new Set(dX);/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aB(){return aB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},aB.apply(this,arguments)}function fX(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const hX=typeof Object.is=="function"?Object.is:fX,{useState:pX,useEffect:mX,useLayoutEffect:gX,useDebugValue:vX}=wC;function yX(n,e,t){const i=e(),[{inst:r},o]=pX({inst:{value:i,getSnapshot:e}});return gX(()=>{r.value=i,r.getSnapshot=e,ZA(r)&&o({inst:r})},[n,i,e]),mX(()=>(ZA(r)&&o({inst:r}),n(()=>{ZA(r)&&o({inst:r})})),[n]),vX(i),i}function ZA(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!hX(t,i)}catch{return!0}}function SX(n,e,t){return e()}const _X=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xX=!_X,wX=xX?SX:yX;"useSyncExternalStore"in wC&&(n=>n.useSyncExternalStore)(wC);const w8=T.createContext(null),C8=T.createContext(null),E8=T.createContext(null),jE=T.createContext(null),XE=T.createContext({outlet:null,matches:[]}),b8=T.createContext(null);function K2(){return T.useContext(jE)!=null}function CX(){return K2()||qs(!1),T.useContext(jE).location}function EX(n,e){K2()||qs(!1);let{navigator:t}=T.useContext(E8),i=T.useContext(C8),{matches:r}=T.useContext(XE),o=r[r.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=CX(),u;if(e){var c;let _=typeof e=="string"?E1(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||qs(!1),u=_}else u=l;let d=u.pathname||"/",m=a==="/"?d:d.slice(a.length)||"/",v=qj(n,{pathname:m}),y=TX(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:Yg([a,t.encodeLocation?t.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Yg([a,t.encodeLocation?t.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,i||void 0);return e&&y?T.createElement(jE.Provider,{value:{location:aB({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vf.Pop}},y):y}function bX(){let n=kX(),e=cX(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:r},t):null,o)}class AX extends T.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?T.createElement(XE.Provider,{value:this.props.routeContext},T.createElement(b8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MX(n){let{routeContext:e,match:t,children:i}=n,r=T.useContext(w8);return r&&r.static&&r.staticContext&&t.route.errorElement&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(XE.Provider,{value:e},i)}function TX(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let i=n,r=t==null?void 0:t.errors;if(r!=null){let o=i.findIndex(s=>s.route.id&&(r==null?void 0:r[s.route.id]));o>=0||qs(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((o,s,a)=>{let l=s.route.id?r==null?void 0:r[s.route.id]:null,u=t?s.route.errorElement||T.createElement(bX,null):null,c=e.concat(i.slice(0,a+1)),d=()=>T.createElement(MX,{match:s,routeContext:{outlet:o,matches:c}},l?u:s.route.element!==void 0?s.route.element:o);return t&&(s.route.errorElement||a===0)?T.createElement(AX,{location:t.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var vD;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(vD||(vD={}));var qC;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(qC||(qC={}));function BX(n){let e=T.useContext(C8);return e||qs(!1),e}function RX(n){let e=T.useContext(XE);return e||qs(!1),e}function IX(n){let e=RX(),t=e.matches[e.matches.length-1];return t.route.id||qs(!1),t.route.id}function kX(){var n;let e=T.useContext(b8),t=BX(qC.UseRouteError),i=IX(qC.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function A8(n){qs(!1)}function LX(n){let{basename:e="/",children:t=null,location:i,navigationType:r=vf.Pop,navigator:o,static:s=!1}=n;K2()&&qs(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof i=="string"&&(i=E1(i));let{pathname:u="/",search:c="",hash:d="",state:m=null,key:v="default"}=i,y=T.useMemo(()=>{let _=_8(u,a);return _==null?null:{pathname:_,search:c,hash:d,state:m,key:v}},[a,u,c,d,m,v]);return y==null?null:T.createElement(E8.Provider,{value:l},T.createElement(jE.Provider,{children:t,value:{location:y,navigationType:r}}))}function FX(n){let{children:e,location:t}=n,i=T.useContext(w8),r=i&&!e?i.router.routes:lB(e);return EX(r,t)}var yD;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(yD||(yD={}));new Promise(()=>{});function lB(n,e){e===void 0&&(e=[]);let t=[];return T.Children.forEach(n,(i,r)=>{if(!T.isValidElement(i))return;if(i.type===T.Fragment){t.push.apply(t,lB(i.props.children,e));return}i.type!==A8&&qs(!1),!i.props.index||!i.props.children||qs(!1);let o=[...e,r],s={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(s.children=lB(i.props.children,o)),t.push(s)}),t}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DX(n){let{basename:e,children:t,window:i}=n,r=T.useRef();r.current==null&&(r.current=Vj({window:i,v5Compat:!0}));let o=r.current,[s,a]=T.useState({action:o.action,location:o.location});return T.useLayoutEffect(()=>o.listen(a),[o]),T.createElement(LX,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o})}var SD;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(SD||(SD={}));var _D;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(_D||(_D={}));var xD={},jw=void 0;try{jw=window}catch{}function $2(n,e){if(typeof jw<"u"){var t=jw.__packages__=jw.__packages__||{};if(!t[n]||!xD[n]){xD[n]=e;var i=t[n]=t[n]||[];i.push(e)}}}$2("@fluentui/set-version","6.0.0");var uB=function(n,e){return uB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},uB(n,e)};function Lr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uB(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var le=function(){return le=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},le.apply(this,arguments)};function sc(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function QE(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function ui(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}var ny={none:0,insertNode:1,appendChild:2},wD="__stylesheet__",PX=typeof navigator<"u"&&/rv:11.0/.test(navigator.userAgent),xg={};try{xg=window||{}}catch{}var Km,xl=function(){function n(e,t){var i,r,o,s,a,l;this._rules=[],this._preservedRules=[],this._counter=0,this._keyToClassName={},this._onInsertRuleCallbacks=[],this._onResetCallbacks=[],this._classNameToArgs={},this._config=le({injectionMode:typeof document>"u"?ny.none:ny.insertNode,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e),this._classNameToArgs=(i=t==null?void 0:t.classNameToArgs)!==null&&i!==void 0?i:this._classNameToArgs,this._counter=(r=t==null?void 0:t.counter)!==null&&r!==void 0?r:this._counter,this._keyToClassName=(s=(o=this._config.classNameCache)!==null&&o!==void 0?o:t==null?void 0:t.keyToClassName)!==null&&s!==void 0?s:this._keyToClassName,this._preservedRules=(a=t==null?void 0:t.preservedRules)!==null&&a!==void 0?a:this._preservedRules,this._rules=(l=t==null?void 0:t.rules)!==null&&l!==void 0?l:this._rules}return n.getInstance=function(){if(Km=xg[wD],!Km||Km._lastStyleElement&&Km._lastStyleElement.ownerDocument!==document){var e=(xg==null?void 0:xg.FabricConfig)||{},t=new n(e.mergeStyles,e.serializedStylesheet);Km=t,xg[wD]=t}return Km},n.prototype.serialize=function(){return JSON.stringify({classNameToArgs:this._classNameToArgs,counter:this._counter,keyToClassName:this._keyToClassName,preservedRules:this._preservedRules,rules:this._rules})},n.prototype.setConfig=function(e){this._config=le(le({},this._config),e)},n.prototype.onReset=function(e){var t=this;return this._onResetCallbacks.push(e),function(){t._onResetCallbacks=t._onResetCallbacks.filter(function(i){return i!==e})}},n.prototype.onInsertRule=function(e){var t=this;return this._onInsertRuleCallbacks.push(e),function(){t._onInsertRuleCallbacks=t._onInsertRuleCallbacks.filter(function(i){return i!==e})}},n.prototype.getClassName=function(e){var t=this._config.namespace,i=e||this._config.defaultPrefix;return"".concat(t?t+"-":"").concat(i,"-").concat(this._counter++)},n.prototype.cacheClassName=function(e,t,i,r){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:i,rules:r}},n.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},n.prototype.getClassNameCache=function(){return this._keyToClassName},n.prototype.argsFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.args},n.prototype.insertedRulesFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.rules},n.prototype.insertRule=function(e,t){var i=this._config.injectionMode,r=i!==ny.none?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),r)switch(i){case ny.insertNode:var o=r.sheet;try{o.insertRule(e,o.cssRules.length)}catch{}break;case ny.appendChild:r.appendChild(document.createTextNode(e));break}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e),this._onInsertRuleCallbacks.forEach(function(s){return s()})},n.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")},n.prototype.reset=function(){this._rules=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach(function(e){return e()})},n.prototype.resetKeys=function(){this._keyToClassName={}},n.prototype._getStyleElement=function(){var e=this;return!this._styleElement&&typeof document<"u"&&(this._styleElement=this._createStyleElement(),PX||window.requestAnimationFrame(function(){e._styleElement=void 0})),this._styleElement},n.prototype._createStyleElement=function(){var e=document.head,t=document.createElement("style"),i=null;t.setAttribute("data-merge-styles","true");var r=this._config.cspSettings;if(r&&r.nonce&&t.setAttribute("nonce",r.nonce),this._lastStyleElement)i=this._lastStyleElement.nextElementSibling;else{var o=this._findPlaceholderStyleTag();o?i=o.nextElementSibling:i=e.childNodes[0]}return e.insertBefore(t,e.contains(i)?i:null),this._lastStyleElement=t,t},n.prototype._findPlaceholderStyleTag=function(){var e=document.head;return e?e.querySelector("style[data-merge-styles]"):null},n}();function M8(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=[],i=[],r=xl.getInstance();function o(s){for(var a=0,l=s;a<l.length;a++){var u=l[a];if(u)if(typeof u=="string")if(u.indexOf(" ")>=0)o(u.split(" "));else{var c=r.argsFromClassName(u);c?o(c):t.indexOf(u)===-1&&t.push(u)}else Array.isArray(u)?o(u):typeof u=="object"&&i.push(u)}}return o(n),{classes:t,objects:i}}function T8(n){Zg!==n&&(Zg=n)}function B8(){return Zg===void 0&&(Zg=typeof document<"u"&&!!document.documentElement&&document.documentElement.getAttribute("dir")==="rtl"),Zg}var Zg;Zg=B8();function YE(){return{rtl:B8()}}var CD={};function NX(n,e){var t=n[e];t.charAt(0)!=="-"&&(n[e]=CD[t]=CD[t]||t.replace(/([A-Z])/g,"-$1").toLowerCase())}var px;function OX(){var n;if(!px){var e=typeof document<"u"?document:void 0,t=typeof navigator<"u"?navigator:void 0,i=(n=t==null?void 0:t.userAgent)===null||n===void 0?void 0:n.toLowerCase();e?px={isWebkit:!!(e&&"WebkitAppearance"in e.documentElement.style),isMoz:!!(i&&i.indexOf("firefox")>-1),isOpera:!!(i&&i.indexOf("opera")>-1),isMs:!!(t&&(/rv:11.0/i.test(t.userAgent)||/Edge\/\d./i.test(navigator.userAgent)))}:px={isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}}return px}var ED={"user-select":1};function zX(n,e){var t=OX(),i=n[e];if(ED[i]){var r=n[e+1];ED[i]&&(t.isWebkit&&n.push("-webkit-"+i,r),t.isMoz&&n.push("-moz-"+i,r),t.isMs&&n.push("-ms-"+i,r),t.isOpera&&n.push("-o-"+i,r))}}var UX=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function HX(n,e){var t=n[e],i=n[e+1];if(typeof i=="number"){var r=UX.indexOf(t)>-1,o=t.indexOf("--")>-1,s=r||o?"":"px";n[e+1]="".concat(i).concat(s)}}var mx,af="left",lf="right",GX="@noflip",bD=(mx={},mx[af]=lf,mx[lf]=af,mx),AD={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};function WX(n,e,t){if(n.rtl){var i=e[t];if(!i)return;var r=e[t+1];if(typeof r=="string"&&r.indexOf(GX)>=0)e[t+1]=r.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(i.indexOf(af)>=0)e[t]=i.replace(af,lf);else if(i.indexOf(lf)>=0)e[t]=i.replace(lf,af);else if(String(r).indexOf(af)>=0)e[t+1]=r.replace(af,lf);else if(String(r).indexOf(lf)>=0)e[t+1]=r.replace(lf,af);else if(bD[i])e[t]=bD[i];else if(AD[r])e[t+1]=AD[r];else switch(i){case"margin":case"padding":e[t+1]=KX(r);break;case"box-shadow":e[t+1]=VX(r,0);break}}}function VX(n,e){var t=n.split(" "),i=parseInt(t[e],10);return t[0]=t[0].replace(String(i),String(i*-1)),t.join(" ")}function KX(n){if(typeof n=="string"){var e=n.split(" ");if(e.length===4)return"".concat(e[0]," ").concat(e[3]," ").concat(e[2]," ").concat(e[1])}return n}function $X(n){for(var e=[],t=0,i=0,r=0;r<n.length;r++)switch(n[r]){case"(":i++;break;case")":i&&i--;break;case"	":case" ":i||(r>t&&e.push(n.substring(t,r)),t=r+1);break}return t<n.length&&e.push(n.substring(t)),e}var JX="displayName";function qX(n){var e=n&&n["&"];return e?e.displayName:void 0}var R8=/\:global\((.+?)\)/g;function jX(n){if(!R8.test(n))return n;for(var e=[],t=/\:global\((.+?)\)/g,i=null;i=t.exec(n);)i[1].indexOf(",")>-1&&e.push([i.index,i.index+i[0].length,i[1].split(",").map(function(r){return":global(".concat(r.trim(),")")}).join(", ")]);return e.reverse().reduce(function(r,o){var s=o[0],a=o[1],l=o[2],u=r.slice(0,s),c=r.slice(a);return u+l+c},n)}function MD(n,e){return n.indexOf(":global(")>=0?n.replace(R8,"$1"):n.indexOf(":")===0?e+n:n.indexOf("&")<0?e+" "+n:n}function TD(n,e,t,i){e===void 0&&(e={__order:[]}),t.indexOf("@")===0?(t=t+"{"+n,ev([i],e,t)):t.indexOf(",")>-1?jX(t).split(",").map(function(r){return r.trim()}).forEach(function(r){return ev([i],e,MD(r,n))}):ev([i],e,MD(t,n))}function ev(n,e,t){e===void 0&&(e={__order:[]}),t===void 0&&(t="&");var i=xl.getInstance(),r=e[t];r||(r={},e[t]=r,e.__order.push(t));for(var o=0,s=n;o<s.length;o++){var a=s[o];if(typeof a=="string"){var l=i.argsFromClassName(a);l&&ev(l,e,t)}else if(Array.isArray(a))ev(a,e,t);else for(var u in a)if(a.hasOwnProperty(u)){var c=a[u];if(u==="selectors"){var d=a.selectors;for(var m in d)d.hasOwnProperty(m)&&TD(t,e,m,d[m])}else typeof c=="object"?c!==null&&TD(t,e,u,c):c!==void 0&&(u==="margin"||u==="padding"?XX(r,u,c):r[u]=c)}}return e}function XX(n,e,t){var i=typeof t=="string"?$X(t):[t];i.length===0&&i.push(t),i[i.length-1]==="!important"&&(i=i.slice(0,-1).map(function(r){return r+" !important"})),n[e+"Top"]=i[0],n[e+"Right"]=i[1]||i[0],n[e+"Bottom"]=i[2]||i[0],n[e+"Left"]=i[3]||i[1]||i[0]}function QX(n,e){for(var t=[n.rtl?"rtl":"ltr"],i=!1,r=0,o=e.__order;r<o.length;r++){var s=o[r];t.push(s);var a=e[s];for(var l in a)a.hasOwnProperty(l)&&a[l]!==void 0&&(i=!0,t.push(l,a[l]))}return i?t.join(""):void 0}function I8(n,e){return e<=0?"":e===1?n:n+I8(n,e-1)}function J2(n,e){if(!e)return"";var t=[];for(var i in e)e.hasOwnProperty(i)&&i!==JX&&e[i]!==void 0&&t.push(i,e[i]);for(var r=0;r<t.length;r+=2)NX(t,r),HX(t,r),WX(n,t,r),zX(t,r);for(var r=1;r<t.length;r+=4)t.splice(r,1,":",t[r],";");return t.join("")}function k8(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=ev(e),r=QX(n,i);if(r){var o=xl.getInstance(),s={className:o.classNameFromKey(r),key:r,args:e};if(!s.className){s.className=o.getClassName(qX(i));for(var a=[],l=0,u=i.__order;l<u.length;l++){var c=u[l];a.push(c,J2(n,i[c]))}s.rulesToInsert=a}return s}}function L8(n,e){e===void 0&&(e=1);var t=xl.getInstance(),i=n.className,r=n.key,o=n.args,s=n.rulesToInsert;if(s){for(var a=0;a<s.length;a+=2){var l=s[a+1];if(l){var u=s[a];u=u.replace(/&/g,I8(".".concat(n.className),e));var c="".concat(u,"{").concat(l,"}").concat(u.indexOf("@")===0?"}":"");t.insertRule(c)}}t.cacheClassName(i,r,o,s)}}function YX(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=k8.apply(void 0,ui([n],e,!1));return i?(L8(i,n.specificityMultiplier),i.className):""}function zc(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return F8(n,YE())}function F8(n,e){var t=n instanceof Array?n:[n],i=M8(t),r=i.classes,o=i.objects;return o.length&&r.push(YX(e||{},o)),r.join(" ")}function pu(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n&&n.length===1&&n[0]&&!n[0].subComponentStyles)return n[0];for(var t={},i={},r=0,o=n;r<o.length;r++){var s=o[r];if(s){for(var a in s)if(s.hasOwnProperty(a)){if(a==="subComponentStyles"&&s.subComponentStyles!==void 0){var l=s.subComponentStyles;for(var u in l)l.hasOwnProperty(u)&&(i.hasOwnProperty(u)?i[u].push(l[u]):i[u]=[l[u]]);continue}var c=t[a],d=s[a];c===void 0?t[a]=d:t[a]=ui(ui([],Array.isArray(c)?c:[c],!0),Array.isArray(d)?d:[d],!0)}}}if(Object.keys(i).length>0){t.subComponentStyles={};var m=t.subComponentStyles,v=function(y){if(i.hasOwnProperty(y)){var _=i[y];m[y]=function(S){return pu.apply(void 0,_.map(function(x){return typeof x=="function"?x(S):x}))}}};for(var u in i)v(u)}return t}function b1(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return D8(n,YE())}function D8(n,e){var t={subComponentStyles:{}},i=n[0];if(!i&&n.length<=1)return{subComponentStyles:{}};var r=pu.apply(void 0,n),o=[];for(var s in r)if(r.hasOwnProperty(s)){if(s==="subComponentStyles"){t.subComponentStyles=r.subComponentStyles||{};continue}var a=r[s],l=M8(a),u=l.classes,c=l.objects;if(c!=null&&c.length){var d=k8(e||{},{displayName:s},c);d&&(o.push(d),t[s]=u.concat([d.className]).join(" "))}else t[s]=u.join(" ")}for(var m=0,v=o;m<v.length;m++){var d=v[m];d&&L8(d,e==null?void 0:e.specificityMultiplier)}return t}function P8(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=[],r=0,o=e;r<o.length;r++){var s=o[r];s&&i.push(typeof s=="function"?s(n):s)}return i.length===1?i[0]:i.length?pu.apply(void 0,i):{}}function N8(n){var e=xl.getInstance(),t=J2(YE(),n),i=e.classNameFromKey(t);if(!i){var r=e.getClassName();e.insertRule("@font-face{".concat(t,"}"),!0),e.cacheClassName(r,t,[],["font-face",t])}}function El(n){var e=xl.getInstance(),t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i,"{",J2(YE(),n[i]),"}");var r=t.join(""),o=e.classNameFromKey(r);if(o)return o;var s=e.getClassName();return e.insertRule("@keyframes ".concat(s,"{").concat(r,"}"),!0),e.cacheClassName(s,r,[],["keyframes",r]),s}function ZX(n){var e={},t=function(r){if(n.hasOwnProperty(r)){var o;Object.defineProperty(e,r,{get:function(){return o===void 0&&(o=zc(n[r]).toString()),o},enumerable:!0,configurable:!0})}};for(var i in n)t(i);return e}function q2(){return typeof window<"u"&&!!(window.document&&window.document.createElement)}var cB=void 0;try{cB=window}catch{}function Vi(n){if(!(!q2()||typeof cB>"u")){var e=n;return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:cB}}var A1=function(){function n(e,t){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=e||null,this._onErrorHandler=t,this._noop=function(){}}return n.prototype.dispose=function(){var e;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(e in this._timeoutIds)this._timeoutIds.hasOwnProperty(e)&&this.clearTimeout(parseInt(e,10));this._timeoutIds=null}if(this._immediateIds){for(e in this._immediateIds)this._immediateIds.hasOwnProperty(e)&&this.clearImmediate(parseInt(e,10));this._immediateIds=null}if(this._intervalIds){for(e in this._intervalIds)this._intervalIds.hasOwnProperty(e)&&this.clearInterval(parseInt(e,10));this._intervalIds=null}if(this._animationFrameIds){for(e in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(e)&&this.cancelAnimationFrame(parseInt(e,10));this._animationFrameIds=null}},n.prototype.setTimeout=function(e,t){var i=this,r=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),r=setTimeout(function(){try{i._timeoutIds&&delete i._timeoutIds[r],e.apply(i._parent)}catch(o){i._logError(o)}},t),this._timeoutIds[r]=!0),r},n.prototype.clearTimeout=function(e){this._timeoutIds&&this._timeoutIds[e]&&(clearTimeout(e),delete this._timeoutIds[e])},n.prototype.setImmediate=function(e,t){var i=this,r=0,o=Vi(t);if(!this._isDisposed){this._immediateIds||(this._immediateIds={});var s=function(){try{i._immediateIds&&delete i._immediateIds[r],e.apply(i._parent)}catch(a){i._logError(a)}};r=o.setTimeout(s,0),this._immediateIds[r]=!0}return r},n.prototype.clearImmediate=function(e,t){var i=Vi(t);this._immediateIds&&this._immediateIds[e]&&(i.clearTimeout(e),delete this._immediateIds[e])},n.prototype.setInterval=function(e,t){var i=this,r=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),r=setInterval(function(){try{e.apply(i._parent)}catch(o){i._logError(o)}},t),this._intervalIds[r]=!0),r},n.prototype.clearInterval=function(e){this._intervalIds&&this._intervalIds[e]&&(clearInterval(e),delete this._intervalIds[e])},n.prototype.throttle=function(e,t,i){var r=this;if(this._isDisposed)return this._noop;var o=t||0,s=!0,a=!0,l=0,u,c,d=null;i&&typeof i.leading=="boolean"&&(s=i.leading),i&&typeof i.trailing=="boolean"&&(a=i.trailing);var m=function(y){var _=Date.now(),S=_-l,x=s?o-S:o;return S>=o&&(!y||s)?(l=_,d&&(r.clearTimeout(d),d=null),u=e.apply(r._parent,c)):d===null&&a&&(d=r.setTimeout(m,x)),u},v=function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];return c=y,m(!0)};return v},n.prototype.debounce=function(e,t,i){var r=this;if(this._isDisposed){var o=function(){};return o.cancel=function(){},o.flush=function(){return null},o.pending=function(){return!1},o}var s=t||0,a=!1,l=!0,u=null,c=0,d=Date.now(),m,v,y=null;i&&typeof i.leading=="boolean"&&(a=i.leading),i&&typeof i.trailing=="boolean"&&(l=i.trailing),i&&typeof i.maxWait=="number"&&!isNaN(i.maxWait)&&(u=i.maxWait);var _=function(k){y&&(r.clearTimeout(y),y=null),d=k},S=function(k){_(k),m=e.apply(r._parent,v)},x=function(k){var F=Date.now(),R=!1;k&&(a&&F-c>=s&&(R=!0),c=F);var N=F-c,U=s-N,G=F-d,oe=!1;return u!==null&&(G>=u&&y?oe=!0:U=Math.min(U,u-G)),N>=s||oe||R?S(F):(y===null||!k)&&l&&(y=r.setTimeout(x,U)),m},C=function(){return!!y},b=function(){C()&&_(Date.now())},M=function(){return C()&&S(Date.now()),m},B=function(){for(var k=[],F=0;F<arguments.length;F++)k[F]=arguments[F];return v=k,x(!0)};return B.cancel=b,B.flush=M,B.pending=C,B},n.prototype.requestAnimationFrame=function(e,t){var i=this,r=0,o=Vi(t);if(!this._isDisposed){this._animationFrameIds||(this._animationFrameIds={});var s=function(){try{i._animationFrameIds&&delete i._animationFrameIds[r],e.apply(i._parent)}catch(a){i._logError(a)}};r=o.requestAnimationFrame?o.requestAnimationFrame(s):o.setTimeout(s,0),this._animationFrameIds[r]=!0}return r},n.prototype.cancelAnimationFrame=function(e,t){var i=Vi(t);this._animationFrameIds&&this._animationFrameIds[e]&&(i.cancelAnimationFrame?i.cancelAnimationFrame(e):i.clearTimeout(e),delete this._animationFrameIds[e])},n.prototype._logError=function(e){this._onErrorHandler&&this._onErrorHandler(e)},n}();function j2(n,e){if(!n||!e)return!n&&!e;for(var t in n)if(n.hasOwnProperty(t)&&(!e.hasOwnProperty(t)||e[t]!==n[t]))return!1;for(var t in e)if(e.hasOwnProperty(t)&&!n.hasOwnProperty(t))return!1;return!0}function Zh(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return eQ.apply(this,[null,n].concat(e))}function eQ(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];e=e||{};for(var r=0,o=t;r<o.length;r++){var s=o[r];if(s)for(var a in s)s.hasOwnProperty(a)&&(!n||n(a))&&(e[a]=s[a])}return e}var Vu=function(){function n(e){this._id=n._uniqueId++,this._parent=e,this._eventRecords=[]}return n.raise=function(e,t,i,r){var o;if(n._isElement(e)){if(typeof document<"u"&&document.createEvent){var s=document.createEvent("HTMLEvents");s.initEvent(t,r||!1,!0),Zh(s,i),o=e.dispatchEvent(s)}else if(typeof document<"u"&&document.createEventObject){var a=document.createEventObject(i);e.fireEvent("on"+t,a)}}else for(;e&&o!==!1;){var l=e.__events__,u=l?l[t]:null;if(u){for(var c in u)if(u.hasOwnProperty(c))for(var d=u[c],m=0;o!==!1&&m<d.length;m++){var v=d[m];v.objectCallback&&(o=v.objectCallback.call(v.parent,i))}}e=r?e.parent:null}return o},n.isObserved=function(e,t){var i=e&&e.__events__;return!!i&&!!i[t]},n.isDeclared=function(e,t){var i=e&&e.__declaredEvents;return!!i&&!!i[t]},n.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},n._isElement=function(e){return!!e&&(!!e.addEventListener||typeof HTMLElement<"u"&&e instanceof HTMLElement)},n.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},n.prototype.onAll=function(e,t,i){for(var r in t)t.hasOwnProperty(r)&&this.on(e,r,t[r],i)},n.prototype.on=function(e,t,i,r){var o=this;if(t.indexOf(",")>-1)for(var s=t.split(/[ ,]+/),a=0;a<s.length;a++)this.on(e,s[a],i,r);else{var l=this._parent,u={target:e,eventName:t,parent:l,callback:i,options:r},s=e.__events__=e.__events__||{};if(s[t]=s[t]||{count:0},s[t][this._id]=s[t][this._id]||[],s[t][this._id].push(u),s[t].count++,n._isElement(e)){var c=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];if(!o._isDisposed){var _;try{if(_=i.apply(l,v),_===!1&&v[0]){var S=v[0];S.preventDefault&&S.preventDefault(),S.stopPropagation&&S.stopPropagation(),S.cancelBubble=!0}}catch{}return _}};u.elementCallback=c,e.addEventListener?e.addEventListener(t,c,r):e.attachEvent&&e.attachEvent("on"+t,c)}else{var d=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];if(!o._isDisposed)return i.apply(l,v)};u.objectCallback=d}this._eventRecords.push(u)}},n.prototype.off=function(e,t,i,r){for(var o=0;o<this._eventRecords.length;o++){var s=this._eventRecords[o];if((!e||e===s.target)&&(!t||t===s.eventName)&&(!i||i===s.callback)&&(typeof r!="boolean"||r===s.options)){var a=s.target.__events__,l=a[s.eventName],u=l?l[this._id]:null;u&&(u.length===1||!i?(l.count-=u.length,delete a[s.eventName][this._id]):(l.count--,u.splice(u.indexOf(s),1)),l.count||delete a[s.eventName]),s.elementCallback&&(s.target.removeEventListener?s.target.removeEventListener(s.eventName,s.elementCallback,s.options):s.target.detachEvent&&s.target.detachEvent("on"+s.eventName,s.elementCallback)),this._eventRecords.splice(o--,1)}}},n.prototype.raise=function(e,t,i){return n.raise(this._parent,e,t,i)},n.prototype.declare=function(e){var t=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if(typeof e=="string")t[e]=!0;else for(var i=0;i<e.length;i++)t[e[i]]=!0},n._uniqueId=0,n}();function Ao(n){if(!(!q2()||typeof document>"u")){var e=n;return e&&e.ownerDocument?e.ownerDocument:document}}var e3,jy=0,O8=zc({overflow:"hidden !important"}),BD="data-is-scrollable",tQ=function(n,e){if(n){var t=0,i=null,r=function(s){s.targetTouches.length===1&&(t=s.targetTouches[0].clientY)},o=function(s){if(s.targetTouches.length===1&&(s.stopPropagation(),!!i)){var a=s.targetTouches[0].clientY-t,l=U8(s.target);l&&(i=l),i.scrollTop===0&&a>0&&s.preventDefault(),i.scrollHeight-Math.ceil(i.scrollTop)<=i.clientHeight&&a<0&&s.preventDefault()}};e.on(n,"touchstart",r,{passive:!1}),e.on(n,"touchmove",o,{passive:!1}),i=n}},nQ=function(n,e){if(n){var t=function(i){i.stopPropagation()};e.on(n,"touchmove",t,{passive:!1})}},z8=function(n){n.preventDefault()};function iQ(){var n=Ao();n&&n.body&&!jy&&(n.body.classList.add(O8),n.body.addEventListener("touchmove",z8,{passive:!1,capture:!1})),jy++}function rQ(){if(jy>0){var n=Ao();n&&n.body&&jy===1&&(n.body.classList.remove(O8),n.body.removeEventListener("touchmove",z8)),jy--}}function oQ(){if(e3===void 0){var n=document.createElement("div");n.style.setProperty("width","100px"),n.style.setProperty("height","100px"),n.style.setProperty("overflow","scroll"),n.style.setProperty("position","absolute"),n.style.setProperty("top","-9999px"),document.body.appendChild(n),e3=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return e3}function U8(n){for(var e=n,t=Ao(n);e&&e!==t.body;){if(e.getAttribute(BD)==="true")return e;e=e.parentElement}for(e=n;e&&e!==t.body;){if(e.getAttribute(BD)!=="false"){var i=getComputedStyle(e),r=i?i.getPropertyValue("overflow-y"):"";if(r&&(r==="scroll"||r==="auto"))return e}e=e.parentElement}return(!e||e===t.body)&&(e=Vi(n)),e}var sQ=void 0;function X2(n){console&&console.warn&&console.warn(n)}function H8(n,e,t,i,r){if(r===!0&&!1)for(var o,s;o<s.length;o++)var a}(function(n){Lr(e,n);function e(t,i){var r=n.call(this,t,i)||this;return aQ(r,e.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),r}return e.prototype.componentDidUpdate=function(t,i){this._updateComponentRef(t,this.props)},e.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},e.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var t=0,i=this._disposables.length;t<i;t++){var r=this.__disposables[t];r.dispose&&r.dispose()}this.__disposables=null}},Object.defineProperty(e.prototype,"className",{get:function(){if(!this.__className){var t=/function (.{1,})\(/,i=t.exec(this.constructor.toString());this.__className=i&&i.length>1?i[1]:""}return this.__className},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_async",{get:function(){return this.__async||(this.__async=new A1(this),this._disposables.push(this.__async)),this.__async},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_events",{get:function(){return this.__events||(this.__events=new Vu(this),this._disposables.push(this.__events)),this.__events},enumerable:!1,configurable:!0}),e.prototype._resolveRef=function(t){var i=this;return this.__resolves||(this.__resolves={}),this.__resolves[t]||(this.__resolves[t]=function(r){return i[t]=r}),this.__resolves[t]},e.prototype._updateComponentRef=function(t,i){i===void 0&&(i={}),t&&i&&t.componentRef!==i.componentRef&&(this._setComponentRef(t.componentRef,null),this._setComponentRef(i.componentRef,this))},e.prototype._warnDeprecations=function(t){this.className,this.props},e.prototype._warnMutuallyExclusive=function(t){this.className,this.props},e.prototype._warnConditionallyRequiredProps=function(t,i,r){H8(this.className,this.props,t,i,r)},e.prototype._setComponentRef=function(t,i){!this._skipComponentRefResolution&&t&&(typeof t=="function"&&t(i),typeof t=="object"&&(t.current=i))},e})(T.Component);function aQ(n,e,t){for(var i=0,r=t.length;i<r;i++)lQ(n,e,t[i])}function lQ(n,e,t){var i=n[t],r=e[t];(i||r)&&(n[t]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a;return r&&(a=r.apply(this,o)),i!==r&&(a=i.apply(this,o)),a})}function hv(){return null}var t3="__globalSettings__",Q2="__callbacks__",uQ=0,G8=function(){function n(){}return n.getValue=function(e,t){var i=dB();return i[e]===void 0&&(i[e]=typeof t=="function"?t():t),i[e]},n.setValue=function(e,t){var i=dB(),r=i[Q2],o=i[e];if(t!==o){i[e]=t;var s={oldValue:o,value:t,key:e};for(var a in r)r.hasOwnProperty(a)&&r[a](s)}return t},n.addChangeListener=function(e){var t=e.__id__,i=RD();t||(t=e.__id__=String(uQ++)),i[t]=e},n.removeChangeListener=function(e){var t=RD();delete t[e.__id__]},n}();function dB(){var n,e=Vi(),t=e||{};return t[t3]||(t[t3]=(n={},n[Q2]={},n)),t[t3]}function RD(){var n=dB();return n[Q2]}var Bt={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pauseBreak:19,capslock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,zero:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,colon:58,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindow:92,select:93,zero_numpad:96,one_numpad:97,two_numpad:98,three_numpad:99,four_numpad:100,five_numpad:101,six_numpad:102,seven_numpad:103,eight_numpad:104,nine_numpad:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrollLock:145,semicolon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222},Yu=function(){function n(e,t,i,r){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),this.top=i,this.bottom=r,this.left=e,this.right=t}return Object.defineProperty(n.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!1,configurable:!0}),n.prototype.equals=function(e){return parseFloat(this.top.toFixed(4))===parseFloat(e.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(e.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(e.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(e.right.toFixed(4))},n}();function cQ(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.length<2?e[0]:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];e.forEach(function(o){return o&&o.apply(n,i)})}}function Vv(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(function(i){return i}).join(" ").trim();return t===""?void 0:t}function dQ(n,e,t){t===void 0&&(t=0);for(var i=-1,r=t;n&&r<n.length;r++)if(e(n[r],r)){i=r;break}return i}function fQ(n,e,t){var i=n.slice();return i.splice(e,0,t),i}function hQ(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function W8(n){var e=null;try{var t=Vi();e=t?t.sessionStorage.getItem(n):null}catch{}return e}function pQ(n,e){var t;try{(t=Vi())===null||t===void 0||t.sessionStorage.setItem(n,e)}catch{}}var V8="isRTL",Fc;function xo(n){if(n===void 0&&(n={}),n.rtl!==void 0)return n.rtl;if(Fc===void 0){var e=W8(V8);e!==null&&(Fc=e==="1",mQ(Fc));var t=Ao();Fc===void 0&&t&&(Fc=(t.body&&t.body.getAttribute("dir")||t.documentElement.getAttribute("dir"))==="rtl",T8(Fc))}return!!Fc}function mQ(n,e){e===void 0&&(e=!1);var t=Ao();t&&t.documentElement.setAttribute("dir",n?"rtl":"ltr"),e&&pQ(V8,n?"1":"0"),Fc=n,T8(Fc)}function gQ(n){return n&&!!n._virtual}function vQ(n){var e;return n&&gQ(n)&&(e=n._virtual.parent),e}function Hu(n,e){return e===void 0&&(e=!0),n&&(e&&vQ(n)||n.parentNode&&n.parentNode)}function Gs(n,e,t){t===void 0&&(t=!0);var i=!1;if(n&&e)if(t)if(n===e)i=!0;else for(i=!1;e;){var r=Hu(e);if(r===n){i=!0;break}e=r}else n.contains&&(i=n.contains(e));return i}function Y2(n,e){return!n||n===document.body?null:e(n)?n:Y2(Hu(n),e)}function yQ(n,e){var t=Y2(n,function(i){return i.hasAttribute(e)});return t&&t.getAttribute(e)}var fB="data-portal-element";function SQ(n){n.setAttribute(fB,"true")}function K8(n,e){var t=Y2(n,function(i){return e===i||i.hasAttribute(fB)});return t!==null&&t.hasAttribute(fB)}function _Q(n,e){var t=n,i=e;t._virtual||(t._virtual={children:[]});var r=t._virtual.parent;if(r&&r!==e){var o=r._virtual.children.indexOf(t);o>-1&&r._virtual.children.splice(o,1)}t._virtual.parent=i||void 0,i&&(i._virtual||(i._virtual={children:[]}),i._virtual.children.push(t))}var xQ="data-is-focusable",wQ="data-is-visible",CQ="data-focuszone-id",EQ="data-is-sub-focuszone";function $8(n,e,t){return Uo(n,e,!0,!1,!1,t)}function J8(n,e,t){return us(n,e,!0,!1,!0,t)}function bQ(n,e,t,i){return i===void 0&&(i=!0),Uo(n,e,i,!1,!1,t,!1,!0)}function AQ(n,e,t,i){return i===void 0&&(i=!0),us(n,e,i,!1,!0,t,!1,!0)}function MQ(n,e){var t=Uo(n,n,!0,!1,!1,!0,void 0,void 0,e);return t?(X8(t),!0):!1}function us(n,e,t,i,r,o,s,a){if(!e||!s&&e===n)return null;var l=ZE(e);if(r&&l&&(o||!(Dc(e)||Z2(e)))){var u=us(n,e.lastElementChild,!0,!0,!0,o,s,a);if(u){if(a&&Ku(u,!0)||!a)return u;var c=us(n,u.previousElementSibling,!0,!0,!0,o,s,a);if(c)return c;for(var d=u.parentElement;d&&d!==e;){var m=us(n,d.previousElementSibling,!0,!0,!0,o,s,a);if(m)return m;d=d.parentElement}}}if(t&&l&&Ku(e,a))return e;var v=us(n,e.previousElementSibling,!0,!0,!0,o,s,a);return v||(i?null:us(n,e.parentElement,!0,!1,!1,o,s,a))}function Uo(n,e,t,i,r,o,s,a,l){if(!e||e===n&&r&&!s)return null;var u=l?q8:ZE,c=u(e);if(t&&c&&Ku(e,a))return e;if(!r&&c&&(o||!(Dc(e)||Z2(e)))){var d=Uo(n,e.firstElementChild,!0,!0,!1,o,s,a,l);if(d)return d}if(e===n)return null;var m=Uo(n,e.nextElementSibling,!0,!0,!1,o,s,a,l);return m||(i?null:Uo(n,e.parentElement,!1,!1,!0,o,s,a,l))}function ZE(n){if(!n||!n.getAttribute)return!1;var e=n.getAttribute(wQ);return e!=null?e==="true":n.offsetHeight!==0||n.offsetParent!==null||n.isVisible===!0}function q8(n){return!!n&&ZE(n)&&!n.hidden&&window.getComputedStyle(n).visibility!=="hidden"}function Ku(n,e){if(!n||n.disabled)return!1;var t=0,i=null;n&&n.getAttribute&&(i=n.getAttribute("tabIndex"),i&&(t=parseInt(i,10)));var r=n.getAttribute?n.getAttribute(xQ):null,o=i!==null&&t>=0,s=!!n&&r!=="false"&&(n.tagName==="A"||n.tagName==="BUTTON"||n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.tagName==="SELECT"||r==="true"||o);return e?t!==-1&&s:s}function Dc(n){return!!(n&&n.getAttribute&&n.getAttribute(CQ))}function Z2(n){return!!(n&&n.getAttribute&&n.getAttribute(EQ)==="true")}function TQ(n){var e=Ao(n),t=e&&e.activeElement;return!!(t&&Gs(n,t))}function j8(n,e){return yQ(n,e)!=="true"}var $m=void 0;function X8(n){if(n){if($m){$m=n;return}$m=n;var e=Vi(n);e&&e.requestAnimationFrame(function(){$m&&$m.focus(),$m=void 0})}}function BQ(n,e){for(var t=n,i=0,r=e;i<r.length;i++){var o=r[i],s=t.children[Math.min(o,t.children.length-1)];if(!s)break;t=s}return t=Ku(t)&&ZE(t)?t:Uo(n,t,!0)||us(n,t),t}function RQ(n,e){for(var t=[];e&&n&&e!==n;){var i=Hu(e,!0);if(i===null)return[];t.unshift(Array.prototype.indexOf.call(i.children,e)),e=i}return t}function pf(n,e,t,i){return n.addEventListener(e,t,i),function(){return n.removeEventListener(e,t,i)}}var IQ=50,kQ=5,Xw=0,n3=xl.getInstance();n3&&n3.onReset&&n3.onReset(function(){return Xw++});var gx="__retval__";function xs(n){n===void 0&&(n={});var e=new Map,t=0,i=0,r=Xw,o=function(s,a){var l;if(a===void 0&&(a={}),n.useStaticStyles&&typeof s=="function"&&s.__noStyleOverride__)return s(a);i++;var u=e,c=a.theme,d=c&&c.rtl!==void 0?c.rtl:xo(),m=n.disableCaching;if(r!==Xw&&(r=Xw,e=new Map,t=0),n.disableCaching||(u=ID(e,s),u=ID(u,a)),(m||!u[gx])&&(s===void 0?u[gx]={}:u[gx]=D8([typeof s=="function"?s(a):s],{rtl:!!d,specificityMultiplier:n.useStaticStyles?kQ:void 0}),m||t++),t>(n.cacheSize||IQ)){var v=Vi();!((l=v==null?void 0:v.FabricConfig)===null||l===void 0)&&l.enableClassNameCacheFullWarning&&(console.warn("Styles are being recalculated too frequently. Cache miss rate is ".concat(t,"/").concat(i,".")),console.trace()),e.clear(),t=0,n.disableCaching=!0}return u[gx]};return o}function i3(n,e){return e=LQ(e),n.has(e)||n.set(e,new Map),n.get(e)}function ID(n,e){if(typeof e=="function"){var t=e.__cachedInputs__;if(t)for(var i=0,r=e.__cachedInputs__;i<r.length;i++){var o=r[i];n=i3(n,o)}else n=i3(n,e)}else if(typeof e=="object")for(var s in e)e.hasOwnProperty(s)&&(n=i3(n,e[s]));return n}function LQ(n){switch(n){case void 0:return"__undefined__";case null:return"__null__";default:return n}}var kD=!1,Qw=0,FQ={empty:!0},r3={},kS=typeof WeakMap>"u"?null:WeakMap;function DQ(){Qw++}function Ji(n,e,t){if(e===void 0&&(e=100),t===void 0&&(t=!1),!kS)return n;if(!kD){var i=xl.getInstance();i&&i.onReset&&xl.getInstance().onReset(DQ),kD=!0}var r,o=0,s=Qw;return function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var c=r;(r===void 0||s!==Qw||e>0&&o>e)&&(r=LD(),o=0,s=Qw),c=r;for(var d=0;d<l.length;d++){var m=PQ(l[d]);c.map.has(m)||c.map.set(m,LD()),c=c.map.get(m)}return c.hasOwnProperty("value")||(c.value=n.apply(void 0,l),o++),t&&(c.value===null||c.value===void 0)&&(c.value=n.apply(void 0,l)),c.value}}function pv(n){if(!kS)return n;var e=new kS;function t(i){if(!i||typeof i!="function"&&typeof i!="object")return n(i);if(e.has(i))return e.get(i);var r=n(i);return e.set(i,r),r}return t}function PQ(n){if(n){if(typeof n=="object"||typeof n=="function")return n;r3[n]||(r3[n]={val:n})}else return FQ;return r3[n]}function LD(){return{map:kS?new kS:null}}function NQ(n){var e=n,t=pv(function(i){if(n===i)throw new Error("Attempted to compose a component with itself.");var r=i,o=pv(function(a){var l=function(u){return T.createElement(r,le({},u,{defaultRender:a}))};return l}),s=function(a){var l=a.defaultRender;return T.createElement(e,le({},a,{defaultRender:l?o(l):r}))};return s});return t}var OQ=pv(NQ);function zQ(n,e){return OQ(n)(e)}function Co(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=[],i=0,r=n;i<r.length;i++){var o=r[i];if(o)if(typeof o=="string")t.push(o);else if(o.hasOwnProperty("toString")&&typeof o.toString=="function")t.push(o.toString());else for(var s in o)o[s]&&t.push(s)}return t.join(" ")}var UQ="customizations",HQ={settings:{},scopedSettings:{},inCustomizerContext:!1},Gd=G8.getValue(UQ,{settings:{},scopedSettings:{},inCustomizerContext:!1}),vx=[],vl=function(){function n(){}return n.reset=function(){Gd.settings={},Gd.scopedSettings={}},n.applySettings=function(e){Gd.settings=le(le({},Gd.settings),e),n._raiseChange()},n.applyScopedSettings=function(e,t){Gd.scopedSettings[e]=le(le({},Gd.scopedSettings[e]),t),n._raiseChange()},n.getSettings=function(e,t,i){i===void 0&&(i=HQ);for(var r={},o=t&&i.scopedSettings[t]||{},s=t&&Gd.scopedSettings[t]||{},a=0,l=e;a<l.length;a++){var u=l[a];r[u]=o[u]||i.settings[u]||s[u]||Gd.settings[u]}return r},n.applyBatchedUpdates=function(e,t){n._suppressUpdates=!0;try{e()}catch{}n._suppressUpdates=!1,t||n._raiseChange()},n.observe=function(e){vx.push(e)},n.unobserve=function(e){vx=vx.filter(function(t){return t!==e})},n._raiseChange=function(){n._suppressUpdates||vx.forEach(function(e){return e()})},n}(),LS=T.createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}});function GQ(n,e){n===void 0&&(n={});var t=Q8(e)?e:VQ(e);return t(n)}function WQ(n,e){n===void 0&&(n={});var t=Q8(e)?e:KQ(e);return t(n)}function Q8(n){return typeof n=="function"}function VQ(n){return function(e){return n?le(le({},e),n):e}}function KQ(n){return n===void 0&&(n={}),function(e){var t=le({},e);for(var i in n)n.hasOwnProperty(i)&&(t[i]=le(le({},e[i]),n[i]));return t}}function $Q(n,e){var t=(e||{}).customizations,i=t===void 0?{settings:{},scopedSettings:{}}:t;return{customizations:{settings:GQ(i.settings,n.settings),scopedSettings:WQ(i.scopedSettings,n.scopedSettings),inCustomizerContext:!0}}}var JQ=function(n){Lr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._onCustomizationChange=function(){return t.forceUpdate()},t}return e.prototype.componentDidMount=function(){vl.observe(this._onCustomizationChange)},e.prototype.componentWillUnmount=function(){vl.unobserve(this._onCustomizationChange)},e.prototype.render=function(){var t=this,i=this.props.contextTransform;return T.createElement(LS.Consumer,null,function(r){var o=$Q(t.props,r);return i&&(o=i(o)),T.createElement(LS.Provider,{value:o},t.props.children)})},e}(T.Component);function qQ(n,e){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function eb(n,e,t){return function(r){var o,s=(o=function(a){Lr(l,a);function l(u){var c=a.call(this,u)||this;return c._styleCache={},c._onSettingChanged=c._onSettingChanged.bind(c),c}return l.prototype.componentDidMount=function(){vl.observe(this._onSettingChanged)},l.prototype.componentWillUnmount=function(){vl.unobserve(this._onSettingChanged)},l.prototype.render=function(){var u=this;return T.createElement(LS.Consumer,null,function(c){var d=vl.getSettings(e,n,c.customizations),m=u.props;if(d.styles&&typeof d.styles=="function"&&(d.styles=d.styles(le(le({},d),m))),t&&d.styles){if(u._styleCache.default!==d.styles||u._styleCache.component!==m.styles){var v=pu(d.styles,m.styles);u._styleCache.default=d.styles,u._styleCache.component=m.styles,u._styleCache.merged=v}return T.createElement(r,le({},d,m,{styles:u._styleCache.merged}))}return T.createElement(r,le({},d,m))})},l.prototype._onSettingChanged=function(){this.forceUpdate()},l}(T.Component),o.displayName="Customized"+n,o);return qQ(r,s)}}function jQ(n,e){var t=XQ(),i=T.useContext(LS).customizations,r=i.inCustomizerContext;return T.useEffect(function(){return r||vl.observe(t),function(){r||vl.unobserve(t)}},[r]),vl.getSettings(n,e,i)}function XQ(){var n=T.useState(0),e=n[1];return function(){return e(function(t){return++t})}}function Y8(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=cQ(n,n[t],e[t]))}var jC="__currentId__",QQ="id__",XC=Vi()||{};XC[jC]===void 0&&(XC[jC]=0);var FD=!1;function yl(n){if(!FD){var e=xl.getInstance();e&&e.onReset&&e.onReset(YQ),FD=!0}var t=XC[jC]++;return(n===void 0?QQ:n)+t}function YQ(n){n===void 0&&(n=0),XC[jC]=n}var ar=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t={},i=0,r=n;i<r.length;i++)for(var o=r[i],s=Array.isArray(o)?o:Object.keys(o),a=0,l=s;a<l.length;a++){var u=l[a];t[u]=1}return t},ZQ=ar(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),eY=ar(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),qi=ar(eY,ZQ);ar(qi,["form"]);var tY=ar(qi,["height","loop","muted","preload","src","width"]);ar(tY,["poster"]);ar(qi,["start"]);ar(qi,["value"]);var Z8=ar(qi,["download","href","hrefLang","media","rel","target","type"]),Dp=ar(qi,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]);ar(Dp,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]);ar(Dp,["autoCapitalize","cols","dirname","form","maxLength","minLength","placeholder","readOnly","required","rows","wrap"]);ar(Dp,["form","multiple","required"]);ar(qi,["selected","value"]);ar(qi,["cellPadding","cellSpacing"]);ar(qi,["rowSpan","scope"]);ar(qi,["colSpan","headers","rowSpan","scope"]);ar(qi,["span"]);ar(qi,["span"]);ar(qi,["acceptCharset","action","encType","encType","method","noValidate","target"]);ar(qi,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]);var nY=ar(qi,["alt","crossOrigin","height","src","srcSet","useMap","width"]),bl=qi;function Ci(n,e,t){for(var i=Array.isArray(e),r={},o=Object.keys(n),s=0,a=o;s<a.length;s++){var l=a[s],u=!i&&e[l]||i&&e.indexOf(l)>=0||l.indexOf("data-")===0||l.indexOf("aria-")===0;u&&(!t||(t==null?void 0:t.indexOf(l))===-1)&&(r[l]=n[l])}return r}function Qf(n){Y8(n,{componentDidMount:iY,componentDidUpdate:rY,componentWillUnmount:oY})}function iY(){QC(this.props.componentRef,this)}function rY(n){n.componentRef!==this.props.componentRef&&(QC(n.componentRef,null),QC(this.props.componentRef,this))}function oY(){QC(this.props.componentRef,null)}function QC(n,e){n&&(typeof n=="object"?n.current=e:typeof n=="function"&&n(e))}var zl,sY=(zl={},zl[Bt.up]=1,zl[Bt.down]=1,zl[Bt.left]=1,zl[Bt.right]=1,zl[Bt.home]=1,zl[Bt.end]=1,zl[Bt.tab]=1,zl[Bt.pageUp]=1,zl[Bt.pageDown]=1,zl);function e5(n){return!!sY[n]}var ki="ms-Fabric--isFocusVisible",DD="ms-Fabric--isFocusHidden";function PD(n,e){n&&(n.classList.add(e?ki:DD),n.classList.remove(e?DD:ki))}function wp(n,e,t){var i;t?t.forEach(function(r){return PD(r.current,n)}):PD((i=Vi(e))===null||i===void 0?void 0:i.document.body,n)}var ND=new WeakMap,OD=new WeakMap;function zD(n,e){var t,i=ND.get(n);return i?t=i+e:t=1,ND.set(n,t),t}function aY(n){var e=OD.get(n);if(e)return e;var t=function(s){return i5(s,n.registeredProviders)},i=function(s){return r5(s,n.registeredProviders)},r=function(s){return o5(s,n.registeredProviders)},o=function(s){return s5(s,n.registeredProviders)};return e={onMouseDown:t,onPointerDown:i,onKeyDown:r,onKeyUp:o},OD.set(n,e),e}var FS=T.createContext(void 0);function t5(n){var e=T.useContext(FS);T.useEffect(function(){var t,i,r,o,s=Vi(n==null?void 0:n.current);if(!(!s||((t=s.FabricConfig)===null||t===void 0?void 0:t.disableFocusRects)===!0)){var a=s,l,u,c,d;if(!((i=e==null?void 0:e.providerRef)===null||i===void 0)&&i.current&&(!((o=(r=e==null?void 0:e.providerRef)===null||r===void 0?void 0:r.current)===null||o===void 0)&&o.addEventListener)){a=e.providerRef.current;var m=aY(e);l=m.onMouseDown,u=m.onPointerDown,c=m.onKeyDown,d=m.onKeyUp}else l=i5,u=r5,c=o5,d=s5;var v=zD(a,1);return v<=1&&(a.addEventListener("mousedown",l,!0),a.addEventListener("pointerdown",u,!0),a.addEventListener("keydown",c,!0),a.addEventListener("keyup",d,!0)),function(){var y;!s||((y=s.FabricConfig)===null||y===void 0?void 0:y.disableFocusRects)===!0||(v=zD(a,-1),v===0&&(a.removeEventListener("mousedown",l,!0),a.removeEventListener("pointerdown",u,!0),a.removeEventListener("keydown",c,!0),a.removeEventListener("keyup",d,!0)))}}},[e,n])}var n5=function(n){return t5(n.rootRef),null};function i5(n,e){wp(!1,n.target,e)}function r5(n,e){n.pointerType!=="mouse"&&wp(!1,n.target,e)}function o5(n,e){e5(n.which)&&wp(!0,n.target,e)}function s5(n,e){e5(n.which)&&wp(!0,n.target,e)}var a5=function(n){var e=n.providerRef,t=n.layerRoot,i=T.useState([])[0],r=T.useContext(FS),o=r!==void 0&&!t,s=T.useMemo(function(){return o?void 0:{providerRef:e,registeredProviders:i,registerProvider:function(a){i.push(a),r==null||r.registerProvider(a)},unregisterProvider:function(a){r==null||r.unregisterProvider(a);var l=i.indexOf(a);l>=0&&i.splice(l,1)}}},[e,i,r,o]);return T.useEffect(function(){if(s)return s.registerProvider(s.providerRef),function(){return s.unregisterProvider(s.providerRef)}},[s]),s?T.createElement(FS.Provider,{value:s},n.children):T.createElement(T.Fragment,null,n.children)};function lY(n){var e=null;try{var t=Vi();e=t?t.localStorage.getItem(n):null}catch{}return e}var Oh,UD="language";function uY(n){if(n===void 0&&(n="sessionStorage"),Oh===void 0){var e=Ao(),t=n==="localStorage"?lY(UD):n==="sessionStorage"?W8(UD):void 0;t&&(Oh=t),Oh===void 0&&e&&(Oh=e.documentElement.getAttribute("lang")),Oh===void 0&&(Oh="en")}return Oh}function cY(n){var e=/[1-9]([0]+$)|\.([0-9]*)/.exec(String(n));return e?e[1]?-e[1].length:e[2]?e[2].length:0:0}function HD(n,e,t){t===void 0&&(t=10);var i=Math.pow(t,e);return Math.round(n*i)/i}function GD(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0,r=e;i<r.length;i++){var o=r[i];l5(n||{},o)}return n}function l5(n,e,t){t===void 0&&(t=[]),t.push(e);for(var i in e)if(e.hasOwnProperty(i)&&i!=="__proto__"&&i!=="constructor"&&i!=="prototype"){var r=e[i];if(typeof r=="object"&&r!==null&&!Array.isArray(r)){var o=t.indexOf(r)>-1;n[i]=o?r:l5(n[i]||{},r,t)}else n[i]=r}return t.pop(),n}var hB=function(){return!window||!window.navigator||!window.navigator.userAgent?!1:/iPad|iPhone|iPod/i.test(window.navigator.userAgent)},dY=["TEMPLATE","STYLE","SCRIPT"];function u5(n){var e=Ao(n);if(!e)return function(){};for(var t=[];n!==e.body&&n.parentElement;){for(var i=0,r=n.parentElement.children;i<r.length;i++){var o=r[i],s=o.getAttribute("aria-hidden");o!==n&&(s==null?void 0:s.toLowerCase())!=="true"&&dY.indexOf(o.tagName)===-1&&t.push([o,s])}n=n.parentElement}return t.forEach(function(a){var l=a[0];l.setAttribute("aria-hidden","true")}),function(){fY(t),t=[]}}function fY(n){n.forEach(function(e){var t=e[0],i=e[1];i?t.setAttribute("aria-hidden",i):t.removeAttribute("aria-hidden")})}var o3;function pB(n){var e;if(typeof o3>"u"||n){var t=Vi(),i=(e=t==null?void 0:t.navigator)===null||e===void 0?void 0:e.userAgent;o3=!!i&&i.indexOf("Macintosh")!==-1}return!!o3}function hY(n){var e=pv(function(t){var i=pv(function(r){return function(o){return t(o,r)}});return function(r,o){return n(r,o?i(o):t)}});return e}var pY=pv(hY);function mY(n,e){return pY(n)(e)}var gY=function(n){var e;return function(t){e||(e=new Set,Y8(n,{componentWillUnmount:function(){e.forEach(function(r){return cancelAnimationFrame(r)})}}));var i=requestAnimationFrame(function(){e.delete(i),t()});e.add(i)}},vY=["theme","styles"];function ws(n,e,t,i,r){i=i||{scope:"",fields:void 0};var o=i.scope,s=i.fields,a=s===void 0?vY:s,l=T.forwardRef(function(c,d){var m=T.useRef(),v=jQ(a,o),y=v.styles;v.dir;var _=sc(v,["styles","dir"]),S=t?t(c):void 0,x=m.current&&m.current.__cachedInputs__||[],C=c.styles;if(!m.current||y!==x[1]||C!==x[2]){var b=function(M){return P8(M,e,y,C)};b.__cachedInputs__=[e,y,C],b.__noStyleOverride__=!y&&!C,m.current=b}return T.createElement(n,le({ref:d},_,S,c,{styles:m.current}))});l.displayName="Styled".concat(n.displayName||n.name);var u=r?T.memo(l):l;return l.displayName&&(u.displayName=l.displayName),u}function Kv(n,e){for(var t=le({},e),i=0,r=Object.keys(n);i<r.length;i++){var o=r[i];t[o]===void 0&&(t[o]=n[o])}return t}var yY=function(n){return function(e){for(var t=0,i=n.refs;t<i.length;t++){var r=i[t];typeof r=="function"?r(e):r&&(r.current=e)}}},c5=function(n){var e={refs:[]};return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return(!e.resolver||!hQ(e.refs,t))&&(e.resolver=yY(e)),e.refs=t,e.resolver}},Pp=q2()?T.useLayoutEffect:T.useEffect,SY="icons",Ba=G8.getValue(SY,{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),s3=xl.getInstance();s3&&s3.onReset&&s3.onReset(function(){for(var n in Ba)Ba.hasOwnProperty(n)&&Ba[n].subset&&(Ba[n].subset.className=void 0)});var YC=function(n){return n.toLowerCase()};function Vr(n,e){var t=le(le({},n),{isRegistered:!1,className:void 0}),i=n.icons;e=e?le(le({},Ba.__options),e):Ba.__options;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],s=YC(r);Ba[s]?xY(r):Ba[s]={code:o,subset:t}}}function zh(n,e){Ba.__remapped[YC(n)]=YC(e)}function _Y(n){var e=void 0,t=Ba.__options;if(n=n?YC(n):"",n=Ba.__remapped[n]||n,n)if(e=Ba[n],e){var i=e.subset;i&&i.fontFace&&(i.isRegistered||(N8(i.fontFace),i.isRegistered=!0),i.className||(i.className=zc(i.style,{fontFamily:i.fontFace.fontFamily,fontWeight:i.fontFace.fontWeight||"normal",fontStyle:i.fontFace.fontStyle||"normal"})))}else!t.disableWarnings&&t.warnOnMissingIcons&&X2('The icon "'.concat(n,'" was used but not registered. See https://github.com/microsoft/fluentui/wiki/Using-icons for more information.'));return e}var iy=[],a3=void 0;function xY(n){var e=Ba.__options,t=2e3,i=10;e.disableWarnings||(iy.push(n),a3===void 0&&(a3=setTimeout(function(){X2(`Some icons were re-registered. Applications should only call registerIcons for any given icon once. Redefining what an icon is may have unintended consequences. Duplicates include: 
`+iy.slice(0,i).join(", ")+(iy.length>i?" (+ ".concat(iy.length-i," more)"):"")),a3=void 0,iy=[]},t)))}function wY(n,e,t,i,r){r===void 0&&(r=!1);var o=le({primaryButtonBorder:"transparent",errorText:i?"#F1707B":"#a4262c",messageText:i?"#F3F2F1":"#323130",messageLink:i?"#6CB8F6":"#005A9E",messageLinkHovered:i?"#82C7FF":"#004578",infoIcon:i?"#C8C6C4":"#605e5c",errorIcon:i?"#F1707B":"#A80000",blockingIcon:i?"#442726":"#FDE7E9",warningIcon:i?"#C8C6C4":"#797775",severeWarningIcon:i?"#FCE100":"#D83B01",successIcon:i?"#92C353":"#107C10",infoBackground:i?"#323130":"#f3f2f1",errorBackground:i?"#442726":"#FDE7E9",blockingBackground:i?"#442726":"#FDE7E9",warningBackground:i?"#433519":"#FFF4CE",severeWarningBackground:i?"#4F2A0F":"#FED9CC",successBackground:i?"#393D1B":"#DFF6DD",warningHighlight:i?"#fff100":"#ffb900",successText:i?"#92c353":"#107C10"},t),s=d5(n,e,o,i);return CY(s,r)}function d5(n,e,t,i,r){var o={},s=n||{},a=s.white,l=s.black,u=s.themePrimary,c=s.themeDark,d=s.themeDarker,m=s.themeDarkAlt,v=s.themeLighter,y=s.neutralLight,_=s.neutralLighter,S=s.neutralDark,x=s.neutralQuaternary,C=s.neutralQuaternaryAlt,b=s.neutralPrimary,M=s.neutralSecondary,B=s.neutralSecondaryAlt,k=s.neutralTertiary,F=s.neutralTertiaryAlt,R=s.neutralLighterAlt,N=s.accent;return a&&(o.bodyBackground=a,o.bodyFrameBackground=a,o.accentButtonText=a,o.buttonBackground=a,o.primaryButtonText=a,o.primaryButtonTextHovered=a,o.primaryButtonTextPressed=a,o.inputBackground=a,o.inputForegroundChecked=a,o.listBackground=a,o.menuBackground=a,o.cardStandoutBackground=a),l&&(o.bodyTextChecked=l,o.buttonTextCheckedHovered=l),u&&(o.link=u,o.primaryButtonBackground=u,o.inputBackgroundChecked=u,o.inputIcon=u,o.inputFocusBorderAlt=u,o.menuIcon=u,o.menuHeader=u,o.accentButtonBackground=u),c&&(o.primaryButtonBackgroundPressed=c,o.inputBackgroundCheckedHovered=c,o.inputIconHovered=c),d&&(o.linkHovered=d),m&&(o.primaryButtonBackgroundHovered=m),v&&(o.inputPlaceholderBackgroundChecked=v),y&&(o.bodyBackgroundChecked=y,o.bodyFrameDivider=y,o.bodyDivider=y,o.variantBorder=y,o.buttonBackgroundCheckedHovered=y,o.buttonBackgroundPressed=y,o.listItemBackgroundChecked=y,o.listHeaderBackgroundPressed=y,o.menuItemBackgroundPressed=y,o.menuItemBackgroundChecked=y),_&&(o.bodyBackgroundHovered=_,o.buttonBackgroundHovered=_,o.buttonBackgroundDisabled=_,o.buttonBorderDisabled=_,o.primaryButtonBackgroundDisabled=_,o.disabledBackground=_,o.listItemBackgroundHovered=_,o.listHeaderBackgroundHovered=_,o.menuItemBackgroundHovered=_),x&&(o.primaryButtonTextDisabled=x,o.disabledSubtext=x),C&&(o.listItemBackgroundCheckedHovered=C),k&&(o.disabledBodyText=k,o.variantBorderHovered=(t==null?void 0:t.variantBorderHovered)||k,o.buttonTextDisabled=k,o.inputIconDisabled=k,o.disabledText=k),b&&(o.bodyText=b,o.actionLink=b,o.buttonText=b,o.inputBorderHovered=b,o.inputText=b,o.listText=b,o.menuItemText=b),R&&(o.bodyStandoutBackground=R,o.defaultStateBackground=R),S&&(o.actionLinkHovered=S,o.buttonTextHovered=S,o.buttonTextChecked=S,o.buttonTextPressed=S,o.inputTextHovered=S,o.menuItemTextHovered=S),M&&(o.bodySubtext=M,o.focusBorder=M,o.inputBorder=M,o.smallInputBorder=M,o.inputPlaceholderText=M),B&&(o.buttonBorder=B),F&&(o.disabledBodySubtext=F,o.disabledBorder=F,o.buttonBackgroundChecked=F,o.menuDivider=F),N&&(o.accentButtonBackground=N),e!=null&&e.elevation4&&(o.cardShadow=e.elevation4),!i&&(e!=null&&e.elevation8)?o.cardShadowHovered=e.elevation8:o.variantBorderHovered&&(o.cardShadowHovered="0 0 1px "+o.variantBorderHovered),o=le(le({},o),t),o}function CY(n,e){var t="";return e===!0&&(t=" /* @deprecated */"),n.listTextColor=n.listText+t,n.menuItemBackgroundChecked+=t,n.warningHighlight+=t,n.warningText=n.messageText+t,n.successText+=t,n}function EY(n,e){var t,i,r;e===void 0&&(e={});var o=GD({},n,e,{semanticColors:d5(e.palette,e.effects,e.semanticColors,e.isInverted===void 0?n.isInverted:e.isInverted)});if(!((t=e.palette)===null||t===void 0)&&t.themePrimary&&!(!((i=e.palette)===null||i===void 0)&&i.accent)&&(o.palette.accent=e.palette.themePrimary),e.defaultFontStyle)for(var s=0,a=Object.keys(o.fonts);s<a.length;s++){var l=a[s];o.fonts[l]=GD(o.fonts[l],e.defaultFontStyle,(r=e==null?void 0:e.fonts)===null||r===void 0?void 0:r[l])}return o}var WD={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"},Ng;(function(n){n.depth0="0 0 0 0 transparent",n.depth4="0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",n.depth8="0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",n.depth16="0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",n.depth64="0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)"})(Ng||(Ng={}));var VD={elevation4:Ng.depth4,elevation8:Ng.depth8,elevation16:Ng.depth16,elevation64:Ng.depth64,roundedCorner2:"2px",roundedCorner4:"4px",roundedCorner6:"6px"},bY={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"},mi="cubic-bezier(.1,.9,.2,1)",Sa="cubic-bezier(.1,.25,.75,.9)",Ry="0.167s",mB="0.267s",ii="0.367s",gB="0.467s",to=El({from:{opacity:0},to:{opacity:1}}),no=El({from:{opacity:1},to:{opacity:0,visibility:"hidden"}}),AY=Yf(-10),MY=Yf(-20),TY=Yf(-40),BY=Yf(-400),RY=Yf(10),IY=Yf(20),kY=Yf(40),LY=Yf(400),FY=tb(10),DY=tb(20),PY=tb(-10),NY=tb(-20),OY=Zf(10),zY=Zf(20),UY=Zf(40),HY=Zf(400),GY=Zf(-10),WY=Zf(-20),VY=Zf(-40),KY=Zf(-400),$Y=nb(-10),JY=nb(-20),qY=nb(10),jY=nb(20),XY=El({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),QY=El({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),YY=El({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),ZY=El({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),eZ=El({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),tZ=El({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),Og={easeFunction1:mi,easeFunction2:Sa,durationValue1:Ry,durationValue2:mB,durationValue3:ii,durationValue4:gB},nZ={slideRightIn10:Tn("".concat(to,",").concat(AY),ii,mi),slideRightIn20:Tn("".concat(to,",").concat(MY),ii,mi),slideRightIn40:Tn("".concat(to,",").concat(TY),ii,mi),slideRightIn400:Tn("".concat(to,",").concat(BY),ii,mi),slideLeftIn10:Tn("".concat(to,",").concat(RY),ii,mi),slideLeftIn20:Tn("".concat(to,",").concat(IY),ii,mi),slideLeftIn40:Tn("".concat(to,",").concat(kY),ii,mi),slideLeftIn400:Tn("".concat(to,",").concat(LY),ii,mi),slideUpIn10:Tn("".concat(to,",").concat(FY),ii,mi),slideUpIn20:Tn("".concat(to,",").concat(DY),ii,mi),slideDownIn10:Tn("".concat(to,",").concat(PY),ii,mi),slideDownIn20:Tn("".concat(to,",").concat(NY),ii,mi),slideRightOut10:Tn("".concat(no,",").concat(OY),ii,mi),slideRightOut20:Tn("".concat(no,",").concat(zY),ii,mi),slideRightOut40:Tn("".concat(no,",").concat(UY),ii,mi),slideRightOut400:Tn("".concat(no,",").concat(HY),ii,mi),slideLeftOut10:Tn("".concat(no,",").concat(GY),ii,mi),slideLeftOut20:Tn("".concat(no,",").concat(WY),ii,mi),slideLeftOut40:Tn("".concat(no,",").concat(VY),ii,mi),slideLeftOut400:Tn("".concat(no,",").concat(KY),ii,mi),slideUpOut10:Tn("".concat(no,",").concat($Y),ii,mi),slideUpOut20:Tn("".concat(no,",").concat(JY),ii,mi),slideDownOut10:Tn("".concat(no,",").concat(qY),ii,mi),slideDownOut20:Tn("".concat(no,",").concat(jY),ii,mi),scaleUpIn100:Tn("".concat(to,",").concat(XY),ii,mi),scaleDownIn100:Tn("".concat(to,",").concat(YY),ii,mi),scaleUpOut103:Tn("".concat(no,",").concat(ZY),Ry,Sa),scaleDownOut98:Tn("".concat(no,",").concat(QY),Ry,Sa),fadeIn100:Tn(to,Ry,Sa),fadeIn200:Tn(to,mB,Sa),fadeIn400:Tn(to,ii,Sa),fadeIn500:Tn(to,gB,Sa),fadeOut100:Tn(no,Ry,Sa),fadeOut200:Tn(no,mB,Sa),fadeOut400:Tn(no,ii,Sa),fadeOut500:Tn(no,gB,Sa),rotate90deg:Tn(eZ,"0.1s",Sa),rotateN90deg:Tn(tZ,"0.1s",Sa)};function Tn(n,e,t){return{animationName:n,animationDuration:e,animationTimingFunction:t,animationFillMode:"both"}}function Yf(n){return El({from:{transform:"translate3d(".concat(n,"px,0,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function tb(n){return El({from:{transform:"translate3d(0,".concat(n,"px,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function Zf(n){return El({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(".concat(n,"px,0,0)")}})}function nb(n){return El({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,".concat(n,"px,0)")}})}var Hi;(function(n){n.Arabic="Segoe UI Web (Arabic)",n.Cyrillic="Segoe UI Web (Cyrillic)",n.EastEuropean="Segoe UI Web (East European)",n.Greek="Segoe UI Web (Greek)",n.Hebrew="Segoe UI Web (Hebrew)",n.Thai="Leelawadee UI Web",n.Vietnamese="Segoe UI Web (Vietnamese)",n.WestEuropean="Segoe UI Web (West European)",n.Selawik="Selawik Web",n.Armenian="Segoe UI Web (Armenian)",n.Georgian="Segoe UI Web (Georgian)"})(Hi||(Hi={}));var ri;(function(n){n.Arabic="'".concat(Hi.Arabic,"'"),n.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",n.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",n.Cyrillic="'".concat(Hi.Cyrillic,"'"),n.EastEuropean="'".concat(Hi.EastEuropean,"'"),n.Greek="'".concat(Hi.Greek,"'"),n.Hebrew="'".concat(Hi.Hebrew,"'"),n.Hindi="'Nirmala UI'",n.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",n.Korean="'Malgun Gothic', Gulim",n.Selawik="'".concat(Hi.Selawik,"'"),n.Thai="'Leelawadee UI Web', 'Kmer UI'",n.Vietnamese="'".concat(Hi.Vietnamese,"'"),n.WestEuropean="'".concat(Hi.WestEuropean,"'"),n.Armenian="'".concat(Hi.Armenian,"'"),n.Georgian="'".concat(Hi.Georgian,"'")})(ri||(ri={}));var ss;(function(n){n.size10="10px",n.size12="12px",n.size14="14px",n.size16="16px",n.size18="18px",n.size20="20px",n.size24="24px",n.size28="28px",n.size32="32px",n.size42="42px",n.size68="68px",n.mini="10px",n.xSmall="10px",n.small="12px",n.smallPlus="12px",n.medium="14px",n.mediumPlus="16px",n.icon="16px",n.large="18px",n.xLarge="20px",n.xLargePlus="24px",n.xxLarge="28px",n.xxLargePlus="32px",n.superLarge="42px",n.mega="68px"})(ss||(ss={}));var ei;(function(n){n.light=100,n.semilight=300,n.regular=400,n.semibold=600,n.bold=700})(ei||(ei={}));var Ql;(function(n){n.xSmall="10px",n.small="12px",n.medium="16px",n.large="20px"})(Ql||(Ql={}));var iZ="'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif",rZ="'Segoe UI', '".concat(Hi.WestEuropean,"'"),l3={ar:ri.Arabic,bg:ri.Cyrillic,cs:ri.EastEuropean,el:ri.Greek,et:ri.EastEuropean,he:ri.Hebrew,hi:ri.Hindi,hr:ri.EastEuropean,hu:ri.EastEuropean,ja:ri.Japanese,kk:ri.EastEuropean,ko:ri.Korean,lt:ri.EastEuropean,lv:ri.EastEuropean,pl:ri.EastEuropean,ru:ri.Cyrillic,sk:ri.EastEuropean,"sr-latn":ri.EastEuropean,th:ri.Thai,tr:ri.EastEuropean,uk:ri.Cyrillic,vi:ri.Vietnamese,"zh-hans":ri.ChineseSimplified,"zh-hant":ri.ChineseTraditional,hy:ri.Armenian,ka:ri.Georgian};function oZ(n){return"".concat(n,", ").concat(iZ)}function sZ(n){for(var e in l3)if(l3.hasOwnProperty(e)&&n&&e.indexOf(n)===0)return l3[e];return rZ}function ma(n,e,t){return{fontFamily:t,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:n,fontWeight:e}}function aZ(n){var e=sZ(n),t=oZ(e),i={tiny:ma(ss.mini,ei.regular,t),xSmall:ma(ss.xSmall,ei.regular,t),small:ma(ss.small,ei.regular,t),smallPlus:ma(ss.smallPlus,ei.regular,t),medium:ma(ss.medium,ei.regular,t),mediumPlus:ma(ss.mediumPlus,ei.regular,t),large:ma(ss.large,ei.regular,t),xLarge:ma(ss.xLarge,ei.semibold,t),xLargePlus:ma(ss.xLargePlus,ei.semibold,t),xxLarge:ma(ss.xxLarge,ei.semibold,t),xxLargePlus:ma(ss.xxLargePlus,ei.semibold,t),superLarge:ma(ss.superLarge,ei.semibold,t),mega:ma(ss.mega,ei.semibold,t)};return i}var lZ="https://res-1.cdn.office.net/files/fabric-cdn-prod_20230815.002/assets",uZ=aZ(uY());function ep(n,e,t,i){n="'".concat(n,"'");var r=i!==void 0?"local('".concat(i,"'),"):"";N8({fontFamily:n,src:r+"url('".concat(e,".woff2') format('woff2'),")+"url('".concat(e,".woff') format('woff')"),fontWeight:t,fontStyle:"normal",fontDisplay:"swap"})}function Ul(n,e,t,i,r){i===void 0&&(i="segoeui");var o="".concat(n,"/").concat(t,"/").concat(i);ep(e,o+"-light",ei.light,r&&r+" Light"),ep(e,o+"-semilight",ei.semilight,r&&r+" SemiLight"),ep(e,o+"-regular",ei.regular,r),ep(e,o+"-semibold",ei.semibold,r&&r+" SemiBold"),ep(e,o+"-bold",ei.bold,r&&r+" Bold")}function cZ(n){if(n){var e="".concat(n,"/fonts");Ul(e,Hi.Thai,"leelawadeeui-thai","leelawadeeui"),Ul(e,Hi.Arabic,"segoeui-arabic"),Ul(e,Hi.Cyrillic,"segoeui-cyrillic"),Ul(e,Hi.EastEuropean,"segoeui-easteuropean"),Ul(e,Hi.Greek,"segoeui-greek"),Ul(e,Hi.Hebrew,"segoeui-hebrew"),Ul(e,Hi.Vietnamese,"segoeui-vietnamese"),Ul(e,Hi.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),Ul(e,ri.Selawik,"selawik","selawik"),Ul(e,Hi.Armenian,"segoeui-armenian"),Ul(e,Hi.Georgian,"segoeui-georgian"),ep("Leelawadee UI Web","".concat(e,"/leelawadeeui-thai/leelawadeeui-semilight"),ei.light),ep("Leelawadee UI Web","".concat(e,"/leelawadeeui-thai/leelawadeeui-bold"),ei.semibold)}}function dZ(){var n,e,t=(n=Vi())===null||n===void 0?void 0:n.FabricConfig;return(e=t==null?void 0:t.fontBaseUrl)!==null&&e!==void 0?e:lZ}cZ(dZ());function M1(n,e){n===void 0&&(n={}),e===void 0&&(e=!1);var t=!!n.isInverted,i={palette:WD,effects:VD,fonts:uZ,spacing:bY,isInverted:t,disableGlobalClassNames:!1,semanticColors:wY(WD,VD,void 0,t,e),rtl:void 0};return EY(i,n)}var yt="@media screen and (-ms-high-contrast: active), screen and (forced-colors: active)",fZ="@media screen and (-ms-high-contrast: black-on-white), screen and (forced-colors: active) and (prefers-color-scheme: light)",Xy=480,f5=640,hZ=1024,eI=1366,h5=f5-1,pZ=768;function tI(n,e){var t=typeof n=="number"?" and (min-width: ".concat(n,"px)"):"",i=typeof e=="number"?" and (max-width: ".concat(e,"px)"):"";return"@media only screen".concat(t).concat(i)}function Wo(){return{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}}var DS;(function(n){n.Nav=1,n.ScrollablePane=1,n.FocusStyle=1,n.Coachmark=1e3,n.Layer=1e6,n.KeytipLayer=1000001})(DS||(DS={}));function mv(n,e,t,i,r,o,s,a){return typeof e=="number"||!e?KD(n,{inset:e,position:t,highContrastStyle:i,borderColor:r,outlineColor:o,isFocusedOnly:s,borderRadius:a}):KD(n,e)}function KD(n,e){var t,i;e===void 0&&(e={});var r=e.borderRadius,o=e.inset,s=o===void 0?0:o,a=e.width,l=a===void 0?1:a,u=e.position,c=u===void 0?"relative":u,d=e.highContrastStyle,m=e.borderColor,v=m===void 0?n.palette.white:m,y=e.outlineColor,_=y===void 0?n.palette.neutralSecondary:y,S=e.isFocusedOnly,x=S===void 0?!0:S,C=e.pointerEvents;return{outline:"transparent",position:c,selectors:(t={"::-moz-focus-inner":{border:"0"}},t[".".concat(ki," &").concat(x?":focus":"",":after")]={content:'""',position:"absolute",pointerEvents:C,left:s+1,top:s+1,bottom:s+1,right:s+1,border:"".concat(l,"px solid ").concat(v),outline:"".concat(l,"px solid ").concat(_),zIndex:DS.FocusStyle,borderRadius:r,selectors:(i={},i[yt]=d,i)},t)}}function mZ(){return{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}}}var gZ=function(n,e,t,i){var r,o,s;t===void 0&&(t="border"),i===void 0&&(i=-1);var a=t==="borderBottom";return{borderColor:n,selectors:{":after":(r={pointerEvents:"none",content:"''",position:"absolute",left:a?0:i,top:i,bottom:i,right:a?0:i},r[t]="2px solid ".concat(n),r.borderRadius=e,r.width=t==="borderBottom"?"100%":void 0,r.selectors=(o={},o[yt]=(s={},s[t==="border"?"borderColor":"borderBottomColor"]="Highlight",s),o),r)}}},p5={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden",whiteSpace:"nowrap"},vZ=Ji(function(n,e){var t=xl.getInstance();return e?Object.keys(n).reduce(function(i,r){return i[r]=t.getClassName(n[r]),i},{}):n});function Xs(n,e,t){return vZ(n,t!==void 0?t:e.disableGlobalClassNames)}var zg=globalThis&&globalThis.__assign||function(){return zg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},zg.apply(this,arguments)},Qy=typeof window>"u"?global:window,$D=Qy&&Qy.CSPSettings&&Qy.CSPSettings.nonce,Ra=yZ();function yZ(){var n=Qy.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};return n.runState||(n=zg(zg({},n),{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}})),n.registeredThemableStyles||(n=zg(zg({},n),{registeredThemableStyles:[]})),Qy.__themeState__=n,n}function SZ(n,e){Ra.loadStyles?Ra.loadStyles(m5(n).styleString,n):CZ(n)}function _Z(n){Ra.theme=n,wZ()}function xZ(n){n===void 0&&(n=3),(n===3||n===2)&&(JD(Ra.registeredStyles),Ra.registeredStyles=[]),(n===3||n===1)&&(JD(Ra.registeredThemableStyles),Ra.registeredThemableStyles=[])}function JD(n){n.forEach(function(e){var t=e&&e.styleElement;t&&t.parentElement&&t.parentElement.removeChild(t)})}function wZ(){if(Ra.theme){for(var n=[],e=0,t=Ra.registeredThemableStyles;e<t.length;e++){var i=t[e];n.push(i.themableStyle)}n.length>0&&(xZ(1),SZ([].concat.apply([],n)))}}function m5(n){var e=Ra.theme,t=!1,i=(n||[]).map(function(r){var o=r.theme;if(o){t=!0;var s=e?e[o]:void 0,a=r.defaultValue||"inherit";return e&&!s&&console&&!(o in e)&&typeof DEBUG<"u"&&DEBUG&&console.warn('Theming value not provided for "'.concat(o,'". Falling back to "').concat(a,'".')),s||a}else return r.rawString});return{styleString:i.join(""),themable:t}}function CZ(n){if(!(typeof document>"u")){var e=document.getElementsByTagName("head")[0],t=document.createElement("style"),i=m5(n),r=i.styleString,o=i.themable;t.setAttribute("data-load-themed-styles","true"),$D&&t.setAttribute("nonce",$D),t.appendChild(document.createTextNode(r)),Ra.perf.count++,e.appendChild(t);var s=document.createEvent("HTMLEvents");s.initEvent("styleinsert",!0,!1),s.args={newStyle:t},document.dispatchEvent(s);var a={styleElement:t,themableStyle:n};o?Ra.registeredThemableStyles.push(a):Ra.registeredStyles.push(a)}}var ol=M1({}),EZ=[],vB="theme";function g5(){var n,e,t,i=Vi();!((e=i==null?void 0:i.FabricConfig)===null||e===void 0)&&e.legacyTheme?AZ(i.FabricConfig.legacyTheme):vl.getSettings([vB]).theme||(!((t=i==null?void 0:i.FabricConfig)===null||t===void 0)&&t.theme&&(ol=M1(i.FabricConfig.theme)),vl.applySettings((n={},n[vB]=ol,n)))}g5();function bZ(n){return n===void 0&&(n=!1),n===!0&&(ol=M1({},n)),ol}function AZ(n,e){var t;return e===void 0&&(e=!1),ol=M1(n,e),_Z(le(le(le(le({},ol.palette),ol.semanticColors),ol.effects),MZ(ol))),vl.applySettings((t={},t[vB]=ol,t)),EZ.forEach(function(i){try{i(ol)}catch{}}),ol}function MZ(n){for(var e={},t=0,i=Object.keys(n.fonts);t<i.length;t++)for(var r=i[t],o=n.fonts[r],s=0,a=Object.keys(o);s<a.length;s++){var l=a[s],u=r+l.charAt(0).toUpperCase()+l.slice(1),c=o[l];l==="fontSize"&&typeof c=="number"&&(c=c+"px"),e[u]=c}return e}var yB={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"},Yl=ZX(nZ),TZ="https://res.cdn.office.net/files/fabric-cdn-prod_20230815.002";$2("@fluentui/style-utilities","8.9.17");g5();var rr={topLeftEdge:0,topCenter:1,topRightEdge:2,topAutoEdge:3,bottomLeftEdge:4,bottomCenter:5,bottomRightEdge:6,bottomAutoEdge:7,leftTopEdge:8,leftCenter:9,leftBottomEdge:10,rightTopEdge:11,rightCenter:12,rightBottomEdge:13},Qt;(function(n){n[n.top=1]="top",n[n.bottom=-1]="bottom",n[n.left=2]="left",n[n.right=-2]="right"})(Qt||(Qt={}));var qu;(function(n){n[n.top=0]="top",n[n.bottom=1]="bottom",n[n.start=2]="start",n[n.end=3]="end"})(qu||(qu={}));var Po;function Fs(n,e,t){return{targetEdge:n,alignmentEdge:e,isAuto:t}}var qD=(Po={},Po[rr.topLeftEdge]=Fs(Qt.top,Qt.left),Po[rr.topCenter]=Fs(Qt.top),Po[rr.topRightEdge]=Fs(Qt.top,Qt.right),Po[rr.topAutoEdge]=Fs(Qt.top,void 0,!0),Po[rr.bottomLeftEdge]=Fs(Qt.bottom,Qt.left),Po[rr.bottomCenter]=Fs(Qt.bottom),Po[rr.bottomRightEdge]=Fs(Qt.bottom,Qt.right),Po[rr.bottomAutoEdge]=Fs(Qt.bottom,void 0,!0),Po[rr.leftTopEdge]=Fs(Qt.left,Qt.top),Po[rr.leftCenter]=Fs(Qt.left),Po[rr.leftBottomEdge]=Fs(Qt.left,Qt.bottom),Po[rr.rightTopEdge]=Fs(Qt.right,Qt.top),Po[rr.rightCenter]=Fs(Qt.right),Po[rr.rightBottomEdge]=Fs(Qt.right,Qt.bottom),Po);function nI(n,e){return!(n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}function ZC(n,e){var t=[];return n.top<e.top&&t.push(Qt.top),n.bottom>e.bottom&&t.push(Qt.bottom),n.left<e.left&&t.push(Qt.left),n.right>e.right&&t.push(Qt.right),t}function qo(n,e){return n[Qt[e]]}function jD(n,e,t){return n[Qt[e]]=t,n}function PS(n,e){var t=$v(e);return(qo(n,t.positiveEdge)+qo(n,t.negativeEdge))/2}function ib(n,e){return n>0?e:e*-1}function SB(n,e){return ib(n,qo(e,n))}function Wc(n,e,t){var i=qo(n,t)-qo(e,t);return ib(t,i)}function gv(n,e,t,i){i===void 0&&(i=!0);var r=qo(n,e)-t,o=jD(n,e,t);return i&&(o=jD(n,e*-1,qo(n,e*-1)-r)),o}function NS(n,e,t,i){return i===void 0&&(i=0),gv(n,t,qo(e,t)+ib(t,i))}function BZ(n,e,t,i){i===void 0&&(i=0);var r=t*-1,o=ib(r,i);return gv(n,t*-1,qo(e,t)+o)}function eE(n,e,t){var i=SB(t,n);return i>SB(t,e)}function RZ(n,e){for(var t=ZC(n,e),i=0,r=0,o=t;r<o.length;r++){var s=o[r];i+=Math.pow(Wc(n,e,s),2)}return i}function IZ(n,e,t,i,r){r===void 0&&(r=0);var o=[Qt.left,Qt.right,Qt.bottom,Qt.top];xo()&&(o[0]*=-1,o[1]*=-1);for(var s=n,a=i.targetEdge,l=i.alignmentEdge,u,c=a,d=l,m=0;m<4;m++){if(eE(s,t,a))return{elementRectangle:s,targetEdge:a,alignmentEdge:l};var v=RZ(s,t);(!u||v<u)&&(u=v,c=a,d=l),o.splice(o.indexOf(a),1),o.length>0&&(o.indexOf(a*-1)>-1?a=a*-1:(l=a,a=o.slice(-1)[0]),s=tE(n,e,{targetEdge:a,alignmentEdge:l},r))}return s=tE(n,e,{targetEdge:c,alignmentEdge:d},r),{elementRectangle:s,targetEdge:c,alignmentEdge:d}}function kZ(n,e,t,i){var r=n.alignmentEdge,o=n.targetEdge,s=n.elementRectangle,a=r*-1,l=tE(s,e,{targetEdge:o,alignmentEdge:a},t,i);return{elementRectangle:l,targetEdge:o,alignmentEdge:a}}function LZ(n,e,t,i,r,o,s){r===void 0&&(r=0);var a=i.alignmentEdge,l=i.alignTargetEdge,u={elementRectangle:n,targetEdge:i.targetEdge,alignmentEdge:a};!o&&!s&&(u=IZ(n,e,t,i,r));var c=ZC(u.elementRectangle,t),d=o?-u.targetEdge:void 0;if(c.length>0)if(l)if(u.alignmentEdge&&c.indexOf(u.alignmentEdge*-1)>-1){var m=kZ(u,e,r,s);if(nI(m.elementRectangle,t))return m;u=u3(ZC(m.elementRectangle,t),u,t,d)}else u=u3(c,u,t,d);else u=u3(c,u,t,d);return u}function u3(n,e,t,i){for(var r=0,o=n;r<o.length;r++){var s=o[r],a=void 0;if(i&&i===s*-1)a=gv(e.elementRectangle,s,qo(t,s),!1),e.forcedInBounds=!0;else{a=NS(e.elementRectangle,t,s);var l=eE(a,t,s*-1);l||(a=gv(a,s*-1,qo(t,s*-1),!1),e.forcedInBounds=!0)}e.elementRectangle=a}return e}function v5(n,e,t){var i=$v(e).positiveEdge,r=PS(n,e),o=r-qo(n,i);return gv(n,i,t-o)}function tE(n,e,t,i,r){i===void 0&&(i=0);var o=new Yu(n.left,n.right,n.top,n.bottom),s=t.alignmentEdge,a=t.targetEdge,l=r?a:a*-1;if(o=r?NS(o,e,a,i):BZ(o,e,a,i),s)o=NS(o,e,s);else{var u=PS(e,a);o=v5(o,l,u)}return o}function $v(n){return n===Qt.top||n===Qt.bottom?{positiveEdge:Qt.left,negativeEdge:Qt.right}:{positiveEdge:Qt.top,negativeEdge:Qt.bottom}}function y5(n,e,t){return t&&Math.abs(Wc(n,t,e))>Math.abs(Wc(n,t,e*-1))?e*-1:e}function FZ(n,e,t){return t!==void 0&&qo(n,e)===qo(t,e)}function DZ(n,e,t,i,r,o,s,a){var l={},u=iI(e),c=o?t:t*-1,d=r||$v(t).positiveEdge;return(!s||FZ(n,jZ(d),i))&&(d=y5(n,d,i)),l[Qt[c]]=Wc(n,u,c),l[Qt[d]]=Wc(n,u,d),a&&(l[Qt[c*-1]]=Wc(n,u,c*-1),l[Qt[d*-1]]=Wc(n,u,d*-1)),l}function PZ(n){return Math.sqrt(n*n*2)}function NZ(n,e,t){if(n===void 0&&(n=rr.bottomAutoEdge),t)return{alignmentEdge:t.alignmentEdge,isAuto:t.isAuto,targetEdge:t.targetEdge};var i=le({},qD[n]);return xo()?(i.alignmentEdge&&i.alignmentEdge%2===0&&(i.alignmentEdge=i.alignmentEdge*-1),e!==void 0?qD[e]:i):i}function OZ(n,e,t,i,r){return n.isAuto&&(n.alignmentEdge=S5(n.targetEdge,e,t)),n.alignTargetEdge=r,n}function S5(n,e,t){var i=PS(e,n),r=PS(t,n),o=$v(n),s=o.positiveEdge,a=o.negativeEdge;return i<=r?s:a}function zZ(n,e,t,i,r,o,s){var a=tE(n,e,i,r,s);return nI(a,t)?{elementRectangle:a,targetEdge:i.targetEdge,alignmentEdge:i.alignmentEdge}:LZ(a,e,t,i,r,o,s)}function UZ(n,e,t){var i=n.targetEdge*-1,r=new Yu(0,n.elementRectangle.width,0,n.elementRectangle.height),o={},s=y5(n.elementRectangle,n.alignmentEdge?n.alignmentEdge:$v(i).positiveEdge,t),a=Wc(n.elementRectangle,n.targetRectangle,i),l=a>Math.abs(qo(e,i));return o[Qt[i]]=qo(e,i),o[Qt[s]]=Wc(e,r,s),{elementPosition:le({},o),closestEdge:S5(n.targetEdge,e,r),targetEdge:i,hideBeak:!l}}function HZ(n,e){var t=e.targetRectangle,i=$v(e.targetEdge),r=i.positiveEdge,o=i.negativeEdge,s=PS(t,e.targetEdge),a=new Yu(n/2,e.elementRectangle.width-n/2,n/2,e.elementRectangle.height-n/2),l=new Yu(0,n,0,n);return l=gv(l,e.targetEdge*-1,-n/2),l=v5(l,e.targetEdge*-1,s-SB(r,e.elementRectangle)),eE(l,a,r)?eE(l,a,o)||(l=NS(l,a,o)):l=NS(l,a,r),l}function iI(n){var e=n.getBoundingClientRect();return new Yu(e.left,e.right,e.top,e.bottom)}function GZ(n){return new Yu(n.left,n.right,n.top,n.bottom)}function WZ(n,e){var t;if(e){if(e.preventDefault){var i=e;t=new Yu(i.clientX,i.clientX,i.clientY,i.clientY)}else if(e.getBoundingClientRect)t=iI(e);else{var r=e,o=r.left||r.x,s=r.top||r.y,a=r.right||o,l=r.bottom||s;t=new Yu(o,a,s,l)}if(!nI(t,n))for(var u=ZC(t,n),c=0,d=u;c<d.length;c++){var m=d[c];t[Qt[m]]=n[Qt[m]]}}else t=new Yu(0,0,0,0);return t}function VZ(n,e,t,i){var r=n.gapSpace?n.gapSpace:0,o=WZ(t,n.target),s=OZ(NZ(n.directionalHint,n.directionalHintForRTL,i),o,t,n.coverTarget,n.alignTargetEdge),a=zZ(iI(e),o,t,s,r,n.directionalHintFixed,n.coverTarget);return le(le({},a),{targetRectangle:o})}function KZ(n,e,t,i,r){var o=DZ(n.elementRectangle,e,n.targetEdge,t,n.alignmentEdge,i,r,n.forcedInBounds);return{elementPosition:o,targetEdge:n.targetEdge,alignmentEdge:n.alignmentEdge}}function _5(n,e,t,i,r){var o=n.isBeakVisible&&n.beakWidth||0,s=PZ(o)/2+(n.gapSpace?n.gapSpace:0),a=n;a.gapSpace=s;var l=n.bounds?GZ(n.bounds):new Yu(0,window.innerWidth-oQ(),0,window.innerHeight),u=VZ(a,t,l,i),c=HZ(o,u),d=UZ(u,c,l);return le(le({},KZ(u,e,l,n.coverTarget,r)),{beakPosition:d})}function $Z(n,e,t,i){return _5(n,e,t,i,!0)}function JZ(n,e,t,i){return _5(n,e,t,i)}function qZ(n,e,t,i){return $Z(n,e,t,i)}function jZ(n){return n*-1}function XZ(n,e){var t=void 0;if(e.getWindowSegments&&(t=e.getWindowSegments()),t===void 0||t.length<=1)return{top:0,left:0,right:e.innerWidth,bottom:e.innerHeight,width:e.innerWidth,height:e.innerHeight};var i=0,r=0;if(n!==null&&n.getBoundingClientRect){var o=n.getBoundingClientRect();i=(o.left+o.right)/2,r=(o.top+o.bottom)/2}else n!==null&&(i=n.left||n.x,r=n.top||n.y);for(var s={top:0,left:0,right:0,bottom:0,width:0,height:0},a=0,l=t;a<l.length;a++){var u=l[a];i&&u.left<=i&&u.right>=i&&r&&u.top<=r&&u.bottom>=r&&(s={top:u.top,left:u.left,right:u.right,bottom:u.bottom,width:u.width,height:u.height})}return s}function QZ(n,e){return XZ(n,e)}function em(){var n=T.useRef();return n.current||(n.current=new A1),T.useEffect(function(){return function(){var e;(e=n.current)===null||e===void 0||e.dispose(),n.current=void 0}},[]),n.current}function vv(n){var e=T.useRef();return e.current===void 0&&(e.current={value:typeof n=="function"?n():n}),e.current.value}function nE(n,e,t){var i=T.useState(e),r=i[0],o=i[1],s=vv(n!==void 0),a=s?n:r,l=T.useRef(a),u=T.useRef(t);T.useEffect(function(){l.current=a,u.current=t});var c=vv(function(){return function(d,m){var v=typeof d=="function"?d(l.current):d;u.current&&u.current(m,v),s||o(v)}});return[a,c]}function c3(n){var e=T.useRef(function(){throw new Error("Cannot call an event handler while rendering")});return Pp(function(){e.current=n},[n]),vv(function(){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=e.current;return r.apply(void 0,t)}})}function Np(n,e){var t=T.useRef(e);return t.current||(t.current=yl(n)),t.current}function Qc(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=T.useCallback(function(i){t.current=i;for(var r=0,o=n;r<o.length;r++){var s=o[r];typeof s=="function"?s(i):s&&(s.current=i)}},ui([],n,!0));return t}function OS(n,e,t,i){var r=T.useRef(t);r.current=t,T.useEffect(function(){var o=n&&"current"in n?n.current:n;if(o){var s=pf(o,e,function(a){return r.current(a)},i);return s}},[n,e,i])}function yv(n){var e=T.useRef();return T.useEffect(function(){e.current=n}),e.current}function XD(n,e){e===void 0&&(e=null);var t=function(){var r=function(o){i.ref.current!==o&&(i.cleanup&&(i.cleanup(),i.cleanup=void 0),i.ref.current=o,o!==null&&(i.cleanup=i.callback(o)))};return r.current=e,r},i=T.useRef({ref:t(),callback:n}).current;return i.callback=n,i.ref}var x5=T.createContext({window:typeof window=="object"?window:void 0}),rI=function(){return T.useContext(x5).window},YZ=function(){var n;return(n=T.useContext(x5).window)===null||n===void 0?void 0:n.document};function w5(n,e){var t=T.useRef(),i=T.useRef(null),r=rI();if(!n||n!==t.current||typeof n=="string"){var o=e==null?void 0:e.current;if(n)if(typeof n=="string"){var s=Ao(o);i.current=s?s.querySelector(n):null}else"stopPropagation"in n||"getBoundingClientRect"in n?i.current=n:"current"in n?i.current=n.current:i.current=n;t.current=n}return[i,r]}var ZZ=function(n){var e=T.useRef(n);e.current=n,T.useEffect(function(){return function(){var t;(t=e.current)===null||t===void 0||t.call(e)}},[])};function eee(n,e){var t=em(),i=T.useState(!1),r=i[0],o=i[1];return T.useEffect(function(){return t.requestAnimationFrame(function(){var s;if(!(n.style&&n.style.overflowY)){var a=!1;if(e&&e.current&&(!((s=e.current)===null||s===void 0)&&s.firstElementChild)){var l=e.current.clientHeight,u=e.current.firstElementChild.clientHeight;l>0&&u>l&&(a=u-l>1)}r!==a&&o(a)}}),function(){return t.dispose()}}),r}function tee(n){var e=n.originalElement,t=n.containsFocus;e&&t&&e!==Vi()&&setTimeout(function(){var i;(i=e.focus)===null||i===void 0||i.call(e)},0)}function nee(n,e){var t=n.onRestoreFocus,i=t===void 0?tee:t,r=T.useRef(),o=T.useRef(!1);T.useEffect(function(){return r.current=Ao().activeElement,TQ(e.current)&&(o.current=!0),function(){var s;i==null||i({originalElement:r.current,containsFocus:o.current,documentContainsFocus:((s=Ao())===null||s===void 0?void 0:s.hasFocus())||!1}),r.current=void 0}},[]),OS(e,"focus",T.useCallback(function(){o.current=!0},[]),!0),OS(e,"blur",T.useCallback(function(s){e.current&&s.relatedTarget&&!e.current.contains(s.relatedTarget)&&(o.current=!1)},[]),!0)}function iee(n,e){var t=String(n["aria-modal"]).toLowerCase()==="true"&&n.enableAriaHiddenSiblings;T.useEffect(function(){if(t&&e.current){var i=u5(e.current);return i}},[e,t])}var oI=T.forwardRef(function(n,e){var t=Kv({shouldRestoreFocus:!0,enableAriaHiddenSiblings:!0},n),i=T.useRef(),r=Qc(i,e);iee(t,i),nee(t,i);var o=t.role,s=t.className,a=t.ariaLabel,l=t.ariaLabelledBy,u=t.ariaDescribedBy,c=t.style,d=t.children,m=t.onDismiss,v=eee(t,i),y=T.useCallback(function(S){switch(S.which){case Bt.escape:m&&(m(S),S.preventDefault(),S.stopPropagation());break}},[m]),_=rI();return OS(_,"keydown",y),T.createElement("div",le({ref:r},Ci(t,bl),{className:s,role:o,"aria-label":a,"aria-labelledby":l,"aria-describedby":u,onKeyDown:y,style:le({overflowY:v?"scroll":void 0,outline:"none"},c)}),d)});oI.displayName="Popup";var Jm,ree="CalloutContentBase",oee=(Jm={},Jm[Qt.top]=Yl.slideUpIn10,Jm[Qt.bottom]=Yl.slideDownIn10,Jm[Qt.left]=Yl.slideLeftIn10,Jm[Qt.right]=Yl.slideRightIn10,Jm),QD={top:0,left:0},see={opacity:0,filter:"opacity(0)",pointerEvents:"none"},aee=["role","aria-roledescription"],C5={preventDismissOnLostFocus:!1,preventDismissOnScroll:!1,preventDismissOnResize:!1,isBeakVisible:!0,beakWidth:16,gapSpace:0,minPagePadding:8,directionalHint:rr.bottomAutoEdge},lee=xs({disableCaching:!0});function uee(n,e,t){var i=n.bounds,r=n.minPagePadding,o=r===void 0?C5.minPagePadding:r,s=n.target,a=T.useState(!1),l=a[0],u=a[1],c=T.useRef(),d=T.useCallback(function(){if(!c.current||l){var v=typeof i=="function"?t?i(s,t):void 0:i;!v&&t&&(v=QZ(e.current,t),v={top:v.top+o,left:v.left+o,right:v.right-o,bottom:v.bottom-o,width:v.width-o*2,height:v.height-o*2}),c.current=v,l&&u(!1)}return c.current},[i,o,s,e,t,l]),m=em();return OS(t,"resize",m.debounce(function(){u(!0)},500,{leading:!0})),d}function cee(n,e,t){var i,r=n.calloutMaxHeight,o=n.finalHeight,s=n.directionalHint,a=n.directionalHintFixed,l=n.hidden,u=T.useState(),c=u[0],d=u[1],m=(i=t==null?void 0:t.elementPosition)!==null&&i!==void 0?i:{},v=m.top,y=m.bottom;return T.useEffect(function(){var _,S=(_=e())!==null&&_!==void 0?_:{},x=S.top,C=S.bottom,b;typeof v=="number"&&C?b=C-v:typeof y=="number"&&typeof x=="number"&&C&&(b=C-x-y),!r&&!l||r&&b&&r>b?d(b):d(r||void 0)},[y,r,o,s,a,e,l,t,v]),c}function dee(n,e,t,i,r){var o=T.useState(),s=o[0],a=o[1],l=T.useRef(0),u=T.useRef(),c=em(),d=n.hidden,m=n.target,v=n.finalHeight,y=n.calloutMaxHeight,_=n.onPositioned,S=n.directionalHint;return T.useEffect(function(){if(d)a(void 0),l.current=0;else{var x=c.requestAnimationFrame(function(){var C,b;if(e.current&&t){var M=le(le({},n),{target:i.current,bounds:r()}),B=t.cloneNode(!0);B.style.maxHeight=y?"".concat(y):"",B.style.visibility="hidden",(C=t.parentElement)===null||C===void 0||C.appendChild(B);var k=u.current===m?s:void 0,F=v?qZ(M,e.current,B,k):JZ(M,e.current,B,k);(b=t.parentElement)===null||b===void 0||b.removeChild(B),!s&&F||s&&F&&!mee(s,F)&&l.current<5?(l.current++,a(F)):l.current>0&&(l.current=0,_==null||_(s))}},t);return u.current=m,function(){c.cancelAnimationFrame(x),u.current=void 0}}},[d,S,c,t,y,e,i,v,r,_,s,n,m]),s}function fee(n,e,t){var i=n.hidden,r=n.setInitialFocus,o=em(),s=!!e;T.useEffect(function(){if(!i&&r&&s&&t){var a=o.requestAnimationFrame(function(){return MQ(t)},t);return function(){return o.cancelAnimationFrame(a)}}},[i,s,o,t,r])}function hee(n,e,t,i,r){var o=n.hidden,s=n.onDismiss,a=n.preventDismissOnScroll,l=n.preventDismissOnResize,u=n.preventDismissOnLostFocus,c=n.dismissOnTargetClick,d=n.shouldDismissOnWindowFocus,m=n.preventDismissOnEvent,v=T.useRef(!1),y=em(),_=vv([function(){v.current=!0},function(){v.current=!1}]),S=!!e;return T.useEffect(function(){var x=function(F){S&&!a&&M(F)},C=function(F){!l&&!(m&&m(F))&&(s==null||s(F))},b=function(F){u||M(F)},M=function(F){var R=F.composedPath?F.composedPath():[],N=R.length>0?R[0]:F.target,U=t.current&&!Gs(t.current,N);if(U&&v.current){v.current=!1;return}if(!i.current&&U||F.target!==r&&U&&(!i.current||"stopPropagation"in i.current||c||N!==i.current&&!Gs(i.current,N))){if(m&&m(F))return;s==null||s(F)}},B=function(F){d&&(m&&!m(F)||!m&&!u)&&!(r!=null&&r.document.hasFocus())&&F.relatedTarget===null&&(s==null||s(F))},k=new Promise(function(F){y.setTimeout(function(){if(!o&&r){var R=[pf(r,"scroll",x,!0),pf(r,"resize",C,!0),pf(r.document.documentElement,"focus",b,!0),pf(r.document.documentElement,"click",b,!0),pf(r,"blur",B,!0)];F(function(){R.forEach(function(N){return N()})})}},0)});return function(){k.then(function(F){return F()})}},[o,y,t,i,r,s,d,c,u,l,a,S,m]),_}var E5=T.memo(T.forwardRef(function(n,e){var t=Kv(C5,n),i=t.styles,r=t.style,o=t.ariaLabel,s=t.ariaDescribedBy,a=t.ariaLabelledBy,l=t.className,u=t.isBeakVisible,c=t.children,d=t.beakWidth,m=t.calloutWidth,v=t.calloutMaxWidth,y=t.calloutMinWidth,_=t.doNotLayer,S=t.finalHeight,x=t.hideOverflow,C=x===void 0?!!S:x,b=t.backgroundColor,M=t.calloutMaxHeight,B=t.onScroll,k=t.shouldRestoreFocus,F=k===void 0?!0:k,R=t.target,N=t.hidden,U=t.onLayerMounted,G=t.popupProps,oe=T.useRef(null),me=T.useState(null),j=me[0],ne=me[1],te=T.useCallback(function(je){ne(je)},[]),de=Qc(oe,e),O=w5(t.target,{current:j}),V=O[0],$=O[1],ie=uee(t,V,$),ae=dee(t,oe,j,V,ie),Ce=cee(t,ie,ae),Fe=hee(t,ae,oe,V,$),Ne=Fe[0],he=Fe[1],mt=(ae==null?void 0:ae.elementPosition.top)&&(ae==null?void 0:ae.elementPosition.bottom),ft=le(le({},ae==null?void 0:ae.elementPosition),{maxHeight:Ce});if(mt&&(ft.bottom=void 0),fee(t,ae,j),T.useEffect(function(){N||U==null||U()},[N]),!$)return null;var _t=C,Ke=u&&!!R,ct=lee(i,{theme:t.theme,className:l,overflowYHidden:_t,calloutWidth:m,positions:ae,beakWidth:d,backgroundColor:b,calloutMaxWidth:v,calloutMinWidth:y,doNotLayer:_}),De=le(le({maxHeight:M||"100%"},r),_t&&{overflowY:"hidden"}),Ae=t.hidden?{visibility:"hidden"}:void 0;return T.createElement("div",{ref:de,className:ct.container,style:Ae},T.createElement("div",le({},Ci(t,bl,aee),{className:Co(ct.root,ae&&ae.targetEdge&&oee[ae.targetEdge]),style:ae?le({},ft):see,tabIndex:-1,ref:te}),Ke&&T.createElement("div",{className:ct.beak,style:pee(ae)}),Ke&&T.createElement("div",{className:ct.beakCurtain}),T.createElement(oI,le({role:t.role,"aria-roledescription":t["aria-roledescription"],ariaDescribedBy:s,ariaLabel:o,ariaLabelledBy:a,className:ct.calloutMain,onDismiss:t.onDismiss,onMouseDown:Ne,onMouseUp:he,onRestoreFocus:t.onRestoreFocus,onScroll:B,shouldRestoreFocus:F,style:De},G),c)))}),function(n,e){return!e.shouldUpdateWhenHidden&&n.hidden&&e.hidden?!0:j2(n,e)});function pee(n){var e,t,i=le(le({},(e=n==null?void 0:n.beakPosition)===null||e===void 0?void 0:e.elementPosition),{display:!((t=n==null?void 0:n.beakPosition)===null||t===void 0)&&t.hideBeak?"none":void 0});return!i.top&&!i.bottom&&!i.left&&!i.right&&(i.left=QD.left,i.top=QD.top),i}function mee(n,e){return YD(n.elementPosition,e.elementPosition)&&YD(n.beakPosition.elementPosition,e.beakPosition.elementPosition)}function YD(n,e){for(var t in e)if(e.hasOwnProperty(t)){var i=n[t],r=e[t];if(i!==void 0&&r!==void 0){if(i.toFixed(2)!==r.toFixed(2))return!1}else return!1}return!0}E5.displayName=ree;function gee(n){return{height:n,width:n}}var vee={container:"ms-Callout-container",root:"ms-Callout",beak:"ms-Callout-beak",beakCurtain:"ms-Callout-beakCurtain",calloutMain:"ms-Callout-main"},yee=function(n){var e,t=n.theme,i=n.className,r=n.overflowYHidden,o=n.calloutWidth,s=n.beakWidth,a=n.backgroundColor,l=n.calloutMaxWidth,u=n.calloutMinWidth,c=n.doNotLayer,d=Xs(vee,t),m=t.semanticColors,v=t.effects;return{container:[d.container,{position:"relative"}],root:[d.root,t.fonts.medium,{position:"absolute",display:"flex",zIndex:c?DS.Layer:void 0,boxSizing:"border-box",borderRadius:v.roundedCorner2,boxShadow:v.elevation16,selectors:(e={},e[yt]={borderWidth:1,borderStyle:"solid",borderColor:"WindowText"},e)},mZ(),i,!!o&&{width:o},!!l&&{maxWidth:l},!!u&&{minWidth:u}],beak:[d.beak,{position:"absolute",backgroundColor:m.menuBackground,boxShadow:"inherit",border:"inherit",boxSizing:"border-box",transform:"rotate(45deg)"},gee(s),a&&{backgroundColor:a}],beakCurtain:[d.beakCurtain,{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:m.menuBackground,borderRadius:v.roundedCorner2}],calloutMain:[d.calloutMain,{backgroundColor:m.menuBackground,overflowX:"hidden",overflowY:"auto",position:"relative",width:"100%",borderRadius:v.roundedCorner2},r&&{overflowY:"hidden"},a&&{backgroundColor:a}]}},See=ws(E5,yee,void 0,{scope:"CalloutContent"});const b5=T.createContext(void 0),_ee=()=>()=>{};b5.Provider;function xee(){var n;return(n=T.useContext(b5))!==null&&n!==void 0?n:_ee}var wee=xs(),Cee=Ji(function(n,e){return M1(le(le({},n),{rtl:e}))}),Eee=function(n){var e=n.theme,t=n.dir,i=xo(e)?"rtl":"ltr",r=xo()?"rtl":"ltr",o=t||i;return{rootDir:o!==i||o!==r?o:t,needsTheme:o!==i}},A5=T.forwardRef(function(n,e){var t=n.className,i=n.theme,r=n.applyTheme,o=n.applyThemeToBody,s=n.styles,a=wee(s,{theme:i,applyTheme:r,className:t}),l=T.useRef(null);return Aee(o,a,l),T.createElement(T.Fragment,null,bee(n,a,l,e))});A5.displayName="FabricBase";function bee(n,e,t,i){var r=e.root,o=n.as,s=o===void 0?"div":o,a=n.dir,l=n.theme,u=Ci(n,bl,["dir"]),c=Eee(n),d=c.rootDir,m=c.needsTheme,v=T.createElement(a5,{providerRef:t},T.createElement(s,le({dir:d},u,{className:r,ref:Qc(t,i)})));return m&&(v=T.createElement(JQ,{settings:{theme:Cee(l,a==="rtl")}},v)),v}function Aee(n,e,t){var i=e.bodyThemed;return T.useEffect(function(){if(n){var r=Ao(t.current);if(r)return r.body.classList.add(i),function(){r.body.classList.remove(i)}}},[i,n,t]),t}var d3={fontFamily:"inherit"},Mee={root:"ms-Fabric",bodyThemed:"ms-Fabric-bodyThemed"},Tee=function(n){var e=n.applyTheme,t=n.className,i=n.preventBlanketFontInheritance,r=n.theme,o=Xs(Mee,r);return{root:[o.root,r.fonts.medium,{color:r.palette.neutralPrimary},!i&&{"& button":d3,"& input":d3,"& textarea":d3},e&&{color:r.semanticColors.bodyText,backgroundColor:r.semanticColors.bodyBackground},t],bodyThemed:[{backgroundColor:r.semanticColors.bodyBackground}]}},Bee=ws(A5,Tee,void 0,{scope:"Fabric"}),Yy={},sI={},M5="fluent-default-layer-host",Ree="#".concat(M5);function Iee(n,e){Yy[n]||(Yy[n]=[]),Yy[n].push(e);var t=sI[n];if(t)for(var i=0,r=t;i<r.length;i++){var o=r[i];o.notifyLayersChanged()}}function kee(n,e){var t=Yy[n];if(t){var i=t.indexOf(e);i>=0&&(t.splice(i,1),t.length===0&&delete Yy[n])}var r=sI[n];if(r)for(var o=0,s=r;o<s.length;o++){var a=s[o];a.notifyLayersChanged()}}function Lee(n){var e=sI[n];return e&&e[0]||void 0}function Fee(n){var e=n.createElement("div");return e.setAttribute("id",M5),e.style.cssText="position:fixed;z-index:1000000",n==null||n.body.appendChild(e),e}function Dee(){return Ree}var Pee=xs(),Nee=function(n){return n!=null&&n.current?n.current.classList.contains(ki):!1},T5=T.forwardRef(function(n,e){var t=xee(),i=T.useRef(null),r=Qc(i,e),o=T.useRef(),s=T.useRef(null),a=T.useContext(FS),l=T.useState(!1),u=l[0],c=l[1],d=T.useCallback(function(j){var ne=Nee(a==null?void 0:a.providerRef);j&&ne&&j.classList.add(ki)},[a]),m=n.children,v=n.className,y=n.eventBubblingEnabled,_=n.fabricProps,S=n.hostId,x=n.insertFirst,C=n.onLayerDidMount,b=C===void 0?function(){}:C,M=n.onLayerMounted,B=M===void 0?function(){}:M,k=n.onLayerWillUnmount,F=n.styles,R=n.theme,N=Qc(s,_==null?void 0:_.ref,d),U=Pee(F,{theme:R,className:v,isNotHost:!S}),G=function(j){var ne,te;if(S){var de=Lee(S);return de?(ne=de.rootRef.current)!==null&&ne!==void 0?ne:null:(te=j.getElementById(S))!==null&&te!==void 0?te:null}else{var O=Dee(),V=O?j.querySelector(O):null;return V||(V=Fee(j)),V}},oe=function(){k==null||k();var j=o.current;o.current=void 0,j&&j.parentNode&&j.parentNode.removeChild(j)},me=function(){var j,ne=Ao(i.current);if(ne){var te=G(ne);if(te){oe();var de=((j=te.ownerDocument)!==null&&j!==void 0?j:ne).createElement("div");de.className=U.root,SQ(de),_Q(de,i.current),x?te.insertBefore(de,te.firstChild):te.appendChild(de),o.current=de,c(!0)}}};return Pp(function(){me(),S&&Iee(S,me);var j=o.current?t(o.current):void 0;return function(){j&&j(),oe(),S&&kee(S,me)}},[S]),T.useEffect(function(){o.current&&u&&(B==null||B(),b==null||b(),c(!1))},[u,B,b]),T.createElement("span",{className:"ms-layer",ref:r},o.current&&W2.createPortal(T.createElement(a5,{layerRoot:!0,providerRef:N},T.createElement(Bee,le({},!y&&zee(),_,{className:Co(U.content,_==null?void 0:_.className),ref:N}),m)),o.current))});T5.displayName="LayerBase";var yx,Oee=function(n){n.eventPhase===Event.BUBBLING_PHASE&&n.type!=="mouseenter"&&n.type!=="mouseleave"&&n.type!=="touchstart"&&n.type!=="touchend"&&n.stopPropagation()};function zee(){return yx||(yx={},["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onTouchMove","onTouchStart","onTouchCancel","onTouchEnd","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onInvalid","onSubmit"].forEach(function(n){return yx[n]=Oee})),yx}var Uee={root:"ms-Layer",rootNoHost:"ms-Layer--fixed",content:"ms-Layer-content"},Hee=function(n){var e=n.className,t=n.isNotHost,i=n.theme,r=Xs(Uee,i);return{root:[r.root,i.fonts.medium,t&&[r.rootNoHost,{position:"fixed",zIndex:DS.Layer,top:0,left:0,bottom:0,right:0,visibility:"hidden"}],e],content:[r.content,{visibility:"visible"}]}},B5=ws(T5,Hee,void 0,{scope:"Layer",fields:["hostId","theme","styles"]}),aI=T.forwardRef(function(n,e){var t=n.layerProps,i=n.doNotLayer,r=sc(n,["layerProps","doNotLayer"]),o=T.createElement(See,le({},r,{doNotLayer:i,ref:e}));return i?o:T.createElement(B5,le({},t),o)});aI.displayName="Callout";var Gee="FocusTrapZone",Wee={disabled:!1,disableFirstFocus:!1,forceFocusInsideTrap:!0,isClickableOutsideFocusTrap:!1},Vee=function(n,e,t){T.useImperativeHandle(n,function(){return{get previouslyFocusedElement(){return e},focus:t}},[t,e])},cp=T.forwardRef(function(n,e){var t,i=T.useRef(null),r=T.useRef(null),o=T.useRef(null),s=Qc(i,e),a=YZ(),l=(t=yv(!1))!==null&&t!==void 0?t:!0,u=Kv(Wee,n),c=vv({hasFocus:!1,focusStackId:Np("ftz-",u.id)}),d=u.children,m=u.componentRef,v=u.disabled,y=u.disableFirstFocus,_=u.forceFocusInsideTrap,S=u.focusPreviouslyFocusedInnerElement,x=u.firstFocusableSelector,C=u.firstFocusableTarget,b=u.disableRestoreFocus,M=b===void 0?u.ignoreExternalFocusing:b,B=u.isClickableOutsideFocusTrap,k=u.enableAriaHiddenSiblings,F={"aria-hidden":!0,style:{pointerEvents:"none",position:"fixed"},tabIndex:v?-1:0,"data-is-visible":!0,"data-is-focus-trap-zone-bumper":!0},R=T.useCallback(function(ne){ne!==r.current&&ne!==o.current&&X8(ne)},[]),N=c3(function(){if(i.current){var ne=c.previouslyFocusedElementInTrapZone;if(S&&ne&&Gs(i.current,ne)){R(ne);return}var te=null;if(typeof C=="string")te=i.current.querySelector(C);else if(C)te=C(i.current);else if(x){var de=typeof x=="string"?x:x();te=i.current.querySelector("."+de)}te||(te=Uo(i.current,i.current.firstChild,!1,!1,!1,!0)),te&&R(te)}}),U=function(ne){if(!(v||!i.current)){var te=ne===c.hasFocus?AQ(i.current,o.current,!0,!1):bQ(i.current,r.current,!0,!1);te&&(te===r.current||te===o.current?N():te.focus())}},G=function(ne){var te;(te=u.onBlurCapture)===null||te===void 0||te.call(u,ne);var de=ne.relatedTarget;ne.relatedTarget===null&&(de=a.activeElement),Gs(i.current,de)||(c.hasFocus=!1)},oe=function(ne){var te;(te=u.onFocusCapture)===null||te===void 0||te.call(u,ne),ne.target===r.current?U(!0):ne.target===o.current&&U(!1),c.hasFocus=!0,ne.target!==ne.currentTarget&&!(ne.target===r.current||ne.target===o.current)&&(c.previouslyFocusedElementInTrapZone=ne.target)},me=c3(function(ne){if(cp.focusStack=cp.focusStack.filter(function(de){return c.focusStackId!==de}),!!a){var te=a.activeElement;!M&&typeof(ne==null?void 0:ne.focus)=="function"&&(Gs(i.current,te)||te===a.body)&&R(ne)}}),j=c3(function(ne){if(!v&&c.focusStackId===cp.focusStack.slice(-1)[0]){var te=ne.target;te&&!Gs(i.current,te)&&(a&&a.activeElement===a.body?setTimeout(function(){a&&a.activeElement===a.body&&(N(),c.hasFocus=!0)},0):(N(),c.hasFocus=!0),ne.preventDefault(),ne.stopPropagation())}});return T.useEffect(function(){var ne=[];return _&&ne.push(pf(window,"focus",j,!0)),B||ne.push(pf(window,"click",j,!0)),function(){ne.forEach(function(te){return te()})}},[_,B]),T.useEffect(function(){if(!(v||!l&&!_||!i.current)){cp.focusStack.push(c.focusStackId);var ne=u.elementToFocusOnDismiss||a.activeElement;return!y&&!Gs(i.current,ne)&&N(),function(){return me(ne)}}},[_,v]),T.useEffect(function(){if(!v&&k){var ne=u5(i.current);return ne}},[v,k,i]),ZZ(function(){delete c.previouslyFocusedElementInTrapZone}),Vee(m,c.previouslyFocusedElementInTrapZone,N),T.createElement("div",le({"aria-labelledby":u.ariaLabelledBy},Ci(u,bl),{ref:s,onFocusCapture:oe,onBlurCapture:G}),T.createElement("div",le({},F,{ref:r})),d,T.createElement("div",le({},F,{ref:o})))});cp.displayName=Gee;cp.focusStack=[];var iE;(function(n){n[n.default=0]="default",n[n.image=1]="image",n[n.Default=1e5]="Default",n[n.Image=100001]="Image"})(iE||(iE={}));var Hs;(function(n){n[n.center=0]="center",n[n.contain=1]="contain",n[n.cover=2]="cover",n[n.none=3]="none",n[n.centerCover=4]="centerCover",n[n.centerContain=5]="centerContain"})(Hs||(Hs={}));var zS;(function(n){n[n.landscape=0]="landscape",n[n.portrait=1]="portrait"})(zS||(zS={}));var cs;(function(n){n[n.notLoaded=0]="notLoaded",n[n.loaded=1]="loaded",n[n.error=2]="error",n[n.errorLoaded=3]="errorLoaded"})(cs||(cs={}));var Kee=xs(),$ee=/\.svg$/i,Jee="fabricImage";function qee(n,e){var t=n.onLoadingStateChange,i=n.onLoad,r=n.onError,o=n.src,s=T.useState(cs.notLoaded),a=s[0],l=s[1];Pp(function(){l(cs.notLoaded)},[o]),T.useEffect(function(){if(a===cs.notLoaded){var d=e.current?o&&e.current.naturalWidth>0&&e.current.naturalHeight>0||e.current.complete&&$ee.test(o):!1;d&&l(cs.loaded)}}),T.useEffect(function(){t==null||t(a)},[a]);var u=T.useCallback(function(d){i==null||i(d),o&&l(cs.loaded)},[o,i]),c=T.useCallback(function(d){r==null||r(d),l(cs.error)},[r]);return[a,u,c]}var R5=T.forwardRef(function(n,e){var t=T.useRef(),i=T.useRef(),r=qee(n,i),o=r[0],s=r[1],a=r[2],l=Ci(n,nY,["width","height"]),u=n.src,c=n.alt,d=n.width,m=n.height,v=n.shouldFadeIn,y=v===void 0?!0:v,_=n.shouldStartVisible,S=n.className,x=n.imageFit,C=n.role,b=n.maximizeFrame,M=n.styles,B=n.theme,k=n.loading,F=jee(n,o,i,t),R=Kee(M,{theme:B,className:S,width:d,height:m,maximizeFrame:b,shouldFadeIn:y,shouldStartVisible:_,isLoaded:o===cs.loaded||o===cs.notLoaded&&n.shouldStartVisible,isLandscape:F===zS.landscape,isCenter:x===Hs.center,isCenterContain:x===Hs.centerContain,isCenterCover:x===Hs.centerCover,isContain:x===Hs.contain,isCover:x===Hs.cover,isNone:x===Hs.none,isError:o===cs.error,isNotImageFit:x===void 0});return T.createElement("div",{className:R.root,style:{width:d,height:m},ref:t},T.createElement("img",le({},l,{onLoad:s,onError:a,key:Jee+n.src||"",className:R.image,ref:Qc(i,e),src:u,alt:c,role:C,loading:k})))});R5.displayName="ImageBase";function jee(n,e,t,i){var r=T.useRef(e),o=T.useRef();return(o===void 0||r.current===cs.notLoaded&&e===cs.loaded)&&(o.current=Xee(n,e,t,i)),r.current=e,o.current}function Xee(n,e,t,i){var r=n.imageFit,o=n.width,s=n.height;if(n.coverStyle!==void 0)return n.coverStyle;if(e===cs.loaded&&(r===Hs.cover||r===Hs.contain||r===Hs.centerContain||r===Hs.centerCover)&&t.current&&i.current){var a=void 0;typeof o=="number"&&typeof s=="number"&&r!==Hs.centerContain&&r!==Hs.centerCover?a=o/s:a=i.current.clientWidth/i.current.clientHeight;var l=t.current.naturalWidth/t.current.naturalHeight;if(l>a)return zS.landscape}return zS.portrait}var Qee={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterContain:"ms-Image-image--centerContain",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},Yee=function(n){var e=n.className,t=n.width,i=n.height,r=n.maximizeFrame,o=n.isLoaded,s=n.shouldFadeIn,a=n.shouldStartVisible,l=n.isLandscape,u=n.isCenter,c=n.isContain,d=n.isCover,m=n.isCenterContain,v=n.isCenterCover,y=n.isNone,_=n.isError,S=n.isNotImageFit,x=n.theme,C=Xs(Qee,x),b={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"},M=Vi(),B=M!==void 0&&M.navigator.msMaxTouchPoints===void 0,k=c&&l||d&&!l?{width:"100%",height:"auto"}:{width:"auto",height:"100%"};return{root:[C.root,x.fonts.medium,{overflow:"hidden"},r&&[C.rootMaximizeFrame,{height:"100%",width:"100%"}],o&&s&&!a&&Yl.fadeIn400,(u||c||d||m||v)&&{position:"relative"},e],image:[C.image,{display:"block",opacity:0},o&&["is-loaded",{opacity:1}],u&&[C.imageCenter,b],c&&[C.imageContain,B&&{width:"100%",height:"100%",objectFit:"contain"},!B&&k,!B&&b],d&&[C.imageCover,B&&{width:"100%",height:"100%",objectFit:"cover"},!B&&k,!B&&b],m&&[C.imageCenterContain,l&&{maxWidth:"100%"},!l&&{maxHeight:"100%"},b],v&&[C.imageCenterCover,l&&{maxHeight:"100%"},!l&&{maxWidth:"100%"},b],y&&[C.imageNone,{width:"auto",height:"auto"}],S&&[!!t&&!i&&{height:"auto",width:"100%"},!t&&!!i&&{height:"100%",width:"auto"},!!t&&!!i&&{height:"100%",width:"100%"}],l&&C.imageLandscape,!l&&C.imagePortrait,!o&&"is-notLoaded",s&&"is-fadeIn",_&&"is-error"]}},lI=ws(R5,Yee,void 0,{scope:"Image"},!0);lI.displayName="Image";var Cp=b1({root:{display:"inline-block"},placeholder:["ms-Icon-placeHolder",{width:"1em"}],image:["ms-Icon-imageContainer",{overflow:"hidden"}]}),I5="ms-Icon",Zee=function(n){var e=n.className,t=n.iconClassName,i=n.isPlaceholder,r=n.isImage,o=n.styles;return{root:[i&&Cp.placeholder,Cp.root,r&&Cp.image,t,e,o&&o.root,o&&o.imageContainer]}},k5=Ji(function(n){var e=_Y(n)||{subset:{},code:void 0},t=e.code,i=e.subset;return t?{children:t,iconClassName:i.className,fontFamily:i.fontFace&&i.fontFace.fontFamily,mergeImageProps:i.mergeImageProps}:null},void 0,!0),_B=function(n){var e=n.iconName,t=n.className,i=n.style,r=i===void 0?{}:i,o=k5(e)||{},s=o.iconClassName,a=o.children,l=o.fontFamily,u=o.mergeImageProps,c=Ci(n,qi),d=n["aria-label"]||n.title,m=n["aria-label"]||n["aria-labelledby"]||n.title?{role:u?void 0:"img"}:{"aria-hidden":!0},v=a;return u&&typeof a=="object"&&typeof a.props=="object"&&d&&(v=T.cloneElement(a,{alt:d})),T.createElement("i",le({"data-icon-name":e},m,c,u?{title:void 0,"aria-label":void 0}:{},{className:Co(I5,Cp.root,s,!e&&Cp.placeholder,t),style:le({fontFamily:l},r)}),v)};Ji(function(n,e,t){return _B({iconName:n,className:e,"aria-label":t})});var ete=xs({cacheSize:100}),tte=function(n){Lr(e,n);function e(t){var i=n.call(this,t)||this;return i._onImageLoadingStateChange=function(r){i.props.imageProps&&i.props.imageProps.onLoadingStateChange&&i.props.imageProps.onLoadingStateChange(r),r===cs.error&&i.setState({imageLoadError:!0})},i.state={imageLoadError:!1},i}return e.prototype.render=function(){var t=this.props,i=t.children,r=t.className,o=t.styles,s=t.iconName,a=t.imageErrorAs,l=t.theme,u=typeof s=="string"&&s.length===0,c=!!this.props.imageProps||this.props.iconType===iE.image||this.props.iconType===iE.Image,d=k5(s)||{},m=d.iconClassName,v=d.children,y=d.mergeImageProps,_=ete(o,{theme:l,className:r,iconClassName:m,isImage:c,isPlaceholder:u}),S=c?"span":"i",x=Ci(this.props,qi,["aria-label"]),C=this.state.imageLoadError,b=le(le({},this.props.imageProps),{onLoadingStateChange:this._onImageLoadingStateChange}),M=C&&a||lI,B=this.props["aria-label"]||this.props.ariaLabel,k=b.alt||B||this.props.title,F=!!(k||this.props["aria-labelledby"]||b["aria-label"]||b["aria-labelledby"]),R=F?{role:c||y?void 0:"img","aria-label":c||y?void 0:k}:{"aria-hidden":!0},N=v;return y&&v&&typeof v=="object"&&k&&(N=T.cloneElement(v,{alt:k})),T.createElement(S,le({"data-icon-name":s},R,x,y?{title:void 0,"aria-label":void 0}:{},{className:_.root}),c?T.createElement(M,le({},b)):i||N)},e}(T.Component),ld=ws(tte,Zee,void 0,{scope:"Icon"},!0);ld.displayName="Icon";var nte=function(n){var e=n.className,t=n.imageProps,i=Ci(n,qi,["aria-label","aria-labelledby","title","aria-describedby"]),r=t.alt||n["aria-label"],o=r||n["aria-labelledby"]||n.title||t["aria-label"]||t["aria-labelledby"]||t.title,s={"aria-labelledby":n["aria-labelledby"],"aria-describedby":n["aria-describedby"],title:n.title},a=o?{}:{"aria-hidden":!0};return T.createElement("div",le({},a,i,{className:Co(I5,Cp.root,Cp.image,e)}),T.createElement(lI,le({},s,t,{alt:o?r:""})))},xB={none:0,all:1,inputOnly:2},_o;(function(n){n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal",n[n.bidirectional=2]="bidirectional",n[n.domOrder=3]="domOrder"})(_o||(_o={}));var Sx="data-is-focusable",ite="data-disable-click-on-enter",f3="data-focuszone-id",Fu="tabindex",h3="data-no-vertical-wrap",p3="data-no-horizontal-wrap",m3=999999999,ry=-999999999,g3,rte="ms-FocusZone";function ote(n,e){var t;typeof MouseEvent=="function"?t=new MouseEvent("click",{ctrlKey:e==null?void 0:e.ctrlKey,metaKey:e==null?void 0:e.metaKey,shiftKey:e==null?void 0:e.shiftKey,altKey:e==null?void 0:e.altKey,bubbles:e==null?void 0:e.bubbles,cancelable:e==null?void 0:e.cancelable}):(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",e?e.bubbles:!1,e?e.cancelable:!1,window,0,0,0,0,0,e?e.ctrlKey:!1,e?e.altKey:!1,e?e.shiftKey:!1,e?e.metaKey:!1,0,null)),n.dispatchEvent(t)}function ste(){return g3||(g3=zc({selectors:{":focus":{outline:"none"}}},rte)),g3}var oy={},_x=new Set,ate=["text","number","password","email","tel","url","search","textarea"],Ec=!1,uI=function(n){Lr(e,n);function e(t){var i=this,r,o,s,a;i=n.call(this,t)||this,i._root=T.createRef(),i._mergedRef=c5(),i._onFocus=function(u){if(!i._portalContainsElement(u.target)){var c=i.props,d=c.onActiveElementChanged,m=c.doNotAllowFocusEventToPropagate,v=c.stopFocusPropagation,y=c.onFocusNotification,_=c.onFocus,S=c.shouldFocusInnerElementWhenReceivedFocus,x=c.defaultTabbableElement,C=i._isImmediateDescendantOfZone(u.target),b;if(C)b=u.target;else for(var M=u.target;M&&M!==i._root.current;){if(Ku(M)&&i._isImmediateDescendantOfZone(M)){b=M;break}M=Hu(M,Ec)}if(S&&u.target===i._root.current){var B=x&&typeof x=="function"&&i._root.current&&x(i._root.current);B&&Ku(B)?(b=B,B.focus()):(i.focus(!0),i._activeElement&&(b=null))}var k=!i._activeElement;b&&b!==i._activeElement&&((C||k)&&i._setFocusAlignment(b,!0,!0),i._activeElement=b,k&&i._updateTabIndexes()),d&&d(i._activeElement,u),(v||m)&&u.stopPropagation(),_?_(u):y&&y()}},i._onBlur=function(){i._setParkedFocus(!1)},i._onMouseDown=function(u){if(!i._portalContainsElement(u.target)){var c=i.props.disabled;if(!c){for(var d=u.target,m=[];d&&d!==i._root.current;)m.push(d),d=Hu(d,Ec);for(;m.length&&(d=m.pop(),d&&Ku(d)&&i._setActiveElement(d,!0),!Dc(d)););}}},i._onKeyDown=function(u,c){if(!i._portalContainsElement(u.target)){var d=i.props,m=d.direction,v=d.disabled,y=d.isInnerZoneKeystroke,_=d.pagingSupportDisabled,S=d.shouldEnterInnerZone;if(!v&&(i.props.onKeyDown&&i.props.onKeyDown(u),!u.isDefaultPrevented()&&!(i._getDocument().activeElement===i._root.current&&i._isInnerZone))){if((S&&S(u)||y&&y(u))&&i._isImmediateDescendantOfZone(u.target)){var x=i._getFirstInnerZone();if(x){if(!x.focus(!0))return}else if(Z2(u.target)){if(!i.focusElement(Uo(u.target,u.target.firstChild,!0)))return}else return}else{if(u.altKey)return;switch(u.which){case Bt.space:if(i._shouldRaiseClicksOnSpace&&i._tryInvokeClickForFocusable(u.target,u))break;return;case Bt.left:if(m!==_o.vertical&&(i._preventDefaultWhenHandled(u),i._moveFocusLeft(c)))break;return;case Bt.right:if(m!==_o.vertical&&(i._preventDefaultWhenHandled(u),i._moveFocusRight(c)))break;return;case Bt.up:if(m!==_o.horizontal&&(i._preventDefaultWhenHandled(u),i._moveFocusUp()))break;return;case Bt.down:if(m!==_o.horizontal&&(i._preventDefaultWhenHandled(u),i._moveFocusDown()))break;return;case Bt.pageDown:if(!_&&i._moveFocusPaging(!0))break;return;case Bt.pageUp:if(!_&&i._moveFocusPaging(!1))break;return;case Bt.tab:if(i.props.allowTabKey||i.props.handleTabKey===xB.all||i.props.handleTabKey===xB.inputOnly&&i._isElementInput(u.target)){var C=!1;if(i._processingTabKey=!0,m===_o.vertical||!i._shouldWrapFocus(i._activeElement,p3))C=u.shiftKey?i._moveFocusUp():i._moveFocusDown();else{var b=xo(c)?!u.shiftKey:u.shiftKey;C=b?i._moveFocusLeft(c):i._moveFocusRight(c)}if(i._processingTabKey=!1,C)break;i.props.shouldResetActiveElementWhenTabFromZone&&(i._activeElement=null)}return;case Bt.home:if(i._isContentEditableElement(u.target)||i._isElementInput(u.target)&&!i._shouldInputLoseFocus(u.target,!1))return!1;var M=i._root.current&&i._root.current.firstChild;if(i._root.current&&M&&i.focusElement(Uo(i._root.current,M,!0)))break;return;case Bt.end:if(i._isContentEditableElement(u.target)||i._isElementInput(u.target)&&!i._shouldInputLoseFocus(u.target,!0))return!1;var B=i._root.current&&i._root.current.lastChild;if(i._root.current&&i.focusElement(us(i._root.current,B,!0,!0,!0)))break;return;case Bt.enter:if(i._shouldRaiseClicksOnEnter&&i._tryInvokeClickForFocusable(u.target,u))break;return;default:return}}u.preventDefault(),u.stopPropagation()}}},i._getHorizontalDistanceFromCenter=function(u,c,d){var m=i._focusAlignment.left||i._focusAlignment.x||0,v=Math.floor(d.top),y=Math.floor(c.bottom),_=Math.floor(d.bottom),S=Math.floor(c.top),x=u&&v>y,C=!u&&_<S;return x||C?m>=d.left&&m<=d.left+d.width?0:Math.abs(d.left+d.width/2-m):i._shouldWrapFocus(i._activeElement,h3)?m3:ry},Qf(i),i._id=yl("FocusZone"),i._focusAlignment={left:0,top:0},i._processingTabKey=!1;var l=(o=(r=t.shouldRaiseClicks)!==null&&r!==void 0?r:e.defaultProps.shouldRaiseClicks)!==null&&o!==void 0?o:!0;return i._shouldRaiseClicksOnEnter=(s=t.shouldRaiseClicksOnEnter)!==null&&s!==void 0?s:l,i._shouldRaiseClicksOnSpace=(a=t.shouldRaiseClicksOnSpace)!==null&&a!==void 0?a:l,i}return e.getOuterZones=function(){return _x.size},e._onKeyDownCapture=function(t){t.which===Bt.tab&&_x.forEach(function(i){return i._updateTabIndexes()})},e.prototype.componentDidMount=function(){var t=this._root.current;if(oy[this._id]=this,t){for(var i=Hu(t,Ec);i&&i!==this._getDocument().body&&i.nodeType===1;){if(Dc(i)){this._isInnerZone=!0;break}i=Hu(i,Ec)}this._isInnerZone||(_x.add(this),this._root.current&&this._root.current.addEventListener("keydown",e._onKeyDownCapture,!0)),this._root.current&&this._root.current.addEventListener("blur",this._onBlur,!0),this._updateTabIndexes(),this.props.defaultTabbableElement&&typeof this.props.defaultTabbableElement=="string"?this._activeElement=this._getDocument().querySelector(this.props.defaultTabbableElement):this.props.defaultActiveElement&&(this._activeElement=this._getDocument().querySelector(this.props.defaultActiveElement)),this.props.shouldFocusOnMount&&this.focus()}},e.prototype.componentDidUpdate=function(){var t=this._root.current,i=this._getDocument();if((this._activeElement&&!Gs(this._root.current,this._activeElement,Ec)||this._defaultFocusElement&&!Gs(this._root.current,this._defaultFocusElement,Ec))&&(this._activeElement=null,this._defaultFocusElement=null,this._updateTabIndexes()),!this.props.preventFocusRestoration&&i&&this._lastIndexPath&&(i.activeElement===i.body||i.activeElement===null||i.activeElement===t)){var r=BQ(t,this._lastIndexPath);r?(this._setActiveElement(r,!0),r.focus(),this._setParkedFocus(!1)):this._setParkedFocus(!0)}},e.prototype.componentWillUnmount=function(){delete oy[this._id],this._isInnerZone||(_x.delete(this),this._root.current&&this._root.current.removeEventListener("keydown",e._onKeyDownCapture,!0)),this._root.current&&this._root.current.removeEventListener("blur",this._onBlur,!0),this._activeElement=null,this._defaultFocusElement=null},e.prototype.render=function(){var t=this,i=this.props,r=i.as,o=i.elementType,s=i.rootProps,a=i.ariaDescribedBy,l=i.ariaLabelledBy,u=i.className,c=Ci(this.props,qi),d=r||o||"div";this._evaluateFocusBeforeRender();var m=bZ();return T.createElement(d,le({"aria-labelledby":l,"aria-describedby":a},c,s,{className:Co(ste(),u),ref:this._mergedRef(this.props.elementRef,this._root),"data-focuszone-id":this._id,onKeyDown:function(v){return t._onKeyDown(v,m)},onFocus:this._onFocus,onMouseDownCapture:this._onMouseDown}),this.props.children)},e.prototype.focus=function(t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!1),this._root.current)if(!t&&this._root.current.getAttribute(Sx)==="true"&&this._isInnerZone){var r=this._getOwnerZone(this._root.current);if(r!==this._root.current){var o=oy[r.getAttribute(f3)];return!!o&&o.focusElement(this._root.current)}return!1}else{if(!t&&this._activeElement&&Gs(this._root.current,this._activeElement)&&Ku(this._activeElement)&&(!i||q8(this._activeElement)))return this._activeElement.focus(),!0;var s=this._root.current.firstChild;return this.focusElement(Uo(this._root.current,s,!0,void 0,void 0,void 0,void 0,void 0,i))}return!1},e.prototype.focusLast=function(){if(this._root.current){var t=this._root.current&&this._root.current.lastChild;return this.focusElement(us(this._root.current,t,!0,!0,!0))}return!1},e.prototype.focusElement=function(t,i){var r=this.props,o=r.onBeforeFocus,s=r.shouldReceiveFocus;return s&&!s(t)||o&&!o(t)?!1:t?(this._setActiveElement(t,i),this._activeElement&&this._activeElement.focus(),!0):!1},e.prototype.setFocusAlignment=function(t){this._focusAlignment=t},Object.defineProperty(e.prototype,"defaultFocusElement",{get:function(){return this._defaultFocusElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeElement",{get:function(){return this._activeElement},enumerable:!1,configurable:!0}),e.prototype._evaluateFocusBeforeRender=function(){var t=this._root.current,i=this._getDocument();if(i){var r=i.activeElement;if(r!==t){var o=Gs(t,r,!1);this._lastIndexPath=o?RQ(t,r):void 0}}},e.prototype._setParkedFocus=function(t){var i=this._root.current;i&&this._isParked!==t&&(this._isParked=t,t?(this.props.allowFocusRoot||(this._parkedTabIndex=i.getAttribute("tabindex"),i.setAttribute("tabindex","-1")),i.focus()):this.props.allowFocusRoot||(this._parkedTabIndex?(i.setAttribute("tabindex",this._parkedTabIndex),this._parkedTabIndex=void 0):i.removeAttribute("tabindex")))},e.prototype._setActiveElement=function(t,i){var r=this._activeElement;this._activeElement=t,r&&(Dc(r)&&this._updateTabIndexes(r),r.tabIndex=-1),this._activeElement&&((!this._focusAlignment||i)&&this._setFocusAlignment(t,!0,!0),this._activeElement.tabIndex=0)},e.prototype._preventDefaultWhenHandled=function(t){this.props.preventDefaultWhenHandled&&t.preventDefault()},e.prototype._tryInvokeClickForFocusable=function(t,i){var r=t;if(r===this._root.current)return!1;do{if(r.tagName==="BUTTON"||r.tagName==="A"||r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.tagName==="SUMMARY")return!1;if(this._isImmediateDescendantOfZone(r)&&r.getAttribute(Sx)==="true"&&r.getAttribute(ite)!=="true")return ote(r,i),!0;r=Hu(r,Ec)}while(r!==this._root.current);return!1},e.prototype._getFirstInnerZone=function(t){if(t=t||this._activeElement||this._root.current,!t)return null;if(Dc(t))return oy[t.getAttribute(f3)];for(var i=t.firstElementChild;i;){if(Dc(i))return oy[i.getAttribute(f3)];var r=this._getFirstInnerZone(i);if(r)return r;i=i.nextElementSibling}return null},e.prototype._moveFocus=function(t,i,r,o){o===void 0&&(o=!0);var s=this._activeElement,a=-1,l=void 0,u=!1,c=this.props.direction===_o.bidirectional;if(!s||!this._root.current||this._isElementInput(s)&&!this._shouldInputLoseFocus(s,t))return!1;var d=c?s.getBoundingClientRect():null;do if(s=t?Uo(this._root.current,s):us(this._root.current,s),c){if(s){var m=s.getBoundingClientRect(),v=i(d,m);if(v===-1&&a===-1){l=s;break}if(v>-1&&(a===-1||v<a)&&(a=v,l=s),a>=0&&v<0)break}}else{l=s;break}while(s);if(l&&l!==this._activeElement)u=!0,this.focusElement(l);else if(this.props.isCircularNavigation&&o)return t?this.focusElement(Uo(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(us(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return u},e.prototype._moveFocusDown=function(){var t=this,i=-1,r=this._focusAlignment.left||this._focusAlignment.x||0;return this._moveFocus(!0,function(o,s){var a=-1,l=Math.floor(s.top),u=Math.floor(o.bottom);return l<u?t._shouldWrapFocus(t._activeElement,h3)?m3:ry:((i===-1&&l>=u||l===i)&&(i=l,r>=s.left&&r<=s.left+s.width?a=0:a=Math.abs(s.left+s.width/2-r)),a)})?(this._setFocusAlignment(this._activeElement,!1,!0),!0):!1},e.prototype._moveFocusUp=function(){var t=this,i=-1,r=this._focusAlignment.left||this._focusAlignment.x||0;return this._moveFocus(!1,function(o,s){var a=-1,l=Math.floor(s.bottom),u=Math.floor(s.top),c=Math.floor(o.top);return l>c?t._shouldWrapFocus(t._activeElement,h3)?m3:ry:((i===-1&&l<=c||u===i)&&(i=u,r>=s.left&&r<=s.left+s.width?a=0:a=Math.abs(s.left+s.width/2-r)),a)})?(this._setFocusAlignment(this._activeElement,!1,!0),!0):!1},e.prototype._moveFocusLeft=function(t){var i=this,r=this._shouldWrapFocus(this._activeElement,p3);return this._moveFocus(xo(t),function(o,s){var a=-1,l;return xo(t)?l=parseFloat(s.top.toFixed(3))<parseFloat(o.bottom.toFixed(3)):l=parseFloat(s.bottom.toFixed(3))>parseFloat(o.top.toFixed(3)),l&&s.right<=o.right&&i.props.direction!==_o.vertical?a=o.right-s.right:r||(a=ry),a},void 0,r)?(this._setFocusAlignment(this._activeElement,!0,!1),!0):!1},e.prototype._moveFocusRight=function(t){var i=this,r=this._shouldWrapFocus(this._activeElement,p3);return this._moveFocus(!xo(t),function(o,s){var a=-1,l;return xo(t)?l=parseFloat(s.bottom.toFixed(3))>parseFloat(o.top.toFixed(3)):l=parseFloat(s.top.toFixed(3))<parseFloat(o.bottom.toFixed(3)),l&&s.left>=o.left&&i.props.direction!==_o.vertical?a=s.left-o.left:r||(a=ry),a},void 0,r)?(this._setFocusAlignment(this._activeElement,!0,!1),!0):!1},e.prototype._moveFocusPaging=function(t,i){i===void 0&&(i=!0);var r=this._activeElement;if(!r||!this._root.current||this._isElementInput(r)&&!this._shouldInputLoseFocus(r,t))return!1;var o=U8(r);if(!o)return!1;var s=-1,a=void 0,l=-1,u=-1,c=o.clientHeight,d=r.getBoundingClientRect();do if(r=t?Uo(this._root.current,r):us(this._root.current,r),r){var m=r.getBoundingClientRect(),v=Math.floor(m.top),y=Math.floor(d.bottom),_=Math.floor(m.bottom),S=Math.floor(d.top),x=this._getHorizontalDistanceFromCenter(t,d,m),C=t&&v>y+c,b=!t&&_<S-c;if(C||b)break;x>-1&&(t&&v>l?(l=v,s=x,a=r):!t&&_<u?(u=_,s=x,a=r):(s===-1||x<=s)&&(s=x,a=r))}while(r);var M=!1;if(a&&a!==this._activeElement)M=!0,this.focusElement(a),this._setFocusAlignment(a,!1,!0);else if(this.props.isCircularNavigation&&i)return t?this.focusElement(Uo(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(us(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return M},e.prototype._setFocusAlignment=function(t,i,r){if(this.props.direction===_o.bidirectional&&(!this._focusAlignment||i||r)){var o=t.getBoundingClientRect(),s=o.left+o.width/2,a=o.top+o.height/2;this._focusAlignment||(this._focusAlignment={left:s,top:a}),i&&(this._focusAlignment.left=s),r&&(this._focusAlignment.top=a)}},e.prototype._isImmediateDescendantOfZone=function(t){return this._getOwnerZone(t)===this._root.current},e.prototype._getOwnerZone=function(t){for(var i=Hu(t,Ec);i&&i!==this._root.current&&i!==this._getDocument().body;){if(Dc(i))return i;i=Hu(i,Ec)}return i},e.prototype._updateTabIndexes=function(t){!this._activeElement&&this.props.defaultTabbableElement&&typeof this.props.defaultTabbableElement=="function"&&(this._activeElement=this.props.defaultTabbableElement(this._root.current)),!t&&this._root.current&&(this._defaultFocusElement=null,t=this._root.current,this._activeElement&&!Gs(t,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!Ku(this._activeElement)&&(this._activeElement=null);for(var i=t&&t.children,r=0;i&&r<i.length;r++){var o=i[r];Dc(o)?o.getAttribute(Sx)==="true"&&(!this._isInnerZone&&(!this._activeElement&&!this._defaultFocusElement||this._activeElement===o)?(this._defaultFocusElement=o,o.getAttribute(Fu)!=="0"&&o.setAttribute(Fu,"0")):o.getAttribute(Fu)!=="-1"&&o.setAttribute(Fu,"-1")):(o.getAttribute&&o.getAttribute(Sx)==="false"&&o.setAttribute(Fu,"-1"),Ku(o)?this.props.disabled?o.setAttribute(Fu,"-1"):!this._isInnerZone&&(!this._activeElement&&!this._defaultFocusElement||this._activeElement===o)?(this._defaultFocusElement=o,o.getAttribute(Fu)!=="0"&&o.setAttribute(Fu,"0")):o.getAttribute(Fu)!=="-1"&&o.setAttribute(Fu,"-1"):o.tagName==="svg"&&o.getAttribute("focusable")!=="false"&&o.setAttribute("focusable","false")),this._updateTabIndexes(o)}},e.prototype._isContentEditableElement=function(t){return t&&t.getAttribute("contenteditable")==="true"},e.prototype._isElementInput=function(t){return!!(t&&t.tagName&&(t.tagName.toLowerCase()==="input"||t.tagName.toLowerCase()==="textarea"))},e.prototype._shouldInputLoseFocus=function(t,i){if(!this._processingTabKey&&t&&t.type&&ate.indexOf(t.type.toLowerCase())>-1){var r=t.selectionStart,o=t.selectionEnd,s=r!==o,a=t.value,l=t.readOnly;if(s||r>0&&!i&&!l||r!==a.length&&i&&!l||this.props.handleTabKey&&!(this.props.shouldInputLoseFocusOnArrowKey&&this.props.shouldInputLoseFocusOnArrowKey(t)))return!1}return!0},e.prototype._shouldWrapFocus=function(t,i){return this.props.checkForNoWrap?j8(t,i):!0},e.prototype._portalContainsElement=function(t){return t&&!!this._root.current&&K8(t,this._root.current)},e.prototype._getDocument=function(){return Ao(this._root.current)},e.defaultProps={isCircularNavigation:!1,direction:_o.bidirectional,shouldRaiseClicks:!0},e}(T.Component),zo;(function(n){n[n.Normal=0]="Normal",n[n.Divider=1]="Divider",n[n.Header=2]="Header",n[n.Section=3]="Section"})(zo||(zo={}));function Sv(n){return n.canCheck?!!(n.isChecked||n.checked):typeof n.isChecked=="boolean"?n.isChecked:typeof n.checked=="boolean"?n.checked:null}function Yc(n){return!!(n.subMenuProps||n.items)}function ju(n){return!!(n.isDisabled||n.disabled)}function L5(n){var e=Sv(n),t=e!==null;return t?"menuitemcheckbox":"menuitem"}var ZD=function(n){var e=n.item,t=n.classNames,i=e.iconProps;return T.createElement(ld,le({},i,{className:t.icon}))},lte=function(n){var e=n.item,t=n.hasIcons;return t?e.onRenderIcon?e.onRenderIcon(n,ZD):ZD(n):null},ute=function(n){var e=n.onCheckmarkClick,t=n.item,i=n.classNames,r=Sv(t);if(e){var o=function(s){return e(t,s)};return T.createElement(ld,{iconName:t.canCheck!==!1&&r?"CheckMark":"",className:i.checkmarkIcon,onClick:o})}return null},cte=function(n){var e=n.item,t=n.classNames;return e.text||e.name?T.createElement("span",{className:t.label},e.text||e.name):null},dte=function(n){var e=n.item,t=n.classNames;return e.secondaryText?T.createElement("span",{className:t.secondaryText},e.secondaryText):null},fte=function(n){var e=n.item,t=n.classNames,i=n.theme;return Yc(e)?T.createElement(ld,le({iconName:xo(i)?"ChevronLeft":"ChevronRight"},e.submenuIconProps,{className:t.subMenuIcon})):null},hte=function(n){Lr(e,n);function e(t){var i=n.call(this,t)||this;return i.openSubMenu=function(){var r=i.props,o=r.item,s=r.openSubMenu,a=r.getSubmenuTarget;if(a){var l=a();Yc(o)&&s&&l&&s(o,l)}},i.dismissSubMenu=function(){var r=i.props,o=r.item,s=r.dismissSubMenu;Yc(o)&&s&&s()},i.dismissMenu=function(r){var o=i.props.dismissMenu;o&&o(void 0,r)},Qf(i),i}return e.prototype.render=function(){var t=this.props,i=t.item,r=t.classNames,o=i.onRenderContent||this._renderLayout;return T.createElement("div",{className:i.split?r.linkContentMenu:r.linkContent},o(this.props,{renderCheckMarkIcon:ute,renderItemIcon:lte,renderItemName:cte,renderSecondaryText:dte,renderSubMenuIcon:fte}))},e.prototype._renderLayout=function(t,i){return T.createElement(T.Fragment,null,i.renderCheckMarkIcon(t),i.renderItemIcon(t),i.renderItemName(t),i.renderSecondaryText(t),i.renderSubMenuIcon(t))},e}(T.Component),pte=Ji(function(n){return b1({wrapper:{display:"inline-flex",height:"100%",alignItems:"center"},divider:{width:1,height:"100%",backgroundColor:n.palette.neutralTertiaryAlt}})}),uf=36,eP=tI(0,h5),mte=Ji(function(n){var e,t,i,r,o,s=n.semanticColors,a=n.fonts,l=n.palette,u=s.menuItemBackgroundHovered,c=s.menuItemTextHovered,d=s.menuItemBackgroundPressed,m=s.bodyDivider,v={item:[a.medium,{color:s.bodyText,position:"relative",boxSizing:"border-box"}],divider:{display:"block",height:"1px",backgroundColor:m,position:"relative"},root:[mv(n),a.medium,{color:s.bodyText,backgroundColor:"transparent",border:"none",width:"100%",height:uf,lineHeight:uf,display:"block",cursor:"pointer",padding:"0px 8px 0 4px",textAlign:"left"}],rootDisabled:{color:s.disabledBodyText,cursor:"default",pointerEvents:"none",selectors:(e={},e[yt]={color:"GrayText",opacity:1},e)},rootHovered:{backgroundColor:u,color:c,selectors:{".ms-ContextualMenu-icon":{color:l.themeDarkAlt},".ms-ContextualMenu-submenuIcon":{color:l.neutralPrimary}}},rootFocused:{backgroundColor:l.white},rootChecked:{selectors:{".ms-ContextualMenu-checkmarkIcon":{color:l.neutralPrimary}}},rootPressed:{backgroundColor:d,selectors:{".ms-ContextualMenu-icon":{color:l.themeDark},".ms-ContextualMenu-submenuIcon":{color:l.neutralPrimary}}},rootExpanded:{backgroundColor:d,color:s.bodyTextChecked,selectors:(t={".ms-ContextualMenu-submenuIcon":(i={},i[yt]={color:"inherit"},i)},t[yt]=le({},Wo()),t)},linkContent:{whiteSpace:"nowrap",height:"inherit",display:"flex",alignItems:"center",maxWidth:"100%"},anchorLink:{padding:"0px 8px 0 4px",textRendering:"auto",color:"inherit",letterSpacing:"normal",wordSpacing:"normal",textTransform:"none",textIndent:"0px",textShadow:"none",textDecoration:"none",boxSizing:"border-box"},label:{margin:"0 4px",verticalAlign:"middle",display:"inline-block",flexGrow:"1",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},secondaryText:{color:n.palette.neutralSecondary,paddingLeft:"20px",textAlign:"right"},icon:{display:"inline-block",minHeight:"1px",maxHeight:uf,fontSize:Ql.medium,width:Ql.medium,margin:"0 4px",verticalAlign:"middle",flexShrink:"0",selectors:(r={},r[eP]={fontSize:Ql.large,width:Ql.large},r)},iconColor:{color:s.menuIcon},iconDisabled:{color:s.disabledBodyText},checkmarkIcon:{color:s.bodySubtext},subMenuIcon:{height:uf,lineHeight:uf,color:l.neutralSecondary,textAlign:"center",display:"inline-block",verticalAlign:"middle",flexShrink:"0",fontSize:Ql.small,selectors:(o={":hover":{color:l.neutralPrimary},":active":{color:l.neutralPrimary}},o[eP]={fontSize:Ql.medium},o)},splitButtonFlexContainer:[mv(n),{display:"flex",height:uf,flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-start"}]};return pu(v)}),tP="28px",gte=tI(0,h5),vte=Ji(function(n){var e;return b1(pte(n),{wrapper:{position:"absolute",right:28,selectors:(e={},e[gte]={right:32},e)},divider:{height:16,width:1}})}),yte={item:"ms-ContextualMenu-item",divider:"ms-ContextualMenu-divider",root:"ms-ContextualMenu-link",isChecked:"is-checked",isExpanded:"is-expanded",isDisabled:"is-disabled",linkContent:"ms-ContextualMenu-linkContent",linkContentMenu:"ms-ContextualMenu-linkContent",icon:"ms-ContextualMenu-icon",iconColor:"ms-ContextualMenu-iconColor",checkmarkIcon:"ms-ContextualMenu-checkmarkIcon",subMenuIcon:"ms-ContextualMenu-submenuIcon",label:"ms-ContextualMenu-itemText",secondaryText:"ms-ContextualMenu-secondaryText",splitMenu:"ms-ContextualMenu-splitMenu",screenReaderText:"ms-ContextualMenu-screenReaderText"},Ste=Ji(function(n,e,t,i,r,o,s,a,l,u,c,d){var m,v,y,_,S=mte(n),x=Xs(yte,n);return b1({item:[x.item,S.item,s],divider:[x.divider,S.divider,a],root:[x.root,S.root,i&&[x.isChecked,S.rootChecked],r&&S.anchorLink,t&&[x.isExpanded,S.rootExpanded],e&&[x.isDisabled,S.rootDisabled],!e&&!t&&[{selectors:(m={":hover":S.rootHovered,":active":S.rootPressed},m[".".concat(ki," &:focus, .").concat(ki," &:focus:hover")]=S.rootFocused,m[".".concat(ki," &:hover")]={background:"inherit;"},m)}],d],splitPrimary:[S.root,{width:"calc(100% - ".concat(tP,")")},i&&["is-checked",S.rootChecked],(e||c)&&["is-disabled",S.rootDisabled],!(e||c)&&!i&&[{selectors:(v={":hover":S.rootHovered},v[":hover ~ .".concat(x.splitMenu)]=S.rootHovered,v[":active"]=S.rootPressed,v[".".concat(ki," &:focus, .").concat(ki," &:focus:hover")]=S.rootFocused,v[".".concat(ki," &:hover")]={background:"inherit;"},v)}]],splitMenu:[x.splitMenu,S.root,{flexBasis:"0",padding:"0 8px",minWidth:tP},t&&["is-expanded",S.rootExpanded],e&&["is-disabled",S.rootDisabled],!e&&!t&&[{selectors:(y={":hover":S.rootHovered,":active":S.rootPressed},y[".".concat(ki," &:focus, .").concat(ki," &:focus:hover")]=S.rootFocused,y[".".concat(ki," &:hover")]={background:"inherit;"},y)}]],anchorLink:S.anchorLink,linkContent:[x.linkContent,S.linkContent],linkContentMenu:[x.linkContentMenu,S.linkContent,{justifyContent:"center"}],icon:[x.icon,o&&S.iconColor,S.icon,l,e&&[x.isDisabled,S.iconDisabled]],iconColor:S.iconColor,checkmarkIcon:[x.checkmarkIcon,o&&S.checkmarkIcon,S.icon,l],subMenuIcon:[x.subMenuIcon,S.subMenuIcon,u,t&&{color:n.palette.neutralPrimary},e&&[S.iconDisabled]],label:[x.label,S.label],secondaryText:[x.secondaryText,S.secondaryText],splitContainer:[S.splitButtonFlexContainer,!e&&!i&&[{selectors:(_={},_[".".concat(ki," &:focus, .").concat(ki," &:focus:hover")]=S.rootFocused,_)}]],screenReaderText:[x.screenReaderText,S.screenReaderText,p5,{visibility:"hidden"}]})}),F5=function(n){var e=n.theme,t=n.disabled,i=n.expanded,r=n.checked,o=n.isAnchorLink,s=n.knownIcon,a=n.itemClassName,l=n.dividerClassName,u=n.iconClassName,c=n.subMenuClassName,d=n.primaryDisabled,m=n.className;return Ste(e,t,i,r,o,s,a,l,u,c,d,m)},US=ws(hte,F5,void 0,{scope:"ContextualMenuItem"}),cI=function(n){Lr(e,n);function e(t){var i=n.call(this,t)||this;return i._onItemMouseEnter=function(r){var o=i.props,s=o.item,a=o.onItemMouseEnter;a&&a(s,r,r.currentTarget)},i._onItemClick=function(r){var o=i.props,s=o.item,a=o.onItemClickBase;a&&a(s,r,r.currentTarget)},i._onItemMouseLeave=function(r){var o=i.props,s=o.item,a=o.onItemMouseLeave;a&&a(s,r)},i._onItemKeyDown=function(r){var o=i.props,s=o.item,a=o.onItemKeyDown;a&&a(s,r)},i._onItemMouseMove=function(r){var o=i.props,s=o.item,a=o.onItemMouseMove;a&&a(s,r,r.currentTarget)},i._getSubmenuTarget=function(){},Qf(i),i}return e.prototype.shouldComponentUpdate=function(t){return!j2(t,this.props)},e}(T.Component),_te="ktp",nP="-",xte="data-ktp-target",wte="data-ktp-execute-target",Cte="ktp-layer-id",Uu;(function(n){n.KEYTIP_ADDED="keytipAdded",n.KEYTIP_REMOVED="keytipRemoved",n.KEYTIP_UPDATED="keytipUpdated",n.PERSISTED_KEYTIP_ADDED="persistedKeytipAdded",n.PERSISTED_KEYTIP_REMOVED="persistedKeytipRemoved",n.PERSISTED_KEYTIP_EXECUTE="persistedKeytipExecute",n.ENTER_KEYTIP_MODE="enterKeytipMode",n.EXIT_KEYTIP_MODE="exitKeytipMode"})(Uu||(Uu={}));var Ete=function(){function n(){this.keytips={},this.persistedKeytips={},this.sequenceMapping={},this.inKeytipMode=!1,this.shouldEnterKeytipMode=!0,this.delayUpdatingKeytipChange=!1}return n.getInstance=function(){return this._instance},n.prototype.init=function(e){this.delayUpdatingKeytipChange=e},n.prototype.register=function(e,t){t===void 0&&(t=!1);var i=e;t||(i=this.addParentOverflow(e),this.sequenceMapping[i.keySequences.toString()]=i);var r=this._getUniqueKtp(i);if(t?this.persistedKeytips[r.uniqueID]=r:this.keytips[r.uniqueID]=r,this.inKeytipMode||!this.delayUpdatingKeytipChange){var o=t?Uu.PERSISTED_KEYTIP_ADDED:Uu.KEYTIP_ADDED;Vu.raise(this,o,{keytip:i,uniqueID:r.uniqueID})}return r.uniqueID},n.prototype.update=function(e,t){var i=this.addParentOverflow(e),r=this._getUniqueKtp(i,t),o=this.keytips[t];o&&(r.keytip.visible=o.keytip.visible,this.keytips[t]=r,delete this.sequenceMapping[o.keytip.keySequences.toString()],this.sequenceMapping[r.keytip.keySequences.toString()]=r.keytip,(this.inKeytipMode||!this.delayUpdatingKeytipChange)&&Vu.raise(this,Uu.KEYTIP_UPDATED,{keytip:r.keytip,uniqueID:r.uniqueID}))},n.prototype.unregister=function(e,t,i){i===void 0&&(i=!1),i?delete this.persistedKeytips[t]:delete this.keytips[t],!i&&delete this.sequenceMapping[e.keySequences.toString()];var r=i?Uu.PERSISTED_KEYTIP_REMOVED:Uu.KEYTIP_REMOVED;(this.inKeytipMode||!this.delayUpdatingKeytipChange)&&Vu.raise(this,r,{keytip:e,uniqueID:t})},n.prototype.enterKeytipMode=function(){Vu.raise(this,Uu.ENTER_KEYTIP_MODE)},n.prototype.exitKeytipMode=function(){Vu.raise(this,Uu.EXIT_KEYTIP_MODE)},n.prototype.getKeytips=function(){var e=this;return Object.keys(this.keytips).map(function(t){return e.keytips[t].keytip})},n.prototype.addParentOverflow=function(e){var t=ui([],e.keySequences,!0);if(t.pop(),t.length!==0){var i=this.sequenceMapping[t.toString()];if(i&&i.overflowSetSequence)return le(le({},e),{overflowSetSequence:i.overflowSetSequence})}return e},n.prototype.menuExecute=function(e,t){Vu.raise(this,Uu.PERSISTED_KEYTIP_EXECUTE,{overflowButtonSequences:e,keytipSequences:t})},n.prototype._getUniqueKtp=function(e,t){return t===void 0&&(t=yl()),{keytip:le({},e),uniqueID:t}},n._instance=new n,n}();function D5(n){return n.reduce(function(e,t){return e+nP+t.split("").join(nP)},_te)}function bte(n,e){var t=e.length,i=ui([],e,!0).pop(),r=ui([],n,!0);return fQ(r,t-1,i)}function Ate(n){var e=" "+Cte;return n.length?e+" "+D5(n):e}function Mte(n){var e=T.useRef(),t=n.keytipProps?le({disabled:n.disabled},n.keytipProps):void 0,i=vv(Ete.getInstance()),r=yv(n);Pp(function(){e.current&&t&&((r==null?void 0:r.keytipProps)!==n.keytipProps||(r==null?void 0:r.disabled)!==n.disabled)&&i.update(t,e.current)}),Pp(function(){return t&&(e.current=i.register(t)),function(){t&&i.unregister(t,e.current)}},[]);var o={ariaDescribedBy:void 0,keytipId:void 0};return t&&(o=Tte(i,t,n.ariaDescribedBy)),o}function Tte(n,e,t){var i=n.addParentOverflow(e),r=Vv(t,Ate(i.keySequences)),o=ui([],i.keySequences,!0);i.overflowSetSequence&&(o=bte(o,i.overflowSetSequence));var s=D5(o);return{ariaDescribedBy:r,keytipId:s}}var HS=function(n){var e,t=n.children,i=sc(n,["children"]),r=Mte(i),o=r.keytipId,s=r.ariaDescribedBy;return t((e={},e[xte]=o,e[wte]=o,e["aria-describedby"]=s,e))},Bte=function(n){Lr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._anchor=T.createRef(),t._getMemoizedMenuButtonKeytipProps=Ji(function(i){return le(le({},i),{hasMenu:!0})}),t._getSubmenuTarget=function(){return t._anchor.current?t._anchor.current:void 0},t._onItemClick=function(i){var r=t.props,o=r.item,s=r.onItemClick;s&&s(o,i)},t._renderAriaDescription=function(i,r){return i?T.createElement("span",{id:t._ariaDescriptionId,className:r},i):null},t}return e.prototype.render=function(){var t=this,i=this.props,r=i.item,o=i.classNames,s=i.index,a=i.focusableElementIndex,l=i.totalItemCount,u=i.hasCheckmarks,c=i.hasIcons,d=i.contextualMenuItemAs,m=d===void 0?US:d,v=i.expandedMenuItemKey,y=i.onItemClick,_=i.openSubMenu,S=i.dismissSubMenu,x=i.dismissMenu,C=r.rel;r.target&&r.target.toLowerCase()==="_blank"&&(C=C||"nofollow noopener noreferrer");var b=Yc(r),M=Ci(r,Z8),B=ju(r),k=r.itemProps,F=r.ariaDescription,R=r.keytipProps;R&&b&&(R=this._getMemoizedMenuButtonKeytipProps(R)),F&&(this._ariaDescriptionId=yl());var N=Vv(r.ariaDescribedBy,F?this._ariaDescriptionId:void 0,M["aria-describedby"]),U={"aria-describedby":N};return T.createElement("div",null,T.createElement(HS,{keytipProps:r.keytipProps,ariaDescribedBy:N,disabled:B},function(G){return T.createElement("a",le({},U,M,G,{ref:t._anchor,href:r.href,target:r.target,rel:C,className:o.root,role:"menuitem","aria-haspopup":b||void 0,"aria-expanded":b?r.key===v:void 0,"aria-posinset":a+1,"aria-setsize":l,"aria-disabled":ju(r),style:r.style,onClick:t._onItemClick,onMouseEnter:t._onItemMouseEnter,onMouseLeave:t._onItemMouseLeave,onMouseMove:t._onItemMouseMove,onKeyDown:b?t._onItemKeyDown:void 0}),T.createElement(m,le({componentRef:r.componentRef,item:r,classNames:o,index:s,onCheckmarkClick:u&&y?y:void 0,hasIcons:c,openSubMenu:_,dismissSubMenu:S,dismissMenu:x,getSubmenuTarget:t._getSubmenuTarget},k)),t._renderAriaDescription(F,o.screenReaderText))}))},e}(cI),Rte=function(n){Lr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._btn=T.createRef(),t._getMemoizedMenuButtonKeytipProps=Ji(function(i){return le(le({},i),{hasMenu:!0})}),t._renderAriaDescription=function(i,r){return i?T.createElement("span",{id:t._ariaDescriptionId,className:r},i):null},t._getSubmenuTarget=function(){return t._btn.current?t._btn.current:void 0},t}return e.prototype.render=function(){var t=this,i=this.props,r=i.item,o=i.classNames,s=i.index,a=i.focusableElementIndex,l=i.totalItemCount,u=i.hasCheckmarks,c=i.hasIcons,d=i.contextualMenuItemAs,m=d===void 0?US:d,v=i.expandedMenuItemKey,y=i.onItemMouseDown,_=i.onItemClick,S=i.openSubMenu,x=i.dismissSubMenu,C=i.dismissMenu,b=Sv(r),M=b!==null,B=L5(r),k=Yc(r),F=r.itemProps,R=r.ariaLabel,N=r.ariaDescription,U=Ci(r,Dp);delete U.disabled;var G=r.role||B;N&&(this._ariaDescriptionId=yl());var oe=Vv(r.ariaDescribedBy,N?this._ariaDescriptionId:void 0,U["aria-describedby"]),me={className:o.root,onClick:this._onItemClick,onKeyDown:k?this._onItemKeyDown:void 0,onMouseEnter:this._onItemMouseEnter,onMouseLeave:this._onItemMouseLeave,onMouseDown:function(ne){return y?y(r,ne):void 0},onMouseMove:this._onItemMouseMove,href:r.href,title:r.title,"aria-label":R,"aria-describedby":oe,"aria-haspopup":k||void 0,"aria-expanded":k?r.key===v:void 0,"aria-posinset":a+1,"aria-setsize":l,"aria-disabled":ju(r),"aria-checked":(G==="menuitemcheckbox"||G==="menuitemradio")&&M?!!b:void 0,"aria-selected":G==="menuitem"&&M?!!b:void 0,role:G,style:r.style},j=r.keytipProps;return j&&k&&(j=this._getMemoizedMenuButtonKeytipProps(j)),T.createElement(HS,{keytipProps:j,ariaDescribedBy:oe,disabled:ju(r)},function(ne){return T.createElement("button",le({ref:t._btn},U,me,ne),T.createElement(m,le({componentRef:r.componentRef,item:r,classNames:o,index:s,onCheckmarkClick:u&&_?_:void 0,hasIcons:c,openSubMenu:S,dismissSubMenu:x,dismissMenu:C,getSubmenuTarget:t._getSubmenuTarget},F)),t._renderAriaDescription(N,o.screenReaderText))})},e}(cI),Ite=function(n){var e=n.theme,t=n.getClassNames,i=n.className;if(!e)throw new Error("Theme is undefined or null.");if(t){var r=t(e);return{wrapper:[r.wrapper],divider:[r.divider]}}return{wrapper:[{display:"inline-flex",height:"100%",alignItems:"center"},i],divider:[{width:1,height:"100%",backgroundColor:e.palette.neutralTertiaryAlt}]}},kte=xs(),P5=T.forwardRef(function(n,e){var t=n.styles,i=n.theme,r=n.getClassNames,o=n.className,s=kte(t,{theme:i,getClassNames:r,className:o});return T.createElement("span",{className:s.wrapper,ref:e},T.createElement("span",{className:s.divider}))});P5.displayName="VerticalDividerBase";var Lte=ws(P5,Ite,void 0,{scope:"VerticalDivider"}),Fte=500,Dte=function(n){Lr(e,n);function e(t){var i=n.call(this,t)||this;return i._getMemoizedMenuButtonKeytipProps=Ji(function(r){return le(le({},r),{hasMenu:!0})}),i._onItemKeyDown=function(r){var o=i.props,s=o.item,a=o.onItemKeyDown;r.which===Bt.enter?(i._executeItemClick(r),r.preventDefault(),r.stopPropagation()):a&&a(s,r)},i._getSubmenuTarget=function(){return i._splitButton},i._renderAriaDescription=function(r,o){return r?T.createElement("span",{id:i._ariaDescriptionId,className:o},r):null},i._onItemMouseEnterPrimary=function(r){var o=i.props,s=o.item,a=o.onItemMouseEnter;a&&a(le(le({},s),{subMenuProps:void 0,items:void 0}),r,i._splitButton)},i._onItemMouseEnterIcon=function(r){var o=i.props,s=o.item,a=o.onItemMouseEnter;a&&a(s,r,i._splitButton)},i._onItemMouseMovePrimary=function(r){var o=i.props,s=o.item,a=o.onItemMouseMove;a&&a(le(le({},s),{subMenuProps:void 0,items:void 0}),r,i._splitButton)},i._onItemMouseMoveIcon=function(r){var o=i.props,s=o.item,a=o.onItemMouseMove;a&&a(s,r,i._splitButton)},i._onIconItemClick=function(r){var o=i.props,s=o.item,a=o.onItemClickBase;a&&a(s,r,i._splitButton?i._splitButton:r.currentTarget)},i._executeItemClick=function(r){var o=i.props,s=o.item,a=o.executeItemClick,l=o.onItemClick;if(!(s.disabled||s.isDisabled)){if(i._processingTouch&&!s.canCheck&&l)return l(s,r);a&&a(s,r)}},i._onTouchStart=function(r){i._splitButton&&!("onpointerdown"in i._splitButton)&&i._handleTouchAndPointerEvent(r)},i._onPointerDown=function(r){r.pointerType==="touch"&&(i._handleTouchAndPointerEvent(r),r.preventDefault(),r.stopImmediatePropagation())},i._async=new A1(i),i._events=new Vu(i),i._dismissLabelId=yl(),i}return e.prototype.componentDidMount=function(){this._splitButton&&"onpointerdown"in this._splitButton&&this._events.on(this._splitButton,"pointerdown",this._onPointerDown,!0)},e.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},e.prototype.render=function(){var t=this,i,r=this.props,o=r.item,s=r.classNames,a=r.index,l=r.focusableElementIndex,u=r.totalItemCount,c=r.hasCheckmarks,d=r.hasIcons,m=r.onItemMouseLeave,v=r.expandedMenuItemKey,y=Yc(o),_=o.keytipProps;_&&(_=this._getMemoizedMenuButtonKeytipProps(_));var S=o.ariaDescription;S&&(this._ariaDescriptionId=yl());var x=(i=Sv(o))!==null&&i!==void 0?i:void 0;return T.createElement(HS,{keytipProps:_,disabled:ju(o)},function(C){return T.createElement("div",{"data-ktp-target":C["data-ktp-target"],ref:function(b){return t._splitButton=b},role:L5(o),"aria-label":o.ariaLabel,className:s.splitContainer,"aria-disabled":ju(o),"aria-expanded":y?o.key===v:void 0,"aria-haspopup":!0,"aria-describedby":Vv(o.ariaDescribedBy,S?t._ariaDescriptionId:void 0,C["aria-describedby"]),"aria-checked":x,"aria-posinset":l+1,"aria-setsize":u,onMouseEnter:t._onItemMouseEnterPrimary,onMouseLeave:m?m.bind(t,le(le({},o),{subMenuProps:null,items:null})):void 0,onMouseMove:t._onItemMouseMovePrimary,onKeyDown:t._onItemKeyDown,onClick:t._executeItemClick,onTouchStart:t._onTouchStart,tabIndex:0,"data-is-focusable":!0,"aria-roledescription":o["aria-roledescription"]},t._renderSplitPrimaryButton(o,s,a,c,d),t._renderSplitDivider(o),t._renderSplitIconButton(o,s,a,C),t._renderAriaDescription(S,s.screenReaderText))})},e.prototype._renderSplitPrimaryButton=function(t,i,r,o,s){var a=this.props,l=a.contextualMenuItemAs,u=l===void 0?US:l,c=a.onItemClick,d={key:t.key,disabled:ju(t)||t.primaryDisabled,name:t.name,text:t.text||t.name,secondaryText:t.secondaryText,className:i.splitPrimary,canCheck:t.canCheck,isChecked:t.isChecked,checked:t.checked,iconProps:t.iconProps,id:this._dismissLabelId,onRenderIcon:t.onRenderIcon,data:t.data,"data-is-focusable":!1},m=t.itemProps;return T.createElement("button",le({},Ci(d,Dp)),T.createElement(u,le({"data-is-focusable":!1,item:d,classNames:i,index:r,onCheckmarkClick:o&&c?c:void 0,hasIcons:s},m)))},e.prototype._renderSplitDivider=function(t){var i=t.getSplitButtonVerticalDividerClassNames||vte;return T.createElement(Lte,{getClassNames:i})},e.prototype._renderSplitIconButton=function(t,i,r,o){var s=this.props,a=s.contextualMenuItemAs,l=a===void 0?US:a,u=s.onItemMouseLeave,c=s.onItemMouseDown,d=s.openSubMenu,m=s.dismissSubMenu,v=s.dismissMenu,y={onClick:this._onIconItemClick,disabled:ju(t),className:i.splitMenu,subMenuProps:t.subMenuProps,submenuIconProps:t.submenuIconProps,split:!0,key:t.key,"aria-labelledby":this._dismissLabelId},_=le(le({},Ci(y,Dp)),{onMouseEnter:this._onItemMouseEnterIcon,onMouseLeave:u?u.bind(this,t):void 0,onMouseDown:function(x){return c?c(t,x):void 0},onMouseMove:this._onItemMouseMoveIcon,"data-is-focusable":!1,"data-ktp-execute-target":o["data-ktp-execute-target"],"aria-haspopup":!0}),S=t.itemProps;return T.createElement("button",le({},_),T.createElement(l,le({componentRef:t.componentRef,item:y,classNames:i,index:r,hasIcons:!1,openSubMenu:d,dismissSubMenu:m,dismissMenu:v,getSubmenuTarget:this._getSubmenuTarget},S)))},e.prototype._handleTouchAndPointerEvent=function(t){var i=this,r=this.props.onTap;r&&r(t),this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){i._processingTouch=!1,i._lastTouchTimeoutId=void 0},Fte)},e}(cI),_v;(function(n){n[n.small=0]="small",n[n.medium=1]="medium",n[n.large=2]="large",n[n.xLarge=3]="xLarge",n[n.xxLarge=4]="xxLarge",n[n.xxxLarge=5]="xxxLarge",n[n.unknown=999]="unknown"})(_v||(_v={}));var Pte=[479,639,1023,1365,1919,99999999],N5;function O5(){var n;return(n=N5)!==null&&n!==void 0?n:_v.large}function Nte(n){try{return n.document.documentElement.clientWidth}catch{return n.innerWidth}}function Ote(n){var e=_v.small;if(n){try{for(;Nte(n)>Pte[e];)e++}catch{e=O5()}N5=e}else throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");return e}var z5=function(n,e){var t=T.useState(O5()),i=t[0],r=t[1],o=T.useCallback(function(){var a=Ote(Vi(n.current));i!==a&&r(a)},[n,i]),s=rI();return OS(s,"resize",o),T.useEffect(function(){e===void 0&&o()},[e]),e??i},zte=T.createContext({}),Ute=xs(),Hte=xs(),Gte={items:[],shouldFocusOnMount:!0,gapSpace:0,directionalHint:rr.bottomAutoEdge,beakWidth:16};function iP(n){for(var e=0,t=0,i=n;t<i.length;t++){var r=i[t];if(r.itemType!==zo.Divider&&r.itemType!==zo.Header){var o=r.customOnRenderListLength?r.customOnRenderListLength:1;e+=o}}return e}function U5(n,e){var t=e==null?void 0:e.target,i=n.subMenuProps?n.subMenuProps.items:n.items;if(i){for(var r=[],o=0,s=i;o<s.length;o++){var a=s[o];if(a.preferMenuTargetAsEventTarget){var l=a.onClick,u=sc(a,["onClick"]);r.push(le(le({},u),{onClick:K5(l,t)}))}else r.push(a)}return r}}function Wte(n){return n.some(function(e){return!!(e.canCheck||e.sectionProps&&e.sectionProps.items.some(function(t){return t.canCheck===!0}))})}var H5=250,G5="ContextualMenu",Vte=Ji(function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){return P8.apply(void 0,ui([t,F5],n,!1))}});function Kte(n,e){var t=n.hidden,i=t===void 0?!1:t,r=n.onMenuDismissed,o=n.onMenuOpened,s=yv(i),a=T.useRef(o),l=T.useRef(r),u=T.useRef(n);a.current=o,l.current=r,u.current=n,T.useEffect(function(){var c,d;i&&s===!1?(c=l.current)===null||c===void 0||c.call(l,u.current):!i&&s!==!1&&((d=a.current)===null||d===void 0||d.call(a,u.current))},[i,s]),T.useEffect(function(){return function(){var c;return(c=l.current)===null||c===void 0?void 0:c.call(l,u.current)}},[])}function $te(n,e){var t=n.hidden,i=n.items,r=n.theme,o=n.className,s=n.id,a=n.target,l=T.useState(),u=l[0],c=l[1],d=T.useState(),m=d[0],v=d[1],y=T.useState(),_=y[0],S=y[1],x=Np(G5,s),C=T.useCallback(function(){S(void 0),c(void 0),v(void 0)},[]),b=T.useCallback(function(k,F,R){var N=k.key;u!==N&&(F.focus(),S(R),c(N),v(F))},[u]);T.useEffect(function(){t&&C()},[t,C]);var M=Qte(e,C),B=function(){var k=V5(u,i),F=null;if(k&&(F={items:U5(k,{target:a}),target:m,onDismiss:M,isSubMenu:!0,id:x,shouldFocusOnMount:!0,shouldFocusOnContainer:_,directionalHint:xo(r)?rr.leftTopEdge:rr.rightTopEdge,className:o,gapSpace:0,isBeakVisible:!1},k.subMenuProps&&Zh(F,k.subMenuProps),k.preferMenuTargetAsEventTarget)){var R=k.onItemClick;F.onItemClick=K5(R,a)}return F};return[u,b,B,M]}function Jte(n){var e=n.delayUpdateFocusOnHover,t=n.hidden,i=T.useRef(!e),r=T.useRef(!1);T.useEffect(function(){i.current=!e,r.current=t?!1:!e&&r.current},[e,t]);var o=T.useCallback(function(){e&&(i.current=!1)},[e]);return[i,r,o]}function qte(n,e,t){var i=n.hidden,r=n.onRestoreFocus,o=T.useRef(),s=T.useCallback(function(a){var l,u;r?r(a):a!=null&&a.documentContainsFocus&&((u=(l=o.current)===null||l===void 0?void 0:l.focus)===null||u===void 0||u.call(l))},[r]);return Pp(function(){var a,l;if(i)o.current&&(s({originalElement:o.current,containsFocus:!0,documentContainsFocus:((l=Ao())===null||l===void 0?void 0:l.hasFocus())||!1}),o.current=void 0);else{var u=e==null?void 0:e.document.activeElement;!(!((a=t.current)===null||a===void 0)&&a.contains(u))&&u.tagName!=="BODY"&&(o.current=u)}},[i,e==null?void 0:e.document.activeElement,s,t]),[s]}function jte(n,e,t,i){var r=n.theme,o=n.isSubMenu,s=n.focusZoneProps,a=s===void 0?{}:s,l=a.checkForNoWrap,u=a.direction,c=u===void 0?_o.vertical:u,d=T.useRef(),m=function(M,B,k){var F=!1;return B(M)&&(e(M,k),M.preventDefault(),M.stopPropagation(),F=!0),F},v=function(M){var B=xo(r)?Bt.right:Bt.left;return M.which!==B||!o?!1:!!(c===_o.vertical||l&&!j8(M.target,"data-no-horizontal-wrap"))},y=function(M){return M.which===Bt.escape||v(M)||M.which===Bt.up&&(M.altKey||M.metaKey)},_=function(M){d.current=rP(M);var B=M.which===Bt.escape&&(pB()||hB());return m(M,y,B)},S=function(M){var B=d.current&&rP(M);return d.current=!1,!!B&&!(hB()||pB())},x=function(M){return m(M,S,!0)},C=function(M){var B=_(M);if(!(B||!t.current)){var k=!!(M.altKey||M.metaKey),F=M.which===Bt.up,R=M.which===Bt.down;if(!k&&(F||R)){var N=F?J8(t.current,t.current.lastChild,!0):$8(t.current,t.current.firstChild,!0);N&&(N.focus(),M.preventDefault(),M.stopPropagation())}}},b=function(M,B){var k=xo(r)?Bt.left:Bt.right;!M.disabled&&(B.which===k||B.which===Bt.enter||B.which===Bt.down&&(B.altKey||B.metaKey))&&(i(M,B.currentTarget),B.preventDefault())};return[_,x,C,b]}function Xte(n){var e=T.useRef(!0),t=T.useRef(),i=function(){!e.current&&t.current!==void 0?(n.clearTimeout(t.current),t.current=void 0):e.current=!1,t.current=n.setTimeout(function(){e.current=!0},H5)};return[i,e]}function Qte(n,e){var t=T.useRef(!1);T.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]);var i=function(r,o){o?n(r,o):t.current&&e()};return i}function Yte(n,e){var t=n.subMenuHoverDelay,i=t===void 0?H5:t,r=T.useRef(void 0),o=function(){r.current!==void 0&&(e.clearTimeout(r.current),r.current=void 0)},s=function(a){r.current=e.setTimeout(function(){a(),o()},i)};return[o,s,r]}function Zte(n,e,t,i,r,o,s,a,l,u,c,d,m){var v=n.target,y=function(F,R,N){r.current&&(o.current=!0),!S()&&C(F,R,N)},_=function(F,R,N){var U=R.currentTarget;if(r.current)o.current=!0;else return;!e.current||t.current!==void 0||U===(i==null?void 0:i.document.activeElement)||C(F,R,N)},S=function(){return!e.current||!o.current},x=function(F,R){var N;if(!S()&&(u(),s===void 0))if(a.current.setActive)try{a.current.setActive()}catch{}else(N=a.current)===null||N===void 0||N.focus()},C=function(F,R,N){var U=N||R.currentTarget;F.key!==s&&(u(),s===void 0&&U.focus(),Yc(F)?(R.stopPropagation(),l(function(){U.focus(),c(F,U,!0)})):l(function(){d(R),U.focus()}))},b=function(F,R){M(F,R,R.currentTarget)},M=function(F,R,N){var U=U5(F,{target:v});if(u(),!Yc(F)&&(!U||!U.length))k(F,R);else if(F.key!==s){var G=typeof n.shouldFocusOnContainer=="boolean"?n.shouldFocusOnContainer:R.nativeEvent.pointerType==="mouse";c(F,N,G)}R.stopPropagation(),R.preventDefault()},B=function(F,R){k(F,R),R.stopPropagation()},k=function(F,R){if(!(F.disabled||F.isDisabled)){F.preferMenuTargetAsEventTarget&&$5(R,v);var N=!1;F.onClick?N=!!F.onClick(R,F):n.onItemClick&&(N=!!n.onItemClick(R,F)),(N||!R.defaultPrevented)&&m(R,!0)}};return[y,_,x,b,B,k,M]}var W5=T.memo(T.forwardRef(function(n,e){var t,i=Kv(Gte,n);i.ref;var r=sc(i,["ref"]),o=T.useRef(null),s=em(),a=Np(G5,r.id),l=function(ge,at){var D;return(D=r.onDismiss)===null||D===void 0?void 0:D.call(r,ge,at)},u=w5(r.target,o),c=u[0],d=u[1],m=qte(r,d,o)[0],v=$te(r,l),y=v[0],_=v[1],S=v[2],x=v[3],C=Jte(r),b=C[0],M=C[1],B=C[2],k=Xte(s),F=k[0],R=k[1],N=Yte(r,s),U=N[0],G=N[1],oe=N[2],me=z5(o,r.responsiveMode);Kte(r);var j=jte(r,l,o,_),ne=j[0],te=j[1],de=j[2],O=j[3],V=Zte(r,R,oe,d,b,M,y,o,G,U,_,x,l),$=V[0],ie=V[1],ae=V[2],Ce=V[3],Fe=V[4],Ne=V[5],he=V[6],mt=function(ge,at,D){var H=0,Y=ge.items,ve=ge.totalItemCount,se=ge.hasCheckmarks,W=ge.hasIcons;return T.createElement("ul",{className:at.list,onKeyDown:ne,onKeyUp:te,role:"presentation"},Y.map(function(ce,ye){var ze=_t(ce,ye,H,ve,se,W,at);if(ce.itemType!==zo.Divider&&ce.itemType!==zo.Header){var We=ce.customOnRenderListLength?ce.customOnRenderListLength:1;H+=We}return ze}))},ft=function(ge,at){var D=r.focusZoneAs,H=D===void 0?uI:D;return T.createElement(H,le({},at),ge)},_t=function(ge,at,D,H,Y,ve,se){var W,ce=[],ye=ge.iconProps||{iconName:"None"},ze=ge.getItemClassNames,We=ge.itemProps,Xe=We?We.styles:void 0,ke=ge.itemType===zo.Divider?ge.className:void 0,Ut=ge.submenuIconProps?ge.submenuIconProps.className:"",tt;if(ze)tt=ze(r.theme,ju(ge),y===ge.key,!!Sv(ge),!!ge.href,ye.iconName!=="None",ge.className,ke,ye.className,Ut,ge.primaryDisabled);else{var xt={theme:r.theme,disabled:ju(ge),expanded:y===ge.key,checked:!!Sv(ge),isAnchorLink:!!ge.href,knownIcon:ye.iconName!=="None",itemClassName:ge.className,dividerClassName:ke,iconClassName:ye.className,subMenuClassName:Ut,primaryDisabled:ge.primaryDisabled};tt=Hte(Vte((W=se.subComponentStyles)===null||W===void 0?void 0:W.menuItem,Xe),xt)}switch((ge.text==="-"||ge.name==="-")&&(ge.itemType=zo.Divider),ge.itemType){case zo.Divider:ce.push(Ae(at,tt));break;case zo.Header:ce.push(Ae(at,tt));var zt=Ye(ge,tt,se,at,Y,ve);ce.push(De(zt,ge.key||at,tt,ge.title));break;case zo.Section:ce.push(ct(ge,tt,se,at,Y,ve));break;default:var jt=function(){return je(ge,tt,at,D,H,Y,ve)},mn=r.onRenderContextualMenuItem?r.onRenderContextualMenuItem(ge,jt):jt();ce.push(De(mn,ge.key||at,tt,ge.title));break}return T.createElement(T.Fragment,{key:ge.key},ce)},Ke=function(ge,at){var D=ge.index,H=ge.focusableElementIndex,Y=ge.totalItemCount,ve=ge.hasCheckmarks,se=ge.hasIcons;return _t(ge,D,H,Y,ve,se,at)},ct=function(ge,at,D,H,Y,ve){var se=ge.sectionProps;if(se){var W,ce;if(se.title){var ye=void 0,ze="";if(typeof se.title=="string"){var We=a+se.title.replace(/\s/g,"");ye={key:"section-".concat(se.title,"-title"),itemType:zo.Header,text:se.title,id:We},ze=We}else{var Xe=se.title.id||a+se.title.key.replace(/\s/g,"");ye=le(le({},se.title),{id:Xe}),ze=Xe}ye&&(ce={role:"group","aria-labelledby":ze},W=Ye(ye,at,D,H,Y,ve))}if(se.items&&se.items.length>0){var ke=0;return T.createElement("li",{role:"presentation",key:se.key||ge.key||"section-".concat(H)},T.createElement("div",le({},ce),T.createElement("ul",{className:D.list,role:"presentation"},se.topDivider&&Ae(H,at,!0,!0),W&&De(W,ge.key||H,at,ge.title),se.items.map(function(Ut,tt){var xt=_t(Ut,tt,ke,iP(se.items),Y,ve,D);if(Ut.itemType!==zo.Divider&&Ut.itemType!==zo.Header){var zt=Ut.customOnRenderListLength?Ut.customOnRenderListLength:1;ke+=zt}return xt}),se.bottomDivider&&Ae(H,at,!1,!0))))}}},De=function(ge,at,D,H){return T.createElement("li",{role:"presentation",title:H,key:at,className:D.item},ge)},Ae=function(ge,at,D,H){return H||ge>0?T.createElement("li",{role:"separator",key:"separator-"+ge+(D===void 0?"":D?"-top":"-bottom"),className:at.divider,"aria-hidden":"true"}):null},je=function(ge,at,D,H,Y,ve,se){if(ge.onRender)return ge.onRender(le({"aria-posinset":H+1,"aria-setsize":Y},ge),l);var W=r.contextualMenuItemAs,ce={item:ge,classNames:at,index:D,focusableElementIndex:H,totalItemCount:Y,hasCheckmarks:ve,hasIcons:se,contextualMenuItemAs:W,onItemMouseEnter:$,onItemMouseLeave:ae,onItemMouseMove:ie,onItemMouseDown:ene,executeItemClick:Ne,onItemKeyDown:O,expandedMenuItemKey:y,openSubMenu:_,dismissSubMenu:x,dismissMenu:l};return ge.href?T.createElement(Bte,le({},ce,{onItemClick:Fe})):ge.split&&Yc(ge)?T.createElement(Dte,le({},ce,{onItemClick:Ce,onItemClickBase:he,onTap:U})):T.createElement(Rte,le({},ce,{onItemClick:Ce,onItemClickBase:he}))},Ye=function(ge,at,D,H,Y,ve){var se=r.contextualMenuItemAs,W=se===void 0?US:se,ce=ge.itemProps,ye=ge.id,ze=ce&&Ci(ce,bl);return T.createElement("div",le({id:ye,className:D.header},ze,{style:ge.style}),T.createElement(W,le({item:ge,classNames:at,index:H,onCheckmarkClick:Y?Ce:void 0,hasIcons:ve},ce)))},rt=r.isBeakVisible,St=r.items,It=r.labelElementId,Rt=r.id,qt=r.className,Kt=r.beakWidth,Z=r.directionalHint,q=r.directionalHintForRTL,Me=r.alignTargetEdge,Je=r.gapSpace,it=r.coverTarget,ot=r.ariaLabel,Nt=r.doNotLayer,Te=r.target,Mt=r.bounds,gt=r.useTargetWidth,pt=r.useTargetAsMinWidth,re=r.directionalHintFixed,Be=r.shouldFocusOnMount,et=r.shouldFocusOnContainer,Ve=r.title,Re=r.styles,st=r.theme,Ze=r.calloutProps,He=r.onRenderSubMenu,Ot=He===void 0?oP:He,tn=r.onRenderMenuList,ai=tn===void 0?function(ge,at){return mt(ge,Fr)}:tn,ji=r.focusZoneProps,Ro=r.getMenuClassNames,Fr=Ro?Ro(st,qt):Ute(Re,{theme:st,className:qt}),fo=Qs(St);function Qs(ge){for(var at=0,D=ge;at<D.length;at++){var H=D[at];if(H.iconProps||H.itemType===zo.Section&&H.sectionProps&&Qs(H.sectionProps.items))return!0}return!1}var ho=le(le({direction:_o.vertical,handleTabKey:xB.all,isCircularNavigation:!0},ji),{className:Co(Fr.root,(t=r.focusZoneProps)===null||t===void 0?void 0:t.className)}),bs=Wte(St),As=y&&r.hidden!==!0?S():null;rt=rt===void 0?me<=_v.medium:rt;var Dr,lr=c.current;if((gt||pt)&&lr&&lr.offsetWidth){var Q=lr.getBoundingClientRect(),Ee=Q.width-2;gt?Dr={width:Ee}:pt&&(Dr={minWidth:Ee})}if(St&&St.length>0){var Ie=iP(St),_e=Fr.subComponentStyles?Fr.subComponentStyles.callout:void 0;return T.createElement(zte.Consumer,null,function(ge){return T.createElement(aI,le({styles:_e,onRestoreFocus:m},Ze,{target:Te||ge.target,isBeakVisible:rt,beakWidth:Kt,directionalHint:Z,directionalHintForRTL:q,gapSpace:Je,coverTarget:it,doNotLayer:Nt,className:Co("ms-ContextualMenu-Callout",Ze&&Ze.className),setInitialFocus:Be,onDismiss:r.onDismiss||ge.onDismiss,onScroll:F,bounds:Mt,directionalHintFixed:re,alignTargetEdge:Me,hidden:r.hidden||ge.hidden,ref:e}),T.createElement("div",{style:Dr,ref:o,id:Rt,className:Fr.container,tabIndex:et?0:-1,onKeyDown:de,onKeyUp:te,onFocusCapture:B,"aria-label":ot,"aria-labelledby":It,role:"menu"},Ve&&T.createElement("div",{className:Fr.title}," ",Ve," "),St&&St.length?ft(ai({ariaLabel:ot,items:St,totalItemCount:Ie,hasCheckmarks:bs,hasIcons:fo,defaultMenuItemRenderer:function(at){return Ke(at,Fr)},labelElementId:It},function(at,D){return mt(at,Fr)}),ho):null,As&&Ot(As,oP)),T.createElement(n5,null))})}else return null}),function(n,e){return!e.shouldUpdateWhenHidden&&n.hidden&&e.hidden?!0:j2(n,e)});W5.displayName="ContextualMenuBase";function rP(n){return n.which===Bt.alt||n.key==="Meta"}function ene(n,e){var t;(t=n.onMouseDown)===null||t===void 0||t.call(n,n,e)}function oP(n,e){throw Error("ContextualMenuBase: onRenderSubMenu callback is null or undefined. Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.")}function V5(n,e){for(var t=0,i=e;t<i.length;t++){var r=i[t];if(r.itemType===zo.Section&&r.sectionProps){var o=V5(n,r.sectionProps.items);if(o)return o}else if(r.key&&r.key===n)return r}}function K5(n,e){return n&&function(t,i){return $5(t,e),n(t,i)}}function $5(n,e){n&&e&&(n.persist(),e instanceof Event?n.target=e.target:e instanceof Element&&(n.target=e))}var tne={root:"ms-ContextualMenu",container:"ms-ContextualMenu-container",list:"ms-ContextualMenu-list",header:"ms-ContextualMenu-header",title:"ms-ContextualMenu-title",isopen:"is-open"},nne=function(n){var e=n.className,t=n.theme,i=Xs(tne,t),r=t.fonts,o=t.semanticColors,s=t.effects;return{root:[t.fonts.medium,i.root,i.isopen,{backgroundColor:o.menuBackground,minWidth:"180px"},e],container:[i.container,{selectors:{":focus":{outline:0}}}],list:[i.list,i.isopen,{listStyleType:"none",margin:"0",padding:"0"}],header:[i.header,r.small,{fontWeight:ei.semibold,color:o.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:uf,lineHeight:uf,cursor:"default",padding:"0px 6px",userSelect:"none",textAlign:"left"}],title:[i.title,{fontSize:r.mediumPlus.fontSize,paddingRight:"14px",paddingLeft:"14px",paddingBottom:"5px",paddingTop:"5px",backgroundColor:o.menuItemBackgroundPressed}],subComponentStyles:{callout:{root:{boxShadow:s.elevation8}},menuItem:{}}}};function sP(n){return T.createElement(J5,le({},n))}var J5=ws(W5,nne,function(n){return{onRenderSubMenu:n.onRenderSubMenu?mY(n.onRenderSubMenu,sP):sP}},{scope:"ContextualMenu"}),wB=J5;wB.displayName="ContextualMenu";var aP={msButton:"ms-Button",msButtonHasMenu:"ms-Button--hasMenu",msButtonIcon:"ms-Button-icon",msButtonMenuIcon:"ms-Button-menuIcon",msButtonLabel:"ms-Button-label",msButtonDescription:"ms-Button-description",msButtonScreenReaderText:"ms-Button-screenReaderText",msButtonFlexContainer:"ms-Button-flexContainer",msButtonTextContainer:"ms-Button-textContainer"},ine=Ji(function(n,e,t,i,r,o,s,a,l,u,c){var d,m,v=Xs(aP,n||{}),y=u&&!c;return b1({root:[v.msButton,e.root,i,l&&["is-checked",e.rootChecked],y&&["is-expanded",e.rootExpanded,{selectors:(d={},d[":hover .".concat(v.msButtonIcon)]=e.iconExpandedHovered,d[":hover .".concat(v.msButtonMenuIcon)]=e.menuIconExpandedHovered||e.rootExpandedHovered,d[":hover"]=e.rootExpandedHovered,d)}],a&&[aP.msButtonHasMenu,e.rootHasMenu],s&&["is-disabled",e.rootDisabled],!s&&!y&&!l&&{selectors:(m={":hover":e.rootHovered},m[":hover .".concat(v.msButtonLabel)]=e.labelHovered,m[":hover .".concat(v.msButtonIcon)]=e.iconHovered,m[":hover .".concat(v.msButtonDescription)]=e.descriptionHovered,m[":hover .".concat(v.msButtonMenuIcon)]=e.menuIconHovered,m[":focus"]=e.rootFocused,m[":active"]=e.rootPressed,m[":active .".concat(v.msButtonIcon)]=e.iconPressed,m[":active .".concat(v.msButtonDescription)]=e.descriptionPressed,m[":active .".concat(v.msButtonMenuIcon)]=e.menuIconPressed,m)},s&&l&&[e.rootCheckedDisabled],!s&&l&&{selectors:{":hover":e.rootCheckedHovered,":active":e.rootCheckedPressed}},t],flexContainer:[v.msButtonFlexContainer,e.flexContainer],textContainer:[v.msButtonTextContainer,e.textContainer],icon:[v.msButtonIcon,r,e.icon,y&&e.iconExpanded,l&&e.iconChecked,s&&e.iconDisabled],label:[v.msButtonLabel,e.label,l&&e.labelChecked,s&&e.labelDisabled],menuIcon:[v.msButtonMenuIcon,o,e.menuIcon,l&&e.menuIconChecked,s&&!c&&e.menuIconDisabled,!s&&!y&&!l&&{selectors:{":hover":e.menuIconHovered,":active":e.menuIconPressed}},y&&["is-expanded",e.menuIconExpanded]],description:[v.msButtonDescription,e.description,l&&e.descriptionChecked,s&&e.descriptionDisabled],screenReaderText:[v.msButtonScreenReaderText,e.screenReaderText]})}),rne=Ji(function(n,e,t,i,r){return{root:zc(n.splitButtonMenuButton,t&&[n.splitButtonMenuButtonExpanded],e&&[n.splitButtonMenuButtonDisabled],i&&!e&&[n.splitButtonMenuButtonChecked],r&&!e&&[{selectors:{":focus":n.splitButtonMenuFocused}}]),splitButtonContainer:zc(n.splitButtonContainer,!e&&i&&[n.splitButtonContainerChecked,{selectors:{":hover":n.splitButtonContainerCheckedHovered}}],!e&&!i&&[{selectors:{":hover":n.splitButtonContainerHovered,":focus":n.splitButtonContainerFocused}}],e&&n.splitButtonContainerDisabled),icon:zc(n.splitButtonMenuIcon,e&&n.splitButtonMenuIconDisabled,!e&&r&&n.splitButtonMenuIcon),flexContainer:zc(n.splitButtonFlexContainer),divider:zc(n.splitButtonDivider,(r||e)&&n.splitButtonDividerDisabled)}}),one=500,sne="BaseButton",dI=function(n){Lr(e,n);function e(t){var i=n.call(this,t)||this;return i._buttonElement=T.createRef(),i._splitButtonContainer=T.createRef(),i._mergedRef=c5(),i._renderedVisibleMenu=!1,i._getMemoizedMenuButtonKeytipProps=Ji(function(r){return le(le({},r),{hasMenu:!0})}),i._onRenderIcon=function(r,o){var s=i.props.iconProps;if(s&&(s.iconName!==void 0||s.imageProps)){var a=s.className,l=s.imageProps,u=sc(s,["className","imageProps"]);if(s.styles)return T.createElement(ld,le({className:Co(i._classNames.icon,a),imageProps:l},u));if(s.iconName)return T.createElement(_B,le({className:Co(i._classNames.icon,a)},u));if(l)return T.createElement(nte,le({className:Co(i._classNames.icon,a),imageProps:l},u))}return null},i._onRenderTextContents=function(){var r=i.props,o=r.text,s=r.children,a=r.secondaryText,l=a===void 0?i.props.description:a,u=r.onRenderText,c=u===void 0?i._onRenderText:u,d=r.onRenderDescription,m=d===void 0?i._onRenderDescription:d;return o||typeof s=="string"||l?T.createElement("span",{className:i._classNames.textContainer},c(i.props,i._onRenderText),m(i.props,i._onRenderDescription)):[c(i.props,i._onRenderText),m(i.props,i._onRenderDescription)]},i._onRenderText=function(){var r=i.props.text,o=i.props.children;return r===void 0&&typeof o=="string"&&(r=o),i._hasText()?T.createElement("span",{key:i._labelId,className:i._classNames.label,id:i._labelId},r):null},i._onRenderChildren=function(){var r=i.props.children;return typeof r=="string"?null:r},i._onRenderDescription=function(r){var o=r.secondaryText,s=o===void 0?i.props.description:o;return s?T.createElement("span",{key:i._descriptionId,className:i._classNames.description,id:i._descriptionId},s):null},i._onRenderAriaDescription=function(){var r=i.props.ariaDescription;return r?T.createElement("span",{className:i._classNames.screenReaderText,id:i._ariaDescriptionId},r):null},i._onRenderMenuIcon=function(r){var o=i.props.menuIconProps;return T.createElement(_B,le({iconName:"ChevronDown"},o,{className:i._classNames.menuIcon}))},i._onRenderMenu=function(r){var o=i.props.menuAs?zQ(i.props.menuAs,wB):wB;return T.createElement(o,le({},r))},i._onDismissMenu=function(r){var o=i.props.menuProps;o&&o.onDismiss&&o.onDismiss(r),(!r||!r.defaultPrevented)&&i._dismissMenu()},i._dismissMenu=function(){i._menuShouldFocusOnMount=void 0,i._menuShouldFocusOnContainer=void 0,i.setState({menuHidden:!0})},i._openMenu=function(r,o){o===void 0&&(o=!0),i.props.menuProps&&(i._menuShouldFocusOnContainer=r,i._menuShouldFocusOnMount=o,i._renderedVisibleMenu=!0,i.setState({menuHidden:!1}))},i._onToggleMenu=function(r){var o=!0;i.props.menuProps&&i.props.menuProps.shouldFocusOnMount===!1&&(o=!1),i.state.menuHidden?i._openMenu(r,o):i._dismissMenu()},i._onSplitContainerFocusCapture=function(r){var o=i._splitButtonContainer.current;!o||r.target&&K8(r.target,o)||o.focus()},i._onSplitButtonPrimaryClick=function(r){i.state.menuHidden||i._dismissMenu();var o=i._processingTouch&&!i.props.toggle;!o&&i.props.onClick?i.props.onClick(r):o&&i._onMenuClick(r)},i._onKeyDown=function(r){i.props.disabled&&(r.which===Bt.enter||r.which===Bt.space)?(r.preventDefault(),r.stopPropagation()):i.props.disabled||(i.props.menuProps?i._onMenuKeyDown(r):i.props.onKeyDown!==void 0&&i.props.onKeyDown(r))},i._onKeyUp=function(r){!i.props.disabled&&i.props.onKeyUp!==void 0&&i.props.onKeyUp(r)},i._onKeyPress=function(r){!i.props.disabled&&i.props.onKeyPress!==void 0&&i.props.onKeyPress(r)},i._onMouseUp=function(r){!i.props.disabled&&i.props.onMouseUp!==void 0&&i.props.onMouseUp(r)},i._onMouseDown=function(r){!i.props.disabled&&i.props.onMouseDown!==void 0&&i.props.onMouseDown(r)},i._onClick=function(r){i.props.disabled||(i.props.menuProps?i._onMenuClick(r):i.props.onClick!==void 0&&i.props.onClick(r))},i._onSplitButtonContainerKeyDown=function(r){r.which===Bt.enter||r.which===Bt.space?i._buttonElement.current&&(i._buttonElement.current.click(),r.preventDefault(),r.stopPropagation()):i._onMenuKeyDown(r)},i._onMenuKeyDown=function(r){var o;if(!i.props.disabled){i.props.onKeyDown&&i.props.onKeyDown(r);var s=r.which===Bt.up,a=r.which===Bt.down;if(!r.defaultPrevented&&i._isValidMenuOpenKey(r)){var l=i.props.onMenuClick;l&&l(r,i.props),i._onToggleMenu(!1),r.preventDefault(),r.stopPropagation()}if((r.which===Bt.enter||r.which===Bt.space)&&wp(!0,r.target,(o=i.context)===null||o===void 0?void 0:o.registeredProviders),!(r.altKey||r.metaKey)&&(s||a)&&!i.state.menuHidden&&i.props.menuProps){var u=i._menuShouldFocusOnMount!==void 0?i._menuShouldFocusOnMount:i.props.menuProps.shouldFocusOnMount;u||(r.preventDefault(),r.stopPropagation(),i._menuShouldFocusOnMount=!0,i.forceUpdate())}}},i._onTouchStart=function(){i._isSplitButton&&i._splitButtonContainer.current&&!("onpointerdown"in i._splitButtonContainer.current)&&i._handleTouchAndPointerEvent()},i._onMenuClick=function(r){var o=i.props,s=o.onMenuClick,a=o.menuProps;s&&s(r,i.props);var l=typeof(a==null?void 0:a.shouldFocusOnContainer)=="boolean"?a.shouldFocusOnContainer:r.nativeEvent.pointerType==="mouse";r.defaultPrevented||(i._onToggleMenu(l),r.preventDefault(),r.stopPropagation())},Qf(i),i._async=new A1(i),i._events=new Vu(i),H8(sne,t,["menuProps","onClick"],"split",i.props.split),i._labelId=yl(),i._descriptionId=yl(),i._ariaDescriptionId=yl(),i.state={menuHidden:!0},i}return Object.defineProperty(e.prototype,"_isSplitButton",{get:function(){return!!this.props.menuProps&&!!this.props.onClick&&this.props.split===!0},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t,i=this.props,r=i.ariaDescription,o=i.ariaLabel,s=i.ariaHidden,a=i.className,l=i.disabled,u=i.allowDisabledFocus,c=i.primaryDisabled,d=i.secondaryText,m=d===void 0?this.props.description:d,v=i.href,y=i.iconProps,_=i.menuIconProps,S=i.styles,x=i.checked,C=i.variantClassName,b=i.theme,M=i.toggle,B=i.getClassNames,k=i.role,F=this.state.menuHidden,R=l||c;this._classNames=B?B(b,a,C,y&&y.className,_&&_.className,R,x,!F,!!this.props.menuProps,this.props.split,!!u):ine(b,S,a,C,y&&y.className,_&&_.className,R,!!this.props.menuProps,x,!F,this.props.split);var N=this,U=N._ariaDescriptionId,G=N._labelId,oe=N._descriptionId,me=!R&&!!v,j=me?"a":"button",ne=Ci(Zh(me?{}:{type:"button"},this.props.rootProps,this.props),me?Z8:Dp,["disabled"]),te=o||ne["aria-label"],de=void 0;r?de=U:m&&this.props.onRenderDescription!==hv?de=oe:ne["aria-describedby"]&&(de=ne["aria-describedby"]);var O=void 0;ne["aria-labelledby"]?O=ne["aria-labelledby"]:de&&!te&&(O=this._hasText()?G:void 0);var V=!(this.props["data-is-focusable"]===!1||l&&!u||this._isSplitButton),$=k==="menuitemcheckbox"||k==="checkbox",ie=$||M===!0?!!x:void 0,ae=Zh(ne,(t={className:this._classNames.root,ref:this._mergedRef(this.props.elementRef,this._buttonElement),disabled:R&&!u,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onClick:this._onClick,"aria-label":te,"aria-labelledby":O,"aria-describedby":de,"aria-disabled":R,"data-is-focusable":V},t[$?"aria-checked":"aria-pressed"]=ie,t));if(s&&(ae["aria-hidden"]=!0),this._isSplitButton)return this._onRenderSplitButtonContent(j,ae);if(this.props.menuProps){var Ce=this.props.menuProps.id,Fe=Ce===void 0?"".concat(this._labelId,"-menu"):Ce;Zh(ae,{"aria-expanded":!F,"aria-controls":F?null:Fe,"aria-haspopup":!0})}return this._onRenderContent(j,ae)},e.prototype.componentDidMount=function(){this._isSplitButton&&this._splitButtonContainer.current&&("onpointerdown"in this._splitButtonContainer.current&&this._events.on(this._splitButtonContainer.current,"pointerdown",this._onPointerDown,!0),"onpointerup"in this._splitButtonContainer.current&&this.props.onPointerUp&&this._events.on(this._splitButtonContainer.current,"pointerup",this.props.onPointerUp,!0))},e.prototype.componentDidUpdate=function(t,i){this.props.onAfterMenuDismiss&&!i.menuHidden&&this.state.menuHidden&&this.props.onAfterMenuDismiss()},e.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},e.prototype.focus=function(){var t,i;this._isSplitButton&&this._splitButtonContainer.current?(wp(!0,void 0,(t=this.context)===null||t===void 0?void 0:t.registeredProviders),this._splitButtonContainer.current.focus()):this._buttonElement.current&&(wp(!0,void 0,(i=this.context)===null||i===void 0?void 0:i.registeredProviders),this._buttonElement.current.focus())},e.prototype.dismissMenu=function(){this._dismissMenu()},e.prototype.openMenu=function(t,i){this._openMenu(t,i)},e.prototype._onRenderContent=function(t,i){var r=this,o=this.props,s=t,a=o.menuIconProps,l=o.menuProps,u=o.onRenderIcon,c=u===void 0?this._onRenderIcon:u,d=o.onRenderAriaDescription,m=d===void 0?this._onRenderAriaDescription:d,v=o.onRenderChildren,y=v===void 0?this._onRenderChildren:v,_=o.onRenderMenu,S=_===void 0?this._onRenderMenu:_,x=o.onRenderMenuIcon,C=x===void 0?this._onRenderMenuIcon:x,b=o.disabled,M=o.keytipProps;M&&l&&(M=this._getMemoizedMenuButtonKeytipProps(M));var B=function(F){return T.createElement(s,le({},i,F),T.createElement("span",{className:r._classNames.flexContainer,"data-automationid":"splitbuttonprimary"},c(o,r._onRenderIcon),r._onRenderTextContents(),m(o,r._onRenderAriaDescription),y(o,r._onRenderChildren),!r._isSplitButton&&(l||a||r.props.onRenderMenuIcon)&&C(r.props,r._onRenderMenuIcon),l&&!l.doNotLayer&&r._shouldRenderMenu()&&S(r._getMenuProps(l),r._onRenderMenu)))},k=M?T.createElement(HS,{keytipProps:this._isSplitButton?void 0:M,ariaDescribedBy:i["aria-describedby"],disabled:b},function(F){return B(F)}):B();return l&&l.doNotLayer?T.createElement(T.Fragment,null,k,this._shouldRenderMenu()&&S(this._getMenuProps(l),this._onRenderMenu)):T.createElement(T.Fragment,null,k,T.createElement(n5,null))},e.prototype._shouldRenderMenu=function(){var t=this.state.menuHidden,i=this.props,r=i.persistMenu,o=i.renderPersistedMenuHiddenOnMount;if(t){if(r&&(this._renderedVisibleMenu||o))return!0}else return!0;return!1},e.prototype._hasText=function(){return this.props.text!==null&&(this.props.text!==void 0||typeof this.props.children=="string")},e.prototype._getMenuProps=function(t){var i=this.props.persistMenu,r=this.state.menuHidden;return!t.ariaLabel&&!t.labelElementId&&this._hasText()&&(t=le(le({},t),{labelElementId:this._labelId})),le(le({id:this._labelId+"-menu",directionalHint:rr.bottomLeftEdge},t),{shouldFocusOnContainer:this._menuShouldFocusOnContainer,shouldFocusOnMount:this._menuShouldFocusOnMount,hidden:i?r:void 0,className:Co("ms-BaseButton-menuhost",t.className),target:this._isSplitButton?this._splitButtonContainer.current:this._buttonElement.current,onDismiss:this._onDismissMenu})},e.prototype._onRenderSplitButtonContent=function(t,i){var r=this,o=this.props,s=o.styles,a=s===void 0?{}:s,l=o.disabled,u=o.allowDisabledFocus,c=o.checked,d=o.getSplitButtonClassNames,m=o.primaryDisabled,v=o.menuProps,y=o.toggle,_=o.role,S=o.primaryActionButtonProps,x=this.props.keytipProps,C=this.state.menuHidden,b=d?d(!!l,!C,!!c,!!u):a&&rne(a,!!l,!C,!!c,!!m);Zh(i,{onClick:void 0,onPointerDown:void 0,onPointerUp:void 0,tabIndex:-1,"data-is-focusable":!1}),x&&v&&(x=this._getMemoizedMenuButtonKeytipProps(x));var M=Ci(i,[],["disabled"]);S&&Zh(i,S);var B=function(k){return T.createElement("div",le({},M,{"data-ktp-target":k?k["data-ktp-target"]:void 0,role:_||"button","aria-disabled":l,"aria-haspopup":!0,"aria-expanded":!C,"aria-pressed":y?!!c:void 0,"aria-describedby":Vv(i["aria-describedby"],k?k["aria-describedby"]:void 0),className:b&&b.splitButtonContainer,onKeyDown:r._onSplitButtonContainerKeyDown,onTouchStart:r._onTouchStart,ref:r._splitButtonContainer,"data-is-focusable":!0,onClick:!l&&!m?r._onSplitButtonPrimaryClick:void 0,tabIndex:!l&&!m||u?0:void 0,"aria-roledescription":i["aria-roledescription"],onFocusCapture:r._onSplitContainerFocusCapture}),T.createElement("span",{style:{display:"flex",width:"100%"}},r._onRenderContent(t,i),r._onRenderSplitButtonMenuButton(b,k),r._onRenderSplitButtonDivider(b)))};return x?T.createElement(HS,{keytipProps:x,disabled:l},function(k){return B(k)}):B()},e.prototype._onRenderSplitButtonDivider=function(t){if(t&&t.divider){var i=function(r){r.stopPropagation()};return T.createElement("span",{className:t.divider,"aria-hidden":!0,onClick:i})}return null},e.prototype._onRenderSplitButtonMenuButton=function(t,i){var r=this.props,o=r.allowDisabledFocus,s=r.checked,a=r.disabled,l=r.splitButtonMenuProps,u=r.splitButtonAriaLabel,c=r.primaryDisabled,d=this.state.menuHidden,m=this.props.menuIconProps;m===void 0&&(m={iconName:"ChevronDown"});var v=le(le({},l),{styles:t,checked:s,disabled:a,allowDisabledFocus:o,onClick:this._onMenuClick,menuProps:void 0,iconProps:le(le({},m),{className:this._classNames.menuIcon}),ariaLabel:u,"aria-haspopup":!0,"aria-expanded":!d,"data-is-focusable":!1});return T.createElement(e,le({},v,{"data-ktp-execute-target":i&&i["data-ktp-execute-target"],onMouseDown:this._onMouseDown,tabIndex:c&&!o?0:-1}))},e.prototype._onPointerDown=function(t){var i=this.props.onPointerDown;i&&i(t),t.pointerType==="touch"&&(this._handleTouchAndPointerEvent(),t.preventDefault(),t.stopImmediatePropagation())},e.prototype._handleTouchAndPointerEvent=function(){var t=this;this._lastTouchTimeoutId!==void 0&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){t._processingTouch=!1,t._lastTouchTimeoutId=void 0,t.state.menuHidden&&t.focus()},one)},e.prototype._isValidMenuOpenKey=function(t){return this.props.menuTriggerKeyCode?t.which===this.props.menuTriggerKeyCode:this.props.menuProps?t.which===Bt.down&&(t.altKey||t.metaKey):!1},e.defaultProps={baseClassName:"ms-Button",styles:{},split:!1},e.contextType=FS,e}(T.Component),lP={outline:0},uP=function(n){return{fontSize:n,margin:"0 4px",height:"16px",lineHeight:"16px",textAlign:"center",flexShrink:0}},fI=Ji(function(n){var e,t,i=n.semanticColors,r=n.effects,o=n.fonts,s=i.buttonBorder,a=i.disabledBackground,l=i.disabledText,u={left:-2,top:-2,bottom:-2,right:-2,outlineColor:"ButtonText"};return{root:[mv(n,{inset:1,highContrastStyle:u,borderColor:"transparent"}),n.fonts.medium,{border:"1px solid "+s,borderRadius:r.roundedCorner2,boxSizing:"border-box",cursor:"pointer",display:"inline-block",padding:"0 16px",textDecoration:"none",textAlign:"center",userSelect:"none",selectors:{":active > span":{position:"relative",left:0,top:0}}}],rootDisabled:[mv(n,{inset:1,highContrastStyle:u,borderColor:"transparent"}),{backgroundColor:a,borderColor:a,color:l,cursor:"default",selectors:{":hover":lP,":focus":lP}}],iconDisabled:{color:l,selectors:(e={},e[yt]={color:"GrayText"},e)},menuIconDisabled:{color:l,selectors:(t={},t[yt]={color:"GrayText"},t)},flexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},description:{display:"block"},textContainer:{flexGrow:1,display:"block"},icon:uP(o.mediumPlus.fontSize),menuIcon:uP(o.small.fontSize),label:{margin:"0 4px",lineHeight:"100%",display:"block"},screenReaderText:p5}}),q5=Ji(function(n,e){var t,i,r,o,s,a,l,u,c,d,m,v,y,_=n.effects,S=n.palette,x=n.semanticColors,C={left:-2,top:-2,bottom:-2,right:-2,border:"none"},b={position:"absolute",width:1,right:31,top:8,bottom:8},M={splitButtonContainer:[mv(n,{highContrastStyle:C,inset:2,pointerEvents:"none"}),{display:"inline-flex",selectors:{".ms-Button--default":{borderTopRightRadius:"0",borderBottomRightRadius:"0",borderRight:"none",flexGrow:"1"},".ms-Button--primary":{borderTopRightRadius:"0",borderBottomRightRadius:"0",border:"none",flexGrow:"1",selectors:(t={},t[yt]=le({color:"WindowText",backgroundColor:"Window",border:"1px solid WindowText",borderRightWidth:"0"},Wo()),t[":hover"]={border:"none"},t[":active"]={border:"none"},t)},".ms-Button--primary + .ms-Button":{border:"none",selectors:(i={},i[yt]={border:"1px solid WindowText",borderLeftWidth:"0"},i)}}}],splitButtonContainerHovered:{selectors:{".ms-Button--primary":{selectors:(r={},r[yt]={color:"Window",backgroundColor:"Highlight"},r)},".ms-Button.is-disabled":{color:x.buttonTextDisabled,selectors:(o={},o[yt]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},o)}}},splitButtonContainerChecked:{selectors:{".ms-Button--primary":{selectors:(s={},s[yt]=le({color:"Window",backgroundColor:"WindowText"},Wo()),s)}}},splitButtonContainerCheckedHovered:{selectors:{".ms-Button--primary":{selectors:(a={},a[yt]=le({color:"Window",backgroundColor:"WindowText"},Wo()),a)}}},splitButtonContainerFocused:{outline:"none!important"},splitButtonMenuButton:(l={padding:6,height:"auto",boxSizing:"border-box",borderRadius:0,borderTopRightRadius:_.roundedCorner2,borderBottomRightRadius:_.roundedCorner2,border:"1px solid ".concat(S.neutralSecondaryAlt),borderLeft:"none",outline:"transparent",userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",width:32,marginLeft:-1,marginTop:0,marginRight:0,marginBottom:0},l[yt]={".ms-Button-menuIcon":{color:"WindowText"}},l),splitButtonDivider:le(le({},b),{selectors:(u={},u[yt]={backgroundColor:"WindowText"},u)}),splitButtonDividerDisabled:le(le({},b),{selectors:(c={},c[yt]={backgroundColor:"GrayText"},c)}),splitButtonMenuButtonDisabled:{pointerEvents:"none",border:"none",selectors:(d={":hover":{cursor:"default"},".ms-Button--primary":{selectors:(m={},m[yt]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},m)},".ms-Button-menuIcon":{selectors:(v={},v[yt]={color:"GrayText"},v)}},d[yt]={color:"GrayText",border:"1px solid GrayText",backgroundColor:"Window"},d)},splitButtonFlexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},splitButtonContainerDisabled:{outline:"none",border:"none",selectors:(y={},y[yt]=le({color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},Wo()),y)},splitButtonMenuFocused:le({},mv(n,{highContrastStyle:C,inset:2}))};return pu(M,e)}),j5=function(){return{position:"absolute",width:1,right:31,top:8,bottom:8}};function ane(n){var e,t,i,r,o,s=n.semanticColors,a=n.palette,l=s.buttonBackground,u=s.buttonBackgroundPressed,c=s.buttonBackgroundHovered,d=s.buttonBackgroundDisabled,m=s.buttonText,v=s.buttonTextHovered,y=s.buttonTextDisabled,_=s.buttonTextChecked,S=s.buttonTextCheckedHovered;return{root:{backgroundColor:l,color:m},rootHovered:{backgroundColor:c,color:v,selectors:(e={},e[yt]={borderColor:"Highlight",color:"Highlight"},e)},rootPressed:{backgroundColor:u,color:_},rootExpanded:{backgroundColor:u,color:_},rootChecked:{backgroundColor:u,color:_},rootCheckedHovered:{backgroundColor:u,color:S},rootDisabled:{color:y,backgroundColor:d,selectors:(t={},t[yt]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},t)},splitButtonContainer:{selectors:(i={},i[yt]={border:"none"},i)},splitButtonMenuButton:{color:a.white,backgroundColor:"transparent",selectors:{":hover":{backgroundColor:a.neutralLight,selectors:(r={},r[yt]={color:"Highlight"},r)}}},splitButtonMenuButtonDisabled:{backgroundColor:s.buttonBackgroundDisabled,selectors:{":hover":{backgroundColor:s.buttonBackgroundDisabled}}},splitButtonDivider:le(le({},j5()),{backgroundColor:a.neutralTertiaryAlt,selectors:(o={},o[yt]={backgroundColor:"WindowText"},o)}),splitButtonDividerDisabled:{backgroundColor:n.palette.neutralTertiaryAlt},splitButtonMenuButtonChecked:{backgroundColor:a.neutralQuaternaryAlt,selectors:{":hover":{backgroundColor:a.neutralQuaternaryAlt}}},splitButtonMenuButtonExpanded:{backgroundColor:a.neutralQuaternaryAlt,selectors:{":hover":{backgroundColor:a.neutralQuaternaryAlt}}},splitButtonMenuIcon:{color:s.buttonText},splitButtonMenuIconDisabled:{color:s.buttonTextDisabled}}}function lne(n){var e,t,i,r,o,s,a,l,u,c=n.palette,d=n.semanticColors;return{root:{backgroundColor:d.primaryButtonBackground,border:"1px solid ".concat(d.primaryButtonBackground),color:d.primaryButtonText,selectors:(e={},e[yt]=le({color:"Window",backgroundColor:"WindowText",borderColor:"WindowText"},Wo()),e[".".concat(ki," &:focus")]={selectors:{":after":{border:"none",outlineColor:c.white}}},e)},rootHovered:{backgroundColor:d.primaryButtonBackgroundHovered,border:"1px solid ".concat(d.primaryButtonBackgroundHovered),color:d.primaryButtonTextHovered,selectors:(t={},t[yt]={color:"Window",backgroundColor:"Highlight",borderColor:"Highlight"},t)},rootPressed:{backgroundColor:d.primaryButtonBackgroundPressed,border:"1px solid ".concat(d.primaryButtonBackgroundPressed),color:d.primaryButtonTextPressed,selectors:(i={},i[yt]=le({color:"Window",backgroundColor:"WindowText",borderColor:"WindowText"},Wo()),i)},rootExpanded:{backgroundColor:d.primaryButtonBackgroundPressed,color:d.primaryButtonTextPressed},rootChecked:{backgroundColor:d.primaryButtonBackgroundPressed,color:d.primaryButtonTextPressed},rootCheckedHovered:{backgroundColor:d.primaryButtonBackgroundPressed,color:d.primaryButtonTextPressed},rootDisabled:{color:d.primaryButtonTextDisabled,backgroundColor:d.primaryButtonBackgroundDisabled,selectors:(r={},r[yt]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},r)},splitButtonContainer:{selectors:(o={},o[yt]={border:"none"},o)},splitButtonDivider:le(le({},j5()),{backgroundColor:c.white,selectors:(s={},s[yt]={backgroundColor:"Window"},s)}),splitButtonMenuButton:{backgroundColor:d.primaryButtonBackground,color:d.primaryButtonText,selectors:(a={},a[yt]={backgroundColor:"Canvas"},a[":hover"]={backgroundColor:d.primaryButtonBackgroundHovered,selectors:(l={},l[yt]={color:"Highlight"},l)},a)},splitButtonMenuButtonDisabled:{backgroundColor:d.primaryButtonBackgroundDisabled,selectors:{":hover":{backgroundColor:d.primaryButtonBackgroundDisabled}}},splitButtonMenuButtonChecked:{backgroundColor:d.primaryButtonBackgroundPressed,selectors:{":hover":{backgroundColor:d.primaryButtonBackgroundPressed}}},splitButtonMenuButtonExpanded:{backgroundColor:d.primaryButtonBackgroundPressed,selectors:{":hover":{backgroundColor:d.primaryButtonBackgroundPressed}}},splitButtonMenuIcon:{color:d.primaryButtonText},splitButtonMenuIconDisabled:{color:c.neutralTertiary,selectors:(u={},u[yt]={color:"GrayText"},u)}}}var une="32px",cne="80px",dne=Ji(function(n,e,t){var i=fI(n),r=q5(n),o={root:{minWidth:cne,height:une},label:{fontWeight:ei.semibold}};return pu(i,o,t?lne(n):ane(n),r,e)}),X5=function(n){Lr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,i=t.primary,r=i===void 0?!1:i,o=t.styles,s=t.theme;return T.createElement(dI,le({},this.props,{variantClassName:r?"ms-Button--primary":"ms-Button--default",styles:dne(s,o,r),onRenderDescription:hv}))},e=QE([eb("DefaultButton",["theme","styles"],!0)],e),e}(T.Component),fne="40px",hne="0 4px",pne=Ji(function(n,e){var t,i,r,o=fI(n),s={root:{padding:hne,height:fne,color:n.palette.neutralPrimary,backgroundColor:"transparent",border:"1px solid transparent",selectors:(t={},t[yt]={borderColor:"Window"},t)},rootHovered:{color:n.palette.themePrimary,selectors:(i={},i[yt]={color:"Highlight"},i)},iconHovered:{color:n.palette.themePrimary},rootPressed:{color:n.palette.black},rootExpanded:{color:n.palette.themePrimary},iconPressed:{color:n.palette.themeDarker},rootDisabled:{color:n.palette.neutralTertiary,backgroundColor:"transparent",borderColor:"transparent",selectors:(r={},r[yt]={color:"GrayText"},r)},rootChecked:{color:n.palette.black},iconChecked:{color:n.palette.themeDarker},flexContainer:{justifyContent:"flex-start"},icon:{color:n.palette.themeDarkAlt},iconDisabled:{color:"inherit"},menuIcon:{color:n.palette.neutralSecondary},textContainer:{flexGrow:0}};return pu(o,s,e)}),mne=function(n){Lr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,i=t.styles,r=t.theme;return T.createElement(dI,le({},this.props,{variantClassName:"ms-Button--action ms-Button--command",styles:pne(r,i),onRenderDescription:hv}))},e=QE([eb("ActionButton",["theme","styles"],!0)],e),e}(T.Component),gne=Ji(function(n,e){var t,i=fI(n),r=q5(n),o=n.palette,s=n.semanticColors,a={root:{padding:"0 4px",width:"32px",height:"32px",backgroundColor:"transparent",border:"none",color:s.link},rootHovered:{color:o.themeDarkAlt,backgroundColor:o.neutralLighter,selectors:(t={},t[yt]={borderColor:"Highlight",color:"Highlight"},t)},rootHasMenu:{width:"auto"},rootPressed:{color:o.themeDark,backgroundColor:o.neutralLight},rootExpanded:{color:o.themeDark,backgroundColor:o.neutralLight},rootChecked:{color:o.themeDark,backgroundColor:o.neutralLight},rootCheckedHovered:{color:o.themeDark,backgroundColor:o.neutralQuaternaryAlt},rootDisabled:{color:o.neutralTertiaryAlt}};return pu(i,a,r,e)}),GS=function(n){Lr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,i=t.styles,r=t.theme;return T.createElement(dI,le({},this.props,{variantClassName:"ms-Button--icon",styles:gne(r,i),onRenderText:hv,onRenderDescription:hv}))},e=QE([eb("IconButton",["theme","styles"],!0)],e),e}(T.Component),vne=function(n){Lr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){return T.createElement(X5,le({},this.props,{primary:!0,onRenderDescription:hv}))},e=QE([eb("PrimaryButton",["theme","styles"],!0)],e),e}(T.Component),CB=mne,yne=xs(),Q5=T.forwardRef(function(n,e){var t=n.disabled,i=n.required,r=n.inputProps,o=n.name,s=n.ariaLabel,a=n.ariaLabelledBy,l=n.ariaDescribedBy,u=n.ariaPositionInSet,c=n.ariaSetSize,d=n.title,m=n.checkmarkIconProps,v=n.styles,y=n.theme,_=n.className,S=n.boxSide,x=S===void 0?"start":S,C=Np("checkbox-",n.id),b=T.useRef(null),M=Qc(b,e),B=T.useRef(null),k=nE(n.checked,n.defaultChecked,n.onChange),F=k[0],R=k[1],N=nE(n.indeterminate,n.defaultIndeterminate),U=N[0],G=N[1];t5(b);var oe=yne(v,{theme:y,className:_,disabled:t,indeterminate:U,checked:F,reversed:x!=="start",isUsingCustomLabelRender:!!n.onRenderLabel}),me=T.useCallback(function(V){U?(R(!!F,V),G(!1)):R(!F,V)},[R,G,U,F]),j=T.useCallback(function(V){return V&&V.label?T.createElement("span",{className:oe.text,title:V.title},V.label):null},[oe.text]),ne=T.useCallback(function(V){if(B.current){var $=!!V;B.current.indeterminate=$,G($)}},[G]);Sne(n,F,U,ne,B),T.useEffect(function(){return ne(U)},[ne,U]);var te=n.onRenderLabel||j,de=U?"mixed":void 0,O=le(le({className:oe.input,type:"checkbox"},r),{checked:!!F,disabled:t,required:i,name:o,id:C,title:d,onChange:me,"aria-disabled":t,"aria-label":s,"aria-labelledby":a,"aria-describedby":l,"aria-posinset":u,"aria-setsize":c,"aria-checked":de});return T.createElement("div",{className:oe.root,title:d,ref:M},T.createElement("input",le({},O,{ref:B,title:d,"data-ktp-execute-target":!0})),T.createElement("label",{className:oe.label,htmlFor:C},T.createElement("div",{className:oe.checkbox,"data-ktp-target":!0},T.createElement(ld,le({iconName:"CheckMark"},m,{className:oe.checkmark}))),te(n,j)))});Q5.displayName="CheckboxBase";function Sne(n,e,t,i,r){T.useImperativeHandle(n.componentRef,function(){return{get checked(){return!!e},get indeterminate(){return!!t},set indeterminate(o){i(o)},focus:function(){r.current&&r.current.focus()}}},[r,e,t,i])}var _ne={root:"ms-Checkbox",label:"ms-Checkbox-label",checkbox:"ms-Checkbox-checkbox",checkmark:"ms-Checkbox-checkmark",text:"ms-Checkbox-text"},cP="20px",dP="200ms",fP="cubic-bezier(.4, 0, .23, 1)",xne=function(n){var e,t,i,r,o,s,a,l,u,c,d,m,v,y,_,S,x,C,b=n.className,M=n.theme,B=n.reversed,k=n.checked,F=n.disabled,R=n.isUsingCustomLabelRender,N=n.indeterminate,U=M.semanticColors,G=M.effects,oe=M.palette,me=M.fonts,j=Xs(_ne,M),ne=U.inputForegroundChecked,te=oe.neutralSecondary,de=oe.neutralPrimary,O=U.inputBackgroundChecked,V=U.inputBackgroundChecked,$=U.disabledBodySubtext,ie=U.inputBorderHovered,ae=U.inputBackgroundCheckedHovered,Ce=U.inputBackgroundChecked,Fe=U.inputBackgroundCheckedHovered,Ne=U.inputBackgroundCheckedHovered,he=U.inputTextHovered,mt=U.disabledBodySubtext,ft=U.bodyText,_t=U.disabledText,Ke=[(e={content:'""',borderRadius:G.roundedCorner2,position:"absolute",width:10,height:10,top:4,left:4,boxSizing:"border-box",borderWidth:5,borderStyle:"solid",borderColor:F?$:O,transitionProperty:"border-width, border, border-color",transitionDuration:dP,transitionTimingFunction:fP},e[yt]={borderColor:"WindowText"},e)];return{root:[j.root,{position:"relative",display:"flex"},B&&"reversed",k&&"is-checked",!F&&"is-enabled",F&&"is-disabled",!F&&[!k&&(t={},t[":hover .".concat(j.checkbox)]=(i={borderColor:ie},i[yt]={borderColor:"Highlight"},i),t[":focus .".concat(j.checkbox)]={borderColor:ie},t[":hover .".concat(j.checkmark)]=(r={color:te,opacity:"1"},r[yt]={color:"Highlight"},r),t),k&&!N&&(o={},o[":hover .".concat(j.checkbox)]={background:Fe,borderColor:Ne},o[":focus .".concat(j.checkbox)]={background:Fe,borderColor:Ne},o[yt]=(s={},s[":hover .".concat(j.checkbox)]={background:"Highlight",borderColor:"Highlight"},s[":focus .".concat(j.checkbox)]={background:"Highlight"},s[":focus:hover .".concat(j.checkbox)]={background:"Highlight"},s[":focus:hover .".concat(j.checkmark)]={color:"Window"},s[":hover .".concat(j.checkmark)]={color:"Window"},s),o),N&&(a={},a[":hover .".concat(j.checkbox,", :hover .").concat(j.checkbox,":after")]=(l={borderColor:ae},l[yt]={borderColor:"WindowText"},l),a[":focus .".concat(j.checkbox)]={borderColor:ae},a[":hover .".concat(j.checkmark)]={opacity:"0"},a),(u={},u[":hover .".concat(j.text,", :focus .").concat(j.text)]=(c={color:he},c[yt]={color:F?"GrayText":"WindowText"},c),u)],b],input:(d={position:"absolute",background:"none",opacity:0},d[".".concat(ki," &:focus + label::before")]=(m={outline:"1px solid "+M.palette.neutralSecondary,outlineOffset:"2px"},m[yt]={outline:"1px solid WindowText"},m),d),label:[j.label,M.fonts.medium,{display:"flex",alignItems:R?"center":"flex-start",cursor:F?"default":"pointer",position:"relative",userSelect:"none"},B&&{flexDirection:"row-reverse",justifyContent:"flex-end"},{"&::before":{position:"absolute",left:0,right:0,top:0,bottom:0,content:'""',pointerEvents:"none"}}],checkbox:[j.checkbox,(v={position:"relative",display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",height:cP,width:cP,border:"1px solid ".concat(de),borderRadius:G.roundedCorner2,boxSizing:"border-box",transitionProperty:"background, border, border-color",transitionDuration:dP,transitionTimingFunction:fP,overflow:"hidden",":after":N?Ke:null},v[yt]=le({borderColor:"WindowText"},Wo()),v),N&&{borderColor:O},B?{marginLeft:4}:{marginRight:4},!F&&!N&&k&&(y={background:Ce,borderColor:V},y[yt]={background:"Highlight",borderColor:"Highlight"},y),F&&(_={borderColor:$},_[yt]={borderColor:"GrayText"},_),k&&F&&(S={background:mt,borderColor:$},S[yt]={background:"Window"},S)],checkmark:[j.checkmark,(x={opacity:k&&!N?"1":"0",color:ne},x[yt]=le({color:F?"GrayText":"Window"},Wo()),x)],text:[j.text,(C={color:F?_t:ft,fontSize:me.medium.fontSize,lineHeight:"20px"},C[yt]=le({color:F?"GrayText":"WindowText"},Wo()),C),B?{marginRight:4}:{marginLeft:4}]}},Iy=ws(Q5,xne,void 0,{scope:"Checkbox"}),wne=xs({cacheSize:100}),Cne=function(n){Lr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,i=t.as,r=i===void 0?"label":i,o=t.children,s=t.className,a=t.disabled,l=t.styles,u=t.required,c=t.theme,d=wne(l,{className:s,disabled:a,required:u,theme:c});return T.createElement(r,le({},Ci(this.props,bl),{className:d.root}),o)},e}(T.Component),Ene=function(n){var e,t=n.theme,i=n.className,r=n.disabled,o=n.required,s=t.semanticColors,a=ei.semibold,l=s.bodyText,u=s.disabledBodyText,c=s.errorText;return{root:["ms-Label",t.fonts.medium,{fontWeight:a,color:l,boxSizing:"border-box",boxShadow:"none",margin:0,display:"block",padding:"5px 0",wordWrap:"break-word",overflowWrap:"break-word"},r&&{color:u,selectors:(e={},e[yt]=le({color:"GrayText"},Wo()),e)},o&&{selectors:{"::after":{content:"' *'",color:c,paddingRight:12}}},i]}},Y5=ws(Cne,Ene,void 0,{scope:"Label"});function hP(n,e){for(var t=[],i=0,r=e;i<r.length;i++){var o=r[i],s=n[o];s&&t.push(s)}return t}var Zl;(function(n){n[n.Normal=0]="Normal",n[n.Divider=1]="Divider",n[n.Header=2]="Header",n[n.SelectAll=3]="SelectAll"})(Zl||(Zl={}));var bne=xs(),Ane=function(n){Lr(e,n);function e(t){var i=n.call(this,t)||this;Qf(i);var r=i.props.allowTouchBodyScroll,o=r===void 0?!1:r;return i._allowTouchBodyScroll=o,i}return e.prototype.componentDidMount=function(){!this._allowTouchBodyScroll&&iQ()},e.prototype.componentWillUnmount=function(){!this._allowTouchBodyScroll&&rQ()},e.prototype.render=function(){var t=this.props,i=t.isDarkThemed,r=t.className,o=t.theme,s=t.styles,a=Ci(this.props,bl),l=bne(s,{theme:o,className:r,isDark:i});return T.createElement("div",le({},a,{className:l.root}))},e}(T.Component),Mne={root:"ms-Overlay",rootDark:"ms-Overlay--dark"},Tne=function(n){var e,t=n.className,i=n.theme,r=n.isNone,o=n.isDark,s=i.palette,a=Xs(Mne,i);return{root:[a.root,i.fonts.medium,{backgroundColor:s.whiteTranslucent40,top:0,right:0,bottom:0,left:0,position:"absolute",selectors:(e={},e[yt]={border:"1px solid WindowText",opacity:0},e)},r&&{visibility:"hidden"},o&&[a.rootDark,{backgroundColor:s.blackTranslucent40}],t]}},Bne=ws(Ane,Tne,void 0,{scope:"Overlay"}),Rne=function(){function n(){this._size=0}return n.prototype.updateOptions=function(e){for(var t=[],i=[],r=0,o=0;o<e.length;o++){var s=e[o],a=s.itemType,l=s.hidden;a===Zl.Divider||a===Zl.Header?(t.push(o),i.push(o)):l?i.push(o):r++}this._size=r,this._displayOnlyOptionsCache=t,this._notSelectableOptionsCache=i,this._cachedOptions=ui([],e,!0)},Object.defineProperty(n.prototype,"optionSetSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedOptions",{get:function(){return this._cachedOptions},enumerable:!1,configurable:!0}),n.prototype.positionInSet=function(e){if(e!==void 0){for(var t=0;e>this._notSelectableOptionsCache[t];)t++;if(this._displayOnlyOptionsCache[t]===e)throw new Error("Unexpected: Option at index ".concat(e," is not a selectable element."));if(this._notSelectableOptionsCache[t]!==e)return e-t+1}},n}(),so;(function(n){n[n.smallFluid=0]="smallFluid",n[n.smallFixedFar=1]="smallFixedFar",n[n.smallFixedNear=2]="smallFixedNear",n[n.medium=3]="medium",n[n.large=4]="large",n[n.largeFixed=5]="largeFixed",n[n.extraLarge=6]="extraLarge",n[n.custom=7]="custom",n[n.customNear=8]="customNear"})(so||(so={}));var Ine=xs(),zi;(function(n){n[n.closed=0]="closed",n[n.animatingOpen=1]="animatingOpen",n[n.open=2]="open",n[n.animatingClosed=3]="animatingClosed"})(zi||(zi={}));var kne=function(n){Lr(e,n);function e(t){var i=n.call(this,t)||this;i._panel=T.createRef(),i._animationCallback=null,i._hasCustomNavigation=!!(i.props.onRenderNavigation||i.props.onRenderNavigationContent),i.dismiss=function(s){i.props.onDismiss&&i.isActive&&i.props.onDismiss(s),(!s||s&&!s.defaultPrevented)&&i.close()},i._allowScrollOnPanel=function(s){s?i._allowTouchBodyScroll?nQ(s,i._events):tQ(s,i._events):i._events.off(i._scrollableContent),i._scrollableContent=s},i._onRenderNavigation=function(s){if(!i.props.onRenderNavigationContent&&!i.props.onRenderNavigation&&!i.props.hasCloseButton)return null;var a=i.props.onRenderNavigationContent,l=a===void 0?i._onRenderNavigationContent:a;return T.createElement("div",{className:i._classNames.navigation},l(s,i._onRenderNavigationContent))},i._onRenderNavigationContent=function(s){var a,l=s.closeButtonAriaLabel,u=s.hasCloseButton,c=s.onRenderHeader,d=c===void 0?i._onRenderHeader:c;if(u){var m=(a=i._classNames.subComponentStyles)===null||a===void 0?void 0:a.closeButton();return T.createElement(T.Fragment,null,!i._hasCustomNavigation&&d(i.props,i._onRenderHeader,i._headerTextId),T.createElement(GS,{styles:m,className:i._classNames.closeButton,onClick:i._onPanelClick,ariaLabel:l,title:l,"data-is-visible":!0,iconProps:{iconName:"Cancel"}}))}return null},i._onRenderHeader=function(s,a,l){var u=s.headerText,c=s.headerTextProps,d=c===void 0?{}:c;return u?T.createElement("div",{className:i._classNames.header},T.createElement("div",le({id:l,role:"heading","aria-level":1},d,{className:Co(i._classNames.headerText,d.className)}),u)):null},i._onRenderBody=function(s){return T.createElement("div",{className:i._classNames.content},s.children)},i._onRenderFooter=function(s){var a=i.props.onRenderFooterContent,l=a===void 0?null:a;return l?T.createElement("div",{className:i._classNames.footer},T.createElement("div",{className:i._classNames.footerInner},l())):null},i._animateTo=function(s){s===zi.open&&i.props.onOpen&&i.props.onOpen(),i._animationCallback=i._async.setTimeout(function(){i.setState({visibility:s}),i._onTransitionComplete(s)},200)},i._clearExistingAnimationTimer=function(){i._animationCallback!==null&&i._async.clearTimeout(i._animationCallback)},i._onPanelClick=function(s){i.dismiss(s)},i._onTransitionComplete=function(s){i._updateFooterPosition(),s===zi.open&&i.props.onOpened&&i.props.onOpened(),s===zi.closed&&i.props.onDismissed&&i.props.onDismissed()};var r=i.props.allowTouchBodyScroll,o=r===void 0?!1:r;return i._allowTouchBodyScroll=o,Qf(i),i.state={isFooterSticky:!1,visibility:zi.closed,id:yl("Panel")},i}return e.getDerivedStateFromProps=function(t,i){return t.isOpen===void 0?null:t.isOpen&&(i.visibility===zi.closed||i.visibility===zi.animatingClosed)?{visibility:zi.animatingOpen}:!t.isOpen&&(i.visibility===zi.open||i.visibility===zi.animatingOpen)?{visibility:zi.animatingClosed}:null},e.prototype.componentDidMount=function(){this._async=new A1(this),this._events=new Vu(this),this._events.on(window,"resize",this._updateFooterPosition),this._shouldListenForOuterClick(this.props)&&this._events.on(document.body,"mousedown",this._dismissOnOuterClick,!0),this.props.isOpen&&this.setState({visibility:zi.animatingOpen})},e.prototype.componentDidUpdate=function(t,i){var r=this._shouldListenForOuterClick(this.props),o=this._shouldListenForOuterClick(t);this.state.visibility!==i.visibility&&(this._clearExistingAnimationTimer(),this.state.visibility===zi.animatingOpen?this._animateTo(zi.open):this.state.visibility===zi.animatingClosed&&this._animateTo(zi.closed)),r&&!o?this._events.on(document.body,"mousedown",this._dismissOnOuterClick,!0):!r&&o&&this._events.off(document.body,"mousedown",this._dismissOnOuterClick,!0)},e.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},e.prototype.render=function(){var t=this.props,i=t.className,r=i===void 0?"":i,o=t.elementToFocusOnDismiss,s=t.firstFocusableSelector,a=t.focusTrapZoneProps,l=t.forceFocusInsideTrap,u=t.hasCloseButton,c=t.headerText,d=t.headerClassName,m=d===void 0?"":d,v=t.ignoreExternalFocusing,y=t.isBlocking,_=t.isFooterAtBottom,S=t.isLightDismiss,x=t.isHiddenOnDismiss,C=t.layerProps,b=t.overlayProps,M=t.popupProps,B=t.type,k=t.styles,F=t.theme,R=t.customWidth,N=t.onLightDismissClick,U=N===void 0?this._onPanelClick:N,G=t.onRenderNavigation,oe=G===void 0?this._onRenderNavigation:G,me=t.onRenderHeader,j=me===void 0?this._onRenderHeader:me,ne=t.onRenderBody,te=ne===void 0?this._onRenderBody:ne,de=t.onRenderFooter,O=de===void 0?this._onRenderFooter:de,V=this.state,$=V.isFooterSticky,ie=V.visibility,ae=V.id,Ce=B===so.smallFixedNear||B===so.customNear,Fe=xo(F),Ne=Fe?Ce:!Ce,he=B===so.custom||B===so.customNear?{width:R}:{},mt=Ci(this.props,bl),ft=this.isActive,_t=ie===zi.animatingClosed||ie===zi.animatingOpen;if(this._headerTextId=c&&ae+"-headerText",!ft&&!_t&&!x)return null;this._classNames=Ine(k,{theme:F,className:r,focusTrapZoneClassName:a?a.className:void 0,hasCloseButton:u,headerClassName:m,isAnimating:_t,isFooterSticky:$,isFooterAtBottom:_,isOnRightSide:Ne,isOpen:ft,isHiddenOnDismiss:x,type:B,hasCustomNavigation:this._hasCustomNavigation});var Ke=this,ct=Ke._classNames,De=Ke._allowTouchBodyScroll,Ae;return y&&ft&&(Ae=T.createElement(Bne,le({className:ct.overlay,isDarkThemed:!1,onClick:S?U:void 0,allowTouchBodyScroll:De},b))),T.createElement(B5,le({},C),T.createElement(oI,le({role:"dialog","aria-modal":y?"true":void 0,ariaLabelledBy:this._headerTextId?this._headerTextId:void 0,onDismiss:this.dismiss,className:ct.hiddenPanel,enableAriaHiddenSiblings:!!ft},M),T.createElement("div",le({"aria-hidden":!ft&&_t},mt,{ref:this._panel,className:ct.root}),Ae,T.createElement(cp,le({ignoreExternalFocusing:v,forceFocusInsideTrap:!y||x&&!ft?!1:l,firstFocusableSelector:s,isClickableOutsideFocusTrap:!0},a,{className:ct.main,style:he,elementToFocusOnDismiss:o}),T.createElement("div",{className:ct.contentInner},T.createElement("div",{ref:this._allowScrollOnPanel,className:ct.scrollableContent,"data-is-scrollable":!0},T.createElement("div",{className:ct.commands,"data-is-visible":!0},oe(this.props,this._onRenderNavigation)),(this._hasCustomNavigation||!u)&&j(this.props,this._onRenderHeader,this._headerTextId),te(this.props,this._onRenderBody),O(this.props,this._onRenderFooter)))))))},e.prototype.open=function(){this.props.isOpen===void 0&&(this.isActive||this.setState({visibility:zi.animatingOpen}))},e.prototype.close=function(){this.props.isOpen===void 0&&this.isActive&&this.setState({visibility:zi.animatingClosed})},Object.defineProperty(e.prototype,"isActive",{get:function(){return this.state.visibility===zi.open||this.state.visibility===zi.animatingOpen},enumerable:!1,configurable:!0}),e.prototype._shouldListenForOuterClick=function(t){return!!t.isBlocking&&!!t.isOpen},e.prototype._updateFooterPosition=function(){var t=this._scrollableContent;if(t){var i=t.clientHeight,r=t.scrollHeight;this.setState({isFooterSticky:i<r})}},e.prototype._dismissOnOuterClick=function(t){var i=this._panel.current;this.isActive&&i&&!t.defaultPrevented&&(Gs(i,t.target)||(this.props.onOuterClick?this.props.onOuterClick(t):this.dismiss(t)))},e.defaultProps={isHiddenOnDismiss:!1,isOpen:void 0,isBlocking:!0,hasCloseButton:!0,type:so.smallFixedFar},e}(T.Component),v3,xx,wx,y3,S3,Lne={root:"ms-Panel",main:"ms-Panel-main",commands:"ms-Panel-commands",contentInner:"ms-Panel-contentInner",scrollableContent:"ms-Panel-scrollableContent",navigation:"ms-Panel-navigation",closeButton:"ms-Panel-closeButton ms-PanelAction-close",header:"ms-Panel-header",headerText:"ms-Panel-headerText",content:"ms-Panel-content",footer:"ms-Panel-footer",footerInner:"ms-Panel-footerInner",isOpen:"is-open",hasCloseButton:"ms-Panel--hasCloseButton",smallFluid:"ms-Panel--smFluid",smallFixedNear:"ms-Panel--smLeft",smallFixedFar:"ms-Panel--sm",medium:"ms-Panel--md",large:"ms-Panel--lg",largeFixed:"ms-Panel--fixed",extraLarge:"ms-Panel--xl",custom:"ms-Panel--custom",customNear:"ms-Panel--customLeft"},Op={full:"100%",auto:"auto",xs:272,sm:340,md1:592,md2:644,lg:940},Uc={auto:"auto",none:0,md:48,lg:428,xl:176},sy=(v3={},v3["@media (min-width: ".concat(Xy,"px)")]={width:Op.sm},v3),Cx=(xx={},xx["@media (min-width: ".concat(f5,"px)")]={width:Op.md1},xx["@media (min-width: ".concat(hZ,"px)")]={width:Op.md2},xx),_3=(wx={},wx["@media (min-width: ".concat(pZ,"px)")]={left:Uc.md,width:Op.auto},wx["@media (min-width: ".concat(eI,"px)")]={left:Uc.lg},wx),Fne=(y3={},y3["@media (min-width: ".concat(eI,"px)")]={left:Uc.auto,width:Op.lg},y3),Dne=(S3={},S3["@media (min-width: ".concat(eI,"px)")]={left:Uc.xl},S3),Pne=function(n){var e;switch(n){case so.smallFixedFar:e=le({},sy);break;case so.medium:e=le(le({},sy),Cx);break;case so.large:e=le(le(le({},sy),Cx),_3);break;case so.largeFixed:e=le(le(le(le({},sy),Cx),_3),Fne);break;case so.extraLarge:e=le(le(le(le({},sy),Cx),_3),Dne);break}return e},Nne="44px",x3={paddingLeft:"24px",paddingRight:"24px"},One=function(n){var e,t,i,r,o=n.className,s=n.focusTrapZoneClassName,a=n.hasCloseButton,l=n.headerClassName,u=n.isAnimating,c=n.isFooterSticky,d=n.isFooterAtBottom,m=n.isOnRightSide,v=n.isOpen,y=n.isHiddenOnDismiss,_=n.hasCustomNavigation,S=n.theme,x=n.type,C=x===void 0?so.smallFixedFar:x,b=S.effects,M=S.fonts,B=S.semanticColors,k=Xs(Lne,S),F=C===so.custom||C===so.customNear;return{root:[k.root,S.fonts.medium,v&&k.isOpen,a&&k.hasCloseButton,{pointerEvents:"none",position:"absolute",top:0,left:0,right:0,bottom:0},F&&m&&k.custom,F&&!m&&k.customNear,o],overlay:[{pointerEvents:"auto",cursor:"pointer"},v&&u&&Yl.fadeIn100,!v&&u&&Yl.fadeOut100],hiddenPanel:[!v&&!u&&y&&{visibility:"hidden"}],main:[k.main,{backgroundColor:B.bodyBackground,boxShadow:b.elevation64,pointerEvents:"auto",position:"absolute",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",bottom:0,top:0,left:Uc.auto,right:Uc.none,width:Op.full,selectors:le((e={},e[yt]={borderLeft:"3px solid ".concat(B.variantBorder),borderRight:"3px solid ".concat(B.variantBorder)},e),Pne(C))},C===so.smallFluid&&{left:Uc.none},C===so.smallFixedNear&&{left:Uc.none,right:Uc.auto,width:Op.xs},C===so.customNear&&{right:"auto",left:0},F&&{maxWidth:"100vw"},v&&u&&!m&&Yl.slideRightIn40,v&&u&&m&&Yl.slideLeftIn40,!v&&u&&!m&&Yl.slideLeftOut40,!v&&u&&m&&Yl.slideRightOut40,s],commands:[k.commands,{backgroundColor:B.bodyBackground,paddingTop:18,selectors:(t={},t["@media (min-height: ".concat(Xy,"px)")]={position:"sticky",top:0,zIndex:1},t)},_&&{paddingTop:"inherit"}],navigation:[k.navigation,{display:"flex",justifyContent:"flex-end"},_&&{height:Nne}],contentInner:[k.contentInner,{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"hidden"}],header:[k.header,x3,{alignSelf:"flex-start"},a&&!_&&{flexGrow:1},_&&{flexShrink:0}],headerText:[k.headerText,M.xLarge,{color:B.bodyText,lineHeight:"27px",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},l],scrollableContent:[k.scrollableContent,{overflowY:"auto"},d&&{flexGrow:1,display:"inherit",flexDirection:"inherit"}],content:[k.content,x3,{paddingBottom:20},d&&{selectors:(i={},i["@media (min-height: ".concat(Xy,"px)")]={flexGrow:1},i)}],footer:[k.footer,{flexShrink:0,borderTop:"1px solid transparent",transition:"opacity ".concat(Og.durationValue3," ").concat(Og.easeFunction2),selectors:(r={},r["@media (min-height: ".concat(Xy,"px)")]={position:"sticky",bottom:0},r)},c&&{backgroundColor:B.bodyBackground,borderTopColor:B.variantBorder}],footerInner:[k.footerInner,x3,{paddingBottom:16,paddingTop:16}],subComponentStyles:{closeButton:{root:[k.closeButton,{marginRight:14,color:S.palette.neutralSecondary,fontSize:Ql.large},_&&{marginRight:0,height:"auto",width:"44px"}],rootHovered:{color:S.palette.neutralPrimary}}}}},Z5=ws(kne,One,void 0,{scope:"Panel"}),zne=xs(),Une={options:[]};function Hne(n){var e=n.defaultSelectedKeys,t=n.selectedKeys,i=n.defaultSelectedKey,r=n.selectedKey,o=n.options,s=n.multiSelect,a=yv(o),l=T.useState([]),u=l[0],c=l[1],d,m=o!==a;s?m&&e!==void 0?d=e:d=t:m&&i!==void 0?d=i:d=r;var v=yv(d);return T.useEffect(function(){var y=function(){if(d===void 0){if(s)return _();var x=S(null);return x!==-1?[x]:[]}else if(!Array.isArray(d)){var x=S(d);return x!==-1?[x]:[]}for(var C=[],b=0,M=d;b<M.length;b++){var B=M[b],x=S(B);x!==-1&&C.push(x)}return C},_=function(){return o.map(function(x,C){return x.selected?C:-1}).filter(function(x){return x!==-1})},S=function(x){return dQ(o,function(C){return x!=null?C.key===x:!!C.selected||!!C.isSelected})};(d!==void 0||!a)&&(d!==v||m)&&c(y())},[m,s,a,v,o,d]),[u,c]}var ez=T.forwardRef(function(n,e){var t=Kv(Une,n),i=T.useRef(null),r=Qc(e,i),o=z5(i,t.responsiveMode),s=Hne(t),a=s[0],l=s[1];return T.createElement(Gne,le({},t,{responsiveMode:o,hoisted:{rootRef:r,selectedIndices:a,setSelectedIndices:l}}))});ez.displayName="DropdownBase";var Gne=function(n){Lr(e,n);function e(t){var i=n.call(this,t)||this;i._host=T.createRef(),i._focusZone=T.createRef(),i._dropDown=T.createRef(),i._scrollIdleDelay=250,i._sizePosCache=new Rne,i._requestAnimationFrame=gY(i),i.dismissMenu=function(){var o=i.state.isOpen;o&&i.setState({isOpen:!1})},i._onChange=function(o,s,a,l,u){var c=i.props,d=c.onChange,m=c.onChanged;if(d||m){var v=u?le(le({},s[a]),{selected:!l}):s[a];d&&d(le(le({},o),{target:i._dropDown.current}),v,a),m&&m(v,a)}},i._getPlaceholder=function(){return i.props.placeholder||i.props.placeHolder},i._getTitle=function(o,s){var a=i.props.multiSelectDelimiter,l=a===void 0?", ":a;return o.map(function(u){return u.text}).join(l)},i._onRenderTitle=function(o){return T.createElement(T.Fragment,null,i._getTitle(o))},i._onRenderPlaceholder=function(o){return i._getPlaceholder()?T.createElement(T.Fragment,null,i._getPlaceholder()):null},i._onRenderContainer=function(o){var s=o.calloutProps,a=o.panelProps,l=i.props,u=l.responsiveMode,c=l.dropdownWidth,d=u<=_v.medium,m={firstFocusableTarget:"#".concat(i._listId,"1")},v=i._classNames.subComponentStyles?i._classNames.subComponentStyles.panel:void 0,y=void 0,_=void 0;return c==="auto"?_=i._dropDown.current?i._dropDown.current.clientWidth:0:y=c||(i._dropDown.current?i._dropDown.current.clientWidth:0),d?T.createElement(Z5,le({closeButtonAriaLabel:"Close",focusTrapZoneProps:m,hasCloseButton:!0,isOpen:!0,isLightDismiss:!0,onDismiss:i._onDismiss,styles:v},a),i._renderFocusableList(o)):T.createElement(aI,le({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHintFixed:!1,directionalHint:rr.bottomLeftEdge,calloutWidth:y,calloutMinWidth:_},s,{className:i._classNames.callout,target:i._dropDown.current,onDismiss:i._onDismiss,onScroll:i._onScroll,onPositioned:i._onPositioned}),i._renderFocusableList(o))},i._onRenderCaretDown=function(o){return T.createElement(ld,{className:i._classNames.caretDown,iconName:"ChevronDown","aria-hidden":!0})},i._onRenderList=function(o){var s=o.onRenderItem,a=s===void 0?i._onRenderItem:s,l={items:[]},u=[],c=function(){var m=l.id?[T.createElement("div",{role:"group",key:l.id,"aria-labelledby":l.id},l.items)]:l.items;u=ui(ui([],u,!0),m,!0),l={items:[]}},d=function(m,v){switch(m.itemType){case Zl.Header:l.items.length>0&&c();var y=i._id+m.key;l.items.push(a(le(le({id:y},m),{index:v}),i._onRenderItem)),l.id=y;break;case Zl.Divider:v>0&&l.items.push(a(le(le({},m),{index:v}),i._onRenderItem)),l.items.length>0&&c();break;default:l.items.push(a(le(le({},m),{index:v}),i._onRenderItem))}};return o.options.forEach(function(m,v){d(m,v)}),l.items.length>0&&c(),T.createElement(T.Fragment,null,u)},i._onRenderItem=function(o){switch(o.itemType){case Zl.Divider:return i._renderSeparator(o);case Zl.Header:return i._renderHeader(o);default:return i._renderOption(o)}},i._renderOption=function(o){var s,a=i.props,l=a.onRenderOption,u=l===void 0?i._onRenderOption:l,c=a.hoisted.selectedIndices,d=c===void 0?[]:c,m=o.index!==void 0&&d?d.indexOf(o.index)>-1:!1,v=o.hidden?i._classNames.dropdownItemHidden:m&&o.disabled===!0?i._classNames.dropdownItemSelectedAndDisabled:m?i._classNames.dropdownItemSelected:o.disabled===!0?i._classNames.dropdownItemDisabled:i._classNames.dropdownItem,y=o.title,_=i._listId+o.index,S=(s=o.id)!==null&&s!==void 0?s:_+"-label",x=i._classNames.subComponentStyles?i._classNames.subComponentStyles.multiSelectItem:void 0;return i.props.multiSelect?T.createElement(Iy,{id:_,key:o.key,disabled:o.disabled,onChange:i._onItemClick(o),inputProps:le({"aria-selected":m,onMouseEnter:i._onItemMouseEnter.bind(i,o),onMouseLeave:i._onMouseItemLeave.bind(i,o),onMouseMove:i._onItemMouseMove.bind(i,o),role:"option"},{"data-index":o.index,"data-is-focusable":!(o.disabled||o.hidden)}),label:o.text,title:y,onRenderLabel:i._onRenderItemLabel.bind(i,le(le({},o),{id:S})),className:Co(v,"is-multi-select"),checked:m,styles:x,ariaPositionInSet:o.hidden?void 0:i._sizePosCache.positionInSet(o.index),ariaSetSize:o.hidden?void 0:i._sizePosCache.optionSetSize,ariaLabel:o.ariaLabel,ariaLabelledBy:o.ariaLabel?void 0:S}):T.createElement(CB,{id:_,key:o.key,"data-index":o.index,"data-is-focusable":!o.disabled,disabled:o.disabled,className:v,onClick:i._onItemClick(o),onMouseEnter:i._onItemMouseEnter.bind(i,o),onMouseLeave:i._onMouseItemLeave.bind(i,o),onMouseMove:i._onItemMouseMove.bind(i,o),role:"option","aria-selected":m?"true":"false",ariaLabel:o.ariaLabel,title:y,"aria-posinset":i._sizePosCache.positionInSet(o.index),"aria-setsize":i._sizePosCache.optionSetSize},u(o,i._onRenderOption))},i._onRenderOption=function(o){return T.createElement("span",{className:i._classNames.dropdownOptionText},o.text)},i._onRenderMultiselectOption=function(o){return T.createElement("span",{id:o.id,"aria-hidden":"true",className:i._classNames.dropdownOptionText},o.text)},i._onRenderItemLabel=function(o){var s=i.props.onRenderOption,a=s===void 0?i._onRenderMultiselectOption:s;return a(o,i._onRenderMultiselectOption)},i._onPositioned=function(o){i._focusZone.current&&i._requestAnimationFrame(function(){var s=i.props.hoisted.selectedIndices;if(i._focusZone.current)if(!i._hasBeenPositioned&&s&&s[0]&&!i.props.options[s[0]].disabled){var a=Ao().getElementById("".concat(i._id,"-list").concat(s[0]));a&&i._focusZone.current.focusElement(a),i._hasBeenPositioned=!0}else i._focusZone.current.focus()}),(!i.state.calloutRenderEdge||i.state.calloutRenderEdge!==o.targetEdge)&&i.setState({calloutRenderEdge:o.targetEdge})},i._onItemClick=function(o){return function(s){o.disabled||(i.setSelectedIndex(s,o.index),i.props.multiSelect||i.setState({isOpen:!1}))}},i._onScroll=function(){!i._isScrollIdle&&i._scrollIdleTimeoutId!==void 0?(clearTimeout(i._scrollIdleTimeoutId),i._scrollIdleTimeoutId=void 0):i._isScrollIdle=!1,i._scrollIdleTimeoutId=window.setTimeout(function(){i._isScrollIdle=!0},i._scrollIdleDelay)},i._onMouseItemLeave=function(o,s){if(!i._shouldIgnoreMouseEvent()&&i._host.current)if(i._host.current.setActive)try{i._host.current.setActive()}catch{}else i._host.current.focus()},i._onDismiss=function(){i.setState({isOpen:!1})},i._onDropdownBlur=function(o){var s=i._isDisabled();s||i.state.isOpen||(i.setState({hasFocus:!1}),i.props.onBlur&&i.props.onBlur(o))},i._onDropdownKeyDown=function(o){var s=i._isDisabled();if(!s&&(i._lastKeyDownWasAltOrMeta=i._isAltOrMeta(o),!(i.props.onKeyDown&&(i.props.onKeyDown(o),o.defaultPrevented)))){var a,l=i.props.hoisted.selectedIndices.length?i.props.hoisted.selectedIndices[0]:-1,u=o.altKey||o.metaKey,c=i.state.isOpen;switch(o.which){case Bt.enter:i.setState({isOpen:!c});break;case Bt.escape:if(!c)return;i.setState({isOpen:!1});break;case Bt.up:if(u){if(c){i.setState({isOpen:!1});break}return}i.props.multiSelect?i.setState({isOpen:!0}):i._isDisabled()||(a=i._moveIndex(o,-1,l-1,l));break;case Bt.down:u&&(o.stopPropagation(),o.preventDefault()),u&&!c||i.props.multiSelect?i.setState({isOpen:!0}):i._isDisabled()||(a=i._moveIndex(o,1,l+1,l));break;case Bt.home:i.props.multiSelect||(a=i._moveIndex(o,1,0,l));break;case Bt.end:i.props.multiSelect||(a=i._moveIndex(o,-1,i.props.options.length-1,l));break;case Bt.space:break;default:return}a!==l&&(o.stopPropagation(),o.preventDefault())}},i._onDropdownKeyUp=function(o){var s=i._isDisabled();if(!s){var a=i._shouldHandleKeyUp(o),l=i.state.isOpen;if(!(i.props.onKeyUp&&(i.props.onKeyUp(o),o.defaultPrevented))){switch(o.which){case Bt.space:i.setState({isOpen:!l});break;default:a&&l&&i.setState({isOpen:!1});return}o.stopPropagation(),o.preventDefault()}}},i._onZoneKeyDown=function(o){var s,a,l;i._lastKeyDownWasAltOrMeta=i._isAltOrMeta(o);var u=o.altKey||o.metaKey;switch(o.which){case Bt.up:u?i.setState({isOpen:!1}):i._host.current&&(l=J8(i._host.current,i._host.current.lastChild,!0));break;case Bt.home:case Bt.end:case Bt.pageUp:case Bt.pageDown:break;case Bt.down:!u&&i._host.current&&(l=$8(i._host.current,i._host.current.firstChild,!0));break;case Bt.escape:i.setState({isOpen:!1});break;case Bt.tab:i.setState({isOpen:!1});var c=Ao();c&&(o.shiftKey?(s=us(c.body,i._dropDown.current,!1,!1,!0,!0))===null||s===void 0||s.focus():(a=Uo(c.body,i._dropDown.current,!1,!1,!0,!0))===null||a===void 0||a.focus());break;default:return}l&&l.focus(),o.stopPropagation(),o.preventDefault()},i._onZoneKeyUp=function(o){var s=i._shouldHandleKeyUp(o);s&&i.state.isOpen&&(i.setState({isOpen:!1}),o.preventDefault())},i._onDropdownClick=function(o){if(!(i.props.onClick&&(i.props.onClick(o),o.defaultPrevented))){var s=i.state.isOpen,a=i._isDisabled();!a&&!i._shouldOpenOnFocus()&&i.setState({isOpen:!s}),i._isFocusedByClick=!1}},i._onDropdownMouseDown=function(){i._isFocusedByClick=!0},i._onFocus=function(o){var s=i._isDisabled();if(!s){i.props.onFocus&&i.props.onFocus(o);var a={hasFocus:!0};i._shouldOpenOnFocus()&&(a.isOpen=!0),i.setState(a)}},i._isDisabled=function(){var o=i.props.disabled,s=i.props.isDisabled;return o===void 0&&(o=s),o},i._onRenderLabel=function(o){var s=o.label,a=o.required,l=o.disabled,u=i._classNames.subComponentStyles?i._classNames.subComponentStyles.label:void 0;return s?T.createElement(Y5,{className:i._classNames.label,id:i._labelId,required:a,styles:u,disabled:l},s):null},Qf(i),t.multiSelect,t.selectedKey,t.selectedKeys,t.defaultSelectedKey,t.defaultSelectedKeys;var r=t.options;return i._id=t.id||yl("Dropdown"),i._labelId=i._id+"-label",i._listId=i._id+"-list",i._optionId=i._id+"-option",i._isScrollIdle=!0,i._hasBeenPositioned=!1,i._sizePosCache.updateOptions(r),i.state={isOpen:!1,hasFocus:!1,calloutRenderEdge:void 0},i}return Object.defineProperty(e.prototype,"selectedOptions",{get:function(){var t=this.props,i=t.options,r=t.hoisted.selectedIndices;return hP(i,r)},enumerable:!1,configurable:!0}),e.prototype.componentWillUnmount=function(){clearTimeout(this._scrollIdleTimeoutId)},e.prototype.componentDidUpdate=function(t,i){i.isOpen===!0&&this.state.isOpen===!1&&(this._gotMouseMove=!1,this._hasBeenPositioned=!1,this.props.onDismiss&&this.props.onDismiss())},e.prototype.render=function(){var t=this._id,i=this.props,r=i.className,o=i.label,s=i.options,a=i.ariaLabel,l=i.required,u=i.errorMessage,c=i.styles,d=i.theme,m=i.panelProps,v=i.calloutProps,y=i.onRenderTitle,_=y===void 0?this._getTitle:y,S=i.onRenderContainer,x=S===void 0?this._onRenderContainer:S,C=i.onRenderCaretDown,b=C===void 0?this._onRenderCaretDown:C,M=i.onRenderLabel,B=M===void 0?this._onRenderLabel:M,k=i.onRenderItem,F=k===void 0?this._onRenderItem:k,R=i.hoisted.selectedIndices,N=this.state,U=N.isOpen,G=N.calloutRenderEdge,oe=N.hasFocus,me=i.onRenderPlaceholder||i.onRenderPlaceHolder||this._getPlaceholder;s!==this._sizePosCache.cachedOptions&&this._sizePosCache.updateOptions(s);var j=hP(s,R),ne=Ci(i,bl),te=this._isDisabled(),de=t+"-errorMessage";this._classNames=zne(c,{theme:d,className:r,hasError:!!(u&&u.length>0),hasLabel:!!o,isOpen:U,required:l,disabled:te,isRenderingPlaceholder:!j.length,panelClassName:m?m.className:void 0,calloutClassName:v?v.className:void 0,calloutRenderEdge:G});var O=!!u&&u.length>0;return T.createElement("div",{className:this._classNames.root,ref:this.props.hoisted.rootRef,"aria-owns":U?this._listId:void 0},B(this.props,this._onRenderLabel),T.createElement("div",le({"data-is-focusable":!te,"data-ktp-target":!0,ref:this._dropDown,id:t,tabIndex:te?-1:0,role:"combobox","aria-haspopup":"listbox","aria-expanded":U?"true":"false","aria-label":a,"aria-labelledby":o&&!a?Vv(this._labelId,this._optionId):void 0,"aria-describedby":O?this._id+"-errorMessage":void 0,"aria-required":l,"aria-disabled":te,"aria-controls":U?this._listId:void 0},ne,{className:this._classNames.dropdown,onBlur:this._onDropdownBlur,onKeyDown:this._onDropdownKeyDown,onKeyUp:this._onDropdownKeyUp,onClick:this._onDropdownClick,onMouseDown:this._onDropdownMouseDown,onFocus:this._onFocus}),T.createElement("span",{id:this._optionId,className:this._classNames.title,"aria-live":oe?"polite":void 0,"aria-atomic":oe?!0:void 0,"aria-invalid":O},j.length?_(j,this._onRenderTitle):me(i,this._onRenderPlaceholder)),T.createElement("span",{className:this._classNames.caretDownWrapper},b(i,this._onRenderCaretDown))),U&&x(le(le({},i),{onDismiss:this._onDismiss,onRenderItem:F}),this._onRenderContainer),O&&T.createElement("div",{role:"alert",id:de,className:this._classNames.errorMessage},u))},e.prototype.focus=function(t){this._dropDown.current&&(this._dropDown.current.focus(),t&&this.setState({isOpen:!0}))},e.prototype.setSelectedIndex=function(t,i){var r=this.props,o=r.options,s=r.selectedKey,a=r.selectedKeys,l=r.multiSelect,u=r.notifyOnReselect,c=r.hoisted.selectedIndices,d=c===void 0?[]:c,m=d?d.indexOf(i)>-1:!1,v=[];if(i=Math.max(0,Math.min(o.length-1,i)),s!==void 0||a!==void 0){this._onChange(t,o,i,m,l);return}if(!(!l&&!u&&i===d[0])){if(l)if(v=d?this._copyArray(d):[],m){var y=v.indexOf(i);y>-1&&v.splice(y,1)}else v.push(i);else v=[i];t.persist(),this.props.hoisted.setSelectedIndices(v),this._onChange(t,o,i,m,l)}},e.prototype._copyArray=function(t){for(var i=[],r=0,o=t;r<o.length;r++){var s=o[r];i.push(s)}return i},e.prototype._moveIndex=function(t,i,r,o){var s=this.props.options;if(o===r||s.length===0)return o;r>=s.length?r=0:r<0&&(r=s.length-1);for(var a=0;s[r].itemType===Zl.Header||s[r].itemType===Zl.Divider||s[r].disabled;){if(a>=s.length)return o;r+i<0?r=s.length:r+i>=s.length&&(r=-1),r=r+i,a++}return this.setSelectedIndex(t,r),r},e.prototype._renderFocusableList=function(t){var i=t.onRenderList,r=i===void 0?this._onRenderList:i,o=t.label,s=t.ariaLabel,a=t.multiSelect;return T.createElement("div",{className:this._classNames.dropdownItemsWrapper,onKeyDown:this._onZoneKeyDown,onKeyUp:this._onZoneKeyUp,ref:this._host,tabIndex:0},T.createElement(uI,{ref:this._focusZone,direction:_o.vertical,id:this._listId,className:this._classNames.dropdownItems,role:"listbox","aria-label":s,"aria-labelledby":o&&!s?this._labelId:void 0,"aria-multiselectable":a},r(t,this._onRenderList)))},e.prototype._renderSeparator=function(t){var i=t.index,r=t.key,o=t.hidden?this._classNames.dropdownDividerHidden:this._classNames.dropdownDivider;return i>0?T.createElement("div",{role:"presentation",key:r,className:o}):null},e.prototype._renderHeader=function(t){var i=this.props.onRenderOption,r=i===void 0?this._onRenderOption:i,o=t.key,s=t.id,a=t.hidden?this._classNames.dropdownItemHeaderHidden:this._classNames.dropdownItemHeader;return T.createElement("div",{id:s,key:o,className:a},r(t,this._onRenderOption))},e.prototype._onItemMouseEnter=function(t,i){if(!this._shouldIgnoreMouseEvent()){var r=i.currentTarget;r.focus()}},e.prototype._onItemMouseMove=function(t,i){var r=i.currentTarget;this._gotMouseMove=!0,!(!this._isScrollIdle||document.activeElement===r)&&r.focus()},e.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},e.prototype._isAltOrMeta=function(t){return t.which===Bt.alt||t.key==="Meta"},e.prototype._shouldHandleKeyUp=function(t){var i=this._lastKeyDownWasAltOrMeta&&this._isAltOrMeta(t);return this._lastKeyDownWasAltOrMeta=!1,!!i&&!(pB()||hB())},e.prototype._shouldOpenOnFocus=function(){var t=this.state.hasFocus,i=this.props.openOnKeyboardFocus;return!this._isFocusedByClick&&i===!0&&!t},e.defaultProps={options:[]},e}(T.Component),w3,Ex,C3,E3,Wne={root:"ms-Dropdown-container",label:"ms-Dropdown-label",dropdown:"ms-Dropdown",title:"ms-Dropdown-title",caretDownWrapper:"ms-Dropdown-caretDownWrapper",caretDown:"ms-Dropdown-caretDown",callout:"ms-Dropdown-callout",panel:"ms-Dropdown-panel",dropdownItems:"ms-Dropdown-items",dropdownItem:"ms-Dropdown-item",dropdownDivider:"ms-Dropdown-divider",dropdownOptionText:"ms-Dropdown-optionText",dropdownItemHeader:"ms-Dropdown-header",titleIsPlaceHolder:"ms-Dropdown-titleIsPlaceHolder",titleHasError:"ms-Dropdown-title--hasError"},bx=32,b3=36,Vne=(w3={},w3["".concat(yt,", ").concat(fZ.replace("@media ",""))]=le({},Wo()),w3),Ax={selectors:le((Ex={},Ex[yt]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},Ex[".ms-Checkbox-checkbox"]=(C3={},C3[yt]={borderColor:"HighlightText"},C3),Ex),Vne)},pP={selectors:(E3={},E3[yt]={borderColor:"Highlight"},E3)},Kne=tI(0,Xy),$ne=function(n){var e,t,i,r,o,s,a,l,u,c,d,m,v=n.theme,y=n.hasError,_=n.hasLabel,S=n.className,x=n.isOpen,C=n.disabled,b=n.required,M=n.isRenderingPlaceholder,B=n.panelClassName,k=n.calloutClassName,F=n.calloutRenderEdge;if(!v)throw new Error("theme is undefined or null in base Dropdown getStyles function.");var R=Xs(Wne,v),N=v.palette,U=v.semanticColors,G=v.effects,oe=v.fonts,me={color:U.menuItemTextHovered},j={color:U.menuItemText},ne={borderColor:U.errorText},te=[R.dropdownItem,{backgroundColor:"transparent",boxSizing:"border-box",cursor:"pointer",display:"flex",alignItems:"center",padding:"0 8px",width:"100%",minHeight:b3,lineHeight:20,height:0,position:"relative",border:"1px solid transparent",borderRadius:0,wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",".ms-Button-flexContainer":{width:"100%"}}],de=[R.dropdownItemHeader,le(le({},oe.medium),{fontWeight:ei.semibold,color:U.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:b3,lineHeight:b3,cursor:"default",padding:"0 8px",userSelect:"none",textAlign:"left",selectors:(e={},e[yt]=le({color:"GrayText"},Wo()),e)})],O=U.menuItemBackgroundPressed,V=function(Fe){var Ne,he;return Fe===void 0&&(Fe=!1),{selectors:(Ne={"&:hover":[{color:U.menuItemTextHovered,backgroundColor:Fe?O:U.menuItemBackgroundHovered},Ax],"&.is-multi-select:hover":[{backgroundColor:Fe?O:"transparent"},Ax],"&:active:hover":[{color:U.menuItemTextHovered,backgroundColor:Fe?U.menuItemBackgroundHovered:U.menuItemBackgroundPressed},Ax]},Ne[".".concat(ki," &:focus:after")]=(he={left:0,top:0,bottom:0,right:0},he[yt]={inset:"2px"},he),Ne[yt]={border:"none"},Ne)}},$=ui(ui([],te,!0),[{backgroundColor:O,color:U.menuItemTextHovered},V(!0),Ax],!1),ie=ui(ui([],te,!0),[{color:U.disabledText,cursor:"default",selectors:(t={},t[yt]={color:"GrayText",border:"none"},t)}],!1),ae=F===Qt.bottom?"".concat(G.roundedCorner2," ").concat(G.roundedCorner2," 0 0"):"0 0 ".concat(G.roundedCorner2," ").concat(G.roundedCorner2),Ce=F===Qt.bottom?"0 0 ".concat(G.roundedCorner2," ").concat(G.roundedCorner2):"".concat(G.roundedCorner2," ").concat(G.roundedCorner2," 0 0");return{root:[R.root,S],label:R.label,dropdown:[R.dropdown,yB,oe.medium,{color:U.menuItemText,borderColor:U.focusBorder,position:"relative",outline:0,userSelect:"none",selectors:(i={},i["&:hover ."+R.title]=[!C&&me,{borderColor:x?N.neutralSecondary:N.neutralPrimary},pP],i["&:focus ."+R.title]=[!C&&me,{selectors:(r={},r[yt]={color:"Highlight"},r)}],i["&:focus:after"]=[{pointerEvents:"none",content:"''",position:"absolute",boxSizing:"border-box",top:"0px",left:"0px",width:"100%",height:"100%",border:C?"none":"2px solid ".concat(N.themePrimary),borderRadius:"2px",selectors:(o={},o[yt]={color:"Highlight"},o)}],i["&:active ."+R.title]=[!C&&me,{borderColor:N.themePrimary},pP],i["&:hover ."+R.caretDown]=!C&&j,i["&:focus ."+R.caretDown]=[!C&&j,{selectors:(s={},s[yt]={color:"Highlight"},s)}],i["&:active ."+R.caretDown]=!C&&j,i["&:hover ."+R.titleIsPlaceHolder]=!C&&j,i["&:focus ."+R.titleIsPlaceHolder]=!C&&j,i["&:active ."+R.titleIsPlaceHolder]=!C&&j,i["&:hover ."+R.titleHasError]=ne,i["&:active ."+R.titleHasError]=ne,i)},x&&"is-open",C&&"is-disabled",b&&"is-required",b&&!_&&{selectors:(a={":before":{content:"'*'",color:U.errorText,position:"absolute",top:-5,right:-10}},a[yt]={selectors:{":after":{right:-14}}},a)}],title:[R.title,yB,{backgroundColor:U.inputBackground,borderWidth:1,borderStyle:"solid",borderColor:U.inputBorder,borderRadius:x?ae:G.roundedCorner2,cursor:"pointer",display:"block",height:bx,lineHeight:bx-2,padding:"0 28px 0 8px",position:"relative",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},M&&[R.titleIsPlaceHolder,{color:U.inputPlaceholderText}],y&&[R.titleHasError,ne],C&&{backgroundColor:U.disabledBackground,border:"none",color:U.disabledText,cursor:"default",selectors:(l={},l[yt]=le({border:"1px solid GrayText",color:"GrayText",backgroundColor:"Window"},Wo()),l)}],caretDownWrapper:[R.caretDownWrapper,{height:bx,lineHeight:bx-2,paddingTop:1,position:"absolute",right:8,top:0},!C&&{cursor:"pointer"}],caretDown:[R.caretDown,{color:N.neutralSecondary,fontSize:oe.small.fontSize,pointerEvents:"none"},C&&{color:U.disabledText,selectors:(u={},u[yt]=le({color:"GrayText"},Wo()),u)}],errorMessage:le(le({color:U.errorText},v.fonts.small),{paddingTop:5}),callout:[R.callout,{boxShadow:G.elevation8,borderRadius:Ce,selectors:(c={},c[".ms-Callout-main"]={borderRadius:Ce},c)},k],dropdownItemsWrapper:{selectors:{"&:focus":{outline:0}}},dropdownItems:[R.dropdownItems,{display:"block"}],dropdownItem:ui(ui([],te,!0),[V()],!1),dropdownItemSelected:$,dropdownItemDisabled:ie,dropdownItemSelectedAndDisabled:[$,ie,{backgroundColor:"transparent"}],dropdownItemHidden:ui(ui([],te,!0),[{display:"none"}],!1),dropdownDivider:[R.dropdownDivider,{height:1,backgroundColor:U.bodyDivider}],dropdownDividerHidden:[R.dropdownDivider,{display:"none"}],dropdownOptionText:[R.dropdownOptionText,{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:0,maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",margin:"1px"}],dropdownItemHeader:de,dropdownItemHeaderHidden:ui(ui([],de,!0),[{display:"none"}],!1),subComponentStyles:{label:{root:{display:"inline-block"}},multiSelectItem:{root:{padding:0},label:{alignSelf:"stretch",padding:"0 8px",width:"100%"},input:{selectors:(d={},d[".".concat(ki," &:focus + label::before")]={outlineOffset:"0px"},d)}},panel:{root:[B],main:{selectors:(m={},m[Kne]={width:272},m)},contentInner:{padding:"0 0 20px"}}}}},EB=ws(ez,$ne,void 0,{scope:"Dropdown"});EB.displayName="Dropdown";function Jne(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons"',src:"url('".concat(n,"fabric-icons-a13498cf.woff') format('woff')")},icons:{GlobalNavButton:"",ChevronDown:"",ChevronUp:"",Edit:"",Add:"",Cancel:"",More:"",Settings:"",Mail:"",Filter:"",Search:"",Share:"",BlockedSite:"",FavoriteStar:"",FavoriteStarFill:"",CheckMark:"",Delete:"",ChevronLeft:"",ChevronRight:"",Calendar:"",Megaphone:"",Undo:"",Flag:"",Page:"",Pinned:"",View:"",Clear:"",Download:"",Upload:"",Folder:"",Sort:"",AlignRight:"",AlignLeft:"",Tag:"",AddFriend:"",Info:"",SortLines:"",List:"",CircleRing:"",Heart:"",HeartFill:"",Tiles:"",Embed:"",Glimmer:"",Ascending:"",Descending:"",SortUp:"",SortDown:"",SyncToPC:"",LargeGrid:"",SkypeCheck:"",SkypeClock:"",SkypeMinus:"",ClearFilter:"",Flow:"",StatusCircleCheckmark:"",MoreVertical:""}};Vr(t,e)}function qne(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-0"',src:"url('".concat(n,"fabric-icons-0-467ee27f.woff') format('woff')")},icons:{PageLink:"",CommentSolid:"",ChangeEntitlements:"",Installation:"",WebAppBuilderModule:"",WebAppBuilderFragment:"",WebAppBuilderSlot:"",BullseyeTargetEdit:"",WebAppBuilderFragmentCreate:"",PageData:"",PageHeaderEdit:"",ProductList:"",UnpublishContent:"",DependencyAdd:"",DependencyRemove:"",EntitlementPolicy:"",EntitlementRedemption:"",SchoolDataSyncLogo:"",PinSolid12:"",PinSolidOff12:"",AddLink:"",SharepointAppIcon16:"",DataflowsLink:"",TimePicker:"",UserWarning:"",ComplianceAudit:"",InternetSharing:"",Brightness:"",MapPin:"",Airplane:"",Tablet:"",QuickNote:"",Video:"",People:"",Phone:"",Pin:"",Shop:"",Stop:"",Link:"",AllApps:"",Zoom:"",ZoomOut:"",Microphone:"",Camera:"",Attach:"",Send:"",FavoriteList:"",PageSolid:"",Forward:"",Back:"",Refresh:"",Lock:"",ReportHacked:"",EMI:"",MiniLink:"",Blocked:"",ReadingMode:"",Favicon:"",Remove:"",Checkbox:"",CheckboxComposite:"",CheckboxFill:"",CheckboxIndeterminate:"",CheckboxCompositeReversed:"",BackToWindow:"",FullScreen:"",Print:"",Up:"",Down:"",OEM:"",Save:"",ReturnKey:"",Cloud:"",Flashlight:"",CommandPrompt:"",Sad:"",RealEstate:"",SIPMove:"",EraseTool:"",GripperTool:"",Dialpad:"",PageLeft:"",PageRight:"",MultiSelect:"",KeyboardClassic:"",Play:"",Pause:"",InkingTool:"",Emoji2:"",GripperBarHorizontal:"",System:"",Personalize:"",SearchAndApps:"",Globe:"",EaseOfAccess:"",ContactInfo:"",Unpin:"",Contact:"",Memo:"",IncomingCall:""}};Vr(t,e)}function jne(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-1"',src:"url('".concat(n,"fabric-icons-1-4d521695.woff') format('woff')")},icons:{Paste:"",WindowsLogo:"",Error:"",GripperBarVertical:"",Unlock:"",Slideshow:"",Trim:"",AutoEnhanceOn:"",AutoEnhanceOff:"",Color:"",SaveAs:"",Light:"",Filters:"",AspectRatio:"",Contrast:"",Redo:"",Crop:"",PhotoCollection:"",Album:"",Rotate:"",PanoIndicator:"",Translate:"",RedEye:"",ViewOriginal:"",ThumbnailView:"",Package:"",Telemarketer:"",Warning:"",Financial:"",Education:"",ShoppingCart:"",Train:"",Move:"",TouchPointer:"",Merge:"",TurnRight:"",Ferry:"",Highlight:"",PowerButton:"",Tab:"",Admin:"",TVMonitor:"",Speakers:"",Game:"",HorizontalTabKey:"",UnstackSelected:"",StackIndicator:"",Nav2DMapView:"",StreetsideSplitMinimize:"",Car:"",Bus:"",EatDrink:"",SeeDo:"",LocationCircle:"",Home:"",SwitcherStartEnd:"",ParkingLocation:"",IncidentTriangle:"",Touch:"",MapDirections:"",CaretHollow:"",CaretSolid:"",History:"",Location:"",MapLayers:"",SearchNearby:"",Work:"",Recent:"",Hotel:"",Bank:"",LocationDot:"",Dictionary:"",ChromeBack:"",FolderOpen:"",PinnedFill:"",RevToggleKey:"",USB:"",Previous:"",Next:"",Sync:"",Help:"",Emoji:"",MailForward:"",ClosePane:"",OpenPane:"",PreviewLink:"",ZoomIn:"",Bookmarks:"",Document:"",ProtectedDocument:"",OpenInNewWindow:"",MailFill:"",ViewAll:"",Switch:"",Rename:"",Go:"",Remote:"",SelectAll:"",Orientation:"",Import:""}};Vr(t,e)}function Xne(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-2"',src:"url('".concat(n,"fabric-icons-2-63c99abf.woff') format('woff')")},icons:{Picture:"",ChromeClose:"",ShowResults:"",Message:"",CalendarDay:"",CalendarWeek:"",MailReplyAll:"",Read:"",Cut:"",PaymentCard:"",Copy:"",Important:"",MailReply:"",GotoToday:"",Font:"",FontColor:"",FolderFill:"",Permissions:"",DisableUpdates:"",Unfavorite:"",Italic:"",Underline:"",Bold:"",MoveToFolder:"",Dislike:"",Like:"",AlignCenter:"",OpenFile:"",ClearSelection:"",FontDecrease:"",FontIncrease:"",FontSize:"",CellPhone:"",RepeatOne:"",RepeatAll:"",Calculator:"",Library:"",PostUpdate:"",NewFolder:"",CalendarReply:"",UnsyncFolder:"",SyncFolder:"",BlockContact:"",Accept:"",BulletedList:"",Preview:"",News:"",Chat:"",Group:"",World:"",Comment:"",DockLeft:"",DockRight:"",Repair:"",Accounts:"",Street:"",RadioBullet:"",Stopwatch:"",Clock:"",WorldClock:"",AlarmClock:"",Photo:"",ActionCenter:"",Hospital:"",Timer:"",FullCircleMask:"",LocationFill:"",ChromeMinimize:"",ChromeRestore:"",Annotation:"",Fingerprint:"",Handwriting:"",ChromeFullScreen:"",Completed:"",Label:"",FlickDown:"",FlickUp:"",FlickLeft:"",FlickRight:"",MiniExpand:"",MiniContract:"",Streaming:"",MusicInCollection:"",OneDriveLogo:"",CompassNW:"",Code:"",LightningBolt:"",CalculatorMultiply:"",CalculatorAddition:"",CalculatorSubtract:"",CalculatorPercentage:"",CalculatorEqualTo:"",PrintfaxPrinterFile:"",StorageOptical:"",Communications:"",Headset:"",Health:"",Webcam2:"",FrontCamera:"",ChevronUpSmall:""}};Vr(t,e)}function Qne(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-3"',src:"url('".concat(n,"fabric-icons-3-089e217a.woff') format('woff')")},icons:{ChevronDownSmall:"",ChevronLeftSmall:"",ChevronRightSmall:"",ChevronUpMed:"",ChevronDownMed:"",ChevronLeftMed:"",ChevronRightMed:"",Devices2:"",PC1:"",PresenceChickletVideo:"",Reply:"",HalfAlpha:"",ConstructionCone:"",DoubleChevronLeftMed:"",Volume0:"",Volume1:"",Volume2:"",Volume3:"",Chart:"",Robot:"",Manufacturing:"",LockSolid:"",FitPage:"",FitWidth:"",BidiLtr:"",BidiRtl:"",RightDoubleQuote:"",Sunny:"",CloudWeather:"",Cloudy:"",PartlyCloudyDay:"",PartlyCloudyNight:"",ClearNight:"",RainShowersDay:"",Rain:"",Thunderstorms:"",RainSnow:"",Snow:"",BlowingSnow:"",Frigid:"",Fog:"",Squalls:"",Duststorm:"",Unknown:"",Precipitation:"",Ribbon:"",AreaChart:"",Assign:"",FlowChart:"",CheckList:"",Diagnostic:"",Generate:"",LineChart:"",Equalizer:"",BarChartHorizontal:"",BarChartVertical:"",Freezing:"",FunnelChart:"",Processing:"",Quantity:"",ReportDocument:"",StackColumnChart:"",SnowShowerDay:"",HailDay:"",WorkFlow:"",HourGlass:"",StoreLogoMed20:"",TimeSheet:"",TriangleSolid:"",UpgradeAnalysis:"",VideoSolid:"",RainShowersNight:"",SnowShowerNight:"",Teamwork:"",HailNight:"",PeopleAdd:"",Glasses:"",DateTime2:"",Shield:"",Header1:"",PageAdd:"",NumberedList:"",PowerBILogo:"",Info2:"",MusicInCollectionFill:"",Asterisk:"",ErrorBadge:"",CircleFill:"",Record2:"",AllAppsMirrored:"",BookmarksMirrored:"",BulletedListMirrored:"",CaretHollowMirrored:"",CaretSolidMirrored:"",ChromeBackMirrored:"",ClearSelectionMirrored:"",ClosePaneMirrored:"",DockLeftMirrored:"",DoubleChevronLeftMedMirrored:"",GoMirrored:""}};Vr(t,e)}function Yne(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-4"',src:"url('".concat(n,"fabric-icons-4-a656cc0a.woff') format('woff')")},icons:{HelpMirrored:"",ImportMirrored:"",ImportAllMirrored:"",ListMirrored:"",MailForwardMirrored:"",MailReplyMirrored:"",MailReplyAllMirrored:"",MiniContractMirrored:"",MiniExpandMirrored:"",OpenPaneMirrored:"",ParkingLocationMirrored:"",SendMirrored:"",ShowResultsMirrored:"",ThumbnailViewMirrored:"",Media:"",Devices3:"",Focus:"",VideoLightOff:"",Lightbulb:"",StatusTriangle:"",VolumeDisabled:"",Puzzle:"",EmojiNeutral:"",EmojiDisappointed:"",HomeSolid:"",Ringer:"",PDF:"",HeartBroken:"",StoreLogo16:"",MultiSelectMirrored:"",Broom:"",AddToShoppingList:"",Cocktails:"",Wines:"",Articles:"",Cycling:"",DietPlanNotebook:"",Pill:"",ExerciseTracker:"",HandsFree:"",Medical:"",Running:"",Weights:"",Trackers:"",AddNotes:"",AllCurrency:"",BarChart4:"",CirclePlus:"",Coffee:"",Cotton:"",Market:"",Money:"",PieDouble:"",PieSingle:"",RemoveFilter:"",Savings:"",Sell:"",StockDown:"",StockUp:"",Lamp:"",Source:"",MSNVideos:"",Cricket:"",Golf:"",Baseball:"",Soccer:"",MoreSports:"",AutoRacing:"",CollegeHoops:"",CollegeFootball:"",ProFootball:"",ProHockey:"",Rugby:"",SubstitutionsIn:"",Tennis:"",Arrivals:"",Design:"",Website:"",Drop:"",HistoricalWeather:"",SkiResorts:"",Snowflake:"",BusSolid:"",FerrySolid:"",AirplaneSolid:"",TrainSolid:"",Ticket:"",WifiWarning4:"",Devices4:"",AzureLogo:"",BingLogo:"",MSNLogo:"",OutlookLogoInverse:"",OfficeLogo:"",SkypeLogo:"",Door:"",EditMirrored:"",GiftCard:"",DoubleBookmark:"",StatusErrorFull:""}};Vr(t,e)}function Zne(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-5"',src:"url('".concat(n,"fabric-icons-5-f95ba260.woff') format('woff')")},icons:{Certificate:"",FastForward:"",Rewind:"",Photo2:"",OpenSource:"",Movers:"",CloudDownload:"",Family:"",WindDirection:"",Bug:"",SiteScan:"",BrowserScreenShot:"",F12DevTools:"",CSS:"",JS:"",DeliveryTruck:"",ReminderPerson:"",ReminderGroup:"",ReminderTime:"",TabletMode:"",Umbrella:"",NetworkTower:"",CityNext:"",CityNext2:"",Section:"",OneNoteLogoInverse:"",ToggleFilled:"",ToggleBorder:"",SliderThumb:"",ToggleThumb:"",Documentation:"",Badge:"",Giftbox:"",VisualStudioLogo:"",HomeGroup:"",ExcelLogoInverse:"",WordLogoInverse:"",PowerPointLogoInverse:"",Cafe:"",SpeedHigh:"",Commitments:"",ThisPC:"",MusicNote:"",MicOff:"",PlaybackRate1x:"",EdgeLogo:"",CompletedSolid:"",AlbumRemove:"",MessageFill:"",TabletSelected:"",MobileSelected:"",LaptopSelected:"",TVMonitorSelected:"",DeveloperTools:"",Shapes:"",InsertTextBox:"",LowerBrightness:"",WebComponents:"",OfflineStorage:"",DOM:"",CloudUpload:"",ScrollUpDown:"",DateTime:"",Event:"",Cake:"",Org:"",PartyLeader:"",DRM:"",CloudAdd:"",AppIconDefault:"",Photo2Add:"",Photo2Remove:"",Calories:"",POI:"",AddTo:"",RadioBtnOff:"",RadioBtnOn:"",ExploreContent:"",Product:"",ProgressLoopInner:"",ProgressLoopOuter:"",Blocked2:"",FangBody:"",Toolbox:"",PageHeader:"",ChatInviteFriend:"",Brush:"",Shirt:"",Crown:"",Diamond:"",ScaleUp:"",QRCode:"",Feedback:"",SharepointLogoInverse:"",YammerLogo:"",Hide:"",Uneditable:"",ReturnToSession:"",OpenFolderHorizontal:"",CalendarMirrored:""}};Vr(t,e)}function eie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-6"',src:"url('".concat(n,"fabric-icons-6-ef6fd590.woff') format('woff')")},icons:{SwayLogoInverse:"",OutOfOffice:"",Trophy:"",ReopenPages:"",EmojiTabSymbols:"",AADLogo:"",AccessLogo:"",AdminALogoInverse32:"",AdminCLogoInverse32:"",AdminDLogoInverse32:"",AdminELogoInverse32:"",AdminLLogoInverse32:"",AdminMLogoInverse32:"",AdminOLogoInverse32:"",AdminPLogoInverse32:"",AdminSLogoInverse32:"",AdminYLogoInverse32:"",DelveLogoInverse:"",ExchangeLogoInverse:"",LyncLogo:"",OfficeVideoLogoInverse:"",SocialListeningLogo:"",VisioLogoInverse:"",Balloons:"",Cat:"",MailAlert:"",MailCheck:"",MailLowImportance:"",MailPause:"",MailRepeat:"",SecurityGroup:"",Table:"",VoicemailForward:"",VoicemailReply:"",Waffle:"",RemoveEvent:"",EventInfo:"",ForwardEvent:"",WipePhone:"",AddOnlineMeeting:"",JoinOnlineMeeting:"",RemoveLink:"",PeopleBlock:"",PeopleRepeat:"",PeopleAlert:"",PeoplePause:"",TransferCall:"",AddPhone:"",UnknownCall:"",NoteReply:"",NoteForward:"",NotePinned:"",RemoveOccurrence:"",Timeline:"",EditNote:"",CircleHalfFull:"",Room:"",Unsubscribe:"",Subscribe:"",HardDrive:"",RecurringTask:"",TaskManager:"",TaskManagerMirrored:"",Combine:"",Split:"",DoubleChevronUp:"",DoubleChevronLeft:"",DoubleChevronRight:"",TextBox:"",TextField:"",NumberField:"",Dropdown:"",PenWorkspace:"",BookingsLogo:"",ClassNotebookLogoInverse:"",DelveAnalyticsLogo:"",DocsLogoInverse:"",Dynamics365Logo:"",DynamicSMBLogo:"",OfficeAssistantLogo:"",OfficeStoreLogo:"",OneNoteEduLogoInverse:"",PlannerLogo:"",PowerApps:"",Suitcase:"",ProjectLogoInverse:"",CaretLeft8:"",CaretRight8:"",CaretUp8:"",CaretDown8:"",CaretLeftSolid8:"",CaretRightSolid8:"",CaretUpSolid8:"",CaretDownSolid8:"",ClearFormatting:"",Superscript:"",Subscript:"",Strikethrough:"",Export:"",ExportMirrored:""}};Vr(t,e)}function tie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-7"',src:"url('".concat(n,"fabric-icons-7-2b97bb99.woff') format('woff')")},icons:{SingleBookmark:"",SingleBookmarkSolid:"",DoubleChevronDown:"",FollowUser:"",ReplyAll:"",WorkforceManagement:"",RecruitmentManagement:"",Questionnaire:"",ManagerSelfService:"",ProductionFloorManagement:"",ProductRelease:"",ProductVariant:"",ReplyMirrored:"",ReplyAllMirrored:"",Medal:"",AddGroup:"",QuestionnaireMirrored:"",CloudImportExport:"",TemporaryUser:"",CaretSolid16:"",GroupedDescending:"",GroupedAscending:"",AwayStatus:"",MyMoviesTV:"",GenericScan:"",AustralianRules:"",WifiEthernet:"",TrackersMirrored:"",DateTimeMirrored:"",StopSolid:"",DoubleChevronUp12:"",DoubleChevronDown12:"",DoubleChevronLeft12:"",DoubleChevronRight12:"",CalendarAgenda:"",ConnectVirtualMachine:"",AddEvent:"",AssetLibrary:"",DataConnectionLibrary:"",DocLibrary:"",FormLibrary:"",FormLibraryMirrored:"",ReportLibrary:"",ReportLibraryMirrored:"",ContactCard:"",CustomList:"",CustomListMirrored:"",IssueTracking:"",IssueTrackingMirrored:"",PictureLibrary:"",OfficeAddinsLogo:"",OfflineOneDriveParachute:"",OfflineOneDriveParachuteDisabled:"",TriangleSolidUp12:"",TriangleSolidDown12:"",TriangleSolidLeft12:"",TriangleSolidRight12:"",TriangleUp12:"",TriangleDown12:"",TriangleLeft12:"",TriangleRight12:"",ArrowUpRight8:"",ArrowDownRight8:"",DocumentSet:"",GoToDashboard:"",DelveAnalytics:"",ArrowUpRightMirrored8:"",ArrowDownRightMirrored8:"",CompanyDirectory:"",OpenEnrollment:"",CompanyDirectoryMirrored:"",OneDriveAdd:"",ProfileSearch:"",Header2:"",Header3:"",Header4:"",RingerSolid:"",Eyedropper:"",MarketDown:"",CalendarWorkWeek:"",SidePanel:"",GlobeFavorite:"",CaretTopLeftSolid8:"",CaretTopRightSolid8:"",ViewAll2:"",DocumentReply:"",PlayerSettings:"",ReceiptForward:"",ReceiptReply:"",ReceiptCheck:"",Fax:"",RecurringEvent:"",ReplyAlt:"",ReplyAllAlt:"",EditStyle:"",EditMail:"",Lifesaver:"",LifesaverLock:"",InboxCheck:"",FolderSearch:""}};Vr(t,e)}function nie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-8"',src:"url('".concat(n,"fabric-icons-8-6fdf1528.woff') format('woff')")},icons:{CollapseMenu:"",ExpandMenu:"",Boards:"",SunAdd:"",SunQuestionMark:"",LandscapeOrientation:"",DocumentSearch:"",PublicCalendar:"",PublicContactCard:"",PublicEmail:"",PublicFolder:"",WordDocument:"",PowerPointDocument:"",ExcelDocument:"",GroupedList:"",ClassroomLogo:"",Sections:"",EditPhoto:"",Starburst:"",ShareiOS:"",AirTickets:"",PencilReply:"",Tiles2:"",SkypeCircleCheck:"",SkypeCircleClock:"",SkypeCircleMinus:"",SkypeMessage:"",ClosedCaption:"",ATPLogo:"",OfficeFormsLogoInverse:"",RecycleBin:"",EmptyRecycleBin:"",Hide2:"",Breadcrumb:"",BirthdayCake:"",TimeEntry:"",CRMProcesses:"",PageEdit:"",PageArrowRight:"",PageRemove:"",Database:"",DataManagementSettings:"",CRMServices:"",EditContact:"",ConnectContacts:"",AppIconDefaultAdd:"",AppIconDefaultList:"",ActivateOrders:"",DeactivateOrders:"",ProductCatalog:"",ScatterChart:"",AccountActivity:"",DocumentManagement:"",CRMReport:"",KnowledgeArticle:"",Relationship:"",HomeVerify:"",ZipFolder:"",SurveyQuestions:"",TextDocument:"",TextDocumentShared:"",PageCheckedOut:"",PageShared:"",SaveAndClose:"",Script:"",Archive:"",ActivityFeed:"",Compare:"",EventDate:"",ArrowUpRight:"",CaretRight:"",SetAction:"",ChatBot:"",CaretSolidLeft:"",CaretSolidDown:"",CaretSolidRight:"",CaretSolidUp:"",PowerAppsLogo:"",PowerApps2Logo:"",SearchIssue:"",SearchIssueMirrored:"",FabricAssetLibrary:"",FabricDataConnectionLibrary:"",FabricDocLibrary:"",FabricFormLibrary:"",FabricFormLibraryMirrored:"",FabricReportLibrary:"",FabricReportLibraryMirrored:"",FabricPublicFolder:"",FabricFolderSearch:"",FabricMovetoFolder:"",FabricUnsyncFolder:"",FabricSyncFolder:"",FabricOpenFolderHorizontal:"",FabricFolder:"",FabricFolderFill:"",FabricNewFolder:"",FabricPictureLibrary:"",PhotoVideoMedia:"",AddFavorite:""}};Vr(t,e)}function iie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-9"',src:"url('".concat(n,"fabric-icons-9-c6162b42.woff') format('woff')")},icons:{AddFavoriteFill:"",BufferTimeBefore:"",BufferTimeAfter:"",BufferTimeBoth:"",PublishContent:"",ClipboardList:"",ClipboardListMirrored:"",CannedChat:"",SkypeForBusinessLogo:"",TabCenter:"",PageCheckedin:"",PageList:"",ReadOutLoud:"",CaretBottomLeftSolid8:"",CaretBottomRightSolid8:"",FolderHorizontal:"",MicrosoftStaffhubLogo:"",GiftboxOpen:"",StatusCircleOuter:"",StatusCircleInner:"",StatusCircleRing:"",StatusTriangleOuter:"",StatusTriangleInner:"",StatusTriangleExclamation:"",StatusCircleExclamation:"",StatusCircleErrorX:"",StatusCircleInfo:"",StatusCircleBlock:"",StatusCircleBlock2:"",StatusCircleQuestionMark:"",StatusCircleSync:"",Toll:"",ExploreContentSingle:"",CollapseContent:"",CollapseContentSingle:"",InfoSolid:"",GroupList:"",ProgressRingDots:"",CaloriesAdd:"",BranchFork:"",MuteChat:"",AddHome:"",AddWork:"",MobileReport:"",ScaleVolume:"",HardDriveGroup:"",FastMode:"",ToggleLeft:"",ToggleRight:"",TriangleShape:"",RectangleShape:"",CubeShape:"",Trophy2:"",BucketColor:"",BucketColorFill:"",Taskboard:"",SingleColumn:"",DoubleColumn:"",TripleColumn:"",ColumnLeftTwoThirds:"",ColumnRightTwoThirds:"",AccessLogoFill:"",AnalyticsLogo:"",AnalyticsQuery:"",NewAnalyticsQuery:"",AnalyticsReport:"",WordLogo:"",WordLogoFill:"",ExcelLogo:"",ExcelLogoFill:"",OneNoteLogo:"",OneNoteLogoFill:"",OutlookLogo:"",OutlookLogoFill:"",PowerPointLogo:"",PowerPointLogoFill:"",PublisherLogo:"",PublisherLogoFill:"",ScheduleEventAction:"",FlameSolid:"",ServerProcesses:"",Server:"",SaveAll:"",LinkedInLogo:"",Decimals:"",SidePanelMirrored:"",ProtectRestrict:"",Blog:"",UnknownMirrored:"",PublicContactCardMirrored:"",GridViewSmall:"",GridViewMedium:"",GridViewLarge:"",Step:"",StepInsert:"",StepShared:"",StepSharedAdd:"",StepSharedInsert:"",ViewDashboard:"",ViewList:""}};Vr(t,e)}function rie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-10"',src:"url('".concat(n,"fabric-icons-10-c4ded8e4.woff') format('woff')")},icons:{ViewListGroup:"",ViewListTree:"",TriggerAuto:"",TriggerUser:"",PivotChart:"",StackedBarChart:"",StackedLineChart:"",BuildQueue:"",BuildQueueNew:"",UserFollowed:"",ContactLink:"",Stack:"",Bullseye:"",VennDiagram:"",FiveTileGrid:"",FocalPoint:"",Insert:"",RingerRemove:"",TeamsLogoInverse:"",TeamsLogo:"",TeamsLogoFill:"",SkypeForBusinessLogoFill:"",SharepointLogo:"",SharepointLogoFill:"",DelveLogo:"",DelveLogoFill:"",OfficeVideoLogo:"",OfficeVideoLogoFill:"",ExchangeLogo:"",ExchangeLogoFill:"",Signin:"",DocumentApproval:"",CloneToDesktop:"",InstallToDrive:"",Blur:"",Build:"",ProcessMetaTask:"",BranchFork2:"",BranchLocked:"",BranchCommit:"",BranchCompare:"",BranchMerge:"",BranchPullRequest:"",BranchSearch:"",BranchShelveset:"",RawSource:"",MergeDuplicate:"",RowsGroup:"",RowsChild:"",Deploy:"",Redeploy:"",ServerEnviroment:"",VisioDiagram:"",HighlightMappedShapes:"",TextCallout:"",IconSetsFlag:"",VisioLogo:"",VisioLogoFill:"",VisioDocument:"",TimelineProgress:"",TimelineDelivery:"",Backlog:"",TeamFavorite:"",TaskGroup:"",TaskGroupMirrored:"",ScopeTemplate:"",AssessmentGroupTemplate:"",NewTeamProject:"",CommentAdd:"",CommentNext:"",CommentPrevious:"",ShopServer:"",LocaleLanguage:"",QueryList:"",UserSync:"",UserPause:"",StreamingOff:"",ArrowTallUpLeft:"",ArrowTallUpRight:"",ArrowTallDownLeft:"",ArrowTallDownRight:"",FieldEmpty:"",FieldFilled:"",FieldChanged:"",FieldNotChanged:"",RingerOff:"",PlayResume:"",BulletedList2:"",BulletedList2Mirrored:"",ImageCrosshair:"",GitGraph:"",Repo:"",RepoSolid:"",FolderQuery:"",FolderList:"",FolderListMirrored:"",LocationOutline:"",POISolid:"",CalculatorNotEqualTo:"",BoxSubtractSolid:""}};Vr(t,e)}function oie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-11"',src:"url('".concat(n,"fabric-icons-11-2a8393d6.woff') format('woff')")},icons:{BoxAdditionSolid:"",BoxMultiplySolid:"",BoxPlaySolid:"",BoxCheckmarkSolid:"",CirclePauseSolid:"",CirclePause:"",MSNVideosSolid:"",CircleStopSolid:"",CircleStop:"",NavigateBack:"",NavigateBackMirrored:"",NavigateForward:"",NavigateForwardMirrored:"",UnknownSolid:"",UnknownMirroredSolid:"",CircleAddition:"",CircleAdditionSolid:"",FilePDB:"",FileTemplate:"",FileSQL:"",FileJAVA:"",FileASPX:"",FileCSS:"",FileSass:"",FileLess:"",FileHTML:"",JavaScriptLanguage:"",CSharpLanguage:"",CSharp:"",VisualBasicLanguage:"",VB:"",CPlusPlusLanguage:"",CPlusPlus:"",FSharpLanguage:"",FSharp:"",TypeScriptLanguage:"",PythonLanguage:"",PY:"",CoffeeScript:"",MarkDownLanguage:"",FullWidth:"",FullWidthEdit:"",Plug:"",PlugSolid:"",PlugConnected:"",PlugDisconnected:"",UnlockSolid:"",Variable:"",Parameter:"",CommentUrgent:"",Storyboard:"",DiffInline:"",DiffSideBySide:"",ImageDiff:"",ImagePixel:"",FileBug:"",FileCode:"",FileComment:"",BusinessHoursSign:"",FileImage:"",FileSymlink:"",AutoFillTemplate:"",WorkItem:"",WorkItemBug:"",LogRemove:"",ColumnOptions:"",Packages:"",BuildIssue:"",AssessmentGroup:"",VariableGroup:"",FullHistory:"",Wheelchair:"",SingleColumnEdit:"",DoubleColumnEdit:"",TripleColumnEdit:"",ColumnLeftTwoThirdsEdit:"",ColumnRightTwoThirdsEdit:"",StreamLogo:"",PassiveAuthentication:"",AlertSolid:"",MegaphoneSolid:"",TaskSolid:"",ConfigurationSolid:"",BugSolid:"",CrownSolid:"",Trophy2Solid:"",QuickNoteSolid:"",ConstructionConeSolid:"",PageListSolid:"",PageListMirroredSolid:"",StarburstSolid:"",ReadingModeSolid:"",SadSolid:"",HealthSolid:"",ShieldSolid:"",GiftBoxSolid:"",ShoppingCartSolid:"",MailSolid:"",ChatSolid:"",RibbonSolid:""}};Vr(t,e)}function sie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-12"',src:"url('".concat(n,"fabric-icons-12-7e945a1e.woff') format('woff')")},icons:{FinancialSolid:"",FinancialMirroredSolid:"",HeadsetSolid:"",PermissionsSolid:"",ParkingSolid:"",ParkingMirroredSolid:"",DiamondSolid:"",AsteriskSolid:"",OfflineStorageSolid:"",BankSolid:"",DecisionSolid:"",Parachute:"",ParachuteSolid:"",FiltersSolid:"",ColorSolid:"",ReviewSolid:"",ReviewRequestSolid:"",ReviewRequestMirroredSolid:"",ReviewResponseSolid:"",FeedbackRequestSolid:"",FeedbackRequestMirroredSolid:"",FeedbackResponseSolid:"",WorkItemBar:"",WorkItemBarSolid:"",Separator:"",NavigateExternalInline:"",PlanView:"",TimelineMatrixView:"",EngineeringGroup:"",ProjectCollection:"",CaretBottomRightCenter8:"",CaretBottomLeftCenter8:"",CaretTopRightCenter8:"",CaretTopLeftCenter8:"",DonutChart:"",ChevronUnfold10:"",ChevronFold10:"",DoubleChevronDown8:"",DoubleChevronUp8:"",DoubleChevronLeft8:"",DoubleChevronRight8:"",ChevronDownEnd6:"",ChevronUpEnd6:"",ChevronLeftEnd6:"",ChevronRightEnd6:"",ContextMenu:"",AzureAPIManagement:"",AzureServiceEndpoint:"",VSTSLogo:"",VSTSAltLogo1:"",VSTSAltLogo2:"",FileTypeSolution:"",WordLogoInverse16:"",WordLogo16:"",WordLogoFill16:"",PowerPointLogoInverse16:"",PowerPointLogo16:"",PowerPointLogoFill16:"",ExcelLogoInverse16:"",ExcelLogo16:"",ExcelLogoFill16:"",OneNoteLogoInverse16:"",OneNoteLogo16:"",OneNoteLogoFill16:"",OutlookLogoInverse16:"",OutlookLogo16:"",OutlookLogoFill16:"",PublisherLogoInverse16:"",PublisherLogo16:"",PublisherLogoFill16:"",VisioLogoInverse16:"",VisioLogo16:"",VisioLogoFill16:"",TestBeaker:"",TestBeakerSolid:"",TestExploreSolid:"",TestAutoSolid:"",TestUserSolid:"",TestImpactSolid:"",TestPlan:"",TestStep:"",TestParameter:"",TestSuite:"",TestCase:"",Sprint:"",SignOut:"",TriggerApproval:"",Rocket:"",AzureKeyVault:"",Onboarding:"",Transition:"",LikeSolid:"",DislikeSolid:"",CRMCustomerInsightsApp:"",EditCreate:"",PlayReverseResume:"",PlayReverse:"",SearchData:"",UnSetColor:"",DeclineCall:""}};Vr(t,e)}function aie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-13"',src:"url('".concat(n,"fabric-icons-13-c3989a02.woff') format('woff')")},icons:{RectangularClipping:"",TeamsLogo16:"",TeamsLogoFill16:"",Spacer:"",SkypeLogo16:"",SkypeForBusinessLogo16:"",SkypeForBusinessLogoFill16:"",FilterSolid:"",MailUndelivered:"",MailTentative:"",MailTentativeMirrored:"",MailReminder:"",ReceiptUndelivered:"",ReceiptTentative:"",ReceiptTentativeMirrored:"",Inbox:"",IRMReply:"",IRMReplyMirrored:"",IRMForward:"",IRMForwardMirrored:"",VoicemailIRM:"",EventAccepted:"",EventTentative:"",EventTentativeMirrored:"",EventDeclined:"",IDBadge:"",BackgroundColor:"",OfficeFormsLogoInverse16:"",OfficeFormsLogo:"",OfficeFormsLogoFill:"",OfficeFormsLogo16:"",OfficeFormsLogoFill16:"",OfficeFormsLogoInverse24:"",OfficeFormsLogo24:"",OfficeFormsLogoFill24:"",PageLock:"",NotExecuted:"",NotImpactedSolid:"",FieldReadOnly:"",FieldRequired:"",BacklogBoard:"",ExternalBuild:"",ExternalTFVC:"",ExternalXAML:"",IssueSolid:"",DefectSolid:"",LadybugSolid:"",NugetLogo:"",TFVCLogo:"",ProjectLogo32:"",ProjectLogoFill32:"",ProjectLogo16:"",ProjectLogoFill16:"",SwayLogo32:"",SwayLogoFill32:"",SwayLogo16:"",SwayLogoFill16:"",ClassNotebookLogo32:"",ClassNotebookLogoFill32:"",ClassNotebookLogo16:"",ClassNotebookLogoFill16:"",ClassNotebookLogoInverse32:"",ClassNotebookLogoInverse16:"",StaffNotebookLogo32:"",StaffNotebookLogoFill32:"",StaffNotebookLogo16:"",StaffNotebookLogoFill16:"",StaffNotebookLogoInverted32:"",StaffNotebookLogoInverted16:"",KaizalaLogo:"",TaskLogo:"",ProtectionCenterLogo32:"",GallatinLogo:"",Globe2:"",Guitar:"",Breakfast:"",Brunch:"",BeerMug:"",Vacation:"",Teeth:"",Taxi:"",Chopsticks:"",SyncOccurence:"",UnsyncOccurence:"",GIF:"",PrimaryCalendar:"",SearchCalendar:"",VideoOff:"",MicrosoftFlowLogo:"",BusinessCenterLogo:"",ToDoLogoBottom:"",ToDoLogoTop:"",EditSolid12:"",EditSolidMirrored12:"",UneditableSolid12:"",UneditableSolidMirrored12:"",UneditableMirrored:"",AdminALogo32:"",AdminALogoFill32:"",ToDoLogoInverse:""}};Vr(t,e)}function lie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-14"',src:"url('".concat(n,"fabric-icons-14-5cf58db8.woff') format('woff')")},icons:{Snooze:"",WaffleOffice365:"",ImageSearch:"",NewsSearch:"",VideoSearch:"",R:"",FontColorA:"",FontColorSwatch:"",LightWeight:"",NormalWeight:"",SemiboldWeight:"",GroupObject:"",UngroupObject:"",AlignHorizontalLeft:"",AlignHorizontalCenter:"",AlignHorizontalRight:"",AlignVerticalTop:"",AlignVerticalCenter:"",AlignVerticalBottom:"",HorizontalDistributeCenter:"",VerticalDistributeCenter:"",Ellipse:"",Line:"",Octagon:"",Hexagon:"",Pentagon:"",RightTriangle:"",HalfCircle:"",QuarterCircle:"",ThreeQuarterCircle:"","6PointStar":"","12PointStar":"",ArrangeBringToFront:"",ArrangeSendToBack:"",ArrangeSendBackward:"",ArrangeBringForward:"",BorderDash:"",BorderDot:"",LineStyle:"",LineThickness:"",WindowEdit:"",HintText:"",MediaAdd:"",AnchorLock:"",AutoHeight:"",ChartSeries:"",ChartXAngle:"",ChartYAngle:"",Combobox:"",LineSpacing:"",Padding:"",PaddingTop:"",PaddingBottom:"",PaddingLeft:"",PaddingRight:"",NavigationFlipper:"",AlignJustify:"",TextOverflow:"",VisualsFolder:"",VisualsStore:"",PictureCenter:"",PictureFill:"",PicturePosition:"",PictureStretch:"",PictureTile:"",Slider:"",SliderHandleSize:"",DefaultRatio:"",NumberSequence:"",GUID:"",ReportAdd:"",DashboardAdd:"",MapPinSolid:"",WebPublish:"",PieSingleSolid:"",BlockedSolid:"",DrillDown:"",DrillDownSolid:"",DrillExpand:"",DrillShow:"",SpecialEvent:"",OneDriveFolder16:"",FunctionalManagerDashboard:"",BIDashboard:"",CodeEdit:"",RenewalCurrent:"",RenewalFuture:"",SplitObject:"",BulkUpload:"",DownloadDocument:"",GreetingCard:"",Flower:"",WaitlistConfirm:"",WaitlistConfirmMirrored:"",LaptopSecure:"",DragObject:"",EntryView:"",EntryDecline:"",ContactCardSettings:"",ContactCardSettingsMirrored:""}};Vr(t,e)}function uie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-15"',src:"url('".concat(n,"fabric-icons-15-3807251b.woff') format('woff')")},icons:{CalendarSettings:"",CalendarSettingsMirrored:"",HardDriveLock:"",HardDriveUnlock:"",AccountManagement:"",ReportWarning:"",TransitionPop:"",TransitionPush:"",TransitionEffect:"",LookupEntities:"",ExploreData:"",AddBookmark:"",SearchBookmark:"",DrillThrough:"",MasterDatabase:"",CertifiedDatabase:"",MaximumValue:"",MinimumValue:"",VisualStudioIDELogo32:"",PasteAsText:"",PasteAsCode:"",BrowserTab:"",BrowserTabScreenshot:"",DesktopScreenshot:"",FileYML:"",ClipboardSolid:"",FabricUserFolder:"",FabricNetworkFolder:"",BullseyeTarget:"",AnalyticsView:"",Video360Generic:"",Untag:"",Leave:"",Trending12:"",Blocked12:"",Warning12:"",CheckedOutByOther12:"",CheckedOutByYou12:"",CircleShapeSolid:"",SquareShapeSolid:"",TriangleShapeSolid:"",DropShapeSolid:"",RectangleShapeSolid:"",ZoomToFit:"",InsertColumnsLeft:"",InsertColumnsRight:"",InsertRowsAbove:"",InsertRowsBelow:"",DeleteColumns:"",DeleteRows:"",DeleteRowsMirrored:"",DeleteTable:"",AccountBrowser:"",VersionControlPush:"",StackedColumnChart2:"",TripleColumnWide:"",QuadColumn:"",WhiteBoardApp16:"",WhiteBoardApp32:"",PinnedSolid:"",InsertSignatureLine:"",ArrangeByFrom:"",Phishing:"",CreateMailRule:"",PublishCourse:"",DictionaryRemove:"",UserRemove:"",UserEvent:"",Encryption:"",PasswordField:"",OpenInNewTab:"",Hide3:"",VerifiedBrandSolid:"",MarkAsProtected:"",AuthenticatorApp:"",WebTemplate:"",DefenderTVM:"",MedalSolid:"",D365TalentLearn:"",D365TalentInsight:"",D365TalentHRCore:"",BacklogList:"",ButtonControl:"",TableGroup:"",MountainClimbing:"",TagUnknown:"",TagUnknownMirror:"",TagUnknown12:"",TagUnknown12Mirror:"",Link12:"",Presentation:"",Presentation12:"",Lock12:"",BuildDefinition:"",ReleaseDefinition:"",SaveTemplate:"",UserGauge:"",BlockedSiteSolid12:"",TagSolid:"",OfficeChat:""}};Vr(t,e)}function cie(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-16"',src:"url('".concat(n,"fabric-icons-16-9cf93f3b.woff') format('woff')")},icons:{OfficeChatSolid:"",MailSchedule:"",WarningSolid:"",Blocked2Solid:"",SkypeCircleArrow:"",SkypeArrow:"",SyncStatus:"",SyncStatusSolid:"",ProjectDocument:"",ToDoLogoOutline:"",VisioOnlineLogoFill32:"",VisioOnlineLogo32:"",VisioOnlineLogoCloud32:"",VisioDiagramSync:"",Event12:"",EventDateMissed12:"",UserOptional:"",ResponsesMenu:"",DoubleDownArrow:"",DistributeDown:"",BookmarkReport:"",FilterSettings:"",GripperDotsVertical:"",MailAttached:"",AddIn:"",LinkedDatabase:"",TableLink:"",PromotedDatabase:"",BarChartVerticalFilter:"",BarChartVerticalFilterSolid:"",MicOff2:"",MicrosoftTranslatorLogo:"",ShowTimeAs:"",FileRequest:"",WorkItemAlert:"",PowerBILogo16:"",PowerBILogoBackplate16:"",BulletedListText:"",BulletedListBullet:"",BulletedListTextMirrored:"",BulletedListBulletMirrored:"",NumberedListText:"",NumberedListNumber:"",NumberedListTextMirrored:"",NumberedListNumberMirrored:"",RemoveLinkChain:"",RemoveLinkX:"",FabricTextHighlight:"",ClearFormattingA:"",ClearFormattingEraser:"",Photo2Fill:"",IncreaseIndentText:"",IncreaseIndentArrow:"",DecreaseIndentText:"",DecreaseIndentArrow:"",IncreaseIndentTextMirrored:"",IncreaseIndentArrowMirrored:"",DecreaseIndentTextMirrored:"",DecreaseIndentArrowMirrored:"",CheckListText:"",CheckListCheck:"",CheckListTextMirrored:"",CheckListCheckMirrored:"",NumberSymbol:"",Coupon:"",VerifiedBrand:"",ReleaseGate:"",ReleaseGateCheck:"",ReleaseGateError:"",M365InvoicingLogo:"",RemoveFromShoppingList:"",ShieldAlert:"",FabricTextHighlightComposite:"",Dataflows:"",GenericScanFilled:"",DiagnosticDataBarTooltip:"",SaveToMobile:"",Orientation2:"",ScreenCast:"",ShowGrid:"",SnapToGrid:"",ContactList:"",NewMail:"",EyeShadow:"",FabricFolderConfirm:"",InformationBarriers:"",CommentActive:"",ColumnVerticalSectionEdit:"",WavingHand:"",ShakeDevice:"",SmartGlassRemote:"",Rotate90Clockwise:"",Rotate90CounterClockwise:"",CampaignTemplate:"",ChartTemplate:"",PageListFilter:"",SecondaryNav:"",ColumnVerticalSection:"",SkypeCircleSlash:"",SkypeSlash:""}};Vr(t,e)}function die(n,e){n===void 0&&(n="");var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-17"',src:"url('".concat(n,"fabric-icons-17-0c4ed701.woff') format('woff')")},icons:{CustomizeToolbar:"",DuplicateRow:"",RemoveFromTrash:"",MailOptions:"",Childof:"",Footer:"",Header:"",BarChartVerticalFill:"",StackedColumnChart2Fill:"",PlainText:"",AccessibiltyChecker:"",DatabaseSync:"",ReservationOrders:"",TabOneColumn:"",TabTwoColumn:"",TabThreeColumn:"",BulletedTreeList:"",MicrosoftTranslatorLogoGreen:"",MicrosoftTranslatorLogoBlue:"",InternalInvestigation:"",AddReaction:"",ContactHeart:"",VisuallyImpaired:"",EventToDoLogo:"",Variable2:"",ModelingView:"",DisconnectVirtualMachine:"",ReportLock:"",Uneditable2:"",Uneditable2Mirrored:"",BarChartVerticalEdit:"",GlobalNavButtonActive:"",PollResults:"",Rerun:"",QandA:"",QandAMirror:"",BookAnswers:"",AlertSettings:"",TrimStart:"",TrimEnd:"",TableComputed:"",DecreaseIndentLegacy:"",IncreaseIndentLegacy:"",SizeLegacy:""}};Vr(t,e)}var fie=function(){zh("trash","delete"),zh("onedrive","onedrivelogo"),zh("alertsolid12","eventdatemissed12"),zh("sixpointstar","6pointstar"),zh("twelvepointstar","12pointstar"),zh("toggleon","toggleleft"),zh("toggleoff","toggleright")};$2("@fluentui/font-icons-mdl2","8.5.24");var hie="".concat(TZ,"/assets/icons/"),qm=Vi();function pie(n,e){var t,i;n===void 0&&(n=((t=qm==null?void 0:qm.FabricConfig)===null||t===void 0?void 0:t.iconBaseUrl)||((i=qm==null?void 0:qm.FabricConfig)===null||i===void 0?void 0:i.fontBaseUrl)||hie),[Jne,qne,jne,Xne,Qne,Yne,Zne,eie,tie,nie,iie,rie,oie,sie,aie,lie,uie,cie,die].forEach(function(r){return r(n,e)}),fie()}var mie=function(n,e){if(typeof ResizeObserver<"u"){var t=new ResizeObserver(e);return Array.isArray(n)?n.forEach(function(s){return t.observe(s)}):t.observe(n),function(){return t.disconnect()}}else{var i=function(){return e(void 0)},r=Vi(Array.isArray(n)?n[0]:n);if(!r)return function(){};var o=r.requestAnimationFrame(i);return r.addEventListener("resize",i,!1),function(){r.cancelAnimationFrame(o),r.removeEventListener("resize",i,!1)}}},gie=function(n){var e=n.onOverflowItemsChanged,t=n.rtl,i=n.pinnedIndex,r=T.useRef(),o=T.useRef(),s=XD(function(l){var u=mie(l,function(c){o.current=c?c[0].contentRect.width:l.clientWidth,r.current&&r.current()});return function(){u(),o.current=void 0}}),a=XD(function(l){return s(l.parentElement),function(){return s(null)}});return Pp(function(){var l=s.current,u=a.current;if(!(!l||!u)){for(var c=[],d=0;d<l.children.length;d++){var m=l.children[d];m instanceof HTMLElement&&m!==u&&c.push(m)}var v=[],y=0;r.current=function(){var M=o.current;if(M!==void 0){for(var B=c.length-1;B>=0;B--){if(v[B]===void 0){var k=t?M-c[B].offsetLeft:c[B].offsetLeft+c[B].offsetWidth;B+1<c.length&&B+1===i&&(y=v[B+1]-k),B===c.length-2&&(y+=u.offsetWidth),v[B]=k+y}if(M>v[B]){S(B+1);return}}S(0)}};var _=c.length,S=function(M){_!==M&&(_=M,e(M,c.map(function(B,k){return{ele:B,isOverflowing:k>=M&&k!==i}})))},x=void 0;if(o.current!==void 0){var C=Vi(l);if(C){var b=C.requestAnimationFrame(r.current);x=function(){return C.cancelAnimationFrame(b)}}}return function(){x&&x(),S(c.length),r.current=void 0}}}),{menuButtonRef:a}},Yw=function(n){Lr(e,n);function e(t){var i=n.call(this,t)||this;return Qf(i),i}return e.prototype.render=function(){return T.createElement("div",le({},Ci(this.props,bl)),this.props.children)},e}(T.Component),vie=xs(),yie="Pivot",Sie=function(n,e,t,i){return n.getTabId?n.getTabId(t,i):e+"-Tab".concat(i)},mP=function(n,e){var t={links:[],keyToIndexMapping:{},keyToTabIdMapping:{}};return T.Children.forEach(T.Children.toArray(n.children),function(i,r){if(tz(i)){var o=i.props,s=o.linkText,a=sc(o,["linkText"]),l=i.props.itemKey||r.toString();t.links.push(le(le({headerText:s},a),{itemKey:l})),t.keyToIndexMapping[l]=r,t.keyToTabIdMapping[l]=Sie(n,e,l,r)}else i&&X2("The children of a Pivot component must be of type PivotItem to be rendered.")}),t},tz=function(n){var e;return T.isValidElement(n)&&((e=n.type)===null||e===void 0?void 0:e.name)===Yw.name},nz=T.forwardRef(function(n,e){var t=T.useRef(null),i=T.useRef(null),r=Np("Pivot"),o=nE(n.selectedKey,n.defaultSelectedKey),s=o[0],a=o[1],l=n.componentRef,u=n.theme,c=n.linkSize,d=n.linkFormat,m=n.overflowBehavior,v=n.overflowAriaLabel,y=n.focusZoneProps,_=n.overflowButtonAs,S,x={"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"]},C=Ci(n,bl,["aria-label","aria-labelledby"]),b=mP(n,r);T.useImperativeHandle(l,function(){return{focus:function(){var O;(O=t.current)===null||O===void 0||O.focus()}}});var M=function(O){if(!O)return null;var V=O.itemCount,$=O.itemIcon,ie=O.headerText;return T.createElement("span",{className:S.linkContent},$!==void 0&&T.createElement("span",{className:S.icon},T.createElement(ld,{iconName:$})),ie!==void 0&&T.createElement("span",{className:S.text}," ",O.headerText),V!==void 0&&T.createElement("span",{className:S.count}," (",V,")"))},B=function(O,V,$,ie){var ae=V.itemKey,Ce=V.headerButtonProps,Fe=V.onRenderItemLink,Ne=O.keyToTabIdMapping[ae],he,mt=$===ae;Fe?he=Fe(V,M):he=M(V);var ft=V.headerText||"";ft+=V.itemCount?" ("+V.itemCount+")":"",ft+=V.itemIcon?" xx":"";var _t=V.role&&V.role!=="tab"?{role:V.role}:{role:"tab","aria-selected":mt};return T.createElement(CB,le({},Ce,_t,{id:Ne,key:ae,className:Co(ie,mt&&S.linkIsSelected),onClick:function(Ke){return k(ae,Ke)},onKeyDown:function(Ke){return F(ae,Ke)},"aria-label":V.ariaLabel,name:V.headerText,keytipProps:V.keytipProps,"data-content":ft}),he)},k=function(O,V){V.preventDefault(),R(O,V)},F=function(O,V){V.which===Bt.enter&&(V.preventDefault(),R(O))},R=function(O,V){var $;if(a(O),b=mP(n,r),n.onLinkClick&&b.keyToIndexMapping[O]>=0){var ie=b.keyToIndexMapping[O],ae=T.Children.toArray(n.children)[ie];tz(ae)&&n.onLinkClick(ae,V)}($=i.current)===null||$===void 0||$.dismissMenu()},N=function(O,V){if(n.headersOnly||!O)return null;var $=b.keyToIndexMapping[O],ie=b.keyToTabIdMapping[O];return T.createElement("div",{role:"tabpanel",hidden:!V,key:O,"aria-hidden":!V,"aria-labelledby":ie,className:S.itemContainer},T.Children.toArray(n.children)[$])},U=function(O){return O===null||O!==void 0&&b.keyToIndexMapping[O]!==void 0},G=function(){if(U(s))return s;if(b.links.length)return b.links[0].itemKey};S=vie(n.styles,{theme:u,linkSize:c,linkFormat:d});var oe=G(),me=oe?b.keyToIndexMapping[oe]:0,j=b.links.map(function(O){return B(b,O,oe,S.link)}),ne=T.useMemo(function(){return{items:[],alignTargetEdge:!0,directionalHint:rr.bottomRightEdge}},[]),te=gie({onOverflowItemsChanged:function(O,V){V.forEach(function($){var ie=$.ele,ae=$.isOverflowing;return ie.dataset.isOverflowing="".concat(ae)}),ne.items=b.links.slice(O).filter(function($){return $.itemKey!==oe}).map(function($,ie){return $.role="menuitem",{key:$.itemKey||"".concat(O+ie),onRender:function(){return B(b,$,oe,S.linkInMenu)}}})},rtl:xo(u),pinnedIndex:me}).menuButtonRef,de=_||CB;return T.createElement("div",le({ref:e},C),T.createElement(uI,le({componentRef:t,role:"tablist"},x,{direction:_o.horizontal},y,{className:Co(S.root,y==null?void 0:y.className)}),j,m==="menu"&&T.createElement(de,{className:Co(S.link,S.overflowMenuButton),elementRef:te,componentRef:i,menuProps:ne,menuIconProps:{iconName:"More",style:{color:"inherit"}},ariaLabel:v,role:"tab"})),oe&&b.links.map(function(O){return(O.alwaysRender===!0||oe===O.itemKey)&&N(O.itemKey,oe===O.itemKey)}))});nz.displayName=yie;var _ie={count:"ms-Pivot-count",icon:"ms-Pivot-icon",linkIsSelected:"is-selected",link:"ms-Pivot-link",linkContent:"ms-Pivot-linkContent",root:"ms-Pivot",rootIsLarge:"ms-Pivot--large",rootIsTabs:"ms-Pivot--tabs",text:"ms-Pivot-text",linkInMenu:"ms-Pivot-linkInMenu",overflowMenuButton:"ms-Pivot-overflowMenuButton"},gP=function(n,e,t){var i,r,o;t===void 0&&(t=!1);var s=n.linkSize,a=n.linkFormat,l=n.theme,u=l.semanticColors,c=l.fonts,d=s==="large",m=a==="tabs";return[c.medium,{color:u.actionLink,padding:"0 8px",position:"relative",backgroundColor:"transparent",border:0,borderRadius:0,selectors:{":hover":{backgroundColor:u.buttonBackgroundHovered,color:u.buttonTextHovered,cursor:"pointer"},":active":{backgroundColor:u.buttonBackgroundPressed,color:u.buttonTextHovered},":focus":{outline:"none"}}},!t&&[{display:"inline-block",lineHeight:44,height:44,marginRight:8,textAlign:"center",selectors:(i={},i[".".concat(ki," &:focus")]={outline:"1px solid ".concat(u.focusBorder)},i[".".concat(ki," &:focus:after")]={content:"attr(data-content)",position:"relative",border:0},i[":before"]={backgroundColor:"transparent",bottom:0,content:'""',height:2,left:8,position:"absolute",right:8,transition:"left ".concat(Og.durationValue2," ").concat(Og.easeFunction2,`,
                        right `).concat(Og.durationValue2," ").concat(Og.easeFunction2)},i[":after"]={color:"transparent",content:"attr(data-content)",display:"block",fontWeight:ei.bold,height:1,overflow:"hidden",visibility:"hidden"},i)},d&&{fontSize:c.large.fontSize},m&&[{marginRight:0,height:44,lineHeight:44,backgroundColor:u.buttonBackground,padding:"0 10px",verticalAlign:"top",selectors:(r={":focus":{outlineOffset:"-2px"}},r[".".concat(ki," &:focus::before")]={height:"auto",background:"transparent",transition:"none"},r["&:hover, &:focus"]={color:u.buttonTextCheckedHovered},r["&:active, &:hover"]={color:u.primaryButtonText,backgroundColor:u.primaryButtonBackground},r["&.".concat(e.linkIsSelected)]={backgroundColor:u.primaryButtonBackground,color:u.primaryButtonText,fontWeight:ei.regular,selectors:(o={":before":{backgroundColor:"transparent",transition:"none",position:"absolute",top:0,left:0,right:0,bottom:0,content:'""',height:0},":hover":{backgroundColor:u.primaryButtonBackgroundHovered,color:u.primaryButtonText},":active":{backgroundColor:u.primaryButtonBackgroundPressed,color:u.primaryButtonText}},o[yt]=le({fontWeight:ei.semibold,color:"HighlightText",background:"Highlight"},Wo()),o)},r[".".concat(ki," &.").concat(e.linkIsSelected,":focus")]={outlineColor:u.primaryButtonText},r)}]]]},xie=function(n){var e,t,i,r,o=n.className,s=n.linkSize,a=n.linkFormat,l=n.theme,u=l.semanticColors,c=l.fonts,d=Xs(_ie,l),m=s==="large",v=a==="tabs";return{root:[d.root,c.medium,yB,{position:"relative",color:u.link,whiteSpace:"nowrap"},m&&d.rootIsLarge,v&&d.rootIsTabs,o],itemContainer:{selectors:{"&[hidden]":{display:"none"}}},link:ui(ui([d.link],gP(n,d),!0),[(e={},e["&[data-is-overflowing='true']"]={display:"none"},e)],!1),overflowMenuButton:[d.overflowMenuButton,(t={visibility:"hidden",position:"absolute",right:0},t[".".concat(d.link,"[data-is-overflowing='true'] ~ &")]={visibility:"visible",position:"relative"},t)],linkInMenu:ui(ui([d.linkInMenu],gP(n,d,!0),!0),[{textAlign:"left",width:"100%",height:36,lineHeight:36}],!1),linkIsSelected:[d.link,d.linkIsSelected,{fontWeight:ei.semibold,selectors:(i={":before":{backgroundColor:u.inputBackgroundChecked,selectors:(r={},r[yt]={backgroundColor:"Highlight"},r)},":hover::before":{left:0,right:0}},i[yt]={color:"Highlight"},i)}],linkContent:[d.linkContent,{flex:"0 1 100%",selectors:{"& > * ":{marginLeft:4},"& > *:first-child":{marginLeft:0}}}],text:[d.text,{display:"inline-block",verticalAlign:"top"}],count:[d.count,{display:"inline-block",verticalAlign:"top"}],icon:d.icon}},wie=ws(nz,xie,void 0,{scope:"Pivot"}),iz=23,Cie=8,A3=32,M3=86,vP=10,T3=Ji(function(n){var e,t=n.semanticColors,i=t.disabledText,r=t.disabledBackground;return{backgroundColor:r,pointerEvents:"none",cursor:"default",color:i,selectors:(e={":after":{borderColor:r}},e[yt]={color:"GrayText"},e)}}),yP=Ji(function(n,e,t){var i,r,o,s=n.palette,a=n.semanticColors,l=n.effects,u=s.neutralSecondary,c=a.buttonText,d=a.buttonText,m=a.buttonBackgroundHovered,v=a.buttonBackgroundPressed,y={root:{outline:"none",display:"block",height:"50%",width:iz,padding:0,backgroundColor:"transparent",textAlign:"center",cursor:"default",color:u,selectors:{"&.ms-DownButton":{borderRadius:"0 0 ".concat(l.roundedCorner2," 0")},"&.ms-UpButton":{borderRadius:"0 ".concat(l.roundedCorner2," 0 0")}}},rootHovered:{backgroundColor:m,color:c},rootChecked:{backgroundColor:v,color:d,selectors:(i={},i[yt]={backgroundColor:"Highlight",color:"HighlightText"},i)},rootPressed:{backgroundColor:v,color:d,selectors:(r={},r[yt]={backgroundColor:"Highlight",color:"HighlightText"},r)},rootDisabled:{opacity:.5,selectors:(o={},o[yt]={color:"GrayText",opacity:1},o)},icon:{fontSize:Cie,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}},_={},S={};return pu(y,e?_:S,t)}),Eie=function(n){var e,t,i,r,o=n.theme,s=n.className,a=n.labelPosition,l=n.disabled,u=n.isFocused,c=o.palette,d=o.semanticColors,m=o.effects,v=o.fonts,y=d.inputBorder,_=d.inputBackground,S=d.inputBorderHovered,x=d.inputFocusBorderAlt,C=d.inputText,b=c.white,M=d.inputBackgroundChecked,B=d.disabledText;return{root:[v.medium,{outline:"none",width:"100%",minWidth:M3},s],labelWrapper:[{display:"inline-flex",alignItems:"center"},a===qu.start&&{height:A3,float:"left",marginRight:vP},a===qu.end&&{height:A3,float:"right",marginLeft:vP},a===qu.top&&{marginBottom:-1}],icon:[{padding:"0 5px",fontSize:Ql.large},l&&{color:B}],label:{pointerEvents:"none",lineHeight:Ql.large},spinButtonWrapper:[le(le({display:"flex",position:"relative",boxSizing:"border-box",height:A3,minWidth:M3},gZ(y,m.roundedCorner2,"border",0)),{":after":(e={borderWidth:"1px"},e[yt]={borderColor:"GrayText"},e)}),(a===qu.top||a===qu.bottom)&&{width:"100%"},!l&&[{":hover:after":(t={borderColor:S},t[yt]={borderColor:"Highlight"},t)},u&&{":hover:after, :after":(i={borderColor:x,borderWidth:"2px"},i[yt]={borderColor:"Highlight"},i)}],l&&T3(o)],input:["ms-spinButton-input",{boxSizing:"border-box",boxShadow:"none",borderStyle:"none",flex:1,margin:0,fontSize:v.medium.fontSize,fontFamily:"inherit",color:C,backgroundColor:_,height:"100%",padding:"0 8px 0 9px",outline:0,display:"block",minWidth:M3-iz-2,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"text",userSelect:"text",borderRadius:"".concat(m.roundedCorner2," 0 0 ").concat(m.roundedCorner2)},!l&&{selectors:{"::selection":{backgroundColor:M,color:b,selectors:(r={},r[yt]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},r)}}},l&&T3(o)],arrowButtonsContainer:[{display:"block",height:"100%",cursor:"default"},l&&T3(o)]}},Jl;(function(n){n[n.down=-1]="down",n[n.notSpinning=0]="notSpinning",n[n.up=1]="up"})(Jl||(Jl={}));var bie=xs(),Aie="SpinButton",Mie={disabled:!1,label:"",step:1,labelPosition:qu.start,incrementButtonIcon:{iconName:"ChevronUpSmall"},decrementButtonIcon:{iconName:"ChevronDownSmall"}},Tie=400,Bie=75,Rie=function(n,e,t){T.useImperativeHandle(n.componentRef,function(){return{get value(){return t},focus:function(){e.current&&e.current.focus()}}},[e,t])},Iie=function(){},B3=function(n,e){var t=e.min,i=e.max;return typeof i=="number"&&(n=Math.min(n,i)),typeof t=="number"&&(n=Math.max(n,t)),n},rz=T.forwardRef(function(n,e){var t=Kv(Mie,n),i=t.disabled,r=t.label,o=t.min,s=t.max,a=t.step,l=t.defaultValue,u=t.value,c=t.precision,d=t.labelPosition,m=t.iconProps,v=t.incrementButtonIcon,y=t.incrementButtonAriaLabel,_=t.decrementButtonIcon,S=t.decrementButtonAriaLabel,x=t.ariaLabel,C=t.ariaDescribedBy,b=t.upArrowButtonStyles,M=t.downArrowButtonStyles,B=t.theme,k=t.ariaPositionInSet,F=t.ariaSetSize,R=t.ariaValueNow,N=t.ariaValueText,U=t.className,G=t.inputProps,oe=t.onDecrement,me=t.onIncrement,j=t.iconButtonProps,ne=t.onValidate,te=t.onChange,de=t.styles,O=T.useRef(null),V=Np("input"),$=Np("Label"),ie=T.useState(!1),ae=ie[0],Ce=ie[1],Fe=T.useState(Jl.notSpinning),Ne=Fe[0],he=Fe[1],mt=em(),ft=T.useMemo(function(){return c??Math.max(cY(a),0)},[c,a]),_t=nE(u,l??String(o||0),te),Ke=_t[0],ct=_t[1],De=T.useState(),Ae=De[0],je=De[1],Ye=T.useRef({stepTimeoutHandle:-1,latestValue:void 0,latestIntermediateValue:void 0}).current;Ye.latestValue=Ke,Ye.latestIntermediateValue=Ae;var rt=yv(u);T.useEffect(function(){u!==rt&&Ae!==void 0&&je(void 0)},[u,rt,Ae]);var St=bie(de,{theme:B,disabled:i,isFocused:ae,keyboardSpinDirection:Ne,labelPosition:d,className:U}),It=Ci(t,bl,["onBlur","onFocus","className","onChange"]),Rt=T.useCallback(function(re){var Be=Ye.latestIntermediateValue;if(Be!==void 0&&Be!==Ye.latestValue){var et=void 0;ne?et=ne(Be,re):Be&&Be.trim().length&&!isNaN(Number(Be))&&(et=String(B3(Number(Be),{min:o,max:s}))),et!==void 0&&et!==Ye.latestValue&&ct(et,re)}je(void 0)},[Ye,s,o,ne,ct]),qt=T.useCallback(function(){Ye.stepTimeoutHandle>=0&&(mt.clearTimeout(Ye.stepTimeoutHandle),Ye.stepTimeoutHandle=-1),(Ye.spinningByMouse||Ne!==Jl.notSpinning)&&(Ye.spinningByMouse=!1,he(Jl.notSpinning))},[Ye,Ne,mt]),Kt=T.useCallback(function(re,Be){if(Be.persist(),Ye.latestIntermediateValue!==void 0){(Be.type==="keydown"||Be.type==="mousedown")&&Rt(Be),mt.requestAnimationFrame(function(){Kt(re,Be)});return}var et=re(Ye.latestValue||"",Be);et!==void 0&&et!==Ye.latestValue&&ct(et,Be);var Ve=Ye.spinningByMouse;Ye.spinningByMouse=Be.type==="mousedown",Ye.spinningByMouse&&(Ye.stepTimeoutHandle=mt.setTimeout(function(){Kt(re,Be)},Ve?Bie:Tie))},[Ye,mt,Rt,ct]),Z=T.useCallback(function(re){if(me)return me(re);var Be=B3(Number(re)+Number(a),{max:s});return Be=HD(Be,ft),String(Be)},[ft,s,me,a]),q=T.useCallback(function(re){if(oe)return oe(re);var Be=B3(Number(re)-Number(a),{min:o});return Be=HD(Be,ft),String(Be)},[ft,o,oe,a]),Me=function(re){je(re.target.value)},Je=function(re){var Be;O.current&&((Ye.spinningByMouse||Ne!==Jl.notSpinning)&&qt(),O.current.select(),Ce(!0),(Be=t.onFocus)===null||Be===void 0||Be.call(t,re))},it=function(re){var Be;Rt(re),Ce(!1),(Be=t.onBlur)===null||Be===void 0||Be.call(t,re)},ot=function(re){if((re.which===Bt.up||re.which===Bt.down||re.which===Bt.enter)&&(re.preventDefault(),re.stopPropagation()),i){qt();return}var Be=Jl.notSpinning;switch(re.which){case Bt.up:Be=Jl.up,Kt(Z,re);break;case Bt.down:Be=Jl.down,Kt(q,re);break;case Bt.enter:Rt(re);break;case Bt.escape:je(void 0);break}Ne!==Be&&he(Be)},Nt=T.useCallback(function(re){if(i||re.which===Bt.up||re.which===Bt.down){qt();return}},[i,qt]),Te=T.useCallback(function(re){Kt(Z,re)},[Z,Kt]),Mt=T.useCallback(function(re){Kt(q,re)},[q,Kt]);Rie(t,O,Ke),kie();var gt=!!Ke&&!isNaN(Number(Ke)),pt=(m||r)&&T.createElement("div",{className:St.labelWrapper},m&&T.createElement(ld,le({},m,{className:St.icon,"aria-hidden":"true"})),r&&T.createElement(Y5,{id:$,htmlFor:V,className:St.label,disabled:i},r));return T.createElement("div",{className:St.root,ref:e},d!==qu.bottom&&pt,T.createElement("div",le({},It,{className:St.spinButtonWrapper,"aria-label":x&&x,"aria-posinset":k,"aria-setsize":F,"data-ktp-target":!0}),T.createElement("input",le({value:Ae??Ke,id:V,onChange:Iie,onInput:Me,className:St.input,type:"text",autoComplete:"off",role:"spinbutton","aria-labelledby":r&&$,"aria-valuenow":R??(gt?Number(Ke):void 0),"aria-valuetext":N??(gt?void 0:Ke),"aria-valuemin":o,"aria-valuemax":s,"aria-describedby":C,onBlur:it,ref:O,onFocus:Je,onKeyDown:ot,onKeyUp:Nt,disabled:i,"aria-disabled":i,"data-lpignore":!0,"data-ktp-execute-target":!0},G)),T.createElement("span",{className:St.arrowButtonsContainer},T.createElement(GS,le({styles:yP(B,!0,b),className:"ms-UpButton",checked:Ne===Jl.up,disabled:i,iconProps:v,onMouseDown:Te,onMouseLeave:qt,onMouseUp:qt,tabIndex:-1,ariaLabel:y,"data-is-focusable":!1},j)),T.createElement(GS,le({styles:yP(B,!1,M),className:"ms-DownButton",checked:Ne===Jl.down,disabled:i,iconProps:_,onMouseDown:Mt,onMouseLeave:qt,onMouseUp:qt,tabIndex:-1,ariaLabel:S,"data-is-focusable":!1},j)))),d===qu.bottom&&pt)});rz.displayName=Aie;var kie=function(n){},Lie=ws(rz,Eie,void 0,{scope:"SpinButton"}),hI=le;function Zy(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var r=n;return r.isSlot?(t=T.Children.toArray(t),t.length===0?r(e):r(le(le({},e),{children:t}))):T.createElement.apply(wC,ui([n,e],t,!1))}function oz(n,e){e===void 0&&(e={});var t=e.defaultProp,i=t===void 0?"children":t,r=function(o,s,a,l,u){if(T.isValidElement(s))return s;var c=Die(i,s),d=Pie(l,u,o,c);if(a){if(a.component){var m=a.component;return T.createElement(m,le({},d))}if(a.render)return a.render(d,n)}return T.createElement(n,le({},d))};return r}var Fie=Ji(function(n){return oz(n)});function pI(n,e){var t={},i=n,r=function(s){if(e.hasOwnProperty(s)){var a=function(l){for(var u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];if(u.length>0)throw new Error("Any module using getSlots must use withSlots. Please see withSlots javadoc for more info.");return Nie(e[s],l,i[s],i.slots&&i.slots[s],i._defaultStyles&&i._defaultStyles[s],i.theme)};a.isSlot=!0,t[s]=a}};for(var o in e)r(o);return t}function Die(n,e){var t,i;return typeof e=="string"||typeof e=="number"||typeof e=="boolean"?i=(t={},t[n]=e,t):i=e,i}function Pie(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];for(var r={},o=[],s=0,a=t;s<a.length;s++){var l=a[s];o.push(l&&l.className),hI(r,l)}return r.className=F8([n,o],{rtl:xo(e)}),r}function Nie(n,e,t,i,r,o){return n.create!==void 0?n.create(e,t,i,r):Fie(n)(e,t,i,r,o)}function mI(n,e){e===void 0&&(e={});var t=e.factoryOptions,i=t===void 0?{}:t,r=i.defaultProp,o=function(s){var a=zie(e.displayName,T.useContext(LS),e.fields),l=e.state;l&&(s=le(le({},s),l(s)));var u=s.theme||a.theme,c=sz(s,u,e.tokens,a.tokens,s.tokens),d=Oie(s,u,c,e.styles,a.styles,s.styles),m=le(le({},s),{styles:d,tokens:c,_defaultStyles:d,theme:u});return n(m)};return o.displayName=e.displayName||n.name,r&&(o.create=oz(o,{defaultProp:r})),hI(o,e.statics),o}function Oie(n,e,t){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];return pu.apply(void 0,i.map(function(o){return typeof o=="function"?o(n,e,t):o}))}function sz(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];for(var r={},o=0,s=t;o<s.length;o++){var a=s[o];a&&(a=typeof a=="function"?a(n,e):a,Array.isArray(a)&&(a=sz.apply(void 0,ui([n,e],a,!1))),hI(r,a))}return r}function zie(n,e,t){var i=["theme","styles","tokens"];return vl.getSettings(t||i,n,e.customizations)}var az={root:"ms-StackItem"},Uie={start:"flex-start",end:"flex-end"},Hie=function(n,e,t){var i=n.grow,r=n.shrink,o=n.disableShrink,s=n.align,a=n.verticalFill,l=n.order,u=n.className,c=n.basis,d=c===void 0?"auto":c,m=Xs(az,e);return{root:[e.fonts.medium,m.root,{flexBasis:d,margin:t.margin,padding:t.padding,height:a?"100%":"auto",width:"auto"},i&&{flexGrow:i===!0?1:i},(o||!i&&!r)&&{flexShrink:0},r&&!o&&{flexShrink:1},s&&{alignSelf:Uie[s]||s},l&&{order:l},u]}},Gie=function(n){var e=n.children,t=Ci(n,qi);if(e==null)return null;var i=pI(n,{root:"div"});return Zy(i.root,le({},t),e)},lz=mI(Gie,{displayName:"StackItem",styles:Hie}),tv=function(n,e){return e.spacing.hasOwnProperty(n)?e.spacing[n]:n},R3=function(n){var e=parseFloat(n),t=isNaN(e)?0:e,i=isNaN(e)?"":e.toString(),r=n.substring(i.toString().length);return{value:t,unit:r||"px"}},Wie=function(n,e){if(n===void 0||n==="")return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if(typeof n=="number")return{rowGap:{value:n,unit:"px"},columnGap:{value:n,unit:"px"}};var t=n.split(" ");if(t.length>2)return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if(t.length===2)return{rowGap:R3(tv(t[0],e)),columnGap:R3(tv(t[1],e))};var i=R3(tv(n,e));return{rowGap:i,columnGap:i}},SP=function(n,e){if(n===void 0||typeof n=="number"||n==="")return n;var t=n.split(" ");return t.length<2?tv(n,e):t.reduce(function(i,r){return tv(i,e)+" "+tv(r,e)})},jm={start:"flex-start",end:"flex-end"},bB={root:"ms-Stack",inner:"ms-Stack-inner",child:"ms-Stack-child"},Vie=function(n,e,t){var i,r,o,s,a,l,u,c,d,m,v,y,_,S=n.className,x=n.disableShrink,C=n.enableScopedSelectors,b=n.grow,M=n.horizontal,B=n.horizontalAlign,k=n.reversed,F=n.verticalAlign,R=n.verticalFill,N=n.wrap,U=Xs(bB,e),G=t&&t.childrenGap?t.childrenGap:n.gap,oe=t&&t.maxHeight?t.maxHeight:n.maxHeight,me=t&&t.maxWidth?t.maxWidth:n.maxWidth,j=t&&t.padding?t.padding:n.padding,ne=Wie(G,e),te=ne.rowGap,de=ne.columnGap,O="".concat(-.5*de.value).concat(de.unit),V="".concat(-.5*te.value).concat(te.unit),$={textOverflow:"ellipsis"},ie="> "+(C?"."+bB.child:"*"),ae=(i={},i["".concat(ie,":not(.").concat(az.root,")")]={flexShrink:0},i);return N?{root:[U.root,{flexWrap:"wrap",maxWidth:me,maxHeight:oe,width:"auto",overflow:"visible",height:"100%"},B&&(r={},r[M?"justifyContent":"alignItems"]=jm[B]||B,r),F&&(o={},o[M?"alignItems":"justifyContent"]=jm[F]||F,o),S,{display:"flex"},M&&{height:R?"100%":"auto"}],inner:[U.inner,(s={display:"flex",flexWrap:"wrap",marginLeft:O,marginRight:O,marginTop:V,marginBottom:V,overflow:"visible",boxSizing:"border-box",padding:SP(j,e),width:de.value===0?"100%":"calc(100% + ".concat(de.value).concat(de.unit,")"),maxWidth:"100vw"},s[ie]=le({margin:"".concat(.5*te.value).concat(te.unit," ").concat(.5*de.value).concat(de.unit)},$),s),x&&ae,B&&(a={},a[M?"justifyContent":"alignItems"]=jm[B]||B,a),F&&(l={},l[M?"alignItems":"justifyContent"]=jm[F]||F,l),M&&(u={flexDirection:k?"row-reverse":"row",height:te.value===0?"100%":"calc(100% + ".concat(te.value).concat(te.unit,")")},u[ie]={maxWidth:de.value===0?"100%":"calc(100% - ".concat(de.value).concat(de.unit,")")},u),!M&&(c={flexDirection:k?"column-reverse":"column",height:"calc(100% + ".concat(te.value).concat(te.unit,")")},c[ie]={maxHeight:te.value===0?"100%":"calc(100% - ".concat(te.value).concat(te.unit,")")},c)]}:{root:[U.root,(d={display:"flex",flexDirection:M?k?"row-reverse":"row":k?"column-reverse":"column",flexWrap:"nowrap",width:"auto",height:R?"100%":"auto",maxWidth:me,maxHeight:oe,padding:SP(j,e),boxSizing:"border-box"},d[ie]=$,d),x&&ae,b&&{flexGrow:b===!0?1:b},B&&(m={},m[M?"justifyContent":"alignItems"]=jm[B]||B,m),F&&(v={},v[M?"alignItems":"justifyContent"]=jm[F]||F,v),M&&de.value>0&&(y={},y[k?"".concat(ie,":not(:last-child)"):"".concat(ie,":not(:first-child)")]={marginLeft:"".concat(de.value).concat(de.unit)},y),!M&&te.value>0&&(_={},_[k?"".concat(ie,":not(:last-child)"):"".concat(ie,":not(:first-child)")]={marginTop:"".concat(te.value).concat(te.unit)},_),S]}},Kie=function(n){var e=n.as,t=e===void 0?"div":e,i=n.disableShrink,r=i===void 0?!1:i,o=n.enableScopedSelectors,s=o===void 0?!1:o,a=n.wrap,l=sc(n,["as","disableShrink","enableScopedSelectors","wrap"]),u=uz(n.children,{disableShrink:r,enableScopedSelectors:s}),c=Ci(l,qi),d=pI(n,{root:t,inner:"div"});return a?Zy(d.root,le({},c),Zy(d.inner,null,u)):Zy(d.root,le({},c),u)};function uz(n,e){var t=e.disableShrink,i=e.enableScopedSelectors,r=T.Children.toArray(n);return r=T.Children.map(r,function(o){if(!o||!T.isValidElement(o))return o;if(o.type===T.Fragment)return o.props.children?uz(o.props.children,{disableShrink:t,enableScopedSelectors:i}):null;var s=o,a={};$ie(o)&&(a={shrink:!t});var l=s.props.className;return T.cloneElement(s,le(le(le(le({},a),s.props),l&&{className:l}),i&&{className:Co(bB.child,l)}))}),r}function $ie(n){return!!n&&typeof n=="object"&&!!n.type&&n.type.displayName===lz.displayName}var Jie={Item:lz},Ca=mI(Kie,{displayName:"Stack",styles:Vie,statics:Jie}),qie=function(n){if(n.children==null)return null;n.block,n.className;var e=n.as,t=e===void 0?"span":e;n.variant,n.nowrap;var i=sc(n,["block","className","as","variant","nowrap"]),r=pI(n,{root:t});return Zy(r.root,le({},Ci(i,qi)))},jie=function(n,e){var t=n.as,i=n.className,r=n.block,o=n.nowrap,s=n.variant,a=e.fonts,l=e.semanticColors,u=a[s||"medium"];return{root:[u,{color:u.color||l.bodyText,display:r?t==="td"?"table-cell":"block":"inline",mozOsxFontSmoothing:u.MozOsxFontSmoothing,webkitFontSmoothing:u.WebkitFontSmoothing},o&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},i]}},cz=mI(qie,{displayName:"Text",styles:jie});const Xie="_layout_1miah_1",Qie="_container_1miah_8",Yie="_containerWhenAvatarMode_1miah_17",Zie="_chatRoot_1miah_27",ere="_chatContainer_1miah_32",tre="_chatEmptyState_1miah_40",nre="_chatEmptyStateTitle_1miah_53",ire="_chatEmptyStateSubtitle_1miah_60",rre="_chatMessageStream_1miah_76",ore="_chatMessageGpt_1miah_97",sre="_chatMessageGptMinWidth_1miah_104",are="_chatInput_1miah_109",lre="_chatAnalysisPanel_1miah_121",ure="_chatSettingsSeparator_1miah_129",cre="_loadingLogo_1miah_133",dre="_chatHeader_1miah_137",fre="_commandsContainer_1miah_144",hre="_commandButton_1miah_149",pre="_logo_1miah_157",mre="_videoElement_1miah_161",yi={layout:Xie,container:Qie,containerWhenAvatarMode:Yie,chatRoot:Zie,chatContainer:ere,chatEmptyState:tre,chatEmptyStateTitle:nre,chatEmptyStateSubtitle:ire,chatMessageStream:rre,chatMessageGpt:ore,chatMessageGptMinWidth:sre,chatInput:are,chatAnalysisPanel:lre,chatSettingsSeparator:ure,loadingLogo:cre,chatHeader:dre,commandsContainer:fre,commandButton:hre,logo:pre,videoElement:mre},I3={};let Mx;const gre=new Uint8Array(16);function vre(){if(!Mx&&(Mx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Mx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mx(gre)}const yo=[];for(let n=0;n<256;++n)yo.push((n+256).toString(16).slice(1));function yre(n,e=0){return(yo[n[e+0]]+yo[n[e+1]]+yo[n[e+2]]+yo[n[e+3]]+"-"+yo[n[e+4]]+yo[n[e+5]]+"-"+yo[n[e+6]]+yo[n[e+7]]+"-"+yo[n[e+8]]+yo[n[e+9]]+"-"+yo[n[e+10]]+yo[n[e+11]]+yo[n[e+12]]+yo[n[e+13]]+yo[n[e+14]]+yo[n[e+15]]).toLowerCase()}const Sre=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_P={randomUUID:Sre};function _re(n,e,t){if(_P.randomUUID&&!e&&!n)return _P.randomUUID();n=n||{};const i=n.random||(n.rng||vre)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return yre(i)}const xre=()=>_re(),xr=()=>xre().replace(new RegExp("-","g"),"").toUpperCase();var wl;(function(n){n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.None=4]="None"})(wl||(wl={}));class Jv{constructor(e,t){this.privName=e,this.privEventId=xr(),this.privEventTime=new Date().toISOString(),this.privEventType=t,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}class T1 extends Jv{constructor(e,t,i=wl.Info){super(e,i),this.privAudioSourceId=t}get audioSourceId(){return this.privAudioSourceId}}class rb extends T1{constructor(e){super("AudioSourceInitializingEvent",e)}}class WS extends T1{constructor(e){super("AudioSourceReadyEvent",e)}}class dz extends T1{constructor(e){super("AudioSourceOffEvent",e)}}class rE extends T1{constructor(e,t){super("AudioSourceErrorEvent",e,wl.Error),this.privError=t}get error(){return this.privError}}class ob extends T1{constructor(e,t,i){super(e,t),this.privAudioNodeId=i}get audioNodeId(){return this.privAudioNodeId}}class B1 extends ob{constructor(e,t){super("AudioStreamNodeAttachingEvent",e,t)}}class R1 extends ob{constructor(e,t){super("AudioStreamNodeAttachedEvent",e,t)}}class Zc extends ob{constructor(e,t){super("AudioStreamNodeDetachedEvent",e,t)}}class gI extends ob{constructor(e,t,i){super("AudioStreamNodeErrorEvent",e,t),this.privError=i}get error(){return this.privError}}class fz extends Jv{constructor(e,t,i=wl.Info){super(e,i),this.privJsonResult=t}get jsonString(){return this.privJsonResult}}class tm extends Jv{constructor(e,t,i=wl.Info){super(e,i),this.privConnectionId=t}get connectionId(){return this.privConnectionId}}class hz extends tm{constructor(e,t,i){super("ConnectionStartEvent",e),this.privUri=t,this.privHeaders=i}get uri(){return this.privUri}get headers(){return this.privHeaders}}class pz extends tm{constructor(e){super("ConnectionEstablishedEvent",e)}}class wre extends tm{constructor(e,t,i){super("ConnectionClosedEvent",e,wl.Debug),this.privReason=i,this.privStatusCode=t}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}class Cre extends tm{constructor(e,t,i){super("ConnectionErrorEvent",e,wl.Debug),this.privMessage=t,this.privType=i}get message(){return this.privMessage}get type(){return this.privType}}class Ere extends tm{constructor(e,t,i){super("ConnectionEstablishErrorEvent",e,wl.Error),this.privStatusCode=t,this.privReason=i}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}class AB extends tm{constructor(e,t,i){super("ConnectionMessageReceivedEvent",e),this.privNetworkReceivedTime=t,this.privMessage=i}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}class bre extends tm{constructor(e,t,i){super("ConnectionMessageSentEvent",e),this.privNetworkSentTime=t,this.privMessage=i}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}class uo extends Error{constructor(e){super(e),this.name="ArgumentNull",this.message=e}}class ml extends Error{constructor(e){super(e),this.name="InvalidOperation",this.message=e}}class vI extends Error{constructor(e,t){super(t),this.name=e+"ObjectDisposed",this.message=t}}var Jn;(function(n){n[n.Text=0]="Text",n[n.Binary=1]="Binary"})(Jn||(Jn={}));class MB{constructor(e,t,i,r){if(this.privBody=null,e===Jn.Text&&t&&typeof t!="string")throw new ml("Payload must be a string");if(e===Jn.Binary&&t&&!(t instanceof ArrayBuffer))throw new ml("Payload must be ArrayBuffer");switch(this.privMessageType=e,this.privBody=t,this.privHeaders=i||{},this.privId=r||xr(),this.messageType){case Jn.Binary:this.privSize=this.binaryBody!==null?this.binaryBody.byteLength:0;break;case Jn.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===Jn.Binary)throw new ml("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===Jn.Text)throw new ml("Not supported for text message");return this.privBody}get id(){return this.privId}}class k3{constructor(e,t){this.privStatusCode=e,this.privReason=t}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}}class tc{constructor(e){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=e}onEvent(e){if(this.isDisposed())throw new vI("EventSource");if(this.metadata)for(const t in this.metadata)t&&e.metadata&&(e.metadata[t]||(e.metadata[t]=this.metadata[t]));for(const t in this.privEventListeners)t&&this.privEventListeners[t]&&this.privEventListeners[t](e)}attach(e){const t=xr();return this.privEventListeners[t]=e,{detach:()=>(delete this.privEventListeners[t],Promise.resolve())}}attachListener(e){return this.attach(t=>e.onEvent(t))}attachConsoleListener(e){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach(t=>e.onEvent(t)),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}}class $o{static setEventSource(e){if(!e)throw new uo("eventSource");$o.privInstance=e}static get instance(){return $o.privInstance}}$o.privInstance=new tc;var Hr;(function(n){n[n.None=0]="None",n[n.Connected=1]="Connected",n[n.Connecting=2]="Connecting",n[n.Disconnected=3]="Disconnected"})(Hr||(Hr={}));class $u{constructor(e){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],e)for(const t of e)this.privList.push(t)}get(e){return this.throwIfDisposed(),this.privList[e]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(e){this.throwIfDisposed(),this.insertAt(this.privList.length,e)}insertAt(e,t){this.throwIfDisposed(),e===0?this.privList.unshift(t):e===this.privList.length?this.privList.push(t):this.privList.splice(e,0,t),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(e){return this.throwIfDisposed(),this.remove(e,1)[0]}remove(e,t){this.throwIfDisposed();const i=this.privList.splice(e,t);return this.triggerSubscriptions(this.privRemoveSubscriptions),i}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[t]=e,{detach:()=>(delete this.privAddSubscriptions[t],Promise.resolve())}}onRemoved(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[t]=e,{detach:()=>(delete this.privRemoveSubscriptions[t],Promise.resolve())}}onDisposed(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[t]=e,{detach:()=>(delete this.privDisposedSubscriptions[t],Promise.resolve())}}join(e){return this.throwIfDisposed(),this.privList.join(e)}toArray(){const e=Array();return this.privList.forEach(t=>{e.push(t)}),e}any(e){return this.throwIfDisposed(),e?this.where(e).length()>0:this.length()>0}all(e){return this.throwIfDisposed(),this.where(e).length()===this.length()}forEach(e){this.throwIfDisposed();for(let t=0;t<this.length();t++)e(this.privList[t],t)}select(e){this.throwIfDisposed();const t=[];for(let i=0;i<this.privList.length;i++)t.push(e(this.privList[i],i));return new $u(t)}where(e){this.throwIfDisposed();const t=new $u;for(let i=0;i<this.privList.length;i++)e(this.privList[i],i)&&t.add(this.privList[i]);return t}orderBy(e){this.throwIfDisposed();const i=this.toArray().sort(e);return new $u(i)}orderByDesc(e){return this.throwIfDisposed(),this.orderBy((t,i)=>e(i,t))}clone(){return this.throwIfDisposed(),new $u(this.toArray())}concat(e){return this.throwIfDisposed(),new $u(this.privList.concat(e.toArray()))}concatArray(e){return this.throwIfDisposed(),new $u(this.privList.concat(e))}isDisposed(){return this.privList==null}dispose(e){this.isDisposed()||(this.privDisposeReason=e,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new vI("List",this.privDisposeReason)}triggerSubscriptions(e){if(e)for(const t in e)t&&e[t]()}}var xP;(function(n){n[n.None=0]="None",n[n.Resolved=1]="Resolved",n[n.Rejected=2]="Rejected"})(xP||(xP={}));class ao{constructor(){this.resolve=e=>(this.privResolve(e),this),this.reject=e=>(this.privReject(e),this),this.privPromise=new Promise((e,t)=>{this.privResolve=e,this.privReject=t})}get promise(){return this.privPromise}}function ky(n,e,t){n.then(i=>{try{e&&e(i)}catch(r){if(t)try{if(r instanceof Error){const o=r;t(o.name+": "+o.message)}else t(r)}catch{}}},i=>{if(t)try{if(i instanceof Error){const r=i;t(r.name+": "+r.message)}else t(i)}catch{}})}var wP=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},eS;(function(n){n[n.Dequeue=0]="Dequeue",n[n.Peek=1]="Peek"})(eS||(eS={}));class oE{constructor(e){this.privPromiseStore=new $u,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=e||new $u,this.privDetachables=[],this.privSubscribers=new $u,this.privDetachables.push(this.privList.onAdded(()=>this.drain()))}enqueue(e){this.throwIfDispose(),this.enqueueFromPromise(new Promise(t=>t(e)))}enqueueFromPromise(e){this.throwIfDispose(),e.then(t=>{this.privList.add(t)},()=>{})}dequeue(){this.throwIfDispose();const e=new ao;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:eS.Dequeue}),this.drain()),e.promise}peek(){this.throwIfDispose();const e=new ao;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:eS.Peek}),this.drain()),e.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return this.privSubscribers==null}drainAndDispose(e,t){return wP(this,void 0,void 0,function*(){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=t,this.privIsDisposing=!0;const i=this.privSubscribers;if(i){for(;i.length()>0;)i.removeFirst().deferral.resolve(void 0);this.privSubscribers===i&&(this.privSubscribers=i)}for(const r of this.privDetachables)yield r.detach();if(this.privPromiseStore.length()>0&&e){const r=[];return this.privPromiseStore.toArray().forEach(o=>{r.push(o)}),Promise.all(r).finally(()=>{this.privSubscribers=null,this.privList.forEach(o=>{e(o)}),this.privList=null}).then()}else this.privSubscribers=null,this.privList=null}})}dispose(e){return wP(this,void 0,void 0,function*(){yield this.drainAndDispose(null,e)})}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const e=this.privSubscribers,t=this.privList;if(e&&t){for(;t.length()>0&&e.length()>0&&!this.privIsDisposing;){const i=e.removeFirst();if(i.type===eS.Peek)i.deferral.resolve(t.first());else{const r=t.removeFirst();i.deferral.resolve(r)}}this.privSubscribers===e&&(this.privSubscribers=e),this.privList===t&&(this.privList=t)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed())throw this.privDisposeReason?new ml(this.privDisposeReason):new vI("Queue");if(this.privIsDisposing)throw new ml("Queue disposing")}}class sE{constructor(e,t,i){if(this.privPayload=null,!t)throw new uo("payload");if(e===Jn.Binary&&t.__proto__.constructor.name!=="ArrayBuffer")throw new ml("Payload must be ArrayBuffer");if(e===Jn.Text&&typeof t!="string")throw new ml("Payload must be a string");this.privMessageType=e,this.privPayload=t,this.privId=i||xr()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===Jn.Binary)throw new ml("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===Jn.Text)throw new ml("Not supported for text message");return this.privPayload}get id(){return this.privId}}class Are{constructor(e,t){this.privActualSampleRate=e,this.privDesiredSampleRate=t}encode(e){const t=this.downSampleAudioFrame(e,this.privActualSampleRate,this.privDesiredSampleRate);if(!t)return null;const i=t.length*2,r=new ArrayBuffer(i),o=new DataView(r);return this.floatTo16BitPCM(o,0,t),r}setString(e,t,i){for(let r=0;r<i.length;r++)e.setUint8(t+r,i.charCodeAt(r))}floatTo16BitPCM(e,t,i){for(let r=0;r<i.length;r++,t+=2){const o=Math.max(-1,Math.min(1,i[r]));e.setInt16(t,o<0?o*32768:o*32767,!0)}}downSampleAudioFrame(e,t,i){if(!e)return null;if(i===t||i>t)return e;const r=t/i,o=Math.round(e.length/r),s=new Float32Array(o);let a=0,l=0;for(;l<o;){const u=Math.round((l+1)*r);let c=0,d=0;for(;a<u&&a<e.length;)c+=e[a++],d++;s[l++]=c/d}return s}}var Mre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class mz{constructor(e){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=e||xr(),this.privReaderQueue=new oE}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(e){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(e)}catch{}}read(){if(this.privIsReadEnded)throw new ml("Stream read has already finished");return this.privReaderQueue.dequeue().then(e=>Mre(this,void 0,void 0,function*(){return(e===void 0||e.isEnd)&&(yield this.privReaderQueue.dispose("End of stream reached")),e}))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new oE)}throwIfClosed(){if(this.privIsWriteEnded)throw new ml("Stream closed")}}class yI extends mz{constructor(e,t){super(t),this.privTargetChunkSize=e,this.privNextBufferReadyBytes=0}writeStreamChunk(e){if(e.isEnd||this.privNextBufferReadyBytes===0&&e.buffer.byteLength===this.privTargetChunkSize){super.writeStreamChunk(e);return}let t=0;for(;t<e.buffer.byteLength;){this.privNextBufferToWrite===void 0&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=e.timeReceived);const i=Math.min(e.buffer.byteLength-t,this.privTargetChunkSize-this.privNextBufferReadyBytes),r=new Uint8Array(this.privNextBufferToWrite),o=new Uint8Array(e.buffer.slice(t,i+t));r.set(o,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=i,t+=i,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){this.privNextBufferReadyBytes!==0&&!this.isClosed&&super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}}class Ho{static load(){const e=new Map([[0,()=>{}]]),t=new Map,r="data:text/javascript;base64,"+btoa(`!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id "'.concat(e,'".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error('The given method "'.concat(e.method,'" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`),o=new Worker(r);return o.addEventListener("message",({data:l})=>{if(Ho.isCallNotification(l)){const{params:{timerId:u}}=l,c=e.get(u);if(typeof c=="number"){const d=t.get(c);if(d===void 0||d!==u)throw new Error("The timer is in an undefined state.")}else if(typeof c<"u")c(),e.delete(u);else throw new Error("The timer is in an undefined state.")}else if(Ho.isClearResponse(l)){const{id:u}=l,c=t.get(u);if(c===void 0)throw new Error("The timer is in an undefined state.");t.delete(u),e.delete(c)}else{const{error:{message:u}}=l;throw new Error(u)}}),{clearTimeout:l=>{const u=Math.random();t.set(u,l),e.set(l,u),o.postMessage({id:u,method:"clear",params:{timerId:l}})},setTimeout:(l,u)=>{const c=Math.random();return e.set(c,l),o.postMessage({id:null,method:"set",params:{delay:u,now:performance.now(),timerId:c}}),c}}}static loadWorkerTimers(){return()=>(Ho.workerTimers!==null||(Ho.workerTimers=Ho.load()),Ho.workerTimers)}static isCallNotification(e){return e.method!==void 0&&e.method==="call"}static isClearResponse(e){return e.error===null&&typeof e.id=="number"}}Ho.workerTimers=null;Ho.clearTimeout=n=>Ho.timers().clearTimeout(n);Ho.setTimeout=(n,e)=>Ho.timers().setTimeout(n,e);Ho.timers=Ho.loadWorkerTimers();class tS extends Jv{constructor(e){super("BackgroundEvent",wl.Error),this.privError=e}get error(){return this.privError}}class Vn{static throwIfNullOrUndefined(e,t){if(e==null)throw new Error("throwIfNullOrUndefined:"+t)}static throwIfNull(e,t){if(e===null)throw new Error("throwIfNull:"+t)}static throwIfNullOrWhitespace(e,t){if(Vn.throwIfNullOrUndefined(e,t),(""+e).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+t)}static throwIfNullOrTooLong(e,t,i){if(Vn.throwIfNullOrUndefined(e,t),(""+e).length>i)throw new Error("throwIfNullOrTooLong:"+t+" (more than "+i.toString()+" characters)")}static throwIfNullOrTooShort(e,t,i){if(Vn.throwIfNullOrUndefined(e,t),(""+e).length<i)throw new Error("throwIfNullOrTooShort:"+t+" (less than "+i.toString()+" characters)")}static throwIfDisposed(e){if(e)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(e,t){if(Vn.throwIfNullOrUndefined(e,t),e.length===0)throw new Error("throwIfArrayEmptyOrWhitespace:"+t);for(const i of e)Vn.throwIfNullOrWhitespace(i,t)}static throwIfFileDoesNotExist(e,t){Vn.throwIfNullOrWhitespace(e,t)}static throwIfNotUndefined(e,t){if(e!==void 0)throw new Error("throwIfNotUndefined:"+t)}}class Li{}Li.AuthKey="Ocp-Apim-Subscription-Key";Li.Authorization="Authorization";Li.SpIDAuthKey="Apim-Subscription-Id";Li.ConnectionId="X-ConnectionId";Li.ContentType="Content-Type";Li.CustomCommandsAppId="X-CommandsAppId";Li.Path="Path";Li.RequestId="X-RequestId";Li.RequestStreamId="X-StreamId";Li.RequestTimestamp="X-Timestamp";class TB{constructor(e,t){this.privHeaderName=e,this.privToken=t}get headerName(){return this.privHeaderName}get token(){return this.privToken}}class Tre{constructor(e){if(!e)throw new uo("subscriptionKey");this.privAuthInfo=new TB(Li.AuthKey,e)}fetch(e){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(e){return Promise.resolve(this.privAuthInfo)}}class VS{constructor(e,t){if(!e)throw new uo("fetchCallback");if(!t)throw new uo("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=t}fetch(e){return this.privFetchCallback(e).then(t=>new TB(Li.Authorization,t===void 0?void 0:VS.privTokenPrefix+t))}fetchOnExpiry(e){return this.privFetchOnExpiryCallback(e).then(t=>new TB(Li.Authorization,t===void 0?void 0:VS.privTokenPrefix+t))}}VS.privTokenPrefix="bearer ";class Bre{constructor(e){Vn.throwIfNullOrUndefined(void 0,`
File System access not available, please use Push or PullAudioOutputStream`),this.privFd=(void 0)(e,"w")}set format(e){Vn.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;let t=0;this.privAudioFormat.hasHeader&&(t=this.privAudioFormat.header.byteLength),this.privFd!==void 0&&(this.privWriteStream=(void 0)("",{fd:this.privFd,start:t,autoClose:!1}))}write(e){Vn.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),this.privWriteStream!==void 0&&this.privWriteStream.write(new Uint8Array(e.slice(0)))}close(){this.privFd!==void 0&&(this.privWriteStream.on("finish",()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),(void 0)(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),(void 0)(this.privFd),this.privFd=void 0}),this.privWriteStream.end())}id(){return this.privId}}var Jt;(function(n){n[n.PCM=1]="PCM",n[n.MuLaw=2]="MuLaw",n[n.Siren=3]="Siren",n[n.MP3=4]="MP3",n[n.SILKSkype=5]="SILKSkype",n[n.OGG_OPUS=6]="OGG_OPUS",n[n.WEBM_OPUS=7]="WEBM_OPUS",n[n.ALaw=8]="ALaw",n[n.FLAC=9]="FLAC",n[n.OPUS=10]="OPUS"})(Jt||(Jt={}));class sb{static getDefaultInputFormat(){return Ff.getDefaultInputFormat()}static getWaveFormat(e,t,i,r){return new Ff(e,t,i,r)}static getWaveFormatPCM(e,t,i){return new Ff(e,t,i)}}class Ff extends sb{constructor(e=16e3,t=16,i=1,r=Jt.PCM){super();let o=!0;switch(r){case Jt.PCM:this.formatTag=1;break;case Jt.ALaw:this.formatTag=6;break;case Jt.MuLaw:this.formatTag=7;break;default:o=!1}if(this.bitsPerSample=t,this.samplesPerSec=e,this.channels=i,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),o){this.privHeader=new ArrayBuffer(44);const s=new DataView(this.privHeader);this.setString(s,0,"RIFF"),s.setUint32(4,0,!0),this.setString(s,8,"WAVEfmt "),s.setUint32(16,16,!0),s.setUint16(20,this.formatTag,!0),s.setUint16(22,this.channels,!0),s.setUint32(24,this.samplesPerSec,!0),s.setUint32(28,this.avgBytesPerSec,!0),s.setUint16(32,this.channels*(this.bitsPerSample/8),!0),s.setUint16(34,this.bitsPerSample,!0),this.setString(s,36,"data"),s.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new Ff}static getAudioContext(e){const t=window.AudioContext||window.webkitAudioContext||!1;if(t)return e!==void 0&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new t({sampleRate:e}):new t;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(e,t,i){for(let r=0;r<i.length;r++)e.setUint8(t+r,i.charCodeAt(r))}}var BB=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class SI{constructor(){}static createPushStream(e){return gz.create(e)}static createPullStream(e,t){return vz.create(e,t)}}class gz extends SI{static create(e){return new Rre(e)}}class Rre extends gz{constructor(e){super(),e===void 0?this.privFormat=Ff.getDefaultInputFormat():this.privFormat=e,this.privEvents=new tc,this.privId=xr(),this.privStream=new yI(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(e){this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){this.onEvent(new rb(this.privId)),this.onEvent(new WS(this.privId))}attach(e){return BB(this,void 0,void 0,function*(){this.onEvent(new B1(this.privId,e)),yield this.turnOn();const t=this.privStream;return this.onEvent(new R1(this.privId,e)),{detach:()=>BB(this,void 0,void 0,function*(){return this.onEvent(new Zc(this.privId,e)),this.turnOff()}),id:()=>e,read:()=>t.read()}})}detach(e){this.onEvent(new Zc(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:xv.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:Up.Stream})}onEvent(e){this.privEvents.onEvent(e),$o.instance.onEvent(e)}toBuffer(e){const t=Buffer.alloc(e.byteLength),i=new Uint8Array(e);for(let r=0;r<t.length;++r)t[r]=i[r];return t}}class vz extends SI{constructor(){super()}static create(e,t){return new yz(e,t)}}class yz extends vz{constructor(e,t){super(),t===void 0?this.privFormat=sb.getDefaultInputFormat():this.privFormat=t,this.privEvents=new tc,this.privId=xr(),this.privCallback=e,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){this.onEvent(new rb(this.privId)),this.onEvent(new WS(this.privId))}attach(e){return BB(this,void 0,void 0,function*(){return this.onEvent(new B1(this.privId,e)),yield this.turnOn(),this.onEvent(new R1(this.privId,e)),{detach:()=>(this.privCallback.close(),this.onEvent(new Zc(this.privId,e)),this.turnOff()),id:()=>e,read:()=>{let t=0,i;for(;t<this.privBufferSize;){const r=new ArrayBuffer(this.privBufferSize-t),o=this.privCallback.read(r);if(i===void 0?i=r:new Int8Array(i).set(new Int8Array(r),t),o===0)break;t+=o}return Promise.resolve({buffer:i.slice(0,t),isEnd:this.privIsClosed||t===0,timeReceived:Date.now()})}}})}detach(e){this.onEvent(new Zc(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:xv.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:Up.Stream})}onEvent(e){this.privEvents.onEvent(e),$o.instance.onEvent(e)}}var En;(function(n){n[n.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",n[n.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",n[n.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",n[n.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",n[n.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",n[n.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",n[n.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",n[n.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",n[n.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",n[n.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",n[n.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",n[n.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",n[n.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",n[n.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",n[n.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",n[n.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",n[n.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",n[n.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",n[n.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",n[n.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",n[n.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",n[n.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",n[n.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",n[n.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",n[n.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",n[n.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",n[n.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",n[n.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",n[n.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",n[n.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",n[n.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",n[n.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",n[n.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",n[n.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",n[n.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",n[n.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",n[n.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm"})(En||(En={}));class fn extends Ff{constructor(e,t,i,r,o,s,a,l,u){super(i,s,t,e),this.formatTag=e,this.avgBytesPerSec=r,this.blockAlign=o,this.priAudioFormatString=a,this.priRequestAudioFormatString=l,this.priHasHeader=u}static fromSpeechSynthesisOutputFormat(e){return e===void 0?fn.getDefaultOutputFormat():fn.fromSpeechSynthesisOutputFormatString(fn.SpeechSynthesisOutputFormatToString[e])}static fromSpeechSynthesisOutputFormatString(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new fn(Jt.MuLaw,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new fn(Jt.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new fn(Jt.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new fn(Jt.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new fn(Jt.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new fn(Jt.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new fn(Jt.MP3,1,24e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new fn(Jt.MP3,1,24e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new fn(Jt.MP3,1,24e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new fn(Jt.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new fn(Jt.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new fn(Jt.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new fn(Jt.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new fn(Jt.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new fn(Jt.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new fn(Jt.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new fn(Jt.OGG_OPUS,1,16e3,8192,2,16,e,e,!1);case"ogg-24khz-16bit-mono-opus":return new fn(Jt.OGG_OPUS,1,24e3,8192,2,16,e,e,!1);case"raw-48khz-16bit-mono-pcm":return new fn(Jt.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new fn(Jt.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new fn(Jt.MP3,1,48e3,12288,2,16,e,e,!1);case"audio-48khz-192kbitrate-mono-mp3":return new fn(Jt.MP3,1,48e3,24576,2,16,e,e,!1);case"ogg-48khz-16bit-mono-opus":return new fn(Jt.OGG_OPUS,1,48e3,12e3,2,16,e,e,!1);case"webm-16khz-16bit-mono-opus":return new fn(Jt.WEBM_OPUS,1,16e3,4e3,2,16,e,e,!1);case"webm-24khz-16bit-mono-opus":return new fn(Jt.WEBM_OPUS,1,24e3,6e3,2,16,e,e,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new fn(Jt.WEBM_OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new fn(Jt.OPUS,1,16e3,4e3,2,16,e,e,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new fn(Jt.OPUS,1,24e3,6e3,2,16,e,e,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new fn(Jt.OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-24khz-16bit-mono-flac":return new fn(Jt.FLAC,1,24e3,24e3,2,16,e,e,!1);case"audio-48khz-16bit-mono-flac":return new fn(Jt.FLAC,1,48e3,3e4,2,16,e,e,!1);case"raw-24khz-16bit-mono-truesilk":return new fn(Jt.SILKSkype,1,24e3,48e3,2,16,e,e,!1);case"raw-8khz-8bit-mono-alaw":return new fn(Jt.ALaw,1,8e3,8e3,1,8,e,e,!1);case"riff-8khz-8bit-mono-alaw":return new fn(Jt.ALaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new fn(Jt.PCM,1,22050,44100,2,16,e,e,!1);case"riff-22050hz-16bit-mono-pcm":return new fn(Jt.PCM,1,22050,44100,2,16,e,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new fn(Jt.PCM,1,44100,88200,2,16,e,e,!1);case"riff-44100hz-16bit-mono-pcm":return new fn(Jt.PCM,1,44100,88200,2,16,e,"raw-44100hz-16bit-mono-pcm",!0);case"riff-16khz-16bit-mono-pcm":default:return new fn(Jt.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return fn.fromSpeechSynthesisOutputFormatString(typeof window<"u"?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(e){if(this.priHasHeader){const t=new DataView(this.privHeader);t.setUint32(4,e+this.privHeader.byteLength-8,!0),t.setUint32(40,e,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}}fn.SpeechSynthesisOutputFormatToString={[En.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[En.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[En.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[En.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[En.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[En.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[En.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[En.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[En.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[En.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[En.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[En.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[En.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[En.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[En.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[En.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[En.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[En.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[En.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[En.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[En.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[En.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[En.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[En.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[En.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[En.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[En.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[En.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[En.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[En.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[En.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[En.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[En.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[En.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[En.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[En.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[En.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm"};var Ire=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Sz{constructor(){}static createPullStream(){return _I.create()}}class _I extends Sz{static create(){return new xI}}class xI extends _I{constructor(){super(),this.privId=xr(),this.privStream=new mz}set format(e){e==null&&(this.privFormat=fn.getDefaultOutputFormat()),this.privFormat=e}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}read(e){return Ire(this,void 0,void 0,function*(){const t=new Int8Array(e);let i=0;if(this.privLastChunkView!==void 0){if(this.privLastChunkView.length>e.byteLength)return t.set(this.privLastChunkView.slice(0,e.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(e.byteLength),Promise.resolve(e.byteLength);t.set(this.privLastChunkView),i=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;i<e.byteLength&&!this.privStream.isReadEnded;){const r=yield this.privStream.read();if(r!==void 0&&!r.isEnd){let o;r.buffer.byteLength>e.byteLength-i?(o=r.buffer.slice(0,e.byteLength-i),this.privLastChunkView=new Int8Array(r.buffer.slice(e.byteLength-i))):o=r.buffer,t.set(new Int8Array(o),i),i+=o.byteLength}else this.privStream.readEnded()}return i})}write(e){Vn.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}class _z extends Sz{constructor(){super()}static create(e){return new xz(e)}}class xz extends _z{constructor(e){super(),this.privId=xr(),this.privCallback=e}set format(e){}write(e){this.privCallback.write&&this.privCallback.write(e)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}class qv{static fromDefaultMicrophoneInput(){const e=new P3(!0);return new Xm(new eu(e))}static fromMicrophoneInput(e){const t=new P3(!0);return new Xm(new eu(t,e))}static fromWavFileInput(e,t="unnamedBuffer.wav"){return new Xm(new loe(e,t))}static fromStreamInput(e){if(e instanceof kre)return new Xm(new yz(e));if(e instanceof SI)return new Xm(e);if(typeof MediaStream<"u"&&e instanceof MediaStream){const t=new P3(!1);return new Xm(new eu(t,null,null,e))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new Qm(new AP)}static fromSpeakerOutput(e){if(e===void 0)return qv.fromDefaultSpeakerOutput();if(e instanceof AP)return new Qm(e);throw new Error("Not Supported Type")}static fromAudioFileOutput(e){return new Qm(new Bre(e))}static fromStreamOutput(e){if(e instanceof Lre)return new Qm(new xz(e));if(e instanceof _z)return new Qm(e);if(e instanceof _I)return new Qm(e);throw new Error("Not Supported Type")}}class Xm extends qv{constructor(e){super(),this.privSource=e}get format(){return this.privSource.format}close(e,t){this.privSource.turnOff().then(()=>{e&&e()},i=>{t&&t(i)})}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(e){return this.privSource.attach(e)}detach(e){return this.privSource.detach(e)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(e,t){if(Vn.throwIfNull(t,"value"),this.privSource.setProperty!==void 0)this.privSource.setProperty(e,t);else throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(e,t){if(this.privSource.getProperty!==void 0)return this.privSource.getProperty(e,t);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}class Qm extends qv{constructor(e){super(),this.privDestination=e}set format(e){this.privDestination.format=e}write(e){this.privDestination.write(e)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}var ul;(function(n){n[n.Error=0]="Error",n[n.EndOfStream=1]="EndOfStream"})(ul||(ul={}));class kre{}class Lre{}class RB{constructor(e){this.privSessionId=e}get sessionId(){return this.privSessionId}}class aE extends RB{constructor(e,t){super(t),this.privOffset=e}get offset(){return this.privOffset}}var ds;(function(n){n[n.Simple=0]="Simple",n[n.Detailed=1]="Detailed"})(ds||(ds={}));class Fre{constructor(e,t,i,r,o,s,a,l,u,c){this.privResultId=e,this.privReason=t,this.privText=i,this.privDuration=r,this.privOffset=o,this.privLanguage=s,this.privLanguageDetectionConfidence=a,this.privErrorDetails=l,this.privJson=u,this.privProperties=c}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}}class Tx extends Fre{constructor(e,t,i,r,o,s,a,l,u,c,d){super(e,t,i,r,o,s,a,u,c,d),this.privSpeakerId=l}get speakerId(){return this.privSpeakerId}}class CP extends aE{constructor(e,t,i){super(t,i),this.privResult=e}get result(){return this.privResult}}class Dre extends aE{constructor(e,t,i,r,o){super(r,o),this.privReason=e,this.privErrorDetails=t,this.privErrorCode=i}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}class Pre extends Dre{}var hs;(function(n){n[n.NoMatch=0]="NoMatch",n[n.Canceled=1]="Canceled",n[n.RecognizingSpeech=2]="RecognizingSpeech",n[n.RecognizedSpeech=3]="RecognizedSpeech",n[n.RecognizedKeyword=4]="RecognizedKeyword",n[n.RecognizingIntent=5]="RecognizingIntent",n[n.RecognizedIntent=6]="RecognizedIntent",n[n.TranslatingSpeech=7]="TranslatingSpeech",n[n.TranslatedSpeech=8]="TranslatedSpeech",n[n.SynthesizingAudio=9]="SynthesizingAudio",n[n.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",n[n.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",n[n.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",n[n.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",n[n.RecognizedSpeakers=14]="RecognizedSpeakers",n[n.RecognizedSpeaker=15]="RecognizedSpeaker",n[n.ResetVoiceProfile=16]="ResetVoiceProfile",n[n.DeletedVoiceProfile=17]="DeletedVoiceProfile",n[n.VoicesListRetrieved=18]="VoicesListRetrieved",n[n.TranslatingParticipantSpeech=19]="TranslatingParticipantSpeech",n[n.TranslatedParticipantSpeech=20]="TranslatedParticipantSpeech",n[n.TranslatedInstantMessage=21]="TranslatedInstantMessage",n[n.TranslatedParticipantInstantMessage=22]="TranslatedParticipantInstantMessage"})(hs||(hs={}));class wz{constructor(){}static fromSubscription(e,t){Vn.throwIfNullOrWhitespace(e,"subscriptionKey"),Vn.throwIfNullOrWhitespace(t,"region");const i=new Ug;return i.setProperty(dt.SpeechServiceConnection_Region,t),i.setProperty(dt.SpeechServiceConnection_IntentRegion,t),i.setProperty(dt.SpeechServiceConnection_Key,e),i}static fromEndpoint(e,t){Vn.throwIfNull(e,"endpoint");const i=new Ug;return i.setProperty(dt.SpeechServiceConnection_Endpoint,e.href),t!==void 0&&i.setProperty(dt.SpeechServiceConnection_Key,t),i}static fromHost(e,t){Vn.throwIfNull(e,"hostName");const i=new Ug;return i.setProperty(dt.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(e.port===""?"":":"+e.port)),t!==void 0&&i.setProperty(dt.SpeechServiceConnection_Key,t),i}static fromAuthorizationToken(e,t){Vn.throwIfNull(e,"authorizationToken"),Vn.throwIfNullOrWhitespace(t,"region");const i=new Ug;return i.setProperty(dt.SpeechServiceConnection_Region,t),i.setProperty(dt.SpeechServiceConnection_IntentRegion,t),i.authorizationToken=e,i}close(){}}class Ug extends wz{constructor(){super(),this.privProperties=new zp,this.speechRecognitionLanguage="en-US",this.outputFormat=ds.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(dt.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(dt.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(dt.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(dt.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.privProperties.setProperty(dt.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return this.privProperties.getProperty(dt.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(e){this.privProperties.setProperty(dt.SpeechServiceConnection_RecoLanguage,e)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(dt.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(e){this.privProperties.setProperty(dt.SpeechServiceConnection_AutoDetectSourceLanguages,e)}get outputFormat(){return ds[this.privProperties.getProperty(KS,void 0)]}set outputFormat(e){this.privProperties.setProperty(KS,ds[e])}get endpointId(){return this.privProperties.getProperty(dt.SpeechServiceConnection_EndpointId)}set endpointId(e){this.privProperties.setProperty(dt.SpeechServiceConnection_EndpointId,e)}setProperty(e,t){Vn.throwIfNull(t,"value"),this.privProperties.setProperty(e,t)}getProperty(e,t){return this.privProperties.getProperty(e,t)}setProxy(e,t,i,r){this.setProperty(dt[dt.SpeechServiceConnection_ProxyHostName],e),this.setProperty(dt[dt.SpeechServiceConnection_ProxyPort],t),this.setProperty(dt[dt.SpeechServiceConnection_ProxyUserName],i),this.setProperty(dt[dt.SpeechServiceConnection_ProxyPassword],r)}setServiceProperty(e,t){const i=JSON.parse(this.privProperties.getProperty(kB,"{}"));i[e]=t,this.privProperties.setProperty(kB,JSON.stringify(i))}setProfanity(e){this.privProperties.setProperty(dt.SpeechServiceResponse_ProfanityOption,IB[e])}enableAudioLogging(){this.privProperties.setProperty(dt.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(dt.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privProperties.setProperty(Bz,"true")}clone(){const e=new Ug;return e.privProperties=this.privProperties.clone(),e}get speechSynthesisLanguage(){return this.privProperties.getProperty(dt.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(e){this.privProperties.setProperty(dt.SpeechServiceConnection_SynthLanguage,e)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(dt.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(e){this.privProperties.setProperty(dt.SpeechServiceConnection_SynthVoice,e)}get speechSynthesisOutputFormat(){return En[this.privProperties.getProperty(dt.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(e){this.privProperties.setProperty(dt.SpeechServiceConnection_SynthOutputFormat,En[e])}}class zp{constructor(){this.privKeys=[],this.privValues=[]}getProperty(e,t){let i;typeof e=="string"?i=e:i=dt[e];for(let r=0;r<this.privKeys.length;r++)if(this.privKeys[r]===i)return this.privValues[r];if(t!==void 0)return String(t)}setProperty(e,t){let i;typeof e=="string"?i=e:i=dt[e];for(let r=0;r<this.privKeys.length;r++)if(this.privKeys[r]===i){this.privValues[r]=t;return}this.privKeys.push(i),this.privValues.push(t)}clone(){const e=new zp;for(let t=0;t<this.privKeys.length;t++)e.privKeys.push(this.privKeys[t]),e.privValues.push(this.privValues[t]);return e}mergeTo(e){this.privKeys.forEach(t=>{if(e.getProperty(t,void 0)===void 0){const i=this.getProperty(t);e.setProperty(t,i)}})}get keys(){return this.privKeys}}var dt;(function(n){n[n.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",n[n.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",n[n.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",n[n.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",n[n.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",n[n.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",n[n.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",n[n.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",n[n.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",n[n.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",n[n.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",n[n.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",n[n.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",n[n.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",n[n.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",n[n.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",n[n.Speech_SessionId=16]="Speech_SessionId",n[n.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",n[n.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",n[n.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",n[n.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",n[n.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",n[n.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",n[n.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",n[n.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",n[n.CancellationDetails_Reason=25]="CancellationDetails_Reason",n[n.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",n[n.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",n[n.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",n[n.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",n[n.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",n[n.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",n[n.Speech_SegmentationSilenceTimeoutMs=32]="Speech_SegmentationSilenceTimeoutMs",n[n.SpeechServiceConnection_EnableAudioLogging=33]="SpeechServiceConnection_EnableAudioLogging",n[n.SpeechServiceConnection_LanguageIdMode=34]="SpeechServiceConnection_LanguageIdMode",n[n.SpeechServiceConnection_RecognitionEndpointVersion=35]="SpeechServiceConnection_RecognitionEndpointVersion",n[n.SpeechServiceConnection_SpeakerIdMode=36]="SpeechServiceConnection_SpeakerIdMode",n[n.SpeechServiceResponse_ProfanityOption=37]="SpeechServiceResponse_ProfanityOption",n[n.SpeechServiceResponse_PostProcessingOption=38]="SpeechServiceResponse_PostProcessingOption",n[n.SpeechServiceResponse_RequestWordLevelTimestamps=39]="SpeechServiceResponse_RequestWordLevelTimestamps",n[n.SpeechServiceResponse_StablePartialResultThreshold=40]="SpeechServiceResponse_StablePartialResultThreshold",n[n.SpeechServiceResponse_OutputFormatOption=41]="SpeechServiceResponse_OutputFormatOption",n[n.SpeechServiceResponse_TranslationRequestStablePartialResult=42]="SpeechServiceResponse_TranslationRequestStablePartialResult",n[n.SpeechServiceResponse_RequestWordBoundary=43]="SpeechServiceResponse_RequestWordBoundary",n[n.SpeechServiceResponse_RequestPunctuationBoundary=44]="SpeechServiceResponse_RequestPunctuationBoundary",n[n.SpeechServiceResponse_RequestSentenceBoundary=45]="SpeechServiceResponse_RequestSentenceBoundary",n[n.Conversation_ApplicationId=46]="Conversation_ApplicationId",n[n.Conversation_DialogType=47]="Conversation_DialogType",n[n.Conversation_Initial_Silence_Timeout=48]="Conversation_Initial_Silence_Timeout",n[n.Conversation_From_Id=49]="Conversation_From_Id",n[n.Conversation_Conversation_Id=50]="Conversation_Conversation_Id",n[n.Conversation_Custom_Voice_Deployment_Ids=51]="Conversation_Custom_Voice_Deployment_Ids",n[n.Conversation_Speech_Activity_Template=52]="Conversation_Speech_Activity_Template",n[n.Conversation_Request_Bot_Status_Messages=53]="Conversation_Request_Bot_Status_Messages",n[n.Conversation_Agent_Connection_Id=54]="Conversation_Agent_Connection_Id",n[n.SpeechServiceConnection_Host=55]="SpeechServiceConnection_Host",n[n.ConversationTranslator_Host=56]="ConversationTranslator_Host",n[n.ConversationTranslator_Name=57]="ConversationTranslator_Name",n[n.ConversationTranslator_CorrelationId=58]="ConversationTranslator_CorrelationId",n[n.ConversationTranslator_Token=59]="ConversationTranslator_Token",n[n.PronunciationAssessment_ReferenceText=60]="PronunciationAssessment_ReferenceText",n[n.PronunciationAssessment_GradingSystem=61]="PronunciationAssessment_GradingSystem",n[n.PronunciationAssessment_Granularity=62]="PronunciationAssessment_Granularity",n[n.PronunciationAssessment_EnableMiscue=63]="PronunciationAssessment_EnableMiscue",n[n.PronunciationAssessment_Json=64]="PronunciationAssessment_Json",n[n.PronunciationAssessment_Params=65]="PronunciationAssessment_Params",n[n.SpeakerRecognition_Api_Version=66]="SpeakerRecognition_Api_Version"})(dt||(dt={}));var ay=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class wI{constructor(e,t,i){this.audioConfig=e!==void 0?e:qv.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=t.clone(),this.privConnectionFactory=i,this.implCommonRecognizerSetup()}close(e,t){Vn.throwIfDisposed(this.privDisposed),ky(this.dispose(!0),e,t)}get internalData(){return this.privReco}dispose(e){return ay(this,void 0,void 0,function*(){this.privDisposed||(this.privDisposed=!0,e&&this.privReco&&(yield this.privReco.audioSource.turnOff(),yield this.privReco.dispose()))})}static get telemetryEnabled(){return Vc.telemetryDataEnabled}static enableTelemetry(e){Vc.telemetryDataEnabled=e}implCommonRecognizerSetup(){let e=typeof window<"u"?"Browser":"Node",t="unknown",i="unknown";typeof navigator<"u"&&(e=e+"/"+navigator.platform,t=navigator.userAgent,i=navigator.appVersion);const r=this.createRecognizerConfig(new bz(new Az(new Jre(e,t,i))));this.privReco=this.createServiceRecognizer(wI.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,r)}recognizeOnceAsyncImpl(e){return ay(this,void 0,void 0,function*(){Vn.throwIfDisposed(this.privDisposed);const t=new ao;yield this.implRecognizerStop(),yield this.privReco.recognize(e,t.resolve,t.reject);const i=yield t.promise;return yield this.implRecognizerStop(),i})}startContinuousRecognitionAsyncImpl(e){return ay(this,void 0,void 0,function*(){Vn.throwIfDisposed(this.privDisposed),yield this.implRecognizerStop(),yield this.privReco.recognize(e,void 0,void 0)})}stopContinuousRecognitionAsyncImpl(){return ay(this,void 0,void 0,function*(){Vn.throwIfDisposed(this.privDisposed),yield this.implRecognizerStop()})}implRecognizerStop(){return ay(this,void 0,void 0,function*(){this.privReco&&(yield this.privReco.stopRecognizing())})}static getAuthFromProperties(e){const t=e.getProperty(dt.SpeechServiceConnection_Key,void 0);return t&&t!==""?new Tre(t):new VS(()=>{const r=e.getProperty(dt.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(r)},()=>{const r=e.getProperty(dt.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(r)})}}var Nre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class CI extends wI{constructor(e,t){const i=e;Vn.throwIfNull(i,"speechConfig"),Vn.throwIfNullOrWhitespace(i.properties.getProperty(dt.SpeechServiceConnection_RecoLanguage),dt[dt.SpeechServiceConnection_RecoLanguage]),super(t,i.properties,new jre),this.privDisposedRecognizer=!1}static FromConfig(e,t,i){const r=e;return t.properties.mergeTo(r.properties),new CI(e,i)}get endpointId(){return Vn.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(dt.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(dt.SpeechServiceAuthorization_Token)}set authorizationToken(e){Vn.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(dt.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return Vn.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(dt.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return Vn.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(KS,ds[ds.Simple])===ds[ds.Simple]?ds.Simple:ds.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(e,t){ky(this.recognizeOnceAsyncImpl(lu.Interactive),e,t)}startContinuousRecognitionAsync(e,t){ky(this.startContinuousRecognitionAsyncImpl(lu.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){ky(this.stopContinuousRecognitionAsyncImpl(),e,t)}startKeywordRecognitionAsync(e,t,i){Vn.throwIfNull(e,"model"),i&&i("Not yet implemented.")}stopKeywordRecognitionAsync(e){e&&e()}close(e,t){Vn.throwIfDisposed(this.privDisposedRecognizer),ky(this.dispose(!0),e,t)}dispose(e){const t=Object.create(null,{dispose:{get:()=>super.dispose}});return Nre(this,void 0,void 0,function*(){this.privDisposedRecognizer||(e&&(this.privDisposedRecognizer=!0,yield this.implRecognizerStop()),yield t.dispose.call(this,e))})}createRecognizerConfig(e){return new Kre(e,this.privProperties)}createServiceRecognizer(e,t,i,r){const o=i;return new Qre(e,t,o,r,this)}}var sr;(function(n){n[n.NoError=0]="NoError",n[n.AuthenticationFailure=1]="AuthenticationFailure",n[n.BadRequestParameters=2]="BadRequestParameters",n[n.TooManyRequests=3]="TooManyRequests",n[n.ConnectionFailure=4]="ConnectionFailure",n[n.ServiceTimeout=5]="ServiceTimeout",n[n.ServiceError=6]="ServiceError",n[n.RuntimeError=7]="RuntimeError",n[n.Forbidden=8]="Forbidden"})(sr||(sr={}));class Un{}Un.BotId="botid";Un.CustomSpeechDeploymentId="cid";Un.CustomVoiceDeploymentId="deploymentId";Un.EnableAudioLogging="storeAudio";Un.EnableLanguageId="lidEnabled";Un.EnableWordLevelTimestamps="wordLevelTimestamps";Un.EndSilenceTimeoutMs="endSilenceTimeoutMs";Un.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs";Un.Format="format";Un.InitialSilenceTimeoutMs="initialSilenceTimeoutMs";Un.Language="language";Un.Profanity="profanity";Un.RequestBotStatusMessages="enableBotMessageStatus";Un.StableIntermediateThreshold="stableIntermediateThreshold";Un.StableTranslation="stableTranslation";Un.TestHooks="testhooks";Un.Postprocessing="postprocessing";Un.CtsMeetingId="meetingId";Un.CtsDeviceId="deviceId";Un.CtsIsParticipant="isParticipant";class EP{static getHostSuffix(e){if(e){if(e.toLowerCase().startsWith("china"))return".azure.cn";if(e.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(e,t,i){new Map([[dt.Speech_SegmentationSilenceTimeoutMs,Un.SegmentationSilenceTimeoutMs],[dt.SpeechServiceConnection_EnableAudioLogging,Un.EnableAudioLogging],[dt.SpeechServiceConnection_EndSilenceTimeoutMs,Un.EndSilenceTimeoutMs],[dt.SpeechServiceConnection_InitialSilenceTimeoutMs,Un.InitialSilenceTimeoutMs],[dt.SpeechServiceResponse_PostProcessingOption,Un.Postprocessing],[dt.SpeechServiceResponse_ProfanityOption,Un.Profanity],[dt.SpeechServiceResponse_RequestWordLevelTimestamps,Un.EnableWordLevelTimestamps],[dt.SpeechServiceResponse_StablePartialResultThreshold,Un.StableIntermediateThreshold]]).forEach((s,a)=>{this.setUrlParameter(a,s,e,t,i)});const o=JSON.parse(e.parameters.getProperty(kB,"{}"));Object.keys(o).forEach(s=>{t[s]=o[s]})}setUrlParameter(e,t,i,r,o){const s=i.parameters.getProperty(e,void 0);s&&(!o||o.search(t)===-1)&&(r[t]=s.toLocaleLowerCase())}}var IB;(function(n){n[n.Masked=0]="Masked",n[n.Removed=1]="Removed",n[n.Raw=2]="Raw"})(IB||(IB={}));var lE;(function(n){n[n.AtStart=0]="AtStart",n[n.Continuous=1]="Continuous"})(lE||(lE={}));class nS{constructor(){this.privProperties=new zp,this.privProperties.setProperty(dt.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=lE.AtStart}static fromOpenRange(){const e=new nS;return e.properties.setProperty(dt.SpeechServiceConnection_AutoDetectSourceLanguages,soe),e}static fromLanguages(e){Vn.throwIfArrayEmptyOrWhitespace(e,"languages");const t=new nS;return t.properties.setProperty(dt.SpeechServiceConnection_AutoDetectSourceLanguages,e.join()),t}static fromSourceLanguageConfigs(e){if(e.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");const t=new nS,i=[];return e.forEach(r=>{if(i.push(r.language),r.endpointId!==void 0&&r.endpointId!==""){const o=r.language+dt.SpeechServiceConnection_EndpointId.toString();t.properties.setProperty(o,r.endpointId)}}),t.properties.setProperty(dt.SpeechServiceConnection_AutoDetectSourceLanguages,i.join()),t}get properties(){return this.privProperties}set mode(e){e===lE.Continuous?(this.privProperties.setProperty(dt.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(dt.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(dt.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(dt.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=e}}class EI{constructor(e,t){Vn.throwIfNullOrUndefined(e,"language"),Vn.throwIfNullOrUndefined(t,"languageDetectionConfidence"),this.privLanguage=e,this.privLanguageDetectionConfidence=t}static fromResult(e){return new EI(e.language,e.languageDetectionConfidence)}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}}class Ore{constructor(e,t,i,r){this.privResultId=e,this.privReason=t,this.privErrorDetails=i,this.privProperties=r}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}}class Bx extends Ore{constructor(e,t,i,r,o,s){super(e,t,r,o),this.privAudioData=i,this.privAudioDuration=s}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}}class Rx{constructor(e){this.privResult=e}get result(){return this.privResult}}class zre{constructor(e,t,i,r,o,s){this.privAudioOffset=e,this.privDuration=t,this.privText=i,this.privWordLength=r,this.privTextOffset=o,this.privBoundaryType=s}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}}class Ure{constructor(e,t){this.privAudioOffset=e,this.privText=t}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}}class Hre{constructor(e,t,i){this.privAudioOffset=e,this.privVisemeId=t,this.privAnimation=i}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}}var L3=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const Gre=60*30,bP={[Jt.PCM]:"audio/wav",[Jt.MuLaw]:"audio/x-wav",[Jt.MP3]:"audio/mpeg",[Jt.OGG_OPUS]:"audio/ogg",[Jt.WEBM_OPUS]:"audio/webm; codecs=opus",[Jt.ALaw]:"audio/x-wav",[Jt.FLAC]:"audio/flac"};class AP{constructor(e){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=e||xr(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(e,t,i){this.privAudioBuffer!==void 0?(this.privAudioBuffer.push(e),this.updateSourceBuffer().then(()=>{t&&t()},r=>{i&&i(r)})):this.privAudioOutputStream!==void 0&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength)}close(e,t){if(this.privIsClosed=!0,this.privSourceBuffer!==void 0)this.handleSourceBufferUpdateEnd().then(()=>{e&&e()},i=>{t&&t(i)});else if(this.privAudioOutputStream!==void 0&&typeof window<"u")if((this.privFormat.formatTag===Jt.PCM||this.privFormat.formatTag===Jt.MuLaw||this.privFormat.formatTag===Jt.ALaw)&&this.privFormat.hasHeader===!1)console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else{let i=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(i).then(()=>{i=I1.addHeader(i,this.privFormat);const r=new Blob([i],{type:bP[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(r),this.notifyPlayback().then(()=>{e&&e()},o=>{t&&t(o)})},r=>{t&&t(r)})}else this.onAudioEnd&&this.onAudioEnd(this)}set format(e){if(typeof AudioContext<"u"||typeof window<"u"&&typeof window.webkitAudioContext<"u"){this.privFormat=e;const t=bP[this.privFormat.formatTag];t===void 0?console.warn(`Unknown mimeType for format ${Jt[this.privFormat.formatTag]}; playback is not supported.`):typeof MediaSource<"u"&&MediaSource.isTypeSupported(t)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=Gre,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(t),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch(i=>{$o.instance.onEvent(new tS(i))})},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch(i=>{$o.instance.onEvent(new tS(i))})},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch(i=>{$o.instance.onEvent(new tS(i))})):(console.warn(`Format ${Jt[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new xI,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){var e,t;return(t=(e=this.privAudio)===null||e===void 0?void 0:e.volume)!==null&&t!==void 0?t:-1}set volume(e){this.privAudio&&(this.privAudio.volume=e)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return this.privAudio!==void 0?this.privAudio.currentTime:-1}pause(){!this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.pause(),this.privIsPaused=!0)}resume(e,t){this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.play().then(()=>{e&&e()},i=>{t&&t(i)}),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}updateSourceBuffer(){return L3(this,void 0,void 0,function*(){if(this.privAudioBuffer!==void 0&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const e=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(e)}catch{this.privAudioBuffer.unshift(e),console.log("buffer filled, pausing addition of binaries until space is made");return}yield this.notifyPlayback()}else this.canEndStream()&&(yield this.handleSourceBufferUpdateEnd())})}handleSourceBufferUpdateEnd(){return L3(this,void 0,void 0,function*(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),yield this.notifyPlayback())})}notifyPlayback(){return L3(this,void 0,void 0,function*(){!this.privPlaybackStarted&&this.privAudio!==void 0&&(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||(yield this.privAudio.play()))})}canEndStream(){return this.isClosed&&this.privSourceBuffer!==void 0&&this.privAudioBuffer.length===0&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&this.privMediaSource.readyState==="open"}sourceBufferAvailable(){return this.privSourceBuffer!==void 0&&!this.privSourceBuffer.updating}}class ab extends Jv{constructor(e,t,i,r=wl.Info){super(e,r),this.privRequestId=t,this.privSessionId=i}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}class Cz extends ab{constructor(e,t,i,r){super("RecognitionTriggeredEvent",e,t),this.privAudioSourceId=i,this.privAudioNodeId=r}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}class Wre extends ab{constructor(e,t,i,r){super("ListeningStartedEvent",e,t),this.privAudioSourceId=i,this.privAudioNodeId=r}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}class Ez extends ab{constructor(e,t,i){super("ConnectingToServiceEvent",e,i),this.privAuthFetchEventid=t}get authFetchEventid(){return this.privAuthFetchEventid}}class Vre extends ab{constructor(e,t,i,r,o){super("RecognitionStartedEvent",e,o),this.privAudioSourceId=t,this.privAudioNodeId=i,this.privAuthFetchEventId=r}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}var MP;(function(n){n[n.Success=0]="Success",n[n.AudioSourceError=1]="AudioSourceError",n[n.AudioSourceTimeout=2]="AudioSourceTimeout",n[n.AuthTokenFetchError=3]="AuthTokenFetchError",n[n.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",n[n.UnAuthorized=5]="UnAuthorized",n[n.ConnectTimeout=6]="ConnectTimeout",n[n.ConnectError=7]="ConnectError",n[n.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",n[n.UnknownError=9]="UnknownError"})(MP||(MP={}));class ls extends MB{constructor(e,t,i,r,o,s,a,l){if(!t)throw new uo("path");if(!i)throw new uo("requestId");const u={};if(u[Li.Path]=t,u[Li.RequestId]=i,u[Li.RequestTimestamp]=new Date().toISOString(),r&&(u[Li.ContentType]=r),s&&(u[Li.RequestStreamId]=s),a)for(const c in a)c&&(u[c]=a[c]);l?super(e,o,u,l):super(e,o,u),this.privPath=t,this.privRequestId=i,this.privContentType=r,this.privStreamId=s,this.privAdditionalHeaders=a}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(e){let t=null,i=null,r=null,o=null;const s={};if(e.headers)for(const a in e.headers)a&&(a.toLowerCase()===Li.Path.toLowerCase()?t=e.headers[a]:a.toLowerCase()===Li.RequestId.toLowerCase()?i=e.headers[a]:a.toLowerCase()===Li.ContentType.toLowerCase()?r=e.headers[a]:a.toLowerCase()===Li.RequestStreamId.toLowerCase()?o=e.headers[a]:s[a]=e.headers[a]);return new ls(e.messageType,t,i,r,e.body,o,s,e.id)}}var io=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Vc{constructor(e,t,i,r,o){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!e)throw new uo("authentication");if(!t)throw new uo("connectionFactory");if(!i)throw new uo("audioSource");if(!r)throw new uo("recognizerConfig");this.privMustReportEndOfStream=!1,this.privAuthentication=e,this.privConnectionFactory=t,this.privAudioSource=i,this.privRecognizerConfig=r,this.privIsDisposed=!1,this.privRecognizer=o,this.privRequestSession=new Zre(this.privAudioSource.id()),this.privConnectionEvents=new tc,this.privServiceEvents=new tc,this.privDynamicGrammar=new toe,this.privSpeechContext=new eoe(this.privDynamicGrammar),this.privAgentConfig=new Mz,typeof Blob<"u"&&typeof Worker<"u"&&(this.privSetTimeout=Ho.setTimeout),this.connectionEvents.attach(l=>{if(l.name==="ConnectionClosedEvent"){const u=l;(u.statusCode===1003||u.statusCode===1007||u.statusCode===1002||u.statusCode===4e3||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(ul.Error,u.statusCode===1007?sr.BadRequestParameters:sr.ConnectionFailure,`${u.reason} websocket error code: ${u.statusCode}`)}});const s={};if(r.autoDetectSourceLanguages!==void 0){const l=r.autoDetectSourceLanguages.split(",");let u;r.languageIdMode==="Continuous"?u="DetectContinuous":u="DetectAtAudioStart",this.privSpeechContext.setSection("languageId",{Priority:"PrioritizeLatency",languages:l,mode:u,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});const c=r.sourceLanguageModels;c!==void 0&&(s.customModels=c,s.onInterim={action:"None"},s.onSuccess={action:"None"})}(l=>{for(const u in l)return!1;return!0})(s)||this.privSpeechContext.setSection("phraseDetection",s)}setSpeechSegmentationTimeout(){const e=this.privRecognizerConfig.parameters.getProperty(dt.Speech_SegmentationSilenceTimeoutMs,void 0);if(e!==void 0){const t=this.recognitionMode===lu.Conversation?"CONVERSATION":this.recognitionMode===lu.Dictation?"DICTATION":"INTERACTIVE",i=parseInt(e,10),r=this.privSpeechContext.getSection("phraseDetection");r.mode=t,r[t]={segmentation:{mode:"Custom",segmentationSilenceTimeoutMs:i}},this.privSpeechContext.setSection("phraseDetection",r)}}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(e){this.privRecognizerConfig.parameters.setProperty(dt.ConversationTranslator_Token,e)}set voiceProfileType(e){this.privRecognizerConfig.parameters.setProperty(dt.SpeechServiceConnection_SpeakerIdMode,e)}set authentication(e){this.privAuthentication=this.authentication}isDisposed(){return this.privIsDisposed}dispose(e){return io(this,void 0,void 0,function*(){if(this.privIsDisposed=!0,this.privConnectionConfigurationPromise!==void 0)try{yield(yield this.privConnectionConfigurationPromise).dispose(e)}catch{return}})}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}recognize(e,t,i){return io(this,void 0,void 0,function*(){if(this.recognizeOverride!==void 0){yield this.recognizeOverride(e,t,i);return}this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=e,this.setSpeechSegmentationTimeout(),this.privSuccessCallback=t,this.privErrorCallback=i,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const r=this.connectImpl();let o;try{const l=yield this.audioSource.attach(this.privRequestSession.audioNodeId),u=yield this.audioSource.format,c=yield this.audioSource.deviceInfo;this.privIsLiveAudio=c.type&&c.type===Up.Microphones,o=new doe(l,u.avgBytesPerSec),yield this.privRequestSession.onAudioSourceAttachCompleted(o,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:c}}catch(l){throw yield this.privRequestSession.onStopRecognizing(),l}try{yield r}catch(l){yield this.cancelRecognitionLocal(ul.Error,sr.ConnectionFailure,l);return}const s=new RB(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,s),this.receiveMessage(),this.sendAudio(o).catch(l=>io(this,void 0,void 0,function*(){yield this.cancelRecognitionLocal(ul.Error,sr.RuntimeError,l)}))})}stopRecognizing(){return io(this,void 0,void 0,function*(){if(this.privRequestSession.isRecognizing)try{yield this.audioSource.turnOff(),yield this.sendFinalAudio(),yield this.privRequestSession.onStopRecognizing(),yield this.privRequestSession.turnCompletionPromise}finally{yield this.privRequestSession.dispose()}})}connect(){return io(this,void 0,void 0,function*(){return yield this.connectImpl(),Promise.resolve()})}connectAsync(e,t){this.connectImpl().then(()=>{try{e&&e()}catch(i){t&&t(i)}},i=>{try{t&&t(i)}catch{}})}disconnect(){return io(this,void 0,void 0,function*(){if(yield this.cancelRecognitionLocal(ul.Error,sr.NoError,"Disconnecting"),this.disconnectOverride!==void 0&&(yield this.disconnectOverride()),this.privConnectionPromise!==void 0)try{yield(yield this.privConnectionPromise).dispose()}catch{}this.privConnectionPromise=void 0})}sendMessage(e){}sendNetworkMessage(e,t){return io(this,void 0,void 0,function*(){const i=typeof t=="string"?Jn.Text:Jn.Binary,r=typeof t=="string"?"application/json":"";return(yield this.fetchConnection()).send(new ls(i,e,this.privRequestSession.requestId,r,t))})}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}sendTelemetryData(){return io(this,void 0,void 0,function*(){const e=this.privRequestSession.getTelemetry();if(Vc.telemetryDataEnabled!==!0||this.privIsDisposed||e===null)return;if(Vc.telemetryData)try{Vc.telemetryData(e)}catch{}yield(yield this.fetchConnection()).send(new ls(Jn.Text,"telemetry",this.privRequestSession.requestId,"application/json",e))})}cancelRecognitionLocal(e,t,i){return io(this,void 0,void 0,function*(){this.privRequestSession.isRecognizing&&(yield this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,e,t,i))})}receiveMessage(){return io(this,void 0,void 0,function*(){try{if(this.privIsDisposed)return;let e=yield this.fetchConnection();const t=yield e.read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(!t)return this.privRequestSession.isRecognizing?this.receiveMessage():void 0;this.privServiceHasSentMessage=!0;const i=ls.fromConnectionMessage(t);if(i.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(i.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const r=uE.fromJSON(i.textBody),o=new aE(r.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,o);break;case"speech.enddetected":let s;i.textBody.length>0?s=i.textBody:s="{ Offset: 0 }";const a=uE.fromJSON(s),l=new aE(a.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,l);break;case"turn.end":yield this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,yield this.cancelRecognitionLocal(ul.EndOfStream,sr.NoError,void 0));const u=new RB(this.privRequestSession.sessionId);if(yield this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing){this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,u);return}else e=yield this.fetchConnection(),yield this.sendPrePayloadJSON(e);break;default:(yield this.processTypeSpecificMessages(i))||this.privServiceEvents&&this.serviceEvents.onEvent(new fz(i.path.toLowerCase(),i.textBody))}return this.receiveMessage()}catch{return null}})}sendSpeechContext(e,t){const i=this.speechContext.toJSON();if(t&&this.privRequestSession.onSpeechContext(),i)return e.send(new ls(Jn.Text,"speech.context",this.privRequestSession.requestId,"application/json",i))}noOp(){}sendPrePayloadJSON(e,t=!0){return io(this,void 0,void 0,function*(){if(this.sendPrePayloadJSONOverride!==void 0)return this.sendPrePayloadJSONOverride(e);yield this.sendSpeechContext(e,t),yield this.sendWaveHeader(e)})}sendWaveHeader(e){return io(this,void 0,void 0,function*(){const t=yield this.audioSource.format;return e.send(new ls(Jn.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",t.header))})}connectImpl(){return this.privConnectionPromise!==void 0?this.privConnectionPromise.then(e=>e.state()===Hr.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl())):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch(()=>{}),this.postConnectImplOverride!==void 0?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(e,t,i){if(t.onSpeechContext(),Vc.telemetryDataEnabled!==!0){const o={context:{system:JSON.parse(i).context.system}};i=JSON.stringify(o)}if(this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()==="true"){const r=JSON.parse(i);r.context.DisableReferenceChannel="True",r.context.MicSpec="1_0_0",i=JSON.stringify(r)}if(i)return e.send(new ls(Jn.Text,"speech.config",t.requestId,"application/json",i))}fetchConnection(){return io(this,void 0,void 0,function*(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(e=>e.state()===Hr.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),yield this.privConnectionConfigurationPromise)})}sendAudio(e){return io(this,void 0,void 0,function*(){const t=yield this.audioSource.format;let i=Date.now();const r=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),o=t.avgBytesPerSec/1e3*parseInt(r,10),s=this.privRequestSession.recogNumber,a=()=>io(this,void 0,void 0,function*(){if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===s){const l=yield this.fetchConnection(),u=yield e.read();if(this.privRequestSession.isSpeechEnded)return;let c,d;if(!u||u.isEnd?(c=null,d=0):(c=u.buffer,this.privRequestSession.onAudioSent(c.byteLength),o>=this.privRequestSession.bytesSent?d=0:d=Math.max(0,i-Date.now())),d!==0&&(yield this.delay(d)),c!==null&&(i=Date.now()+c.byteLength*1e3/(t.avgBytesPerSec*2)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===s)if(l.send(new ls(Jn.Binary,"audio",this.privRequestSession.requestId,null,c)).catch(()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch(()=>{})}),u!=null&&u.isEnd)this.privIsLiveAudio||this.privRequestSession.onSpeechEnded();else return a()}});return a()})}retryableConnect(){return io(this,void 0,void 0,function*(){let e=!1;this.privAuthFetchEventId=xr();const t=this.privRequestSession.sessionId;this.privConnectionId=t!==void 0?t:xr(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let i=0,r="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){const s=yield e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);yield this.privRequestSession.onAuthCompleted(!1);const a=this.privConnectionFactory.create(this.privRecognizerConfig,s,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(a.events),a.events.attach(u=>{this.connectionEvents.onEvent(u)});const l=yield a.open();if(l.statusCode===200)return yield this.privRequestSession.onConnectionEstablishCompleted(l.statusCode),Promise.resolve(a);l.statusCode===1006&&(e=!0),i=l.statusCode,r=l.reason,this.privRequestSession.onRetryConnection()}return yield this.privRequestSession.onConnectionEstablishCompleted(i,r),Promise.reject(`Unable to contact server. StatusCode: ${i}, ${this.privRecognizerConfig.parameters.getProperty(dt.SpeechServiceConnection_Endpoint)} Reason: ${r}`)})}delay(e){return new Promise(t=>this.privSetTimeout(t,e))}writeBufferToConsole(e){let t="Buffer Size: ";if(e===null)t+="null";else{const i=new Uint8Array(e);t+=`${e.byteLength}\r
`;for(let r=0;r<e.byteLength;r++)t+=i[r].toString(16).padStart(2,"0")+" ",(r+1)%16===0&&(console.info(t),t="")}console.info(t)}sendFinalAudio(){return io(this,void 0,void 0,function*(){yield(yield this.fetchConnection()).send(new ls(Jn.Binary,"audio",this.privRequestSession.requestId,null,null))})}configureConnection(){return io(this,void 0,void 0,function*(){const e=yield this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(e):(yield this.sendSpeechServiceConfig(e,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),yield this.sendPrePayloadJSON(e,!1),e)})}}Vc.telemetryDataEnabled=!0;var lu;(function(n){n[n.Interactive=0]="Interactive",n[n.Conversation=1]="Conversation",n[n.Dictation=2]="Dictation"})(lu||(lu={}));var TP;(function(n){n[n.Simple=0]="Simple",n[n.Detailed=1]="Detailed"})(TP||(TP={}));class Kre{constructor(e,t){this.privSpeechServiceConfig=e||new bz(new Az(null)),this.privParameters=t,this.privMaxRetryCount=parseInt(t.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=t.getProperty(dt.SpeechServiceConnection_LanguageIdMode,void 0)}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(e){this.privRecognitionMode=e,this.privRecognitionActivityTimeout=e===lu.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=lu[e]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==lu.Interactive}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(dt.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(dt.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}get sourceLanguageModels(){const e=[];let t=!1;if(this.autoDetectSourceLanguages!==void 0)for(const i of this.autoDetectSourceLanguages.split(",")){const r=i+dt.SpeechServiceConnection_EndpointId.toString(),o=this.parameters.getProperty(r,void 0);o!==void 0?(e.push({language:i,endpoint:o}),t=!0):e.push({language:i,endpoint:""})}return t?e:void 0}get maxRetryCount(){return this.privMaxRetryCount}}class bz{constructor(e){this.context=e}serialize(){return JSON.stringify(this,(e,t)=>{if(t&&typeof t=="object"){const i={};for(const r in t)Object.hasOwnProperty.call(t,r)&&(i[r&&r.charAt(0).toLowerCase()+r.substring(1)]=t[r]);return i}return t})}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(e){this.recognition=e.toLowerCase()}}class Az{constructor(e){this.system=new $re,this.os=e}}class $re{constructor(){const e="1.30.1";this.name="SpeechSDK",this.version=e,this.build="JavaScript",this.lang="JavaScript"}}class Jre{constructor(e,t,i){this.platform=e,this.name=t,this.version=i}}var xv;(function(n){n.Bluetooth="Bluetooth",n.Wired="Wired",n.WiFi="WiFi",n.Cellular="Cellular",n.InBuilt="InBuilt",n.Unknown="Unknown"})(xv||(xv={}));var Up;(function(n){n.Phone="Phone",n.Speaker="Speaker",n.Car="Car",n.Headset="Headset",n.Thermostat="Thermostat",n.Microphones="Microphones",n.Deskphone="Deskphone",n.RemoteControl="RemoteControl",n.Unknown="Unknown",n.File="File",n.Stream="Stream"})(Up||(Up={}));const BP=`\r
`;class qre{toConnectionMessage(e){const t=new ao;try{if(e.messageType===Jn.Text){const i=e.textContent;let r={},o=null;if(i){const s=i.split(`\r
\r
`);s&&s.length>0&&(r=this.parseHeaders(s[0]),s.length>1&&(o=s[1]))}t.resolve(new MB(e.messageType,o,r,e.id))}else if(e.messageType===Jn.Binary){const i=e.binaryContent;let r={},o=null;if(!i||i.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const s=new DataView(i),a=s.getInt16(0);if(i.byteLength<a+2)throw new Error("Invalid binary message format. Header content missing.");let l="";for(let u=0;u<a;u++)l+=String.fromCharCode(s.getInt8(u+2));r=this.parseHeaders(l),i.byteLength>a+2&&(o=i.slice(2+a)),t.resolve(new MB(e.messageType,o,r,e.id))}}catch(i){t.reject(`Error formatting the message. Error: ${i}`)}return t.promise}fromConnectionMessage(e){const t=new ao;try{if(e.messageType===Jn.Text){const i=`${this.makeHeaders(e)}${BP}${e.textBody?e.textBody:""}`;t.resolve(new sE(Jn.Text,i,e.id))}else if(e.messageType===Jn.Binary){const i=this.makeHeaders(e),r=e.binaryBody,o=this.stringToArrayBuffer(i),s=new Int8Array(o),a=s.byteLength,l=new Int8Array(2+a+(r?r.byteLength:0));if(l[0]=a>>8&255,l[1]=a&255,l.set(s,2),r){const c=new Int8Array(r);l.set(c,2+a)}const u=l.buffer;t.resolve(new sE(Jn.Binary,u,e.id))}}catch(i){t.reject(`Error formatting the message. ${i}`)}return t.promise}makeHeaders(e){let t="";if(e.headers)for(const i in e.headers)i&&(t+=`${i}: ${e.headers[i]}${BP}`);return t}parseHeaders(e){const t={};if(e){const i=e.match(/[^\r\n]+/g);if(t){for(const r of i)if(r){const o=r.indexOf(":"),s=o>0?r.substr(0,o).trim().toLowerCase():r,a=o>0&&r.length>o+1?r.substr(o+1).trim():"";t[s]=a}}}return t}stringToArrayBuffer(e){const t=new ArrayBuffer(e.length),i=new DataView(t);for(let r=0;r<e.length;r++)i.setUint8(r,e.charCodeAt(r));return t}}class jre extends EP{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/speech/universal/v"}create(e,t,i){let r=e.parameters.getProperty(dt.SpeechServiceConnection_Endpoint,void 0);const o=e.parameters.getProperty(dt.SpeechServiceConnection_Region,void 0),s=EP.getHostSuffix(o),a=e.parameters.getProperty(dt.SpeechServiceConnection_Host,"wss://"+o+".stt.speech"+s),l={},u=e.parameters.getProperty(dt.SpeechServiceConnection_EndpointId,void 0),c=e.parameters.getProperty(dt.SpeechServiceConnection_RecoLanguage,void 0);if(u?(!r||r.search(Un.CustomSpeechDeploymentId)===-1)&&(l[Un.CustomSpeechDeploymentId]=u):c&&(!r||r.search(Un.Language)===-1)&&(l[Un.Language]=c),(!r||r.search(Un.Format)===-1)&&(l[Un.Format]=e.parameters.getProperty(KS,ds[ds.Simple]).toLowerCase()),e.autoDetectSourceLanguages!==void 0&&(l[Un.EnableLanguageId]="true"),this.setCommonUrlParams(e,l,r),!r)switch(e.recognitionMode){case lu.Conversation:e.parameters.getProperty(Bz,"false")==="true"?r=a+this.dictationRelativeUri:e.recognitionEndpointVersion!==void 0&&parseInt(e.recognitionEndpointVersion,10)>1?r=`${a}${this.universalUri}${e.recognitionEndpointVersion}`:r=a+this.conversationRelativeUri;break;case lu.Dictation:r=a+this.dictationRelativeUri;break;default:e.recognitionEndpointVersion!==void 0&&parseInt(e.recognitionEndpointVersion,10)>1?r=`${a}${this.universalUri}${e.recognitionEndpointVersion}`:r=a+this.interactiveRelativeUri;break}const d={};t.token!==void 0&&t.token!==""&&(d[t.headerName]=t.token),d[Li.ConnectionId]=i;const m=e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",v=new coe(r,l,d,new qre,RI.fromRecognizerConfig(e),m,i),y=v.uri;return e.parameters.setProperty(dt.SpeechServiceConnection_Url,y),v}}class Ix{static implTranslateRecognitionResult(e){let t=hs.Canceled;switch(e){case Si.Success:t=hs.RecognizedSpeech;break;case Si.NoMatch:case Si.InitialSilenceTimeout:case Si.BabbleTimeout:case Si.EndOfDictation:t=hs.NoMatch;break;case Si.Error:case Si.BadRequest:case Si.Forbidden:default:t=hs.Canceled;break}return t}static implTranslateCancelResult(e){let t=ul.EndOfStream;switch(e){case Si.Success:case Si.EndOfDictation:case Si.NoMatch:t=ul.EndOfStream;break;case Si.InitialSilenceTimeout:case Si.BabbleTimeout:case Si.Error:case Si.BadRequest:case Si.Forbidden:default:t=ul.Error;break}return t}static implTranslateCancelErrorCode(e){let t=sr.NoError;switch(e){case Si.Error:t=sr.ServiceError;break;case Si.TooManyRequests:t=sr.TooManyRequests;break;case Si.BadRequest:t=sr.BadRequestParameters;break;case Si.Forbidden:t=sr.Forbidden;break;default:t=sr.NoError;break}return t}static implTranslateErrorDetails(e){let t="The speech service encountered an internal error and could not continue.";switch(e){case sr.Forbidden:t="The recognizer is using a free subscription that ran out of quota.";break;case sr.BadRequestParameters:t="Invalid parameter or unsupported audio format in the request.";break;case sr.TooManyRequests:t="The number of parallel requests exceeded the number of allowed concurrent transcriptions.";break}return t}}var RP;(function(n){n[n.Success=0]="Success",n[n.SynthesisEnd=1]="SynthesisEnd",n[n.Error=2]="Error"})(RP||(RP={}));var Si;(function(n){n[n.Success=0]="Success",n[n.NoMatch=1]="NoMatch",n[n.InitialSilenceTimeout=2]="InitialSilenceTimeout",n[n.BabbleTimeout=3]="BabbleTimeout",n[n.Error=4]="Error",n[n.EndOfDictation=5]="EndOfDictation",n[n.TooManyRequests=6]="TooManyRequests",n[n.BadRequest=7]="BadRequest",n[n.Forbidden=8]="Forbidden"})(Si||(Si={}));class uE{constructor(e){this.privSpeechStartDetected=JSON.parse(e)}static fromJSON(e){return new uE(e)}get Offset(){return this.privSpeechStartDetected.Offset}}class bI{constructor(e){this.privSpeechHypothesis=JSON.parse(e)}static fromJSON(e){return new bI(e)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}}var Xre=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Qre extends Vc{constructor(e,t,i,r,o){super(e,t,i,r,o),this.privSpeechRecognizer=o}processTypeSpecificMessages(e){return Xre(this,void 0,void 0,function*(){let t;const i=new zp;i.setProperty(dt.SpeechServiceResponse_JsonResult,e.textBody);let r=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const o=bI.fromJSON(e.textBody),s=o.Offset+this.privRequestSession.currentTurnAudioOffset;t=new Tx(this.privRequestSession.requestId,hs.RecognizingSpeech,o.Text,o.Duration,s,o.Language,o.LanguageDetectionConfidence,void 0,void 0,e.textBody,i),this.privRequestSession.onHypothesis(s);const a=new CP(t,o.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,a)}catch{}r=!0;break;case"speech.phrase":const l=MI.fromJSON(e.textBody),u=Ix.implTranslateRecognitionResult(l.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+l.Offset+l.Duration),hs.Canceled===u){const c=Ix.implTranslateCancelResult(l.RecognitionStatus),d=Ix.implTranslateCancelErrorCode(l.RecognitionStatus);yield this.cancelRecognitionLocal(c,d,Ix.implTranslateErrorDetails(d))}else{if(!(this.privRequestSession.isSpeechEnded&&u===hs.NoMatch&&l.RecognitionStatus!==Si.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(KS)===ds[ds.Simple])t=new Tx(this.privRequestSession.requestId,u,l.DisplayText,l.Duration,l.Offset+this.privRequestSession.currentTurnAudioOffset,l.Language,l.LanguageDetectionConfidence,void 0,void 0,e.textBody,i);else{const d=AI.fromJSON(e.textBody),m=d.Offset+this.privRequestSession.currentTurnAudioOffset,v=d.getJsonWithCorrectedOffsets(m);t=new Tx(this.privRequestSession.requestId,u,d.RecognitionStatus===Si.Success?d.NBest[0].Display:void 0,d.Duration,m,d.Language,d.LanguageDetectionConfidence,void 0,void 0,v,i)}const c=new CP(t,t.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,c)}catch{}}if(this.privSuccessCallback){try{this.privSuccessCallback(t)}catch(c){this.privErrorCallback&&this.privErrorCallback(c)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}r=!0;break}return r})}cancelRecognition(e,t,i,r,o){const s=new zp;if(s.setProperty(Tz,sr[r]),this.privSpeechRecognizer.canceled){const a=new Pre(i,o,r,void 0,e);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,a)}catch{}}if(this.privSuccessCallback){const a=new Tx(t,hs.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,o,void 0,s);try{this.privSuccessCallback(a),this.privSuccessCallback=void 0}catch{}}}}class AI{constructor(e){this.privDetailedSpeechPhrase=JSON.parse(e),this.privDetailedSpeechPhrase.RecognitionStatus=Si[this.privDetailedSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new AI(e)}getJsonWithCorrectedOffsets(e){if(this.privDetailedSpeechPhrase.NBest){let t;for(const i of this.privDetailedSpeechPhrase.NBest)if(i.Words&&i.Words[0]){t=i.Words[0].Offset;break}if(t&&t<e){const i=e-t;for(const r of this.privDetailedSpeechPhrase.NBest){if(r.Words)for(const o of r.Words)o.Offset+=i;if(r.DisplayWords)for(const o of r.DisplayWords)o.Offset+=i}}}return JSON.stringify(this.privDetailedSpeechPhrase)}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}}class MI{constructor(e){this.privSimpleSpeechPhrase=JSON.parse(e),this.privSimpleSpeechPhrase.RecognitionStatus=Si[this.privSimpleSpeechPhrase.RecognitionStatus]}static fromJSON(e){return new MI(e)}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}}class Yre{constructor(e,t,i){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=e,this.privAudioSourceId=t,this.privAudioNodeId=i,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(e){e>0&&this.privPhraseLatencies.push(Date.now()-e)}hypothesisReceived(e){e>0&&this.privHypothesisLatencies.push(Date.now()-e)}onEvent(e){if(!this.privIsDisposed&&(e instanceof Cz&&e.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof B1&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof R1&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof rE&&e.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof gI&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof Zc&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Name:"Microphone",Start:this.privMicStartTime})),e instanceof Ez&&e.requestId===this.privRequestId&&(this.privConnectionId=e.sessionId),e instanceof hz&&e.connectionId===this.privConnectionId&&(this.privConnectionStartTime=e.eventTime),e instanceof pz&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof Ere&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Error:this.getConnectionError(e.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof AB&&e.connectionId===this.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path)){this.privReceivedMessages[e.message.headers.path]||(this.privReceivedMessages[e.message.headers.path]=new Array);const t=50;this.privReceivedMessages[e.message.headers.path].length<t&&this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)}}getTelemetry(){const e=new Array;this.privListeningTriggerMetric&&e.push(this.privListeningTriggerMetric),this.privMicMetric&&e.push(this.privMicMetric),this.privConnectionEstablishMetric&&e.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&e.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&e.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const t={Metrics:e,ReceivedMessages:this.privReceivedMessages},i=JSON.stringify(t);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],i}get hasTelemetry(){return Object.keys(this.privReceivedMessages).length!==0||this.privListeningTriggerMetric!==null||this.privMicMetric!==null||this.privConnectionEstablishMetric!==null||this.privPhraseLatencies.length!==0||this.privHypothesisLatencies.length!==0}dispose(){this.privIsDisposed=!0}getConnectionError(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}}}var Wd=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Zre{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=e,this.privRequestId=xr(),this.privAudioNodeId=xr(),this.privTurnDeferral=new ao,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}listenForServiceTelemetry(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new Yre(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new Cz(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onAudioSourceAttachCompleted(e,t){return Wd(this,void 0,void 0,function*(){this.privAudioNode=e,this.privIsAudioNodeDetached=!1,t?yield this.onComplete():this.onEvent(new Wre(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))})}onPreConnectionStart(e,t){this.privAuthFetchEventId=e,this.privSessionId=t,this.onEvent(new Ez(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}onAuthCompleted(e){return Wd(this,void 0,void 0,function*(){e&&(yield this.onComplete())})}onConnectionEstablishCompleted(e,t){return Wd(this,void 0,void 0,function*(){if(e===200){this.onEvent(new Vre(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privBytesSent=0;return}else e===403&&(yield this.onComplete())})}onServiceTurnEndResponse(e){return Wd(this,void 0,void 0,function*(){this.privTurnDeferral.resolve(),!e||this.isSpeechEnded?(yield this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())})}onSpeechContext(){this.privRequestId=xr()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new ao}onHypothesis(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))}onPhraseRecognized(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)}onServiceRecognized(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e),this.privConnectionAttempts=0}onAudioSent(e){this.privBytesSent+=e}onRetryConnection(){this.privConnectionAttempts++}dispose(){return Wd(this,void 0,void 0,function*(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)yield e.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}})}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}onStopRecognizing(){return Wd(this,void 0,void 0,function*(){yield this.onComplete()})}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(e){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(e),$o.instance.onEvent(e)}onComplete(){return Wd(this,void 0,void 0,function*(){this.privIsRecognizing&&(this.privIsRecognizing=!1,yield this.detachAudioNode())})}detachAudioNode(){return Wd(this,void 0,void 0,function*(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&(yield this.privAudioNode.detach()))})}}class eoe{constructor(e){this.privContext={},this.privDynamicGrammar=e}getSection(e){return this.privContext[e]||{}}setSection(e,t){this.privContext[e]=t}setPronunciationAssessmentParams(e){this.privContext.phraseDetection===void 0&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(e),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),this.privContext.phraseOutput.detailed.options.indexOf("SNR")===-1&&this.privContext.phraseOutput.detailed.options.push("SNR")}setWordLevelTimings(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")===-1&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}toJSON(){const e=this.privDynamicGrammar.generateGrammarObject();return this.setSection("dgi",e),JSON.stringify(this.privContext)}}class toe{addPhrase(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(this.privGrammars===void 0&&this.privPhrases===void 0)return;const e={};if(e.ReferenceGrammars=this.privGrammars,this.privPhrases!==void 0&&this.privPhrases.length!==0){const t=[];this.privPhrases.forEach(i=>{t.push({Text:i})}),e.Groups=[{Type:"Generic",Items:t}]}return e}}class Mz{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(e){this.iPrivConfig=e}}var Oc;(function(n){n.WordBoundary="WordBoundary",n.Bookmark="Bookmark",n.Viseme="Viseme",n.SentenceBoundary="SentenceBoundary",n.SessionEnd="SessionEnd"})(Oc||(Oc={}));class TI{constructor(e){this.privSynthesisAudioMetadata=JSON.parse(e)}static fromJSON(e){return new TI(e)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}var Vd=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class I1{constructor(e,t,i,r,o){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!e)throw new uo("authentication");if(!t)throw new uo("connectionFactory");if(!i)throw new uo("synthesizerConfig");this.privAuthentication=e,this.privConnectionFactory=t,this.privSynthesizerConfig=i,this.privIsDisposed=!1,this.privSpeechSynthesizer=r,this.privSessionAudioDestination=o,this.privSynthesisTurn=new cE,this.privConnectionEvents=new tc,this.privServiceEvents=new tc,this.privSynthesisContext=new ooe(this.privSpeechSynthesizer),this.privAgentConfig=new Mz,this.connectionEvents.attach(s=>{if(s.name==="ConnectionClosedEvent"){const a=s;a.statusCode!==1e3&&this.cancelSynthesisLocal(ul.Error,a.statusCode===1007?sr.BadRequestParameters:sr.ConnectionFailure,`${a.reason} websocket error code: ${a.statusCode}`)}})}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(e){this.privAudioOutputFormat=e,this.privSynthesisTurn.audioOutputFormat=e,this.privSessionAudioDestination!==void 0&&(this.privSessionAudioDestination.format=e),this.synthesisContext!==void 0&&(this.synthesisContext.audioOutputFormat=e)}static addHeader(e,t){if(!t.hasHeader)return e;t.updateHeader(e.byteLength);const i=new Uint8Array(e.byteLength+t.header.byteLength);return i.set(new Uint8Array(t.header),0),i.set(new Uint8Array(e),t.header.byteLength),i.buffer}isDisposed(){return this.privIsDisposed}dispose(e){return Vd(this,void 0,void 0,function*(){this.privIsDisposed=!0,this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise!==void 0&&(yield(yield this.privConnectionConfigurationPromise).dispose(e))})}connect(){return Vd(this,void 0,void 0,function*(){yield this.connectImpl()})}sendNetworkMessage(e,t){return Vd(this,void 0,void 0,function*(){const i=typeof t=="string"?Jn.Text:Jn.Binary,r=typeof t=="string"?"application/json":"";return(yield this.fetchConnection()).send(new ls(i,e,this.privSynthesisTurn.requestId,r,t))})}Speak(e,t,i,r,o,s){return Vd(this,void 0,void 0,function*(){let a;if(t?a=e:a=this.privSpeechSynthesizer.buildSsml(e),this.speakOverride!==void 0)return this.speakOverride(a,i,r,o);this.privSuccessCallback=r,this.privErrorCallback=o,this.privSynthesisTurn.startNewSynthesis(i,e,t,s);try{yield this.connectImpl();const l=yield this.fetchConnection();yield this.sendSynthesisContext(l),yield this.sendSsmlMessage(l,a,i);const u=new Rx(new Bx(i,hs.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,u),this.receiveMessage()}catch(l){return this.cancelSynthesisLocal(ul.Error,sr.ConnectionFailure,l),Promise.reject(l)}})}cancelSynthesis(e,t,i,r){const o=new zp;o.setProperty(Tz,sr[i]);const s=new Bx(e,hs.Canceled,void 0,r,o);if(this.privSpeechSynthesizer.SynthesisCanceled){const a=new Rx(s);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,a)}catch{}}if(this.privSuccessCallback)try{this.privSuccessCallback(s)}catch{}}cancelSynthesisLocal(e,t,i){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,e,t,i))}processTypeSpecificMessages(e){return!0}receiveMessage(){return Vd(this,void 0,void 0,function*(){try{const t=yield(yield this.fetchConnection()).read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!t)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const i=ls.fromConnectionMessage(t);if(i.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(i.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse();break;case"response":this.privSynthesisTurn.onServiceResponseMessage(i.textBody);break;case"audio":if(this.privSynthesisTurn.streamId.toLowerCase()===i.streamId.toLowerCase()&&i.binaryBody){if(this.privSynthesisTurn.onAudioChunkReceived(i.binaryBody),this.privSpeechSynthesizer.synthesizing)try{const s=I1.addHeader(i.binaryBody,this.privSynthesisTurn.audioOutputFormat),a=new Rx(new Bx(this.privSynthesisTurn.requestId,hs.SynthesizingAudio,s));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,a)}catch{}this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.write(i.binaryBody)}break;case"audio.metadata":const r=TI.fromJSON(i.textBody).Metadata;for(const s of r)switch(s.Type){case Oc.WordBoundary:case Oc.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(s);const a=new zre(s.Data.Offset,s.Data.Duration,s.Data.text.Text,s.Data.text.Length,s.Type===Oc.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,s.Data.text.BoundaryType);if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,a)}catch{}break;case Oc.Bookmark:const l=new Ure(s.Data.Offset,s.Data.Bookmark);if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,l)}catch{}break;case Oc.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(s),s.Data.IsLastAnimation){const u=new Hre(s.Data.Offset,s.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,u)}catch{}}break;case Oc.SessionEnd:this.privSynthesisTurn.onSessionEnd(s);break}break;case"turn.end":this.privSynthesisTurn.onServiceTurnEndResponse();let o;try{const s=yield this.privSynthesisTurn.getAllReceivedAudioWithHeader();o=new Bx(this.privSynthesisTurn.requestId,hs.SynthesizingAudioCompleted,s,void 0,void 0,this.privSynthesisTurn.audioDuration),this.privSuccessCallback&&this.privSuccessCallback(o)}catch(s){this.privErrorCallback&&this.privErrorCallback(s)}if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new Rx(o))}catch{}break;default:this.processTypeSpecificMessages(i)||this.privServiceEvents&&this.serviceEvents.onEvent(new fz(i.path.toLowerCase(),i.textBody))}return this.receiveMessage()}catch{}})}sendSynthesisContext(e){const t=this.synthesisContext.toJSON();if(t)return e.send(new ls(Jn.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",t))}connectImpl(e=!1){if(this.privConnectionPromise!=null)return this.privConnectionPromise.then(i=>i.state()===Hr.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()));this.privAuthFetchEventId=xr(),this.privConnectionId=xr(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=t.then(i=>Vd(this,void 0,void 0,function*(){this.privSynthesisTurn.onAuthCompleted(!1);const r=this.privConnectionFactory.create(this.privSynthesizerConfig,i,this.privConnectionId);r.events.attach(s=>{this.connectionEvents.onEvent(s)});const o=yield r.open();return o.statusCode===200?(this.privSynthesisTurn.onConnectionEstablishCompleted(o.statusCode),Promise.resolve(r)):o.statusCode===403&&!e?this.connectImpl(!0):(this.privSynthesisTurn.onConnectionEstablishCompleted(o.statusCode),Promise.reject(`Unable to contact server. StatusCode: ${o.statusCode}, ${this.privSynthesizerConfig.parameters.getProperty(dt.SpeechServiceConnection_Endpoint)} Reason: ${o.reason}`))}),i=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(i)}),this.privConnectionPromise.catch(()=>{}),this.privConnectionPromise}sendSpeechServiceConfig(e,t){if(t)return e.send(new ls(Jn.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",t))}sendSsmlMessage(e,t,i){return e.send(new ls(Jn.Text,"ssml",i,"application/ssml+xml",t))}fetchConnection(){return Vd(this,void 0,void 0,function*(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(e=>e.state()===Hr.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),yield this.privConnectionConfigurationPromise)})}configureConnection(){return Vd(this,void 0,void 0,function*(){const e=yield this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(e):(yield this.sendSpeechServiceConfig(e,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),e)})}}I1.telemetryDataEnabled=!0;class BI extends Jv{constructor(e,t,i=wl.Info){super(e,i),this.privRequestId=t}get requestId(){return this.privRequestId}}class noe extends BI{constructor(e,t,i){super("SynthesisTriggeredEvent",e),this.privSessionAudioDestinationId=t,this.privTurnAudioDestinationId=i}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}class ioe extends BI{constructor(e,t){super("ConnectingToSynthesisServiceEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}class roe extends BI{constructor(e,t){super("SynthesisStartedEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}var F3=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class cE{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=xr(),this.privTurnDeferral=new ao,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(e){this.privStreamId=e}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(e){this.privAudioOutputFormat=e}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}getAllReceivedAudio(){return F3(this,void 0,void 0,function*(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(yield this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null})}getAllReceivedAudioWithHeader(){return F3(this,void 0,void 0,function*(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const e=yield this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=I1.addHeader(e,this.audioOutputFormat),this.privReceivedAudioWithHeader}else return this.getAllReceivedAudio()})}startNewSynthesis(e,t,i,r){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=e,this.privRawText=t,this.privIsSSML=i,this.privAudioOutputStream=new xI,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",r!==void 0&&(this.privTurnAudioDestination=r,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new noe(this.requestId,void 0,r===void 0?void 0:r.id()))}onPreConnectionStart(e){this.privAuthFetchEventId=e,this.onEvent(new ioe(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(e){e&&this.onComplete()}onConnectionEstablishCompleted(e){if(e===200){this.onEvent(new roe(this.requestId,this.privAuthFetchEventId)),this.privBytesReceived=0;return}else e===403&&this.onComplete()}onServiceResponseMessage(e){const t=JSON.parse(e);this.streamId=t.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new ao}onAudioChunkReceived(e){this.isSynthesizing&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength,this.privTurnAudioDestination!==void 0&&this.privTurnAudioDestination.write(e))}onTextBoundaryEvent(e){this.updateTextOffset(e.Data.text.Text,e.Type)}onVisemeMetadataReceived(e){e.Data.AnimationChunk!==void 0&&(this.privPartialVisemeAnimation+=e.Data.AnimationChunk)}onSessionEnd(e){this.privAudioDuration=e.Data.Offset}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const e=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",e}onEvent(e){$o.instance.onEvent(e)}static isXmlTag(e){return e.length>=2&&e[0]==="<"&&e[e.length-1]===">"}updateTextOffset(e,t){t===Oc.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(e,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+e.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!cE.isXmlTag(e)&&this.updateTextOffset(e,t))):(this.privSentenceOffset=this.privRawText.indexOf(e,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+e.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!cE.isXmlTag(e)&&this.updateTextOffset(e,t)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,this.privTurnAudioDestination!==void 0&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}readAllAudioFromStream(){return F3(this,void 0,void 0,function*(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{yield this.privAudioOutputStream.read(this.privReceivedAudio)}catch{this.privReceivedAudio=new ArrayBuffer(0)}}})}withinXmlTag(e){return this.privRawText.indexOf("<",e+1)>this.privRawText.indexOf(">",e+1)}}class ooe{constructor(e){this.privContext={},this.privSpeechSynthesizer=e}setSection(e,t){this.privContext[e]=t}set audioOutputFormat(e){this.privAudioOutputFormat=e}toJSON(){const e=this.buildSynthesisContext();return this.setSection("synthesis",e),JSON.stringify(this.privContext)}buildSynthesisContext(){return{audio:{metadataOptions:{bookmarkEnabled:!!this.privSpeechSynthesizer.bookmarkReached,punctuationBoundaryEnabled:this.privSpeechSynthesizer.properties.getProperty(dt.SpeechServiceResponse_RequestPunctuationBoundary,!!this.privSpeechSynthesizer.wordBoundary),sentenceBoundaryEnabled:this.privSpeechSynthesizer.properties.getProperty(dt.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!this.privSpeechSynthesizer.visemeReceived,wordBoundaryEnabled:this.privSpeechSynthesizer.properties.getProperty(dt.SpeechServiceResponse_RequestWordBoundary,!!this.privSpeechSynthesizer.wordBoundary)},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:this.privSpeechSynthesizer.autoDetectSourceLanguage}}}}const KS="OutputFormat",Tz="CancellationErrorCode",kB="ServiceProperties",Bz="ForceDictation",soe="OpenRange";var kx=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const aoe="MICROPHONE-WorkletSourceUrl";class eu{constructor(e,t,i,r){this.privRecorder=e,this.deviceId=t,this.privStreams={},this.privOutputChunkSize=eu.AUDIOFORMAT.avgBytesPerSec/10,this.privId=i||xr(),this.privEvents=new tc,this.privMediaStream=r||null,this.privIsClosing=!1}get format(){return Promise.resolve(eu.AUDIOFORMAT)}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new ao;try{this.createAudioContext()}catch(i){if(i instanceof Error){const r=i;this.privInitializeDeferral.reject(r.name+": "+r.message)}else this.privInitializeDeferral.reject(i);return this.privInitializeDeferral.promise}const e=window.navigator;let t=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;if(e.mediaDevices&&(t=(i,r,o)=>{e.mediaDevices.getUserMedia(i).then(r).catch(o)}),t){const i=()=>{this.onEvent(new rb(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new WS(this.privId)),this.privInitializeDeferral.resolve()):t({audio:this.deviceId?{deviceId:this.deviceId}:!0,video:!1},r=>{this.privMediaStream=r,this.onEvent(new WS(this.privId)),this.privInitializeDeferral.resolve()},r=>{const o=`Error occurred during microphone initialization: ${r}`;this.privInitializeDeferral.reject(o),this.onEvent(new rE(this.privId,o))})};this.privContext.state==="suspended"?this.privContext.resume().then(i).catch(r=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${r}`)}):i()}else{const i="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(i),this.onEvent(new rE(i,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(e){return this.onEvent(new B1(this.privId,e)),this.listen(e).then(t=>(this.onEvent(new R1(this.privId,e)),{detach:()=>kx(this,void 0,void 0,function*(){return t.readEnded(),delete this.privStreams[e],this.onEvent(new Zc(this.privId,e)),this.turnOff()}),id:()=>e,read:()=>t.read()}))}detach(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new Zc(this.privId,e)))}turnOff(){return kx(this,void 0,void 0,function*(){for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&t.close()}this.onEvent(new dz(this.privId)),this.privInitializeDeferral&&(yield this.privInitializeDeferral,this.privInitializeDeferral=null),yield this.destroyAudioContext()})}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then(e=>({bitspersample:eu.AUDIOFORMAT.bitsPerSample,channelcount:eu.AUDIOFORMAT.channels,connectivity:xv.Unknown,manufacturer:"Speech SDK",model:e,samplerate:eu.AUDIOFORMAT.samplesPerSec,type:Up.Microphones}))}setProperty(e,t){if(e===aoe)this.privRecorder.setWorkletUrl(t);else throw new Error("Property '"+e+"' is not supported on Microphone.")}getMicrophoneLabel(){const e="microphone";if(this.privMicrophoneLabel!==void 0)return Promise.resolve(this.privMicrophoneLabel);if(this.privMediaStream===void 0||!this.privMediaStream.active)return Promise.resolve(e);this.privMicrophoneLabel=e;const t=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(t===void 0)return Promise.resolve(this.privMicrophoneLabel);const i=new ao;return navigator.mediaDevices.enumerateDevices().then(r=>{for(const o of r)if(o.deviceId===t){this.privMicrophoneLabel=o.label;break}i.resolve(this.privMicrophoneLabel)},()=>i.resolve(this.privMicrophoneLabel)),i.promise}listen(e){return kx(this,void 0,void 0,function*(){yield this.turnOn();const t=new yI(this.privOutputChunkSize,e);this.privStreams[e]=t;try{this.privRecorder.record(this.privContext,this.privMediaStream,t)}catch(r){throw this.onEvent(new gI(this.privId,e,r)),r}return t})}onEvent(e){this.privEvents.onEvent(e),$o.instance.onEvent(e)}createAudioContext(){this.privContext||(this.privContext=Ff.getAudioContext(eu.AUDIOFORMAT.samplesPerSec))}destroyAudioContext(){return kx(this,void 0,void 0,function*(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let e=!1;"close"in this.privContext&&(e=!0),e?this.privIsClosing||(this.privIsClosing=!0,yield this.privContext.close(),this.privContext=null,this.privIsClosing=!1):this.privContext!==null&&this.privContext.state==="running"&&(yield this.privContext.suspend())})}}eu.AUDIOFORMAT=sb.getDefaultInputFormat();var D3=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class loe{constructor(e,t,i){this.privStreams={},this.privHeaderEnd=44,this.privId=i||xr(),this.privEvents=new tc,this.privSource=e,typeof window<"u"&&typeof Blob<"u"&&this.privSource instanceof Blob?this.privFilename=e.name:this.privFilename=t||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const e=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new rE(e,"")),Promise.reject(e)}this.onEvent(new rb(this.privId)),this.onEvent(new WS(this.privId))}id(){return this.privId}attach(e){return D3(this,void 0,void 0,function*(){this.onEvent(new B1(this.privId,e));const t=yield this.upload(e);return this.onEvent(new R1(this.privId,e)),Promise.resolve({detach:()=>D3(this,void 0,void 0,function*(){t.readEnded(),delete this.privStreams[e],this.onEvent(new Zc(this.privId,e)),yield this.turnOff()}),id:()=>e,read:()=>t.read()})})}detach(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new Zc(this.privId,e)))}turnOff(){for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&!t.isClosed&&t.close()}return this.onEvent(new dz(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then(e=>Promise.resolve({bitspersample:e.bitsPerSample,channelcount:e.channels,connectivity:xv.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:e.samplesPerSec,type:Up.File}))}readHeader(){const t=this.privSource.slice(0,4296),i=new ao,r=o=>{const s=new DataView(o),a=v=>String.fromCharCode(s.getUint8(v),s.getUint8(v+1),s.getUint8(v+2),s.getUint8(v+3));if(a(0)!=="RIFF"){i.reject("Invalid WAV header in file, RIFF was not found");return}if(a(8)!=="WAVE"||a(12)!=="fmt "){i.reject("Invalid WAV header in file, WAVEfmt was not found");return}const l=s.getInt32(16,!0),u=s.getUint16(22,!0),c=s.getUint32(24,!0),d=s.getUint16(34,!0);let m=36+Math.max(l-16,0);for(;a(m)!=="data";m+=2)if(m>4296-8){i.reject("Invalid WAV header in file, data block was not found");return}this.privHeaderEnd=m+8,i.resolve(sb.getWaveFormatPCM(c,d,u))};if(typeof window<"u"&&typeof Blob<"u"&&t instanceof Blob){const o=new FileReader;o.onload=s=>{const a=s.target.result;r(a)},o.readAsArrayBuffer(t)}else{const o=t;r(o.buffer.slice(o.byteOffset,o.byteOffset+o.byteLength))}return i.promise}upload(e){return D3(this,void 0,void 0,function*(){const t=i=>{const r=`Error occurred while processing '${this.privFilename}'. ${i}`;throw this.onEvent(new gI(this.privId,e,r)),new Error(r)};try{yield this.turnOn();const i=yield this.privAudioFormatPromise,r=new yI(i.avgBytesPerSec/10,e);this.privStreams[e]=r;const o=this.privSource.slice(this.privHeaderEnd),s=a=>{r.isClosed||(r.writeStreamChunk({buffer:a,isEnd:!1,timeReceived:Date.now()}),r.close())};if(typeof window<"u"&&typeof Blob<"u"&&o instanceof Blob){const a=new FileReader;a.onerror=l=>t(l.toString()),a.onload=l=>{const u=l.target.result;s(u)},a.readAsArrayBuffer(o)}else{const a=o;s(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength))}return r}catch(i){t(i)}})}onEvent(e){this.privEvents.onEvent(e),$o.instance.onEvent(e)}}class P3{constructor(e){this.privStopInputOnRelease=e}record(e,t,i){const o=new Are(e.sampleRate,16e3),s=e.createMediaStreamSource(t),a=()=>{const l=(()=>{let u=0;try{return e.createScriptProcessor(u,1,1)}catch{u=2048;let d=e.sampleRate;for(;u<16384&&d>=32e3;)u<<=1,d>>=1;return e.createScriptProcessor(u,1,1)}})();l.onaudioprocess=u=>{const c=u.inputBuffer.getChannelData(0);if(i&&!i.isClosed){const d=o.encode(c);d&&i.writeStreamChunk({buffer:d,isEnd:!1,timeReceived:Date.now()})}},s.connect(l),l.connect(e.destination),this.privMediaResources={scriptProcessorNode:l,source:s,stream:t}};if(e.audioWorklet){if(!this.privSpeechProcessorScript){const l=`class SP extends AudioWorkletProcessor {
                    constructor(options) {
                      super(options);
                    }
                    process(inputs, outputs) {
                      const input = inputs[0];
                      const output = [];
                      for (let channel = 0; channel < input.length; channel += 1) {
                        output[channel] = input[channel];
                      }
                      this.port.postMessage(output[0]);
                      return true;
                    }
                  }
                  registerProcessor('speech-processor', SP);`,u=new Blob([l],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(u)}e.audioWorklet.addModule(this.privSpeechProcessorScript).then(()=>{const l=new AudioWorkletNode(e,"speech-processor");l.port.onmessage=u=>{const c=u.data;if(i&&!i.isClosed){const d=o.encode(c);d&&i.writeStreamChunk({buffer:d,isEnd:!1,timeReceived:Date.now()})}},s.connect(l),l.connect(e.destination),this.privMediaResources={scriptProcessorNode:l,source:s,stream:t}}).catch(()=>{a()})}else try{a()}catch(l){throw new Error(`Unable to start audio worklet node for PCMRecorder: ${l}`)}}releaseMediaResources(e){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(e.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach(t=>t.stop()),this.privMediaResources.source=null))}setWorkletUrl(e){this.privSpeechProcessorScript=e}}var IP=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class $S{constructor(e,t,i,r,o,s){if(!e)throw new uo("uri");if(!i)throw new uo("messageFormatter");this.proxyInfo=r,this.privConnectionEvents=new tc,this.privConnectionId=t,this.privMessageFormatter=i,this.privConnectionState=Hr.None,this.privUri=e,this.privHeaders=o,this.privEnableCompression=s,this.privHeaders[Li.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===Hr.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new ao,this.privCertificateValidatedDeferral=new ao,this.privConnectionState=Hr.Connecting;try{if(typeof WebSocket<"u"&&!$S.forceNpmWebSocket)this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);else{const e={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve(),e.agent=this.getAgent();let i=new URL(this.privUri).protocol;(i==null?void 0:i.toLocaleLowerCase())==="wss:"?i="https:":(i==null?void 0:i.toLocaleLowerCase())==="ws:"&&(i="http:"),e.agent.protocol=i,this.privWebsocketClient=new I3(this.privUri,e)}this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new oE,this.privDisconnectDeferral=new ao,this.privSendMessageQueue=new oE,this.processSendQueue().catch(e=>{$o.instance.onEvent(new tS(e))})}catch(e){return this.privConnectionEstablishDeferral.resolve(new k3(500,e)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new hz(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then(()=>{this.privConnectionState=Hr.Connected,this.onEvent(new pz(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new k3(200,""))},e=>{this.privConnectionEstablishDeferral.reject(e)})},this.privWebsocketClient.onerror=e=>{this.onEvent(new Cre(this.privConnectionId,e.message,e.type)),this.privLastErrorReceived=e.message},this.privWebsocketClient.onclose=e=>{this.privConnectionState===Hr.Connecting?(this.privConnectionState=Hr.Disconnected,this.privConnectionEstablishDeferral.resolve(new k3(e.code,e.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=Hr.Disconnected,this.privWebsocketClient=null,this.onEvent(new wre(this.privConnectionId,e.code,e.reason))),this.onClose(e.code,e.reason).catch(t=>{$o.instance.onEvent(new tS(t))})},this.privWebsocketClient.onmessage=e=>{const t=new Date().toISOString();if(this.privConnectionState===Hr.Connected){const i=new ao;if(this.privReceivingMessageQueue.enqueueFromPromise(i.promise),e.data instanceof ArrayBuffer){const r=new sE(Jn.Binary,e.data);this.privMessageFormatter.toConnectionMessage(r).then(o=>{this.onEvent(new AB(this.privConnectionId,t,o)),i.resolve(o)},o=>{i.reject(`Invalid binary message format. Error: ${o}`)})}else{const r=new sE(Jn.Text,e.data);this.privMessageFormatter.toConnectionMessage(r).then(o=>{this.onEvent(new AB(this.privConnectionId,t,o)),i.resolve(o)},o=>{i.reject(`Invalid text message format. Error: ${o}`)})}}},this.privConnectionEstablishDeferral.promise}send(e){if(this.privConnectionState!==Hr.Connected)return Promise.reject(`Cannot send on connection that is in ${Hr[this.privConnectionState]} state`);const t=new ao,i=new ao;return this.privSendMessageQueue.enqueueFromPromise(i.promise),this.privMessageFormatter.fromConnectionMessage(e).then(r=>{i.resolve({Message:e,RawWebsocketMessage:r,sendStatusDeferral:t})},r=>{i.reject(`Error formatting the message. ${r}`)}),t.promise}read(){return this.privConnectionState!==Hr.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue()}close(e){if(this.privWebsocketClient)this.privConnectionState!==Hr.Disconnected&&this.privWebsocketClient.close(1e3,e||"Normal closure by client");else return Promise.resolve();return this.privDisconnectDeferral.promise}get events(){return this.privConnectionEvents}sendRawMessage(e){try{if(!e)return Promise.resolve();if(this.onEvent(new bre(this.privConnectionId,new Date().toISOString(),e.Message)),this.isWebsocketOpen)this.privWebsocketClient.send(e.RawWebsocketMessage.payload);else return Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+e.Message.id+" "+new Error().stack);return Promise.resolve()}catch(t){return Promise.reject(`websocket send error: ${t}`)}}onClose(e,t){return IP(this,void 0,void 0,function*(){const i=`Connection closed. ${e}: ${t}`;this.privConnectionState=Hr.Disconnected,this.privDisconnectDeferral.resolve(),yield this.privReceivingMessageQueue.drainAndDispose(()=>{},i),yield this.privSendMessageQueue.drainAndDispose(r=>{r.sendStatusDeferral.reject(i)},i)})}processSendQueue(){return IP(this,void 0,void 0,function*(){for(;;){const t=yield this.privSendMessageQueue.dequeue();if(!t)return;try{yield this.sendRawMessage(t),t.sendStatusDeferral.resolve()}catch(i){t.sendStatusDeferral.reject(i)}}})}onEvent(e){this.privConnectionEvents.onEvent(e),$o.instance.onEvent(e)}getAgent(){const e=new I3.Agent(this.createConnection);return this.proxyInfo!==void 0&&this.proxyInfo.HostName!==void 0&&this.proxyInfo.Port>0&&(e.proxyInfo=this.proxyInfo),e}static GetProxyAgent(e){const t={host:e.HostName,port:e.Port};return e.UserName?t.headers={"Proxy-Authentication":"Basic "+new Buffer(`${e.UserName}:${e.Password===void 0?"":e.Password}`).toString("base64")}:t.headers={},t.headers.requestOCSP="true",new I3(t)}createConnection(e,t){let i;if(t=Object.assign(Object.assign({},t),{requestOCSP:!0,servername:t.host}),this.proxyInfo){const o=$S.GetProxyAgent(this.proxyInfo);i=new Promise((s,a)=>{o.callback(e,t,(l,u)=>{l?a(l):s(u)})})}else t.secureEndpoint,i=Promise.resolve((void 0)(t));return i}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}$S.forceNpmWebSocket=!1;var uoe=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class coe{constructor(e,t,i,r,o,s=!1,a){if(this.privIsDisposed=!1,!e)throw new uo("uri");if(!r)throw new uo("messageFormatter");this.privMessageFormatter=r;let l="",u=0;if(t){for(const c in t)if(c){l+=u===0&&e.indexOf("?")===-1?"?":"&";const d=encodeURIComponent(c);l+=d;let m=t[c];m&&(m=encodeURIComponent(m),l+=`=${m}`),u++}}if(i){for(const c in i)if(c){l+=u===0&&e.indexOf("?")===-1?"?":"&";const d=encodeURIComponent(i[c]);l+=`${c}=${d}`,u++}}this.privUri=e+l,this.privId=a||xr(),this.privConnectionMessageAdapter=new $S(this.privUri,this.id,this.privMessageFormatter,o,i,s)}dispose(){return uoe(this,void 0,void 0,function*(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&(yield this.privConnectionMessageAdapter.close())})}isDisposed(){return this.privIsDisposed}get id(){return this.privId}get uri(){return this.privUri}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(e){return this.privConnectionMessageAdapter.send(e)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}}class doe{constructor(e,t){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=e,this.privBytesPerSecond=t}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&this.privBuffers.length!==0){const e=this.privReplayOffset-this.privBufferStartOffset;let t=Math.round(e*this.privBytesPerSecond*1e-7);t%2!==0&&t++;let i=0;for(;i<this.privBuffers.length&&t>=this.privBuffers[i].chunk.buffer.byteLength;)t-=this.privBuffers[i++].chunk.buffer.byteLength;if(i<this.privBuffers.length){const r=this.privBuffers[i].chunk.buffer.slice(t);return this.privReplayOffset+=r.byteLength/this.privBytesPerSecond*1e7,i===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:r,isEnd:!1,timeReceived:this.privBuffers[i].chunk.timeReceived})}}return this.privAudioNode.read().then(e=>(e&&e.buffer&&(this.privBuffers.push(new foe(e,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=e.buffer.byteLength),e))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&this.privBuffers.length!==0&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(e){if(this.privBuffers===void 0||this.privBuffers.length===0)return;this.privLastShrinkOffset=e;const t=e-this.privBufferStartOffset;let i=Math.round(t*this.privBytesPerSecond*1e-7),r=0;for(;r<this.privBuffers.length&&i>=this.privBuffers[r].chunk.buffer.byteLength;)i-=this.privBuffers[r++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-i/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(r)}findTimeAtOffset(e){if(e<this.privBufferStartOffset||this.privBuffers===void 0)return 0;for(const t of this.privBuffers){const i=t.byteOffset/this.privBytesPerSecond*1e7,r=i+t.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(e>=i&&e<=r)return t.chunk.timeReceived}return 0}}class foe{constructor(e,t,i){this.chunk=e,this.serial=t,this.byteOffset=i}}class RI{constructor(e,t,i,r){this.privProxyHostName=e,this.privProxyPort=t,this.privProxyUserName=i,this.privProxyPassword=r}static fromParameters(e){return new RI(e.getProperty(dt.SpeechServiceConnection_ProxyHostName),parseInt(e.getProperty(dt.SpeechServiceConnection_ProxyPort),10),e.getProperty(dt.SpeechServiceConnection_ProxyUserName),e.getProperty(dt.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(e){return this.fromParameters(e.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}}async function hoe(){const n=await fetch("/stt");if(n.status>299||!n.ok)throw Error("Failed to get configuration of speech-to-text service");const e=await n.json(),{speech_key:t,speech_region:i}=e,r=wz.fromSubscription(t,i);r.setProperty("timeout","2000");const o=qv.fromDefaultMicrophoneInput(),s=nS.fromLanguages(["en-US","zh-CN","zh-HK"]);var a=CI.FromConfig(r,s,o);return a}async function poe(n){const e=await fetch("/detectFace",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageURL:n})}),t=await e.json();if(e.status>299||!e.ok)throw Error(t.error||"Unknown error");const i={face_number:t[0]};return console.log("face_number",i.face_number),t.length>1&&(i.name=t[1],console.log("detect: ",t[1])),i}async function moe(n){var i,r,o,s,a,l,u,c,d,m;const e=await fetch("/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({history:n.history,approach:n.approach,overrides:{retrieval_mode:(i=n.overrides)==null?void 0:i.retrievalMode,semantic_ranker:(r=n.overrides)==null?void 0:r.semanticRanker,semantic_captions:(o=n.overrides)==null?void 0:o.semanticCaptions,top:(s=n.overrides)==null?void 0:s.top,temperature:(a=n.overrides)==null?void 0:a.temperature,prompt_template:(l=n.overrides)==null?void 0:l.promptTemplate,prompt_template_prefix:(u=n.overrides)==null?void 0:u.promptTemplatePrefix,prompt_template_suffix:(c=n.overrides)==null?void 0:c.promptTemplateSuffix,exclude_category:(d=n.overrides)==null?void 0:d.excludeCategory,suggest_followup_questions:(m=n.overrides)==null?void 0:m.suggestFollowupQuestions}})}),t=await e.json();if(e.status>299||!e.ok)throw Error(t.error||"Unknown error");return t}async function goe(n,e){const t=await fetch("/tts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n,voice:e})}),i=await t.arrayBuffer();if(t.status>299||!t.ok)throw Error("Unknown error");return i}async function voe(n,e){const t=await fetch("/viseme",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n,voice:e})}),i=await t.json();if(t.status>299||!t.ok)throw Error("Unknown error");return i}async function yoe(){const n=await fetch("/visemeAudio",{method:"GET"}),e=await n.arrayBuffer();if(n.status>299||!n.ok)throw Error("Unknown error");return e}function Rz(n){return`/content/${n}`}var Iz=(n=>(n.RetrieveThenRead="rtr",n.ReadRetrieveRead="rrr",n.ReadDecomposeAsk="rda",n))(Iz||{}),kc=(n=>(n.Hybrid="hybrid",n.Vectors="vectors",n.Text="text",n))(kc||{});/*! @license DOMPurify 3.0.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.1/LICENSE */function dp(n){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(n)}function LB(n,e){return LB=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},LB(n,e)}function Soe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zw(n,e,t){return Soe()?Zw=Reflect.construct:Zw=function(r,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(r,a),u=new l;return s&&LB(u,s.prototype),u},Zw.apply(null,arguments)}function _oe(n,e){return woe(n)||Eoe(n,e)||II(n,e)||Aoe()}function $l(n){return xoe(n)||Coe(n)||II(n)||boe()}function xoe(n){if(Array.isArray(n))return FB(n)}function woe(n){if(Array.isArray(n))return n}function Coe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Eoe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,o=!1,s,a;try{for(t=t.call(n);!(r=(s=t.next()).done)&&(i.push(s.value),!(e&&i.length===e));r=!0);}catch(l){o=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(o)throw a}}return i}}function II(n,e){if(n){if(typeof n=="string")return FB(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FB(n,e)}}function FB(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function boe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Moe(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=II(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw a}}}}var kz=Object.entries,kP=Object.setPrototypeOf,Toe=Object.isFrozen,Boe=Object.getPrototypeOf,Roe=Object.getOwnPropertyDescriptor,gs=Object.freeze,du=Object.seal,Ioe=Object.create,Lz=typeof Reflect<"u"&&Reflect,DB=Lz.apply,PB=Lz.construct;DB||(DB=function(e,t,i){return e.apply(t,i)});gs||(gs=function(e){return e});du||(du=function(e){return e});PB||(PB=function(e,t){return Zw(e,$l(t))});var koe=Cl(Array.prototype.forEach),LP=Cl(Array.prototype.pop),ly=Cl(Array.prototype.push),eC=Cl(String.prototype.toLowerCase),N3=Cl(String.prototype.toString),Loe=Cl(String.prototype.match),Hl=Cl(String.prototype.replace),Foe=Cl(String.prototype.indexOf),Doe=Cl(String.prototype.trim),ga=Cl(RegExp.prototype.test),O3=Poe(TypeError);function Cl(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return DB(n,e,i)}}function Poe(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return PB(n,t)}}function An(n,e,t){t=t||eC,kP&&kP(n,null);for(var i=e.length;i--;){var r=e[i];if(typeof r=="string"){var o=t(r);o!==r&&(Toe(e)||(e[i]=o),r=o)}n[r]=!0}return n}function Ym(n){var e=Ioe(null),t=Moe(kz(n)),i;try{for(t.s();!(i=t.n()).done;){var r=_oe(i.value,2),o=r[0],s=r[1];e[o]=s}}catch(a){t.e(a)}finally{t.f()}return e}function Lx(n,e){for(;n!==null;){var t=Roe(n,e);if(t){if(t.get)return Cl(t.get);if(typeof t.value=="function")return Cl(t.value)}n=Boe(n)}function i(r){return console.warn("fallback value for",r),null}return i}var FP=gs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),z3=gs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U3=gs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Noe=gs(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H3=gs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ooe=gs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DP=gs(["#text"]),PP=gs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G3=gs(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),NP=gs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fx=gs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zoe=du(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Uoe=du(/<%[\w\W]*|[\w\W]*%>/gm),Hoe=du(/\${[\w\W]*}/gm),Goe=du(/^data-[\-\w.\u00B7-\uFFFF]/),Woe=du(/^aria-[\-\w]+$/),Voe=du(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Koe=du(/^(?:\w+script|data):/i),$oe=du(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Joe=du(/^html$/i),qoe=function(){return typeof window>"u"?null:window},joe=function(e,t){if(dp(e)!=="object"||typeof e.createPolicy!="function")return null;var i=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(i=t.currentScript.getAttribute(r));var o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Fz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qoe(),e=function(W){return Fz(W)};if(e.version="3.0.1",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;var t=n.document,i=n.document,r=n.DocumentFragment,o=n.HTMLTemplateElement,s=n.Node,a=n.Element,l=n.NodeFilter,u=n.NamedNodeMap,c=u===void 0?n.NamedNodeMap||n.MozNamedAttrMap:u,d=n.HTMLFormElement,m=n.DOMParser,v=n.trustedTypes,y=a.prototype,_=Lx(y,"cloneNode"),S=Lx(y,"nextSibling"),x=Lx(y,"childNodes"),C=Lx(y,"parentNode");if(typeof o=="function"){var b=i.createElement("template");b.content&&b.content.ownerDocument&&(i=b.content.ownerDocument)}var M=joe(v,t),B=M?M.createHTML(""):"",k=i,F=k.implementation,R=k.createNodeIterator,N=k.createDocumentFragment,U=k.getElementsByTagName,G=t.importNode,oe={};e.isSupported=typeof kz=="function"&&typeof C=="function"&&F&&typeof F.createHTMLDocument<"u";var me=zoe,j=Uoe,ne=Hoe,te=Goe,de=Woe,O=Koe,V=$oe,$=Voe,ie=null,ae=An({},[].concat($l(FP),$l(z3),$l(U3),$l(H3),$l(DP))),Ce=null,Fe=An({},[].concat($l(PP),$l(G3),$l(NP),$l(Fx))),Ne=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),he=null,mt=null,ft=!0,_t=!0,Ke=!1,ct=!0,De=!1,Ae=!1,je=!1,Ye=!1,rt=!1,St=!1,It=!1,Rt=!0,qt=!1,Kt="user-content-",Z=!0,q=!1,Me={},Je=null,it=An({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ot=null,Nt=An({},["audio","video","img","source","image","track"]),Te=null,Mt=An({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gt="http://www.w3.org/1998/Math/MathML",pt="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml",Be=re,et=!1,Ve=null,Re=An({},[gt,pt,re],N3),st,Ze=["application/xhtml+xml","text/html"],He="text/html",Ot,tn=null,ai=i.createElement("form"),ji=function(W){return W instanceof RegExp||W instanceof Function},Ro=function(W){tn&&tn===W||((!W||dp(W)!=="object")&&(W={}),W=Ym(W),st=Ze.indexOf(W.PARSER_MEDIA_TYPE)===-1?st=He:st=W.PARSER_MEDIA_TYPE,Ot=st==="application/xhtml+xml"?N3:eC,ie="ALLOWED_TAGS"in W?An({},W.ALLOWED_TAGS,Ot):ae,Ce="ALLOWED_ATTR"in W?An({},W.ALLOWED_ATTR,Ot):Fe,Ve="ALLOWED_NAMESPACES"in W?An({},W.ALLOWED_NAMESPACES,N3):Re,Te="ADD_URI_SAFE_ATTR"in W?An(Ym(Mt),W.ADD_URI_SAFE_ATTR,Ot):Mt,ot="ADD_DATA_URI_TAGS"in W?An(Ym(Nt),W.ADD_DATA_URI_TAGS,Ot):Nt,Je="FORBID_CONTENTS"in W?An({},W.FORBID_CONTENTS,Ot):it,he="FORBID_TAGS"in W?An({},W.FORBID_TAGS,Ot):{},mt="FORBID_ATTR"in W?An({},W.FORBID_ATTR,Ot):{},Me="USE_PROFILES"in W?W.USE_PROFILES:!1,ft=W.ALLOW_ARIA_ATTR!==!1,_t=W.ALLOW_DATA_ATTR!==!1,Ke=W.ALLOW_UNKNOWN_PROTOCOLS||!1,ct=W.ALLOW_SELF_CLOSE_IN_ATTR!==!1,De=W.SAFE_FOR_TEMPLATES||!1,Ae=W.WHOLE_DOCUMENT||!1,rt=W.RETURN_DOM||!1,St=W.RETURN_DOM_FRAGMENT||!1,It=W.RETURN_TRUSTED_TYPE||!1,Ye=W.FORCE_BODY||!1,Rt=W.SANITIZE_DOM!==!1,qt=W.SANITIZE_NAMED_PROPS||!1,Z=W.KEEP_CONTENT!==!1,q=W.IN_PLACE||!1,$=W.ALLOWED_URI_REGEXP||$,Be=W.NAMESPACE||re,Ne=W.CUSTOM_ELEMENT_HANDLING||{},W.CUSTOM_ELEMENT_HANDLING&&ji(W.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ne.tagNameCheck=W.CUSTOM_ELEMENT_HANDLING.tagNameCheck),W.CUSTOM_ELEMENT_HANDLING&&ji(W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ne.attributeNameCheck=W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),W.CUSTOM_ELEMENT_HANDLING&&typeof W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ne.allowCustomizedBuiltInElements=W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(_t=!1),St&&(rt=!0),Me&&(ie=An({},$l(DP)),Ce=[],Me.html===!0&&(An(ie,FP),An(Ce,PP)),Me.svg===!0&&(An(ie,z3),An(Ce,G3),An(Ce,Fx)),Me.svgFilters===!0&&(An(ie,U3),An(Ce,G3),An(Ce,Fx)),Me.mathMl===!0&&(An(ie,H3),An(Ce,NP),An(Ce,Fx))),W.ADD_TAGS&&(ie===ae&&(ie=Ym(ie)),An(ie,W.ADD_TAGS,Ot)),W.ADD_ATTR&&(Ce===Fe&&(Ce=Ym(Ce)),An(Ce,W.ADD_ATTR,Ot)),W.ADD_URI_SAFE_ATTR&&An(Te,W.ADD_URI_SAFE_ATTR,Ot),W.FORBID_CONTENTS&&(Je===it&&(Je=Ym(Je)),An(Je,W.FORBID_CONTENTS,Ot)),Z&&(ie["#text"]=!0),Ae&&An(ie,["html","head","body"]),ie.table&&(An(ie,["tbody"]),delete he.tbody),gs&&gs(W),tn=W)},Fr=An({},["mi","mo","mn","ms","mtext"]),fo=An({},["foreignobject","desc","title","annotation-xml"]),Qs=An({},["title","style","font","a","script"]),ho=An({},z3);An(ho,U3),An(ho,Noe);var bs=An({},H3);An(bs,Ooe);var As=function(W){var ce=C(W);(!ce||!ce.tagName)&&(ce={namespaceURI:Be,tagName:"template"});var ye=eC(W.tagName),ze=eC(ce.tagName);return Ve[W.namespaceURI]?W.namespaceURI===pt?ce.namespaceURI===re?ye==="svg":ce.namespaceURI===gt?ye==="svg"&&(ze==="annotation-xml"||Fr[ze]):!!ho[ye]:W.namespaceURI===gt?ce.namespaceURI===re?ye==="math":ce.namespaceURI===pt?ye==="math"&&fo[ze]:!!bs[ye]:W.namespaceURI===re?ce.namespaceURI===pt&&!fo[ze]||ce.namespaceURI===gt&&!Fr[ze]?!1:!bs[ye]&&(Qs[ye]||!ho[ye]):!!(st==="application/xhtml+xml"&&Ve[W.namespaceURI]):!1},Dr=function(W){ly(e.removed,{element:W});try{W.parentNode.removeChild(W)}catch{W.remove()}},lr=function(W,ce){try{ly(e.removed,{attribute:ce.getAttributeNode(W),from:ce})}catch{ly(e.removed,{attribute:null,from:ce})}if(ce.removeAttribute(W),W==="is"&&!Ce[W])if(rt||St)try{Dr(ce)}catch{}else try{ce.setAttribute(W,"")}catch{}},Q=function(W){var ce,ye;if(Ye)W="<remove></remove>"+W;else{var ze=Loe(W,/^[\r\n\t ]+/);ye=ze&&ze[0]}st==="application/xhtml+xml"&&Be===re&&(W='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+W+"</body></html>");var We=M?M.createHTML(W):W;if(Be===re)try{ce=new m().parseFromString(We,st)}catch{}if(!ce||!ce.documentElement){ce=F.createDocument(Be,"template",null);try{ce.documentElement.innerHTML=et?B:We}catch{}}var Xe=ce.body||ce.documentElement;return W&&ye&&Xe.insertBefore(i.createTextNode(ye),Xe.childNodes[0]||null),Be===re?U.call(ce,Ae?"html":"body")[0]:Ae?ce.documentElement:Xe},Ee=function(W){return R.call(W.ownerDocument||W,W,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Ie=function(W){return W instanceof d&&(typeof W.nodeName!="string"||typeof W.textContent!="string"||typeof W.removeChild!="function"||!(W.attributes instanceof c)||typeof W.removeAttribute!="function"||typeof W.setAttribute!="function"||typeof W.namespaceURI!="string"||typeof W.insertBefore!="function"||typeof W.hasChildNodes!="function")},_e=function(W){return dp(s)==="object"?W instanceof s:W&&dp(W)==="object"&&typeof W.nodeType=="number"&&typeof W.nodeName=="string"},ge=function(W,ce,ye){oe[W]&&koe(oe[W],function(ze){ze.call(e,ce,ye,tn)})},at=function(W){var ce;if(ge("beforeSanitizeElements",W,null),Ie(W))return Dr(W),!0;var ye=Ot(W.nodeName);if(ge("uponSanitizeElement",W,{tagName:ye,allowedTags:ie}),W.hasChildNodes()&&!_e(W.firstElementChild)&&(!_e(W.content)||!_e(W.content.firstElementChild))&&ga(/<[/\w]/g,W.innerHTML)&&ga(/<[/\w]/g,W.textContent))return Dr(W),!0;if(!ie[ye]||he[ye]){if(!he[ye]&&H(ye)&&(Ne.tagNameCheck instanceof RegExp&&ga(Ne.tagNameCheck,ye)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(ye)))return!1;if(Z&&!Je[ye]){var ze=C(W)||W.parentNode,We=x(W)||W.childNodes;if(We&&ze)for(var Xe=We.length,ke=Xe-1;ke>=0;--ke)ze.insertBefore(_(We[ke],!0),S(W))}return Dr(W),!0}return W instanceof a&&!As(W)||(ye==="noscript"||ye==="noembed")&&ga(/<\/no(script|embed)/i,W.innerHTML)?(Dr(W),!0):(De&&W.nodeType===3&&(ce=W.textContent,ce=Hl(ce,me," "),ce=Hl(ce,j," "),ce=Hl(ce,ne," "),W.textContent!==ce&&(ly(e.removed,{element:W.cloneNode()}),W.textContent=ce)),ge("afterSanitizeElements",W,null),!1)},D=function(W,ce,ye){if(Rt&&(ce==="id"||ce==="name")&&(ye in i||ye in ai))return!1;if(!(_t&&!mt[ce]&&ga(te,ce))){if(!(ft&&ga(de,ce))){if(!Ce[ce]||mt[ce]){if(!(H(W)&&(Ne.tagNameCheck instanceof RegExp&&ga(Ne.tagNameCheck,W)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(W))&&(Ne.attributeNameCheck instanceof RegExp&&ga(Ne.attributeNameCheck,ce)||Ne.attributeNameCheck instanceof Function&&Ne.attributeNameCheck(ce))||ce==="is"&&Ne.allowCustomizedBuiltInElements&&(Ne.tagNameCheck instanceof RegExp&&ga(Ne.tagNameCheck,ye)||Ne.tagNameCheck instanceof Function&&Ne.tagNameCheck(ye))))return!1}else if(!Te[ce]){if(!ga($,Hl(ye,V,""))){if(!((ce==="src"||ce==="xlink:href"||ce==="href")&&W!=="script"&&Foe(ye,"data:")===0&&ot[W])){if(!(Ke&&!ga(O,Hl(ye,V,"")))){if(ye)return!1}}}}}}return!0},H=function(W){return W.indexOf("-")>0},Y=function(W){var ce,ye,ze,We;ge("beforeSanitizeAttributes",W,null);var Xe=W.attributes;if(Xe){var ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce};for(We=Xe.length;We--;){ce=Xe[We];var Ut=ce,tt=Ut.name,xt=Ut.namespaceURI;if(ye=tt==="value"?ce.value:Doe(ce.value),ze=Ot(tt),ke.attrName=ze,ke.attrValue=ye,ke.keepAttr=!0,ke.forceKeepAttr=void 0,ge("uponSanitizeAttribute",W,ke),ye=ke.attrValue,!ke.forceKeepAttr&&(lr(tt,W),!!ke.keepAttr)){if(!ct&&ga(/\/>/i,ye)){lr(tt,W);continue}De&&(ye=Hl(ye,me," "),ye=Hl(ye,j," "),ye=Hl(ye,ne," "));var zt=Ot(W.nodeName);if(D(zt,ze,ye)){if(qt&&(ze==="id"||ze==="name")&&(lr(tt,W),ye=Kt+ye),M&&dp(v)==="object"&&typeof v.getAttributeType=="function"&&!xt)switch(v.getAttributeType(zt,ze)){case"TrustedHTML":ye=M.createHTML(ye);break;case"TrustedScriptURL":ye=M.createScriptURL(ye);break}try{xt?W.setAttributeNS(xt,tt,ye):W.setAttribute(tt,ye),LP(e.removed)}catch{}}}}ge("afterSanitizeAttributes",W,null)}},ve=function se(W){var ce,ye=Ee(W);for(ge("beforeSanitizeShadowDOM",W,null);ce=ye.nextNode();)ge("uponSanitizeShadowNode",ce,null),!at(ce)&&(ce.content instanceof r&&se(ce.content),Y(ce));ge("afterSanitizeShadowDOM",W,null)};return e.sanitize=function(se){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce,ye,ze,We;if(et=!se,et&&(se="<!-->"),typeof se!="string"&&!_e(se)){if(typeof se.toString!="function")throw O3("toString is not a function");if(se=se.toString(),typeof se!="string")throw O3("dirty is not a string, aborting")}if(!e.isSupported)return se;if(je||Ro(W),e.removed=[],typeof se=="string"&&(q=!1),q){if(se.nodeName){var Xe=Ot(se.nodeName);if(!ie[Xe]||he[Xe])throw O3("root node is forbidden and cannot be sanitized in-place")}}else if(se instanceof s)ce=Q("<!---->"),ye=ce.ownerDocument.importNode(se,!0),ye.nodeType===1&&ye.nodeName==="BODY"||ye.nodeName==="HTML"?ce=ye:ce.appendChild(ye);else{if(!rt&&!De&&!Ae&&se.indexOf("<")===-1)return M&&It?M.createHTML(se):se;if(ce=Q(se),!ce)return rt?null:It?B:""}ce&&Ye&&Dr(ce.firstChild);for(var ke=Ee(q?se:ce);ze=ke.nextNode();)at(ze)||(ze.content instanceof r&&ve(ze.content),Y(ze));if(q)return se;if(rt){if(St)for(We=N.call(ce.ownerDocument);ce.firstChild;)We.appendChild(ce.firstChild);else We=ce;return(Ce.shadowroot||Ce.shadowrootmod)&&(We=G.call(t,We,!0)),We}var Ut=Ae?ce.outerHTML:ce.innerHTML;return Ae&&ie["!doctype"]&&ce.ownerDocument&&ce.ownerDocument.doctype&&ce.ownerDocument.doctype.name&&ga(Joe,ce.ownerDocument.doctype.name)&&(Ut="<!DOCTYPE "+ce.ownerDocument.doctype.name+`>
`+Ut),De&&(Ut=Hl(Ut,me," "),Ut=Hl(Ut,j," "),Ut=Hl(Ut,ne," ")),M&&It?M.createHTML(Ut):Ut},e.setConfig=function(se){Ro(se),je=!0},e.clearConfig=function(){tn=null,je=!1},e.isValidAttribute=function(se,W,ce){tn||Ro({});var ye=Ot(se),ze=Ot(W);return D(ye,ze,ce)},e.addHook=function(se,W){typeof W=="function"&&(oe[se]=oe[se]||[],ly(oe[se],W))},e.removeHook=function(se){if(oe[se])return LP(oe[se])},e.removeHooks=function(se){oe[se]&&(oe[se]=[])},e.removeAllHooks=function(){oe={}},e}var Dz=Fz();const Xoe="_answerContainer_8zf5d_1",Qoe="_answerLogo_8zf5d_9",Yoe="_answerText_8zf5d_13",Zoe="_selected_8zf5d_32",ese="_citationLearnMore_8zf5d_36",tse="_citation_8zf5d_36",nse="_followupQuestionsList_8zf5d_60",ise="_followupQuestionLearnMore_8zf5d_64",rse="_followupQuestion_8zf5d_60",ose="_supContainer_8zf5d_83",sse="_retryButton_8zf5d_112",ase="_loadingdots_8zf5d_140",lse="_loading_8zf5d_140",Os={answerContainer:Xoe,answerLogo:Qoe,answerText:Yoe,selected:Zoe,citationLearnMore:ese,citation:tse,followupQuestionsList:nse,followupQuestionLearnMore:ise,followupQuestion:rse,supContainer:ose,retryButton:sse,loadingdots:ase,loading:lse};var jv={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pz=T;function wn(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ps=Object.prototype.hasOwnProperty,use=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OP={},zP={};function Nz(n){return Ps.call(zP,n)?!0:Ps.call(OP,n)?!1:use.test(n)?zP[n]=!0:(OP[n]=!0,!1)}function Cs(n,e,t,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Mo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Mo[n]=new Cs(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Mo[e]=new Cs(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Mo[n]=new Cs(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Mo[n]=new Cs(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Mo[n]=new Cs(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Mo[n]=new Cs(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Mo[n]=new Cs(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Mo[n]=new Cs(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Mo[n]=new Cs(n,5,!1,n.toLowerCase(),null,!1,!1)});var kI=/[\-:]([a-z])/g;function LI(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(kI,LI);Mo[e]=new Cs(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(kI,LI);Mo[e]=new Cs(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(kI,LI);Mo[e]=new Cs(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Mo[n]=new Cs(n,1,!1,n.toLowerCase(),null,!1,!1)});Mo.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Mo[n]=new Cs(n,1,!1,n.toLowerCase(),null,!0,!0)});var tC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cse=["Webkit","ms","Moz","O"];Object.keys(tC).forEach(function(n){cse.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),tC[e]=tC[n]})});var dse=/["'&<>]/;function fs(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var e=dse.exec(n);if(e){var t="",i,r=0;for(i=e.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==i&&(t+=n.substring(r,i)),r=i+1,t+=e}n=r!==i?t+n.substring(r,i):t}return n}var fse=/([A-Z])/g,hse=/^ms-/,NB=Array.isArray;function bc(n,e){return{insertionMode:n,selectedValue:e}}function pse(n,e,t){switch(e){case"select":return bc(1,t.value!=null?t.value:t.defaultValue);case"svg":return bc(2,null);case"math":return bc(3,null);case"foreignObject":return bc(1,null);case"table":return bc(4,null);case"thead":case"tbody":case"tfoot":return bc(5,null);case"colgroup":return bc(7,null);case"tr":return bc(6,null)}return 4<=n.insertionMode||n.insertionMode===0?bc(1,null):n}var UP=new Map;function Oz(n,e,t){if(typeof t!="object")throw Error(wn(62));e=!0;for(var i in t)if(Ps.call(t,i)){var r=t[i];if(r!=null&&typeof r!="boolean"&&r!==""){if(i.indexOf("--")===0){var o=fs(i);r=fs((""+r).trim())}else{o=i;var s=UP.get(o);s!==void 0||(s=fs(o.replace(fse,"-$1").toLowerCase().replace(hse,"-ms-")),UP.set(o,s)),o=s,r=typeof r=="number"?r===0||Ps.call(tC,i)?""+r:r+"px":fs((""+r).trim())}e?(e=!1,n.push(' style="',o,":",r)):n.push(";",o,":",r)}}e||n.push('"')}function _a(n,e,t,i){switch(t){case"style":Oz(n,e,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=Mo.hasOwnProperty(t)?Mo[t]:null,e!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=e.attributeName,e.type){case 3:i&&n.push(" ",t,'=""');break;case 4:i===!0?n.push(" ",t,'=""'):i!==!1&&n.push(" ",t,'="',fs(i),'"');break;case 5:isNaN(i)||n.push(" ",t,'="',fs(i),'"');break;case 6:!isNaN(i)&&1<=i&&n.push(" ",t,'="',fs(i),'"');break;default:e.sanitizeURL&&(i=""+i),n.push(" ",t,'="',fs(i),'"')}}else if(Nz(t)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}n.push(" ",t,'="',fs(i),'"')}}}function nC(n,e,t){if(e!=null){if(t!=null)throw Error(wn(60));if(typeof e!="object"||!("__html"in e))throw Error(wn(61));e=e.__html,e!=null&&n.push(""+e)}}function mse(n){var e="";return Pz.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function W3(n,e,t,i){n.push(Pu(t));var r=t=null,o;for(o in e)if(Ps.call(e,o)){var s=e[o];if(s!=null)switch(o){case"children":t=s;break;case"dangerouslySetInnerHTML":r=s;break;default:_a(n,i,o,s)}}return n.push(">"),nC(n,r,t),typeof t=="string"?(n.push(fs(t)),null):t}var gse=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,HP=new Map;function Pu(n){var e=HP.get(n);if(e===void 0){if(!gse.test(n))throw Error(wn(65,n));e="<"+n,HP.set(n,e)}return e}function vse(n,e,t,i,r){switch(e){case"select":n.push(Pu("select"));var o=null,s=null;for(c in t)if(Ps.call(t,c)){var a=t[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:_a(n,i,c,a)}}return n.push(">"),nC(n,s,o),o;case"option":s=r.selectedValue,n.push(Pu("option"));var l=a=null,u=null,c=null;for(o in t)if(Ps.call(t,o)){var d=t[o];if(d!=null)switch(o){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:_a(n,i,o,d)}}if(s!=null)if(t=l!==null?""+l:mse(a),NB(s)){for(i=0;i<s.length;i++)if(""+s[i]===t){n.push(' selected=""');break}}else""+s===t&&n.push(' selected=""');else u&&n.push(' selected=""');return n.push(">"),nC(n,c,a),a;case"textarea":n.push(Pu("textarea")),c=s=o=null;for(a in t)if(Ps.call(t,a)&&(l=t[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(wn(91));default:_a(n,i,a,l)}if(o===null&&s!==null&&(o=s),n.push(">"),c!=null){if(o!=null)throw Error(wn(92));if(NB(c)&&1<c.length)throw Error(wn(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o!==null&&n.push(fs(""+o)),null;case"input":n.push(Pu("input")),l=c=a=o=null;for(s in t)if(Ps.call(t,s)&&(u=t[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(wn(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:_a(n,i,s,u)}return c!==null?_a(n,i,"checked",c):l!==null&&_a(n,i,"checked",l),o!==null?_a(n,i,"value",o):a!==null&&_a(n,i,"value",a),n.push("/>"),null;case"menuitem":n.push(Pu("menuitem"));for(var m in t)if(Ps.call(t,m)&&(o=t[m],o!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(wn(400));default:_a(n,i,m,o)}return n.push(">"),null;case"title":n.push(Pu("title")),o=null;for(d in t)if(Ps.call(t,d)&&(s=t[d],s!=null))switch(d){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(wn(434));default:_a(n,i,d,s)}return n.push(">"),o;case"listing":case"pre":n.push(Pu(e)),s=o=null;for(l in t)if(Ps.call(t,l)&&(a=t[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:_a(n,i,l,a)}if(n.push(">"),s!=null){if(o!=null)throw Error(wn(60));if(typeof s!="object"||!("__html"in s))throw Error(wn(61));t=s.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?n.push(`
`,t):n.push(""+t))}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(Pu(e));for(var v in t)if(Ps.call(t,v)&&(o=t[v],o!=null))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(wn(399,e));default:_a(n,i,v,o)}return n.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return W3(n,t,e,i);case"html":return r.insertionMode===0&&n.push("<!DOCTYPE html>"),W3(n,t,e,i);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return W3(n,t,e,i);n.push(Pu(e)),s=o=null;for(u in t)if(Ps.call(t,u)&&(a=t[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":Oz(n,i,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Nz(u)&&typeof a!="function"&&typeof a!="symbol"&&n.push(" ",u,'="',fs(a),'"')}return n.push(">"),nC(n,s,o),o}}function GP(n,e,t){if(n.push('<!--$?--><template id="'),t===null)throw Error(wn(395));return n.push(t),n.push('"></template>')}function yse(n,e,t,i){switch(t.insertionMode){case 0:case 1:return n.push('<div hidden id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 2:return n.push('<svg aria-hidden="true" style="display:none" id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 3:return n.push('<math aria-hidden="true" style="display:none" id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 4:return n.push('<table hidden id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 5:return n.push('<table hidden><tbody id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 6:return n.push('<table hidden><tr id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 7:return n.push('<table hidden><colgroup id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');default:throw Error(wn(397))}}function Sse(n,e){switch(e.insertionMode){case 0:case 1:return n.push("</div>");case 2:return n.push("</svg>");case 3:return n.push("</math>");case 4:return n.push("</table>");case 5:return n.push("</tbody></table>");case 6:return n.push("</tr></table>");case 7:return n.push("</colgroup></table>");default:throw Error(wn(397))}}var _se=/[<\u2028\u2029]/g;function V3(n){return JSON.stringify(n).replace(_se,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function xse(n,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:n}}function WP(n,e,t,i){return t.generateStaticMarkup?(n.push(fs(e)),!1):(e===""?n=i:(i&&n.push("<!-- -->"),n.push(fs(e)),n=!0),n)}var iS=Object.assign,wse=Symbol.for("react.element"),zz=Symbol.for("react.portal"),Uz=Symbol.for("react.fragment"),Hz=Symbol.for("react.strict_mode"),Gz=Symbol.for("react.profiler"),Wz=Symbol.for("react.provider"),Vz=Symbol.for("react.context"),Kz=Symbol.for("react.forward_ref"),$z=Symbol.for("react.suspense"),Jz=Symbol.for("react.suspense_list"),qz=Symbol.for("react.memo"),FI=Symbol.for("react.lazy"),Cse=Symbol.for("react.scope"),Ese=Symbol.for("react.debug_trace_mode"),bse=Symbol.for("react.legacy_hidden"),Ase=Symbol.for("react.default_value"),VP=Symbol.iterator;function OB(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Uz:return"Fragment";case zz:return"Portal";case Gz:return"Profiler";case Hz:return"StrictMode";case $z:return"Suspense";case Jz:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Vz:return(n.displayName||"Context")+".Consumer";case Wz:return(n._context.displayName||"Context")+".Provider";case Kz:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case qz:return e=n.displayName||null,e!==null?e:OB(n.type)||"Memo";case FI:e=n._payload,n=n._init;try{return OB(n(e))}catch{}}return null}var jz={};function KP(n,e){if(n=n.contextTypes,!n)return jz;var t={},i;for(i in n)t[i]=e[i];return t}var fp=null;function lb(n,e){if(n!==e){n.context._currentValue2=n.parentValue,n=n.parent;var t=e.parent;if(n===null){if(t!==null)throw Error(wn(401))}else{if(t===null)throw Error(wn(401));lb(n,t)}e.context._currentValue2=e.value}}function Xz(n){n.context._currentValue2=n.parentValue,n=n.parent,n!==null&&Xz(n)}function Qz(n){var e=n.parent;e!==null&&Qz(e),n.context._currentValue2=n.value}function Yz(n,e){if(n.context._currentValue2=n.parentValue,n=n.parent,n===null)throw Error(wn(402));n.depth===e.depth?lb(n,e):Yz(n,e)}function Zz(n,e){var t=e.parent;if(t===null)throw Error(wn(402));n.depth===t.depth?lb(n,t):Zz(n,t),e.context._currentValue2=e.value}function dE(n){var e=fp;e!==n&&(e===null?Qz(n):n===null?Xz(e):e.depth===n.depth?lb(e,n):e.depth>n.depth?Yz(e,n):Zz(e,n),fp=n)}var $P={isMounted:function(){return!1},enqueueSetState:function(n,e){n=n._reactInternals,n.queue!==null&&n.queue.push(e)},enqueueReplaceState:function(n,e){n=n._reactInternals,n.replace=!0,n.queue=[e]},enqueueForceUpdate:function(){}};function JP(n,e,t,i){var r=n.state!==void 0?n.state:null;n.updater=$P,n.props=t,n.state=r;var o={queue:[],replace:!1};n._reactInternals=o;var s=e.contextType;if(n.context=typeof s=="object"&&s!==null?s._currentValue2:i,s=e.getDerivedStateFromProps,typeof s=="function"&&(s=s(t,r),r=s==null?r:iS({},r,s),n.state=r),typeof e.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&$P.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&e.length===1)n.state=e[0];else{for(o=s?e[0]:n.state,r=!0,s=s?1:0;s<e.length;s++){var a=e[s];a=typeof a=="function"?a.call(n,o,t,i):a,a!=null&&(r?(r=!1,o=iS({},o,a)):iS(o,a))}n.state=o}else o.queue=null}var Mse={id:1,overflow:""};function zB(n,e,t){var i=n.id;n=n.overflow;var r=32-iC(i)-1;i&=~(1<<r),t+=1;var o=32-iC(e)+r;if(30<o){var s=r-r%5;return o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,{id:1<<32-iC(e)+r|t<<r|i,overflow:o+n}}return{id:1<<o|t<<r|i,overflow:n}}var iC=Math.clz32?Math.clz32:Rse,Tse=Math.log,Bse=Math.LN2;function Rse(n){return n>>>=0,n===0?32:31-(Tse(n)/Bse|0)|0}function Ise(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var kse=typeof Object.is=="function"?Object.is:Ise,ed=null,DI=null,rC=null,_i=null,Ly=!1,fE=!1,JS=0,yf=null,ub=0;function tp(){if(ed===null)throw Error(wn(321));return ed}function qP(){if(0<ub)throw Error(wn(312));return{memoizedState:null,queue:null,next:null}}function PI(){return _i===null?rC===null?(Ly=!1,rC=_i=qP()):(Ly=!0,_i=rC):_i.next===null?(Ly=!1,_i=_i.next=qP()):(Ly=!0,_i=_i.next),_i}function NI(){DI=ed=null,fE=!1,rC=null,ub=0,_i=yf=null}function eU(n,e){return typeof e=="function"?e(n):e}function jP(n,e,t){if(ed=tp(),_i=PI(),Ly){var i=_i.queue;if(e=i.dispatch,yf!==null&&(t=yf.get(i),t!==void 0)){yf.delete(i),i=_i.memoizedState;do i=n(i,t.action),t=t.next;while(t!==null);return _i.memoizedState=i,[i,e]}return[_i.memoizedState,e]}return n=n===eU?typeof e=="function"?e():e:t!==void 0?t(e):e,_i.memoizedState=n,n=_i.queue={last:null,dispatch:null},n=n.dispatch=Lse.bind(null,ed,n),[_i.memoizedState,n]}function XP(n,e){if(ed=tp(),_i=PI(),e=e===void 0?null:e,_i!==null){var t=_i.memoizedState;if(t!==null&&e!==null){var i=t[1];e:if(i===null)i=!1;else{for(var r=0;r<i.length&&r<e.length;r++)if(!kse(e[r],i[r])){i=!1;break e}i=!0}if(i)return t[0]}}return n=n(),_i.memoizedState=[n,e],n}function Lse(n,e,t){if(25<=ub)throw Error(wn(301));if(n===ed)if(fE=!0,n={action:t,next:null},yf===null&&(yf=new Map),t=yf.get(e),t===void 0)yf.set(e,n);else{for(e=t;e.next!==null;)e=e.next;e.next=n}}function Fse(){throw Error(wn(394))}function Dx(){}var QP={readContext:function(n){return n._currentValue2},useContext:function(n){return tp(),n._currentValue2},useMemo:XP,useReducer:jP,useRef:function(n){ed=tp(),_i=PI();var e=_i.memoizedState;return e===null?(n={current:n},_i.memoizedState=n):e},useState:function(n){return jP(eU,n)},useInsertionEffect:Dx,useLayoutEffect:function(){},useCallback:function(n,e){return XP(function(){return n},e)},useImperativeHandle:Dx,useEffect:Dx,useDebugValue:Dx,useDeferredValue:function(n){return tp(),n},useTransition:function(){return tp(),[!1,Fse]},useId:function(){var n=DI.treeContext,e=n.overflow;n=n.id,n=(n&~(1<<32-iC(n)-1)).toString(32)+e;var t=oC;if(t===null)throw Error(wn(404));return e=JS++,n=":"+t.idPrefix+"R"+n,0<e&&(n+="H"+e.toString(32)),n+":"},useMutableSource:function(n,e){return tp(),e(n._source)},useSyncExternalStore:function(n,e,t){if(t===void 0)throw Error(wn(407));return t()}},oC=null,K3=Pz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Dse(n){return console.error(n),null}function Fy(){}function Pse(n,e,t,i,r,o,s,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:r===void 0?Dse:r,onAllReady:o===void 0?Fy:o,onShellReady:s===void 0?Fy:s,onShellError:a===void 0?Fy:a,onFatalError:l===void 0?Fy:l},t=hE(e,0,null,t,!1,!1),t.parentFlushed=!0,n=OI(e,n,null,t,c,jz,null,Mse),u.push(n),e}function OI(n,e,t,i,r,o,s,a){n.allPendingTasks++,t===null?n.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&iU(n)},blockedBoundary:t,blockedSegment:i,abortSet:r,legacyContext:o,context:s,treeContext:a};return r.add(l),l}function hE(n,e,t,i,r,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:t,lastPushedText:r,textEmbedded:o}}function qS(n,e){if(n=n.onError(e),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function pE(n,e){var t=n.onShellError;t(e),t=n.onFatalError,t(e),n.destination!==null?(n.status=2,n.destination.destroy(e)):(n.status=1,n.fatalError=e)}function YP(n,e,t,i,r){for(ed={},DI=e,JS=0,n=t(i,r);fE;)fE=!1,JS=0,ub+=1,_i=null,n=t(i,r);return NI(),n}function ZP(n,e,t,i){var r=t.render(),o=i.childContextTypes;if(o!=null){var s=e.legacyContext;if(typeof t.getChildContext!="function")i=s;else{t=t.getChildContext();for(var a in t)if(!(a in o))throw Error(wn(108,OB(i)||"Unknown",a));i=iS({},s,t)}e.legacyContext=i,Ea(n,e,r),e.legacyContext=s}else Ea(n,e,r)}function e6(n,e){if(n&&n.defaultProps){e=iS({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function UB(n,e,t,i,r){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){r=KP(t,e.legacyContext);var o=t.contextType;o=new t(i,typeof o=="object"&&o!==null?o._currentValue2:r),JP(o,t,i,r),ZP(n,e,o,t)}else{o=KP(t,e.legacyContext),r=YP(n,e,t,i,o);var s=JS!==0;if(typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0)JP(r,t,i,o),ZP(n,e,r,t);else if(s){i=e.treeContext,e.treeContext=zB(i,1,0);try{Ea(n,e,r)}finally{e.treeContext=i}}else Ea(n,e,r)}else if(typeof t=="string"){switch(r=e.blockedSegment,o=vse(r.chunks,t,i,n.responseState,r.formatContext),r.lastPushedText=!1,s=r.formatContext,r.formatContext=pse(s,t,i),HB(n,e,o),r.formatContext=s,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push("</",t,">")}r.lastPushedText=!1}else{switch(t){case bse:case Ese:case Hz:case Gz:case Uz:Ea(n,e,i.children);return;case Jz:Ea(n,e,i.children);return;case Cse:throw Error(wn(343));case $z:e:{t=e.blockedBoundary,r=e.blockedSegment,o=i.fallback,i=i.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=hE(n,r.chunks.length,a,r.formatContext,!1,!1);r.children.push(l),r.lastPushedText=!1;var u=hE(n,0,null,r.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(HB(n,e,i),n.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,mE(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=qS(n,c)}finally{e.blockedBoundary=t,e.blockedSegment=r}e=OI(n,o,t,l,s,e.legacyContext,e.context,e.treeContext),n.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kz:if(i=YP(n,e,t.render,i,r),JS!==0){t=e.treeContext,e.treeContext=zB(t,1,0);try{Ea(n,e,i)}finally{e.treeContext=t}}else Ea(n,e,i);return;case qz:t=t.type,i=e6(t,i),UB(n,e,t,i,r);return;case Wz:if(r=i.children,t=t._context,i=i.value,o=t._currentValue2,t._currentValue2=i,s=fp,fp=i={parent:s,depth:s===null?0:s.depth+1,context:t,parentValue:o,value:i},e.context=i,Ea(n,e,r),n=fp,n===null)throw Error(wn(403));i=n.parentValue,n.context._currentValue2=i===Ase?n.context._defaultValue:i,n=fp=n.parent,e.context=n;return;case Vz:i=i.children,i=i(t._currentValue2),Ea(n,e,i);return;case FI:r=t._init,t=r(t._payload),i=e6(t,i),UB(n,e,t,i,void 0);return}throw Error(wn(130,t==null?t:typeof t,""))}}function Ea(n,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case wse:UB(n,e,t.type,t.props,t.ref);return;case zz:throw Error(wn(257));case FI:var i=t._init;t=i(t._payload),Ea(n,e,t);return}if(NB(t)){t6(n,e,t);return}if(t===null||typeof t!="object"?i=null:(i=VP&&t[VP]||t["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(t))){if(t=i.next(),!t.done){var r=[];do r.push(t.value),t=i.next();while(!t.done);t6(n,e,r)}return}throw n=Object.prototype.toString.call(t),Error(wn(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}typeof t=="string"?(i=e.blockedSegment,i.lastPushedText=WP(e.blockedSegment.chunks,t,n.responseState,i.lastPushedText)):typeof t=="number"&&(i=e.blockedSegment,i.lastPushedText=WP(e.blockedSegment.chunks,""+t,n.responseState,i.lastPushedText))}function t6(n,e,t){for(var i=t.length,r=0;r<i;r++){var o=e.treeContext;e.treeContext=zB(o,i,r);try{HB(n,e,t[r])}finally{e.treeContext=o}}}function HB(n,e,t){var i=e.blockedSegment.formatContext,r=e.legacyContext,o=e.context;try{return Ea(n,e,t)}catch(l){if(NI(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var s=e.blockedSegment,a=hE(n,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,n=OI(n,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(n,n),e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=o,dE(o)}else throw e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=o,dE(o),l}}function Nse(n){var e=n.blockedBoundary;n=n.blockedSegment,n.status=3,nU(this,e,n)}function tU(n,e,t){var i=n.blockedBoundary;n.blockedSegment.status=3,i===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,n=t===void 0?Error(wn(432)):t,i.errorDigest=e.onError(n),i.parentFlushed&&e.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(r){return tU(r,e,t)}),i.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(i=e.onAllReady,i()))}function mE(n,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&mE(n,t)}else n.completedSegments.push(e)}function nU(n,e,t){if(e===null){if(t.parentFlushed){if(n.completedRootSegment!==null)throw Error(wn(389));n.completedRootSegment=t}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=Fy,e=n.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&mE(e,t),e.parentFlushed&&n.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(Nse,n),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(mE(e,t),e.completedSegments.length===1&&e.parentFlushed&&n.partialBoundaries.push(e)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function iU(n){if(n.status!==2){var e=fp,t=K3.current;K3.current=QP;var i=oC;oC=n.responseState;try{var r=n.pingedTasks,o;for(o=0;o<r.length;o++){var s=r[o],a=n,l=s.blockedSegment;if(l.status===0){dE(s.context);try{Ea(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),s.abortSet.delete(s),l.status=1,nU(a,s.blockedBoundary,l)}catch(y){if(NI(),typeof y=="object"&&y!==null&&typeof y.then=="function"){var u=s.ping;y.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=y,m=qS(a,d);if(c===null?pE(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=m,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var v=a.onAllReady;v()}}}finally{}}}r.splice(0,o),n.destination!==null&&zI(n,n.destination)}catch(y){qS(n,y),pE(n,y)}finally{oC=i,K3.current=t,t===QP&&dE(e)}}}function Px(n,e,t){switch(t.parentFlushed=!0,t.status){case 0:var i=t.id=n.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,n=n.responseState,e.push('<template id="'),e.push(n.placeholderPrefix),n=i.toString(16),e.push(n),e.push('"></template>');case 1:t.status=2;var r=!0;i=t.chunks;var o=0;t=t.children;for(var s=0;s<t.length;s++){for(r=t[s];o<r.index;o++)e.push(i[o]);r=cb(n,e,r)}for(;o<i.length-1;o++)e.push(i[o]);return o<i.length&&(r=e.push(i[o])),r;default:throw Error(wn(390))}}function cb(n,e,t){var i=t.boundary;if(i===null)return Px(n,e,t);if(i.parentFlushed=!0,i.forceClientRender)return n.responseState.generateStaticMarkup||(i=i.errorDigest,e.push("<!--$!-->"),e.push("<template"),i&&(e.push(' data-dgst="'),i=fs(i),e.push(i),e.push('"')),e.push("></template>")),Px(n,e,t),n=n.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),n;if(0<i.pendingTasks){i.rootSegmentID=n.nextSegmentId++,0<i.completedSegments.length&&n.partialBoundaries.push(i);var r=n.responseState,o=r.nextSuspenseID++;return r=r.boundaryPrefix+o.toString(16),i=i.id=r,GP(e,n.responseState,i),Px(n,e,t),e.push("<!--/$-->")}if(i.byteSize>n.progressiveChunkSize)return i.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(i),GP(e,n.responseState,i.id),Px(n,e,t),e.push("<!--/$-->");if(n.responseState.generateStaticMarkup||e.push("<!--$-->"),t=i.completedSegments,t.length!==1)throw Error(wn(391));return cb(n,e,t[0]),n=n.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),n}function n6(n,e,t){return yse(e,n.responseState,t.formatContext,t.id),cb(n,e,t),Sse(e,t.formatContext)}function i6(n,e,t){for(var i=t.completedSegments,r=0;r<i.length;r++)rU(n,e,t,i[r]);if(i.length=0,n=n.responseState,i=t.id,t=t.rootSegmentID,e.push(n.startInlineScript),n.sentCompleteBoundaryFunction?e.push('$RC("'):(n.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),i===null)throw Error(wn(395));return t=t.toString(16),e.push(i),e.push('","'),e.push(n.segmentPrefix),e.push(t),e.push('")<\/script>')}function rU(n,e,t,i){if(i.status===2)return!0;var r=i.id;if(r===-1){if((i.id=t.rootSegmentID)===-1)throw Error(wn(392));return n6(n,e,i)}return n6(n,e,i),n=n.responseState,e.push(n.startInlineScript),n.sentCompleteSegmentFunction?e.push('$RS("'):(n.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(n.segmentPrefix),r=r.toString(16),e.push(r),e.push('","'),e.push(n.placeholderPrefix),e.push(r),e.push('")<\/script>')}function zI(n,e){try{var t=n.completedRootSegment;if(t!==null&&n.pendingRootTasks===0){cb(n,e,t),n.completedRootSegment=null;var i=n.responseState.bootstrapChunks;for(t=0;t<i.length-1;t++)e.push(i[t]);t<i.length&&e.push(i[t])}var r=n.clientRenderedBoundaries,o;for(o=0;o<r.length;o++){var s=r[o];i=e;var a=n.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,d=s.errorComponentStack;if(i.push(a.startInlineScript),a.sentClientRenderFunction?i.push('$RX("'):(a.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(wn(395));if(i.push(l),i.push('"'),u||c||d){i.push(",");var m=V3(u||"");i.push(m)}if(c||d){i.push(",");var v=V3(c||"");i.push(v)}if(d){i.push(",");var y=V3(d);i.push(y)}if(!i.push(")<\/script>")){n.destination=null,o++,r.splice(0,o);return}}r.splice(0,o);var _=n.completedBoundaries;for(o=0;o<_.length;o++)if(!i6(n,e,_[o])){n.destination=null,o++,_.splice(0,o);return}_.splice(0,o);var S=n.partialBoundaries;for(o=0;o<S.length;o++){var x=S[o];e:{r=n,s=e;var C=x.completedSegments;for(a=0;a<C.length;a++)if(!rU(r,s,x,C[a])){a++,C.splice(0,a);var b=!1;break e}C.splice(0,a),b=!0}if(!b){n.destination=null,o++,S.splice(0,o);return}}S.splice(0,o);var M=n.completedBoundaries;for(o=0;o<M.length;o++)if(!i6(n,e,M[o])){n.destination=null,o++,M.splice(0,o);return}M.splice(0,o)}finally{n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&e.push(null)}}function Ose(n,e){try{var t=n.abortableTasks;t.forEach(function(i){return tU(i,n,e)}),t.clear(),n.destination!==null&&zI(n,n.destination)}catch(i){qS(n,i),pE(n,i)}}function zse(){}function oU(n,e,t,i){var r=!1,o=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){r=!0,o=u}},l=!1;if(n=Pse(n,xse(t,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,zse,void 0,function(){l=!0},void 0,void 0),iU(n),Ose(n,i),n.status===1)n.status=2,a.destroy(n.fatalError);else if(n.status!==2&&n.destination===null){n.destination=a;try{zI(n,a)}catch(u){qS(n,u),pE(n,u)}}if(r)throw o;if(!l)throw Error(wn(426));return s}jv.renderToNodeStream=function(){throw Error(wn(207))};jv.renderToStaticMarkup=function(n,e){return oU(n,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};jv.renderToStaticNodeStream=function(){throw Error(wn(208))};jv.renderToString=function(n,e){return oU(n,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};jv.version="18.2.0";var UI={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sU=T;function Mn(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ba=null,Aa=0;function Vt(n,e){if(e.length!==0)if(512<e.length)0<Aa&&(n.enqueue(new Uint8Array(ba.buffer,0,Aa)),ba=new Uint8Array(512),Aa=0),n.enqueue(e);else{var t=ba.length-Aa;t<e.length&&(t===0?n.enqueue(ba):(ba.set(e.subarray(0,t),Aa),n.enqueue(ba),e=e.subarray(t)),ba=new Uint8Array(512),Aa=0),ba.set(e,Aa),Aa+=e.length}}function Mi(n,e){return Vt(n,e),!0}function r6(n){ba&&0<Aa&&(n.enqueue(new Uint8Array(ba.buffer,0,Aa)),ba=null,Aa=0)}var aU=new TextEncoder;function In(n){return aU.encode(n)}function At(n){return aU.encode(n)}function lU(n,e){typeof n.error=="function"?n.error(e):n.close()}var Ns=Object.prototype.hasOwnProperty,Use=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o6={},s6={};function uU(n){return Ns.call(s6,n)?!0:Ns.call(o6,n)?!1:Use.test(n)?s6[n]=!0:(o6[n]=!0,!1)}function Es(n,e,t,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var To={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){To[n]=new Es(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];To[e]=new Es(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){To[n]=new Es(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){To[n]=new Es(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){To[n]=new Es(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){To[n]=new Es(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){To[n]=new Es(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){To[n]=new Es(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){To[n]=new Es(n,5,!1,n.toLowerCase(),null,!1,!1)});var HI=/[\-:]([a-z])/g;function GI(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(HI,GI);To[e]=new Es(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(HI,GI);To[e]=new Es(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(HI,GI);To[e]=new Es(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){To[n]=new Es(n,1,!1,n.toLowerCase(),null,!1,!1)});To.xlinkHref=new Es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){To[n]=new Es(n,1,!1,n.toLowerCase(),null,!0,!0)});var sC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hse=["Webkit","ms","Moz","O"];Object.keys(sC).forEach(function(n){Hse.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),sC[e]=sC[n]})});var Gse=/["'&<>]/;function wo(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var e=Gse.exec(n);if(e){var t="",i,r=0;for(i=e.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==i&&(t+=n.substring(r,i)),r=i+1,t+=e}n=r!==i?t+n.substring(r,i):t}return n}var Wse=/([A-Z])/g,Vse=/^ms-/,GB=Array.isArray,Kse=At("<script>"),$se=At("<\/script>"),Jse=At('<script src="'),qse=At('<script type="module" src="'),a6=At('" async=""><\/script>'),jse=/(<\/|<)(s)(cript)/gi;function Xse(n,e,t,i){return""+e+(t==="s"?"\\u0073":"\\u0053")+i}function Qse(n,e,t,i,r){n=n===void 0?"":n,e=e===void 0?Kse:At('<script nonce="'+wo(e)+'">');var o=[];if(t!==void 0&&o.push(e,In((""+t).replace(jse,Xse)),$se),i!==void 0)for(t=0;t<i.length;t++)o.push(Jse,In(wo(i[t])),a6);if(r!==void 0)for(i=0;i<r.length;i++)o.push(qse,In(wo(r[i])),a6);return{bootstrapChunks:o,startInlineScript:e,placeholderPrefix:At(n+"P:"),segmentPrefix:At(n+"S:"),boundaryPrefix:n+"B:",idPrefix:n,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Nu(n,e){return{insertionMode:n,selectedValue:e}}function Yse(n){return Nu(n==="http://www.w3.org/2000/svg"?2:n==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Zse(n,e,t){switch(e){case"select":return Nu(1,t.value!=null?t.value:t.defaultValue);case"svg":return Nu(2,null);case"math":return Nu(3,null);case"foreignObject":return Nu(1,null);case"table":return Nu(4,null);case"thead":case"tbody":case"tfoot":return Nu(5,null);case"colgroup":return Nu(7,null);case"tr":return Nu(6,null)}return 4<=n.insertionMode||n.insertionMode===0?Nu(1,null):n}var WI=At("<!-- -->");function l6(n,e,t,i){return e===""?i:(i&&n.push(WI),n.push(In(wo(e))),!0)}var u6=new Map,eae=At(' style="'),c6=At(":"),tae=At(";");function cU(n,e,t){if(typeof t!="object")throw Error(Mn(62));e=!0;for(var i in t)if(Ns.call(t,i)){var r=t[i];if(r!=null&&typeof r!="boolean"&&r!==""){if(i.indexOf("--")===0){var o=In(wo(i));r=In(wo((""+r).trim()))}else{o=i;var s=u6.get(o);s!==void 0||(s=At(wo(o.replace(Wse,"-$1").toLowerCase().replace(Vse,"-ms-"))),u6.set(o,s)),o=s,r=typeof r=="number"?r===0||Ns.call(sC,i)?In(""+r):In(r+"px"):In(wo((""+r).trim()))}e?(e=!1,n.push(eae,o,c6,r)):n.push(tae,o,c6,r)}}e||n.push(np)}var nf=At(" "),wg=At('="'),np=At('"'),d6=At('=""');function xa(n,e,t,i){switch(t){case"style":cU(n,e,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=To.hasOwnProperty(t)?To[t]:null,e!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=In(e.attributeName),e.type){case 3:i&&n.push(nf,t,d6);break;case 4:i===!0?n.push(nf,t,d6):i!==!1&&n.push(nf,t,wg,In(wo(i)),np);break;case 5:isNaN(i)||n.push(nf,t,wg,In(wo(i)),np);break;case 6:!isNaN(i)&&1<=i&&n.push(nf,t,wg,In(wo(i)),np);break;default:e.sanitizeURL&&(i=""+i),n.push(nf,t,wg,In(wo(i)),np)}}else if(uU(t)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}n.push(nf,In(t),wg,In(wo(i)),np)}}}var rf=At(">"),f6=At("/>");function aC(n,e,t){if(e!=null){if(t!=null)throw Error(Mn(60));if(typeof e!="object"||!("__html"in e))throw Error(Mn(61));e=e.__html,e!=null&&n.push(In(""+e))}}function nae(n){var e="";return sU.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}var $3=At(' selected=""');function J3(n,e,t,i){n.push(Ou(t));var r=t=null,o;for(o in e)if(Ns.call(e,o)){var s=e[o];if(s!=null)switch(o){case"children":t=s;break;case"dangerouslySetInnerHTML":r=s;break;default:xa(n,i,o,s)}}return n.push(rf),aC(n,r,t),typeof t=="string"?(n.push(In(wo(t))),null):t}var q3=At(`
`),iae=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,h6=new Map;function Ou(n){var e=h6.get(n);if(e===void 0){if(!iae.test(n))throw Error(Mn(65,n));e=At("<"+n),h6.set(n,e)}return e}var rae=At("<!DOCTYPE html>");function oae(n,e,t,i,r){switch(e){case"select":n.push(Ou("select"));var o=null,s=null;for(c in t)if(Ns.call(t,c)){var a=t[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:xa(n,i,c,a)}}return n.push(rf),aC(n,s,o),o;case"option":s=r.selectedValue,n.push(Ou("option"));var l=a=null,u=null,c=null;for(o in t)if(Ns.call(t,o)){var d=t[o];if(d!=null)switch(o){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:xa(n,i,o,d)}}if(s!=null)if(t=l!==null?""+l:nae(a),GB(s)){for(i=0;i<s.length;i++)if(""+s[i]===t){n.push($3);break}}else""+s===t&&n.push($3);else u&&n.push($3);return n.push(rf),aC(n,c,a),a;case"textarea":n.push(Ou("textarea")),c=s=o=null;for(a in t)if(Ns.call(t,a)&&(l=t[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Mn(91));default:xa(n,i,a,l)}if(o===null&&s!==null&&(o=s),n.push(rf),c!=null){if(o!=null)throw Error(Mn(92));if(GB(c)&&1<c.length)throw Error(Mn(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(q3),o!==null&&n.push(In(wo(""+o))),null;case"input":n.push(Ou("input")),l=c=a=o=null;for(s in t)if(Ns.call(t,s)&&(u=t[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Mn(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:xa(n,i,s,u)}return c!==null?xa(n,i,"checked",c):l!==null&&xa(n,i,"checked",l),o!==null?xa(n,i,"value",o):a!==null&&xa(n,i,"value",a),n.push(f6),null;case"menuitem":n.push(Ou("menuitem"));for(var m in t)if(Ns.call(t,m)&&(o=t[m],o!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Mn(400));default:xa(n,i,m,o)}return n.push(rf),null;case"title":n.push(Ou("title")),o=null;for(d in t)if(Ns.call(t,d)&&(s=t[d],s!=null))switch(d){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(Mn(434));default:xa(n,i,d,s)}return n.push(rf),o;case"listing":case"pre":n.push(Ou(e)),s=o=null;for(l in t)if(Ns.call(t,l)&&(a=t[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:xa(n,i,l,a)}if(n.push(rf),s!=null){if(o!=null)throw Error(Mn(60));if(typeof s!="object"||!("__html"in s))throw Error(Mn(61));t=s.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?n.push(q3,In(t)):n.push(In(""+t)))}return typeof o=="string"&&o[0]===`
`&&n.push(q3),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(Ou(e));for(var v in t)if(Ns.call(t,v)&&(o=t[v],o!=null))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(Mn(399,e));default:xa(n,i,v,o)}return n.push(f6),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return J3(n,t,e,i);case"html":return r.insertionMode===0&&n.push(rae),J3(n,t,e,i);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return J3(n,t,e,i);n.push(Ou(e)),s=o=null;for(u in t)if(Ns.call(t,u)&&(a=t[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":cU(n,i,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:uU(u)&&typeof a!="function"&&typeof a!="symbol"&&n.push(nf,In(u),wg,In(wo(a)),np)}return n.push(rf),aC(n,s,o),o}}var sae=At("</"),aae=At(">"),lae=At('<template id="'),uae=At('"></template>'),cae=At("<!--$-->"),dae=At('<!--$?--><template id="'),fae=At('"></template>'),hae=At("<!--$!-->"),pae=At("<!--/$-->"),mae=At("<template"),gae=At('"'),vae=At(' data-dgst="');At(' data-msg="');At(' data-stck="');var yae=At("></template>");function p6(n,e,t){if(Vt(n,dae),t===null)throw Error(Mn(395));return Vt(n,t),Mi(n,fae)}var Sae=At('<div hidden id="'),_ae=At('">'),xae=At("</div>"),wae=At('<svg aria-hidden="true" style="display:none" id="'),Cae=At('">'),Eae=At("</svg>"),bae=At('<math aria-hidden="true" style="display:none" id="'),Aae=At('">'),Mae=At("</math>"),Tae=At('<table hidden id="'),Bae=At('">'),Rae=At("</table>"),Iae=At('<table hidden><tbody id="'),kae=At('">'),Lae=At("</tbody></table>"),Fae=At('<table hidden><tr id="'),Dae=At('">'),Pae=At("</tr></table>"),Nae=At('<table hidden><colgroup id="'),Oae=At('">'),zae=At("</colgroup></table>");function Uae(n,e,t,i){switch(t.insertionMode){case 0:case 1:return Vt(n,Sae),Vt(n,e.segmentPrefix),Vt(n,In(i.toString(16))),Mi(n,_ae);case 2:return Vt(n,wae),Vt(n,e.segmentPrefix),Vt(n,In(i.toString(16))),Mi(n,Cae);case 3:return Vt(n,bae),Vt(n,e.segmentPrefix),Vt(n,In(i.toString(16))),Mi(n,Aae);case 4:return Vt(n,Tae),Vt(n,e.segmentPrefix),Vt(n,In(i.toString(16))),Mi(n,Bae);case 5:return Vt(n,Iae),Vt(n,e.segmentPrefix),Vt(n,In(i.toString(16))),Mi(n,kae);case 6:return Vt(n,Fae),Vt(n,e.segmentPrefix),Vt(n,In(i.toString(16))),Mi(n,Dae);case 7:return Vt(n,Nae),Vt(n,e.segmentPrefix),Vt(n,In(i.toString(16))),Mi(n,Oae);default:throw Error(Mn(397))}}function Hae(n,e){switch(e.insertionMode){case 0:case 1:return Mi(n,xae);case 2:return Mi(n,Eae);case 3:return Mi(n,Mae);case 4:return Mi(n,Rae);case 5:return Mi(n,Lae);case 6:return Mi(n,Pae);case 7:return Mi(n,zae);default:throw Error(Mn(397))}}var Gae=At('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Wae=At('$RS("'),Vae=At('","'),Kae=At('")<\/script>'),$ae=At('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Jae=At('$RC("'),qae=At('","'),jae=At('")<\/script>'),Xae=At('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Qae=At('$RX("'),Yae=At('"'),Zae=At(")<\/script>"),j3=At(","),ele=/[<\u2028\u2029]/g;function X3(n){return JSON.stringify(n).replace(ele,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var rS=Object.assign,tle=Symbol.for("react.element"),dU=Symbol.for("react.portal"),fU=Symbol.for("react.fragment"),hU=Symbol.for("react.strict_mode"),pU=Symbol.for("react.profiler"),mU=Symbol.for("react.provider"),gU=Symbol.for("react.context"),vU=Symbol.for("react.forward_ref"),yU=Symbol.for("react.suspense"),SU=Symbol.for("react.suspense_list"),_U=Symbol.for("react.memo"),VI=Symbol.for("react.lazy"),nle=Symbol.for("react.scope"),ile=Symbol.for("react.debug_trace_mode"),rle=Symbol.for("react.legacy_hidden"),ole=Symbol.for("react.default_value"),m6=Symbol.iterator;function WB(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case fU:return"Fragment";case dU:return"Portal";case pU:return"Profiler";case hU:return"StrictMode";case yU:return"Suspense";case SU:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case gU:return(n.displayName||"Context")+".Consumer";case mU:return(n._context.displayName||"Context")+".Provider";case vU:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _U:return e=n.displayName||null,e!==null?e:WB(n.type)||"Memo";case VI:e=n._payload,n=n._init;try{return WB(n(e))}catch{}}return null}var xU={};function g6(n,e){if(n=n.contextTypes,!n)return xU;var t={},i;for(i in n)t[i]=e[i];return t}var hp=null;function db(n,e){if(n!==e){n.context._currentValue=n.parentValue,n=n.parent;var t=e.parent;if(n===null){if(t!==null)throw Error(Mn(401))}else{if(t===null)throw Error(Mn(401));db(n,t)}e.context._currentValue=e.value}}function wU(n){n.context._currentValue=n.parentValue,n=n.parent,n!==null&&wU(n)}function CU(n){var e=n.parent;e!==null&&CU(e),n.context._currentValue=n.value}function EU(n,e){if(n.context._currentValue=n.parentValue,n=n.parent,n===null)throw Error(Mn(402));n.depth===e.depth?db(n,e):EU(n,e)}function bU(n,e){var t=e.parent;if(t===null)throw Error(Mn(402));n.depth===t.depth?db(n,t):bU(n,t),e.context._currentValue=e.value}function gE(n){var e=hp;e!==n&&(e===null?CU(n):n===null?wU(e):e.depth===n.depth?db(e,n):e.depth>n.depth?EU(e,n):bU(e,n),hp=n)}var v6={isMounted:function(){return!1},enqueueSetState:function(n,e){n=n._reactInternals,n.queue!==null&&n.queue.push(e)},enqueueReplaceState:function(n,e){n=n._reactInternals,n.replace=!0,n.queue=[e]},enqueueForceUpdate:function(){}};function y6(n,e,t,i){var r=n.state!==void 0?n.state:null;n.updater=v6,n.props=t,n.state=r;var o={queue:[],replace:!1};n._reactInternals=o;var s=e.contextType;if(n.context=typeof s=="object"&&s!==null?s._currentValue:i,s=e.getDerivedStateFromProps,typeof s=="function"&&(s=s(t,r),r=s==null?r:rS({},r,s),n.state=r),typeof e.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&v6.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&e.length===1)n.state=e[0];else{for(o=s?e[0]:n.state,r=!0,s=s?1:0;s<e.length;s++){var a=e[s];a=typeof a=="function"?a.call(n,o,t,i):a,a!=null&&(r?(r=!1,o=rS({},o,a)):rS(o,a))}n.state=o}else o.queue=null}var sle={id:1,overflow:""};function VB(n,e,t){var i=n.id;n=n.overflow;var r=32-lC(i)-1;i&=~(1<<r),t+=1;var o=32-lC(e)+r;if(30<o){var s=r-r%5;return o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,{id:1<<32-lC(e)+r|t<<r|i,overflow:o+n}}return{id:1<<o|t<<r|i,overflow:n}}var lC=Math.clz32?Math.clz32:ule,ale=Math.log,lle=Math.LN2;function ule(n){return n>>>=0,n===0?32:31-(ale(n)/lle|0)|0}function cle(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var dle=typeof Object.is=="function"?Object.is:cle,td=null,KI=null,uC=null,xi=null,Dy=!1,vE=!1,jS=0,Sf=null,fb=0;function ip(){if(td===null)throw Error(Mn(321));return td}function S6(){if(0<fb)throw Error(Mn(312));return{memoizedState:null,queue:null,next:null}}function $I(){return xi===null?uC===null?(Dy=!1,uC=xi=S6()):(Dy=!0,xi=uC):xi.next===null?(Dy=!1,xi=xi.next=S6()):(Dy=!0,xi=xi.next),xi}function JI(){KI=td=null,vE=!1,uC=null,fb=0,xi=Sf=null}function AU(n,e){return typeof e=="function"?e(n):e}function _6(n,e,t){if(td=ip(),xi=$I(),Dy){var i=xi.queue;if(e=i.dispatch,Sf!==null&&(t=Sf.get(i),t!==void 0)){Sf.delete(i),i=xi.memoizedState;do i=n(i,t.action),t=t.next;while(t!==null);return xi.memoizedState=i,[i,e]}return[xi.memoizedState,e]}return n=n===AU?typeof e=="function"?e():e:t!==void 0?t(e):e,xi.memoizedState=n,n=xi.queue={last:null,dispatch:null},n=n.dispatch=fle.bind(null,td,n),[xi.memoizedState,n]}function x6(n,e){if(td=ip(),xi=$I(),e=e===void 0?null:e,xi!==null){var t=xi.memoizedState;if(t!==null&&e!==null){var i=t[1];e:if(i===null)i=!1;else{for(var r=0;r<i.length&&r<e.length;r++)if(!dle(e[r],i[r])){i=!1;break e}i=!0}if(i)return t[0]}}return n=n(),xi.memoizedState=[n,e],n}function fle(n,e,t){if(25<=fb)throw Error(Mn(301));if(n===td)if(vE=!0,n={action:t,next:null},Sf===null&&(Sf=new Map),t=Sf.get(e),t===void 0)Sf.set(e,n);else{for(e=t;e.next!==null;)e=e.next;e.next=n}}function hle(){throw Error(Mn(394))}function Nx(){}var w6={readContext:function(n){return n._currentValue},useContext:function(n){return ip(),n._currentValue},useMemo:x6,useReducer:_6,useRef:function(n){td=ip(),xi=$I();var e=xi.memoizedState;return e===null?(n={current:n},xi.memoizedState=n):e},useState:function(n){return _6(AU,n)},useInsertionEffect:Nx,useLayoutEffect:function(){},useCallback:function(n,e){return x6(function(){return n},e)},useImperativeHandle:Nx,useEffect:Nx,useDebugValue:Nx,useDeferredValue:function(n){return ip(),n},useTransition:function(){return ip(),[!1,hle]},useId:function(){var n=KI.treeContext,e=n.overflow;n=n.id,n=(n&~(1<<32-lC(n)-1)).toString(32)+e;var t=cC;if(t===null)throw Error(Mn(404));return e=jS++,n=":"+t.idPrefix+"R"+n,0<e&&(n+="H"+e.toString(32)),n+":"},useMutableSource:function(n,e){return ip(),e(n._source)},useSyncExternalStore:function(n,e,t){if(t===void 0)throw Error(Mn(407));return t()}},cC=null,Q3=sU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function ple(n){return console.error(n),null}function Py(){}function mle(n,e,t,i,r,o,s,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:r===void 0?ple:r,onAllReady:o===void 0?Py:o,onShellReady:s===void 0?Py:s,onShellError:a===void 0?Py:a,onFatalError:l===void 0?Py:l},t=yE(e,0,null,t,!1,!1),t.parentFlushed=!0,n=qI(e,n,null,t,c,xU,null,sle),u.push(n),e}function qI(n,e,t,i,r,o,s,a){n.allPendingTasks++,t===null?n.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&BU(n)},blockedBoundary:t,blockedSegment:i,abortSet:r,legacyContext:o,context:s,treeContext:a};return r.add(l),l}function yE(n,e,t,i,r,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:t,lastPushedText:r,textEmbedded:o}}function XS(n,e){if(n=n.onError(e),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function SE(n,e){var t=n.onShellError;t(e),t=n.onFatalError,t(e),n.destination!==null?(n.status=2,lU(n.destination,e)):(n.status=1,n.fatalError=e)}function C6(n,e,t,i,r){for(td={},KI=e,jS=0,n=t(i,r);vE;)vE=!1,jS=0,fb+=1,xi=null,n=t(i,r);return JI(),n}function E6(n,e,t,i){var r=t.render(),o=i.childContextTypes;if(o!=null){var s=e.legacyContext;if(typeof t.getChildContext!="function")i=s;else{t=t.getChildContext();for(var a in t)if(!(a in o))throw Error(Mn(108,WB(i)||"Unknown",a));i=rS({},s,t)}e.legacyContext=i,Ma(n,e,r),e.legacyContext=s}else Ma(n,e,r)}function b6(n,e){if(n&&n.defaultProps){e=rS({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function KB(n,e,t,i,r){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){r=g6(t,e.legacyContext);var o=t.contextType;o=new t(i,typeof o=="object"&&o!==null?o._currentValue:r),y6(o,t,i,r),E6(n,e,o,t)}else{o=g6(t,e.legacyContext),r=C6(n,e,t,i,o);var s=jS!==0;if(typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0)y6(r,t,i,o),E6(n,e,r,t);else if(s){i=e.treeContext,e.treeContext=VB(i,1,0);try{Ma(n,e,r)}finally{e.treeContext=i}}else Ma(n,e,r)}else if(typeof t=="string"){switch(r=e.blockedSegment,o=oae(r.chunks,t,i,n.responseState,r.formatContext),r.lastPushedText=!1,s=r.formatContext,r.formatContext=Zse(s,t,i),$B(n,e,o),r.formatContext=s,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:r.chunks.push(sae,In(t),aae)}r.lastPushedText=!1}else{switch(t){case rle:case ile:case hU:case pU:case fU:Ma(n,e,i.children);return;case SU:Ma(n,e,i.children);return;case nle:throw Error(Mn(343));case yU:e:{t=e.blockedBoundary,r=e.blockedSegment,o=i.fallback,i=i.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=yE(n,r.chunks.length,a,r.formatContext,!1,!1);r.children.push(l),r.lastPushedText=!1;var u=yE(n,0,null,r.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if($B(n,e,i),u.lastPushedText&&u.textEmbedded&&u.chunks.push(WI),u.status=1,_E(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=XS(n,c)}finally{e.blockedBoundary=t,e.blockedSegment=r}e=qI(n,o,t,l,s,e.legacyContext,e.context,e.treeContext),n.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vU:if(i=C6(n,e,t.render,i,r),jS!==0){t=e.treeContext,e.treeContext=VB(t,1,0);try{Ma(n,e,i)}finally{e.treeContext=t}}else Ma(n,e,i);return;case _U:t=t.type,i=b6(t,i),KB(n,e,t,i,r);return;case mU:if(r=i.children,t=t._context,i=i.value,o=t._currentValue,t._currentValue=i,s=hp,hp=i={parent:s,depth:s===null?0:s.depth+1,context:t,parentValue:o,value:i},e.context=i,Ma(n,e,r),n=hp,n===null)throw Error(Mn(403));i=n.parentValue,n.context._currentValue=i===ole?n.context._defaultValue:i,n=hp=n.parent,e.context=n;return;case gU:i=i.children,i=i(t._currentValue),Ma(n,e,i);return;case VI:r=t._init,t=r(t._payload),i=b6(t,i),KB(n,e,t,i,void 0);return}throw Error(Mn(130,t==null?t:typeof t,""))}}function Ma(n,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case tle:KB(n,e,t.type,t.props,t.ref);return;case dU:throw Error(Mn(257));case VI:var i=t._init;t=i(t._payload),Ma(n,e,t);return}if(GB(t)){A6(n,e,t);return}if(t===null||typeof t!="object"?i=null:(i=m6&&t[m6]||t["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(t))){if(t=i.next(),!t.done){var r=[];do r.push(t.value),t=i.next();while(!t.done);A6(n,e,r)}return}throw n=Object.prototype.toString.call(t),Error(Mn(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}typeof t=="string"?(i=e.blockedSegment,i.lastPushedText=l6(e.blockedSegment.chunks,t,n.responseState,i.lastPushedText)):typeof t=="number"&&(i=e.blockedSegment,i.lastPushedText=l6(e.blockedSegment.chunks,""+t,n.responseState,i.lastPushedText))}function A6(n,e,t){for(var i=t.length,r=0;r<i;r++){var o=e.treeContext;e.treeContext=VB(o,i,r);try{$B(n,e,t[r])}finally{e.treeContext=o}}}function $B(n,e,t){var i=e.blockedSegment.formatContext,r=e.legacyContext,o=e.context;try{return Ma(n,e,t)}catch(l){if(JI(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var s=e.blockedSegment,a=yE(n,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,n=qI(n,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(n,n),e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=o,gE(o)}else throw e.blockedSegment.formatContext=i,e.legacyContext=r,e.context=o,gE(o),l}}function gle(n){var e=n.blockedBoundary;n=n.blockedSegment,n.status=3,TU(this,e,n)}function MU(n,e,t){var i=n.blockedBoundary;n.blockedSegment.status=3,i===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,n=t===void 0?Error(Mn(432)):t,i.errorDigest=e.onError(n),i.parentFlushed&&e.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(r){return MU(r,e,t)}),i.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(i=e.onAllReady,i()))}function _E(n,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&_E(n,t)}else n.completedSegments.push(e)}function TU(n,e,t){if(e===null){if(t.parentFlushed){if(n.completedRootSegment!==null)throw Error(Mn(389));n.completedRootSegment=t}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=Py,e=n.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&_E(e,t),e.parentFlushed&&n.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(gle,n),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(_E(e,t),e.completedSegments.length===1&&e.parentFlushed&&n.partialBoundaries.push(e)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function BU(n){if(n.status!==2){var e=hp,t=Q3.current;Q3.current=w6;var i=cC;cC=n.responseState;try{var r=n.pingedTasks,o;for(o=0;o<r.length;o++){var s=r[o],a=n,l=s.blockedSegment;if(l.status===0){gE(s.context);try{Ma(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(WI),s.abortSet.delete(s),l.status=1,TU(a,s.blockedBoundary,l)}catch(y){if(JI(),typeof y=="object"&&y!==null&&typeof y.then=="function"){var u=s.ping;y.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=y,m=XS(a,d);if(c===null?SE(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=m,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var v=a.onAllReady;v()}}}finally{}}}r.splice(0,o),n.destination!==null&&jI(n,n.destination)}catch(y){XS(n,y),SE(n,y)}finally{cC=i,Q3.current=t,t===w6&&gE(e)}}}function Ox(n,e,t){switch(t.parentFlushed=!0,t.status){case 0:var i=t.id=n.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,n=n.responseState,Vt(e,lae),Vt(e,n.placeholderPrefix),n=In(i.toString(16)),Vt(e,n),Mi(e,uae);case 1:t.status=2;var r=!0;i=t.chunks;var o=0;t=t.children;for(var s=0;s<t.length;s++){for(r=t[s];o<r.index;o++)Vt(e,i[o]);r=hb(n,e,r)}for(;o<i.length-1;o++)Vt(e,i[o]);return o<i.length&&(r=Mi(e,i[o])),r;default:throw Error(Mn(390))}}function hb(n,e,t){var i=t.boundary;if(i===null)return Ox(n,e,t);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,Mi(e,hae),Vt(e,mae),i&&(Vt(e,vae),Vt(e,In(wo(i))),Vt(e,gae)),Mi(e,yae),Ox(n,e,t);else if(0<i.pendingTasks){i.rootSegmentID=n.nextSegmentId++,0<i.completedSegments.length&&n.partialBoundaries.push(i);var r=n.responseState,o=r.nextSuspenseID++;r=At(r.boundaryPrefix+o.toString(16)),i=i.id=r,p6(e,n.responseState,i),Ox(n,e,t)}else if(i.byteSize>n.progressiveChunkSize)i.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(i),p6(e,n.responseState,i.id),Ox(n,e,t);else{if(Mi(e,cae),t=i.completedSegments,t.length!==1)throw Error(Mn(391));hb(n,e,t[0])}return Mi(e,pae)}function M6(n,e,t){return Uae(e,n.responseState,t.formatContext,t.id),hb(n,e,t),Hae(e,t.formatContext)}function T6(n,e,t){for(var i=t.completedSegments,r=0;r<i.length;r++)RU(n,e,t,i[r]);if(i.length=0,n=n.responseState,i=t.id,t=t.rootSegmentID,Vt(e,n.startInlineScript),n.sentCompleteBoundaryFunction?Vt(e,Jae):(n.sentCompleteBoundaryFunction=!0,Vt(e,$ae)),i===null)throw Error(Mn(395));return t=In(t.toString(16)),Vt(e,i),Vt(e,qae),Vt(e,n.segmentPrefix),Vt(e,t),Mi(e,jae)}function RU(n,e,t,i){if(i.status===2)return!0;var r=i.id;if(r===-1){if((i.id=t.rootSegmentID)===-1)throw Error(Mn(392));return M6(n,e,i)}return M6(n,e,i),n=n.responseState,Vt(e,n.startInlineScript),n.sentCompleteSegmentFunction?Vt(e,Wae):(n.sentCompleteSegmentFunction=!0,Vt(e,Gae)),Vt(e,n.segmentPrefix),r=In(r.toString(16)),Vt(e,r),Vt(e,Vae),Vt(e,n.placeholderPrefix),Vt(e,r),Mi(e,Kae)}function jI(n,e){ba=new Uint8Array(512),Aa=0;try{var t=n.completedRootSegment;if(t!==null&&n.pendingRootTasks===0){hb(n,e,t),n.completedRootSegment=null;var i=n.responseState.bootstrapChunks;for(t=0;t<i.length-1;t++)Vt(e,i[t]);t<i.length&&Mi(e,i[t])}var r=n.clientRenderedBoundaries,o;for(o=0;o<r.length;o++){var s=r[o];i=e;var a=n.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,d=s.errorComponentStack;if(Vt(i,a.startInlineScript),a.sentClientRenderFunction?Vt(i,Qae):(a.sentClientRenderFunction=!0,Vt(i,Xae)),l===null)throw Error(Mn(395));Vt(i,l),Vt(i,Yae),(u||c||d)&&(Vt(i,j3),Vt(i,In(X3(u||"")))),(c||d)&&(Vt(i,j3),Vt(i,In(X3(c||"")))),d&&(Vt(i,j3),Vt(i,In(X3(d)))),Mi(i,Zae)}r.splice(0,o);var m=n.completedBoundaries;for(o=0;o<m.length;o++)T6(n,e,m[o]);m.splice(0,o),r6(e),ba=new Uint8Array(512),Aa=0;var v=n.partialBoundaries;for(o=0;o<v.length;o++){var y=v[o];e:{r=n,s=e;var _=y.completedSegments;for(a=0;a<_.length;a++)if(!RU(r,s,y,_[a])){a++,_.splice(0,a);var S=!1;break e}_.splice(0,a),S=!0}if(!S){n.destination=null,o++,v.splice(0,o);return}}v.splice(0,o);var x=n.completedBoundaries;for(o=0;o<x.length;o++)T6(n,e,x[o]);x.splice(0,o)}finally{r6(e),n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&e.close()}}function B6(n,e){try{var t=n.abortableTasks;t.forEach(function(i){return MU(i,n,e)}),t.clear(),n.destination!==null&&jI(n,n.destination)}catch(i){XS(n,i),SE(n,i)}}UI.renderToReadableStream=function(n,e){return new Promise(function(t,i){var r,o,s=new Promise(function(c,d){o=c,r=d}),a=mle(n,Qse(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),Yse(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(a.status===1)a.status=2,lU(d,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=d;try{jI(a,d)}catch(m){XS(a,m),SE(a,m)}}},cancel:function(){B6(a)}},{highWaterMark:0});c.allReady=s,t(c)},function(c){s.catch(function(){}),i(c)},r);if(e&&e.signal){var l=e.signal,u=function(){B6(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}BU(a)})};UI.version="18.2.0";var Xv,IU;Xv=jv,IU=UI;Xv.version;Xv.renderToString;var vle=Xv.renderToStaticMarkup;Xv.renderToNodeStream;Xv.renderToStaticNodeStream;IU.renderToReadableStream;function yle(n,e){const t=[],i=[];let r=n.replace(/<<([^>>]+)>>/g,(a,l)=>(i.push(l),""));return r=r.trim(),{answerHtml:r.split(/\[([^\]]+)\]/g).map((a,l)=>{if(l%2===0)return a;{let u;t.indexOf(a)!==-1?u=t.indexOf(a)+1:(t.push(a),u=t.length);const c=Rz(a);return vle(Ge("a",{className:"supContainer",title:a,onClick:()=>e(c),children:Ge("sup",{children:u})}))}}).join(""),citations:t,followupQuestions:i}}const Y3=typeof window>"u"?global:window,Z3="@griffel/";function Sle(n,e){return Y3[Symbol.for(Z3+n)]||(Y3[Symbol.for(Z3+n)]=e),Y3[Symbol.for(Z3+n)]}const JB=Sle("DEFINITION_LOOKUP_TABLE",{}),dC="data-make-styles-bucket",qB=7,XI="___",_le=XI.length+qB,xle=0,wle=1;function Cle(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Ele(n){const e=n.length;if(e===qB)return n;for(let t=e;t<qB;t++)n+="0";return n}function kU(n,e,t=[]){return XI+Ele(Cle(n+e))}function LU(n,e){let t="";for(const i in n){const r=n[i];if(r){const o=Array.isArray(r);e==="rtl"?t+=(o?r[1]:r)+" ":t+=(o?r[0]:r)+" "}}return t.slice(0,-1)}function R6(n,e){const t={};for(const i in n){const r=LU(n[i],e);if(r===""){t[i]="";continue}const o=kU(r,e),s=o+" "+r;JB[o]=[n[i],e],t[i]=s}return t}const I6={};function ble(){let n=null,e="",t="";const i=new Array(arguments.length);for(let u=0;u<arguments.length;u++){const c=arguments[u];if(typeof c=="string"&&c!==""){const d=c.indexOf(XI);if(d===-1)e+=c+" ";else{const m=c.substr(d,_le);d>0&&(e+=c.slice(0,d)),t+=m,i[u]=m}}}if(t==="")return e.slice(0,-1);const r=I6[t];if(r!==void 0)return e+r;const o=[];for(let u=0;u<arguments.length;u++){const c=i[u];if(c){const d=JB[c];d&&(o.push(d[xle]),n=d[wle])}}const s=Object.assign.apply(Object,[{}].concat(o));let a=LU(s,n);const l=kU(a,n,i);return a=l+" "+a,I6[t]=a,JB[l]=[s,n],e+a}function Ale(n){return Array.isArray(n)?n:[n]}function Mle(n,e,t){const i=[];if(t[dC]=e,n)for(const o in t)n.setAttribute(o,t[o]);function r(o){return n!=null&&n.sheet?n.sheet.insertRule(o,n.sheet.cssRules.length):i.push(o)}return{elementAttributes:t,insertRule:r,element:n,bucketName:e,cssRules(){return n!=null&&n.sheet?Array.from(n.sheet.cssRules).map(o=>o.cssText):i}}}const Tle=["r","d","l","v","w","f","i","h","a","k","t","m"],k6=Tle.reduce((n,e,t)=>(n[e]=t,n),{});function Ble(n,e,t,i,r={}){const o=n==="m",s=o?n+r.m:n;if(!i.stylesheets[s]){const a=e&&e.createElement("style"),l=Mle(a,n,{...i.styleElementAttributes,...o&&{media:r.m}});i.stylesheets[s]=l,e&&a&&e.head.insertBefore(a,Rle(e,t,n,i,r))}return i.stylesheets[s]}function Rle(n,e,t,i,r){const o=k6[t];let s=c=>o-k6[c.getAttribute(dC)],a=n.head.querySelectorAll(`[${dC}]`);if(t==="m"&&r){const c=n.head.querySelectorAll(`[${dC}="${t}"]`);c.length&&(a=c,s=d=>i.compareMediaQueries(r.m,d.media))}const l=a.length;let u=l-1;for(;u>=0;){const c=a.item(u);if(s(c)>0)return c.nextSibling;u--}return l>0?a.item(0):e?e.nextSibling:null}let Ile=0;const kle=(n,e)=>n<e?-1:n>e?1:0;function Lle(n=typeof document>"u"?void 0:document,e={}){const{unstable_filterCSSRule:t,insertionPoint:i,styleElementAttributes:r,compareMediaQueries:o=kle}=e,s={insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(r),compareMediaQueries:o,id:`d${Ile++}`,insertCSSRules(a){for(const l in a){const u=a[l];for(let c=0,d=u.length;c<d;c++){const[m,v]=Ale(u[c]),y=Ble(l,n,i||null,s,v);if(!s.insertionCache[m]){s.insertionCache[m]=l;try{t?t(m)&&y.insertRule(m):y.insertRule(m)}catch{}}}}}};return s}function Fle(n,e){const t={};let i=null,r=null;function o(s){const{dir:a,renderer:l}=s,u=a==="ltr",c=u?l.id:l.id+"r";return u?i===null&&(i=R6(n,a)):r===null&&(r=R6(n,a)),t[c]===void 0&&(l.insertCSSRules(e),t[c]=!0),u?i:r}return o}const Dle=T.createContext(Lle());function Ple(){return T.useContext(Dle)}const Nle=T.createContext("ltr");function Ole(){return T.useContext(Nle)}function zle(n,e){const t=Fle(n,e);return function(){const r=Ole(),o=Ple();return t({dir:r,renderer:o})}}const Ule=zle({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in",ycbfsm:"fg4l7m0"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}"],t:["@media (forced-colors: active){.fg4l7m0{forced-color-adjust:auto;}}"]}),Hle=n=>{const{title:e,primaryFill:t="currentColor"}=n,i=sc(n,["title","primaryFill"]),r=Object.assign(Object.assign({},i),{title:void 0,fill:t}),o=Ule();return r.className=ble(o.root,r.className),e&&(r["aria-label"]=e),!r["aria-label"]&&!r["aria-labelledby"]?r["aria-hidden"]=!0:r.role="img",r},Gle=(n,e)=>{const t=i=>{const r=Hle(i);return T.createElement(n,Object.assign({},r))};return t.displayName=e,t},ud=Gle,Wle=n=>{const{fill:e="currentColor",className:t}=n;return T.createElement("svg",Object.assign({},n,{width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",className:t}),T.createElement("path",{d:"M8.34 7a9 9 0 1 1-3.3 6.1 1 1 0 0 0-1.99-.2A11 11 0 1 0 7 5.51V4a1 1 0 0 0-2 0v3.99A1 1 0 0 0 6 9h4a1 1 0 1 0 0-2H8.34Z",fill:e}))},Vle=ud(Wle,"ArrowCounterclockwise28Filled"),Kle=n=>{const{fill:e="currentColor",className:t}=n;return T.createElement("svg",Object.assign({},n,{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:t}),T.createElement("path",{d:"M10 5h4a2 2 0 1 0-4 0ZM8.5 5a3.5 3.5 0 1 1 7 0h5.75a.75.75 0 0 1 0 1.5h-1.32l-1.17 12.11A3.75 3.75 0 0 1 15.03 22H8.97a3.75 3.75 0 0 1-3.73-3.39L4.07 6.5H2.75a.75.75 0 0 1 0-1.5H8.5Zm2 4.75a.75.75 0 0 0-1.5 0v7.5a.75.75 0 0 0 1.5 0v-7.5ZM14.25 9c.41 0 .75.34.75.75v7.5a.75.75 0 0 1-1.5 0v-7.5c0-.41.34-.75.75-.75Zm-7.52 9.47a2.25 2.25 0 0 0 2.24 2.03h6.06c1.15 0 2.12-.88 2.24-2.03L18.42 6.5H5.58l1.15 11.97Z",fill:e}))},$le=ud(Kle,"Delete24Regular"),Jle=n=>{const{fill:e="currentColor",className:t}=n;return T.createElement("svg",Object.assign({},n,{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:t}),T.createElement("path",{d:"M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm0 1.67a8.34 8.34 0 0 0 0 16.66 8.34 8.34 0 0 0 0-16.66Zm0 10.83a1 1 0 1 1 0 2 1 1 0 0 1 0-2ZM12 7c.37 0 .69.28.74.65v4.6a.75.75 0 0 1-1.48.1l-.01-.1v-4.5c0-.41.33-.75.74-.75Z",fill:e}))},qle=ud(Jle,"ErrorCircle24Regular"),jle=n=>{const{fill:e="currentColor",className:t}=n;return T.createElement("svg",Object.assign({},n,{width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",className:t}),T.createElement("path",{d:"M14 2a4.5 4.5 0 0 0-4.5 4.5v8a4.5 4.5 0 1 0 9 0v-8A4.5 4.5 0 0 0 14 2ZM7.5 13.75a.75.75 0 1 0-1.5 0v.75a8 8 0 0 0 7.25 7.97v2.78a.75.75 0 0 0 1.5 0v-2.78A8 8 0 0 0 22 14.5v-.75a.75.75 0 1 0-1.5 0v.75a6.5 6.5 0 1 1-13 0v-.75Z",fill:e}))},L6=ud(jle,"Mic28Filled"),Xle=n=>{const{fill:e="currentColor",className:t}=n;return T.createElement("svg",Object.assign({},n,{width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",className:t}),T.createElement("path",{d:"M10.14 3.38A2.75 2.75 0 0 0 6 5.76v16.48c0 2.13 2.3 3.45 4.14 2.38l14.7-8.6a2.35 2.35 0 0 0 0-4.05l-14.7-8.59Z",fill:e}))},Qle=ud(Xle,"Play28Filled"),Yle=n=>{const{fill:e="currentColor",className:t}=n;return T.createElement("svg",Object.assign({},n,{width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",className:t}),T.createElement("path",{d:"M3.79 2.62a1.25 1.25 0 0 0-1.75 1.46l2.02 7.53a1 1 0 0 0 .82.73l9.89 1.41c.28.04.28.46 0 .5l-9.88 1.4a1 1 0 0 0-.83.74l-2.02 7.54a1.25 1.25 0 0 0 1.75 1.45l21.5-10.25c.95-.45.95-1.8 0-2.26L3.79 2.62Z",fill:e}))},Zle=ud(Yle,"Send28Filled"),eue=n=>{const{fill:e="currentColor",className:t}=n;return T.createElement("svg",Object.assign({},n,{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:t}),T.createElement("path",{d:"M12.01 2.25c.74 0 1.47.1 2.18.25.32.07.55.33.59.65l.17 1.53a1.38 1.38 0 0 0 1.92 1.11l1.4-.61c.3-.13.64-.06.85.17a9.8 9.8 0 0 1 2.2 3.8c.1.3 0 .63-.26.82l-1.25.92a1.38 1.38 0 0 0 0 2.22l1.25.92c.26.19.36.52.27.82a9.8 9.8 0 0 1-2.2 3.8.75.75 0 0 1-.85.17l-1.4-.62a1.38 1.38 0 0 0-1.93 1.12l-.17 1.52a.75.75 0 0 1-.58.65 9.52 9.52 0 0 1-4.4 0 .75.75 0 0 1-.57-.65l-.17-1.52a1.38 1.38 0 0 0-1.93-1.11l-1.4.62a.75.75 0 0 1-.85-.18 9.8 9.8 0 0 1-2.2-3.8c-.1-.3 0-.63.26-.82l1.25-.92a1.38 1.38 0 0 0 0-2.22l-1.24-.92a.75.75 0 0 1-.28-.82 9.8 9.8 0 0 1 2.2-3.8c.23-.23.57-.3.86-.17l1.4.62c.4.17.86.15 1.25-.08.38-.22.63-.6.68-1.04l.17-1.53a.75.75 0 0 1 .58-.65c.72-.16 1.45-.24 2.2-.25Zm0 1.5c-.45 0-.9.04-1.35.12l-.11.97a2.89 2.89 0 0 1-4.03 2.33l-.9-.4A8.3 8.3 0 0 0 4.29 9.1l.8.59a2.88 2.88 0 0 1 0 4.64l-.8.59a8.3 8.3 0 0 0 1.35 2.32l.9-.4a2.88 2.88 0 0 1 4.02 2.32l.1.99c.9.15 1.8.15 2.7 0l.1-.99a2.88 2.88 0 0 1 4.02-2.32l.9.4a8.3 8.3 0 0 0 1.35-2.32l-.8-.59a2.88 2.88 0 0 1 0-4.64l.8-.59a8.3 8.3 0 0 0-1.35-2.32l-.9.4a2.88 2.88 0 0 1-4.02-2.32l-.1-.98c-.45-.08-.9-.11-1.34-.12ZM12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z",fill:e}))},tue=ud(eue,"Settings24Regular"),nue=n=>{const{fill:e="currentColor",className:t}=n;return T.createElement("svg",Object.assign({},n,{width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",className:t}),T.createElement("path",{d:"M10.06 18.7a1.63 1.63 0 0 0 2.43-.67l.77-2.34a3.82 3.82 0 0 1 2.42-2.42l2.23-.73a1.61 1.61 0 0 0 1.07-1.3 1.62 1.62 0 0 0-1.13-1.78l-2.21-.72a3.82 3.82 0 0 1-2.42-2.42l-.73-2.23a1.62 1.62 0 0 0-3.07.01l-.74 2.27a3.82 3.82 0 0 1-2.36 2.36l-2.24.73a1.63 1.63 0 0 0 .02 3.07l2.22.72a3.86 3.86 0 0 1 2.42 2.43l.73 2.23c.1.32.32.6.6.8Zm9.74 6.08a1.2 1.2 0 0 0 1.84-.6l.37-1.14a1.6 1.6 0 0 1 1.02-1.02l1.16-.38a1.21 1.21 0 0 0 .59-1.83 1.23 1.23 0 0 0-.62-.45L23 18.99A1.6 1.6 0 0 1 22 17.97l-.38-1.16a1.2 1.2 0 0 0-2.27.01l-.38 1.15a1.6 1.6 0 0 1-.99 1.02l-1.17.38a1.21 1.21 0 0 0-.58 1.83c.15.2.36.36.6.44l1.14.37A1.6 1.6 0 0 1 19 23.04l.37 1.16c.09.24.24.44.44.58Z",fill:e}))},eM=ud(nue,"Sparkle28Filled"),iue=n=>{const{fill:e="currentColor",className:t}=n;return T.createElement("svg",Object.assign({},n,{width:28,height:28,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",className:t}),T.createElement("path",{d:"M14.4 3.9c.8-.75 2.1-.18 2.1.91v18.37c0 1.1-1.3 1.66-2.1.92l-4.94-4.63c-.33-.3-.75-.47-1.2-.47H5.25A3.25 3.25 0 0 1 2 15.75v-3.5c0-1.79 1.46-3.24 3.25-3.24h3.01c.45 0 .87-.17 1.2-.48l4.93-4.63Zm7.24 1.28a.75.75 0 0 1 1.06.07 13.2 13.2 0 0 1 0 17.5.75.75 0 1 1-1.12-1 11.7 11.7 0 0 0 0-15.5.75.75 0 0 1 .06-1.07ZM20.35 8.3a.75.75 0 1 0-1.2.9 7.96 7.96 0 0 1 0 9.6.75.75 0 1 0 1.2.9 9.46 9.46 0 0 0 0-11.4Z",fill:e}))},rue=ud(iue,"Speaker228Filled"),FU=({isLast:n,playing:e,pausePlay:t,paused:i,resumePlay:r,rePlay:o,ttsOn:s})=>n?s?i?Ge(Qle,{primaryFill:"#4f943a","aria-hidden":"true","aria-label":"Answer logo",onClick:r}):e?Ge(rue,{primaryFill:"#4f943a","aria-hidden":"true","aria-label":"Answer logo",onClick:t}):e?Ge(eM,{primaryFill:"#4f943a","aria-hidden":"true","aria-label":"Answer logo"}):Ge(Vle,{primaryFill:"#4f943a","aria-hidden":"true","aria-label":"Answer logo",onClick:o}):Ge(eM,{primaryFill:"#4f943a","aria-hidden":"true","aria-label":"Answer logo"}):Ge(eM,{primaryFill:"#4f943a","aria-hidden":"true","aria-label":"Answer logo"}),oue=({answer:n,isSelected:e,onCitationClicked:t,onThoughtProcessClicked:i,onSupportingContentClicked:r,onFollowupQuestionClicked:o,showFollowupQuestions:s,mode:a,isLast:l,playing:u,pausePlay:c,rePlay:d,paused:m,resumePlay:v,ttsOn:y})=>{const _=T.useMemo(()=>yle(n.answer,t),[n]),S=Dz.sanitize(_.answerHtml);return ti(Ca,{className:`${Os.answerContainer} ${e&&Os.selected}`,verticalAlign:"space-between",children:[a!="avatar"?Ge(Ca.Item,{children:ti(Ca,{horizontal:!0,horizontalAlign:"space-between",children:[Ge(FU,{isLast:l,playing:u,pausePlay:c,paused:m,resumePlay:v,rePlay:d,ttsOn:y}),ti("div",{children:[Ge(GS,{style:{color:"black"},iconProps:{iconName:"Lightbulb"},title:"Show thought process",ariaLabel:"Show thought process",onClick:()=>i(),disabled:!n.thoughts}),Ge(GS,{style:{color:"black"},iconProps:{iconName:"ClipboardList"},title:"Show supporting content",ariaLabel:"Show supporting content",onClick:()=>r(),disabled:!n.data_points.length})]})]})}):Ge("div",{}),Ge(Ca.Item,{grow:!0,children:Ge("div",{className:Os.answerText,dangerouslySetInnerHTML:{__html:S}})}),!!_.citations.length&&Ge(Ca.Item,{children:ti(Ca,{horizontal:!0,wrap:!0,tokens:{childrenGap:5},children:[Ge("span",{className:Os.citationLearnMore,children:"Citations:"}),_.citations.map((x,C)=>{const b=Rz(x);return Ge("a",{className:Os.citation,title:x,onClick:()=>t(b),children:`${++C}. ${x}`},C)})]})}),!!_.followupQuestions.length&&s&&o&&Ge(Ca.Item,{children:ti(Ca,{horizontal:!0,wrap:!0,className:`${_.citations.length?Os.followupQuestionsList:""}`,tokens:{childrenGap:6},children:[Ge("span",{className:Os.followupQuestionLearnMore,children:"Follow-up questions:"}),_.followupQuestions.map((x,C)=>Ge("a",{className:Os.followupQuestion,title:x,onClick:()=>o(x),children:`${x}`},C))]})})]})};var QI=L1(),yn=n=>k1(n,QI),YI=L1();yn.write=n=>k1(n,YI);var pb=L1();yn.onStart=n=>k1(n,pb);var ZI=L1();yn.onFrame=n=>k1(n,ZI);var ek=L1();yn.onFinish=n=>k1(n,ek);var nv=[];yn.setTimeout=(n,e)=>{let t=yn.now()+e,i=()=>{let o=nv.findIndex(s=>s.cancel==i);~o&&nv.splice(o,1),xf-=~o?1:0},r={time:t,handler:n,cancel:i};return nv.splice(DU(t),0,r),xf+=1,PU(),r};var DU=n=>~(~nv.findIndex(e=>e.time>n)||~nv.length);yn.cancel=n=>{pb.delete(n),ZI.delete(n),ek.delete(n),QI.delete(n),YI.delete(n)};yn.sync=n=>{jB=!0,yn.batchedUpdates(n),jB=!1};yn.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...r){e=r,yn.onStart(t)}return i.handler=n,i.cancel=()=>{pb.delete(t),e=null},i};var tk=typeof window<"u"?window.requestAnimationFrame:()=>{};yn.use=n=>tk=n;yn.now=typeof performance<"u"?()=>performance.now():Date.now;yn.batchedUpdates=n=>n();yn.catch=console.error;yn.frameLoop="always";yn.advance=()=>{yn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):OU()};var _f=-1,xf=0,jB=!1;function k1(n,e){jB?(e.delete(n),n(0)):(e.add(n),PU())}function PU(){_f<0&&(_f=0,yn.frameLoop!=="demand"&&tk(NU))}function sue(){_f=-1}function NU(){~_f&&(tk(NU),yn.batchedUpdates(OU))}function OU(){let n=_f;_f=yn.now();let e=DU(_f);if(e&&(zU(nv.splice(0,e),t=>t.handler()),xf-=e),!xf){sue();return}pb.flush(),QI.flush(n?Math.min(64,_f-n):16.667),ZI.flush(),YI.flush(),ek.flush()}function L1(){let n=new Set,e=n;return{add(t){xf+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return xf-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,xf-=e.size,zU(e,i=>i(t)&&n.add(i)),xf+=n.size,e=n)}}}function zU(n,e){n.forEach(t=>{try{e(t)}catch(i){yn.catch(i)}})}var aue=Object.defineProperty,lue=(n,e)=>{for(var t in e)aue(n,t,{get:e[t],enumerable:!0})},fu={};lue(fu,{assign:()=>cue,colors:()=>Df,createStringInterpolator:()=>ik,skipAnimation:()=>HU,to:()=>UU,willAdvance:()=>rk});function XB(){}var uue=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),ht={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Pc(n,e){if(ht.arr(n)){if(!ht.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var Gn=(n,e)=>n.forEach(e);function nc(n,e,t){if(ht.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(let i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}var Ia=n=>ht.und(n)?[]:ht.arr(n)?n:[n];function oS(n,e){if(n.size){let t=Array.from(n);n.clear(),Gn(t,e)}}var Ny=(n,...e)=>oS(n,t=>t(...e)),nk=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ik,UU,Df=null,HU=!1,rk=XB,cue=n=>{n.to&&(UU=n.to),n.now&&(yn.now=n.now),n.colors!==void 0&&(Df=n.colors),n.skipAnimation!=null&&(HU=n.skipAnimation),n.createStringInterpolator&&(ik=n.createStringInterpolator),n.requestAnimationFrame&&yn.use(n.requestAnimationFrame),n.batchedUpdates&&(yn.batchedUpdates=n.batchedUpdates),n.willAdvance&&(rk=n.willAdvance),n.frameLoop&&(yn.frameLoop=n.frameLoop)},sS=new Set,cl=[],tM=[],xE=0,mb={get idle(){return!sS.size&&!cl.length},start(n){xE>n.priority?(sS.add(n),yn.onStart(due)):(GU(n),yn(QB))},advance:QB,sort(n){if(xE)yn.onFrame(()=>mb.sort(n));else{let e=cl.indexOf(n);~e&&(cl.splice(e,1),WU(n))}},clear(){cl=[],sS.clear()}};function due(){sS.forEach(GU),sS.clear(),yn(QB)}function GU(n){cl.includes(n)||WU(n)}function WU(n){cl.splice(fue(cl,e=>e.priority>n.priority),0,n)}function QB(n){let e=tM;for(let t=0;t<cl.length;t++){let i=cl[t];xE=i.priority,i.idle||(rk(i),i.advance(n),i.idle||e.push(i))}return xE=0,tM=cl,tM.length=0,cl=e,cl.length>0}function fue(n,e){let t=n.findIndex(e);return t<0?n.length:t}var hue=(n,e,t)=>Math.min(Math.max(t,n),e),pue={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},iu="[-+]?\\d*\\.?\\d+",wE=iu+"%";function gb(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var mue=new RegExp("rgb"+gb(iu,iu,iu)),gue=new RegExp("rgba"+gb(iu,iu,iu,iu)),vue=new RegExp("hsl"+gb(iu,wE,wE)),yue=new RegExp("hsla"+gb(iu,wE,wE,iu)),Sue=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_ue=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,xue=/^#([0-9a-fA-F]{6})$/,wue=/^#([0-9a-fA-F]{8})$/;function Cue(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=xue.exec(n))?parseInt(e[1]+"ff",16)>>>0:Df&&Df[n]!==void 0?Df[n]:(e=mue.exec(n))?(Zm(e[1])<<24|Zm(e[2])<<16|Zm(e[3])<<8|255)>>>0:(e=gue.exec(n))?(Zm(e[1])<<24|Zm(e[2])<<16|Zm(e[3])<<8|P6(e[4]))>>>0:(e=Sue.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=wue.exec(n))?parseInt(e[1],16)>>>0:(e=_ue.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=vue.exec(n))?(F6(D6(e[1]),zx(e[2]),zx(e[3]))|255)>>>0:(e=yue.exec(n))?(F6(D6(e[1]),zx(e[2]),zx(e[3]))|P6(e[4]))>>>0:null}function nM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function F6(n,e,t){let i=t<.5?t*(1+e):t+e-t*e,r=2*t-i,o=nM(r,i,n+1/3),s=nM(r,i,n),a=nM(r,i,n-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function Zm(n){let e=parseInt(n,10);return e<0?0:e>255?255:e}function D6(n){return(parseFloat(n)%360+360)%360/360}function P6(n){let e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function zx(n){let e=parseFloat(n);return e<0?0:e>100?1:e/100}function N6(n){let e=Cue(n);if(e===null)return n;e=e||0;let t=(e&4278190080)>>>24,i=(e&16711680)>>>16,r=(e&65280)>>>8,o=(e&255)/255;return`rgba(${t}, ${i}, ${r}, ${o})`}var QS=(n,e,t)=>{if(ht.fun(n))return n;if(ht.arr(n))return QS({range:n,output:e,extrapolate:t});if(ht.str(n.output[0]))return ik(n);let i=n,r=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",a=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(u=>u);return u=>{let c=bue(u,o);return Eue(u,o[c],o[c+1],r[c],r[c+1],l,s,a,i.map)}};function Eue(n,e,t,i,r,o,s,a,l){let u=l?l(n):n;if(u<e){if(s==="identity")return u;s==="clamp"&&(u=e)}if(u>t){if(a==="identity")return u;a==="clamp"&&(u=t)}return i===r?i:e===t?n<=e?i:r:(e===-1/0?u=-u:t===1/0?u=u-e:u=(u-e)/(t-e),u=o(u),i===-1/0?u=-u:r===1/0?u=u+i:u=u*(r-i)+i,u)}function bue(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var Aue=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);let i=t*n,r=e==="end"?Math.floor(i):Math.ceil(i);return hue(0,1,r/n)},CE=1.70158,Ux=CE*1.525,O6=CE+1,z6=2*Math.PI/3,U6=2*Math.PI/4.5,Hx=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,Mue={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>O6*n*n*n-CE*n*n,easeOutBack:n=>1+O6*Math.pow(n-1,3)+CE*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((Ux+1)*2*n-Ux)/2:(Math.pow(2*n-2,2)*((Ux+1)*(n*2-2)+Ux)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*z6),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*z6)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*U6))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*U6)/2+1,easeInBounce:n=>1-Hx(1-n),easeOutBounce:Hx,easeInOutBounce:n=>n<.5?(1-Hx(1-2*n))/2:(1+Hx(2*n-1))/2,steps:Aue},wv=Symbol.for("FluidValue.get"),Hp=Symbol.for("FluidValue.observers"),ll=n=>!!(n&&n[wv]),zs=n=>n&&n[wv]?n[wv]():n,H6=n=>n[Hp]||null;function Tue(n,e){n.eventObserved?n.eventObserved(e):n(e)}function YS(n,e){let t=n[Hp];t&&t.forEach(i=>{Tue(i,e)})}var $1e,J1e,nO,VU=(nO=class{constructor(n){Ft(this,$1e);Ft(this,J1e);if(!n&&!(n=this.get))throw Error("Unknown getter");Bue(this,n)}},$1e=wv,J1e=Hp,nO),Bue=(n,e)=>KU(n,wv,e);function Qv(n,e){if(n[wv]){let t=n[Hp];t||KU(n,Hp,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function ZS(n,e){let t=n[Hp];if(t&&t.has(e)){let i=t.size-1;i?t.delete(e):n[Hp]=null,n.observerRemoved&&n.observerRemoved(i,e)}}var KU=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),fC=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Rue=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,G6=new RegExp(`(${fC.source})(%|[a-z]+)`,"i"),Iue=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,vb=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,$U=n=>{let[e,t]=kue(n);if(!e||nk())return n;let i=window.getComputedStyle(document.documentElement).getPropertyValue(e);return i?i.trim():t&&t.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(t)||n:t&&vb.test(t)?$U(t):t||n},kue=n=>{let e=vb.exec(n);if(!e)return[,];let[,t,i]=e;return[t,i]},iM,Lue=(n,e,t,i,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${r})`,JU=n=>{iM||(iM=Df?new RegExp(`(${Object.keys(Df).join("|")})(?!\\w)`,"g"):/^\b$/);let e=n.output.map(r=>zs(r).replace(vb,$U).replace(Rue,N6).replace(iM,N6)),t=e.map(r=>r.match(fC).map(Number)),i=t[0].map((r,o)=>t.map(s=>{if(!(o in s))throw Error('The arity of each "output" value must be equal');return s[o]})).map(r=>QS({...n,output:r}));return r=>{var a;let o=!G6.test(e[0])&&((a=e.find(l=>G6.test(l)))==null?void 0:a.replace(fC,"")),s=0;return e[0].replace(fC,()=>`${i[s++](r)}${o||""}`).replace(Iue,Lue)}},ok="react-spring: ",qU=n=>{let e=n,t=!1;if(typeof e!="function")throw new TypeError(`${ok}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},Fue=qU(console.warn);function Due(){Fue(`${ok}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Pue=qU(console.warn);function Nue(){Pue(`${ok}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function yb(n){return ht.str(n)&&(n[0]=="#"||/\d/.test(n)||!nk()&&vb.test(n)||n in(Df||{}))}var sk=nk()?T.useEffect:T.useLayoutEffect,Oue=()=>{let n=T.useRef(!1);return sk(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function jU(){let n=T.useState()[1],e=Oue();return()=>{e.current&&n(Math.random())}}function zue(n,e){let[t]=T.useState(()=>({inputs:e,result:n()})),i=T.useRef(),r=i.current,o=r;return o?e&&o.inputs&&Uue(e,o.inputs)||(o={inputs:e,result:n()}):o=t,T.useEffect(()=>{i.current=o,r==t&&(t.inputs=t.result=void 0)},[o]),o.result}function Uue(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var XU=n=>T.useEffect(n,Hue),Hue=[];function W6(n){let e=T.useRef();return T.useEffect(()=>{e.current=n}),e.current}var e1=Symbol.for("Animated:node"),Gue=n=>!!n&&n[e1]===n,Gu=n=>n&&n[e1],ak=(n,e)=>uue(n,e1,e),Sb=n=>n&&n[e1]&&n[e1].getPayload(),QU=class{constructor(){Ft(this,"payload");ak(this,this)}getPayload(){return this.payload||[]}},F1=class extends QU{constructor(e){super();Ft(this,"done",!0);Ft(this,"elapsedTime");Ft(this,"lastPosition");Ft(this,"lastVelocity");Ft(this,"v0");Ft(this,"durationProgress",0);this._value=e,ht.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new F1(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return ht.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,ht.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},t1=class extends F1{constructor(e){super(0);Ft(this,"_string",null);Ft(this,"_toString");this._toString=QS({output:[e,e]})}static create(e){return new t1(e)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(e){if(ht.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=QS({output:[this.getValue(),e]})),this._value=0,super.reset()}},EE={dependencies:null},_b=class extends QU{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){let e={};return nc(this.source,(t,i)=>{Gue(t)?e[i]=t.getValue(n):ll(t)?e[i]=zs(t):n||(e[i]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&Gn(this.payload,n=>n.reset())}_makePayload(n){if(n){let e=new Set;return nc(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){EE.dependencies&&ll(n)&&EE.dependencies.add(n);let e=Sb(n);e&&Gn(e,t=>this.add(t))}},YU=class extends _b{constructor(e){super(e)}static create(e){return new YU(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((i,r)=>i.setValue(e[r])).some(Boolean):(super.setValue(e.map(Wue)),!0)}};function Wue(n){return(yb(n)?t1:F1).create(n)}function YB(n){let e=Gu(n);return e?e.constructor:ht.arr(n)?YU:yb(n)?t1:F1}var V6=(n,e)=>{let t=!ht.fun(n)||n.prototype&&n.prototype.isReactComponent;return T.forwardRef((i,r)=>{let o=T.useRef(null),s=t&&T.useCallback(y=>{o.current=$ue(r,y)},[r]),[a,l]=Kue(i,e),u=jU(),c=()=>{let y=o.current;t&&!y||(y?e.applyAnimatedValues(y,a.getValue(!0)):!1)===!1&&u()},d=new Vue(c,l),m=T.useRef();sk(()=>(m.current=d,Gn(l,y=>Qv(y,d)),()=>{m.current&&(Gn(m.current.deps,y=>ZS(y,m.current)),yn.cancel(m.current.update))})),T.useEffect(c,[]),XU(()=>()=>{let y=m.current;Gn(y.deps,_=>ZS(_,y))});let v=e.getComponentProps(a.getValue());return T.createElement(n,{...v,ref:s})})},Vue=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&yn.write(this.update)}};function Kue(n,e){let t=new Set;return EE.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new _b(n),EE.dependencies=null,[n,t]}function $ue(n,e){return n&&(ht.fun(n)?n(e):n.current=e),e}var K6=Symbol.for("AnimatedComponent"),Jue=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new _b(r),getComponentProps:i=r=>r}={})=>{let r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},o=s=>{let a=$6(s)||"Anonymous";return ht.str(s)?s=o[s]||(o[s]=V6(s,r)):s=s[K6]||(s[K6]=V6(s,r)),s.displayName=`Animated(${a})`,s};return nc(n,(s,a)=>{ht.arr(n)&&(a=$6(s)),o[a]=o(s)}),{animated:o}},$6=n=>ht.str(n)?n:n&&ht.str(n.displayName)?n.displayName:ht.fun(n)&&n.name||null;function rp(n,...e){return ht.fun(n)?n(...e):n}var aS=(n,e)=>n===!0||!!(e&&n&&(ht.fun(n)?n(e):Ia(n).includes(e))),ZU=(n,e)=>ht.obj(n)?e&&n[e]:n,eH=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,que=n=>n,lk=(n,e=que)=>{let t=jue;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));let i={};for(let r of t){let o=e(n[r],r);ht.und(o)||(i[r]=o)}return i},jue=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Xue={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Que(n){let e={},t=0;if(nc(n,(i,r)=>{Xue[r]||(e[r]=i,t++)}),t)return e}function tH(n){let e=Que(n);if(e){let t={to:e};return nc(n,(i,r)=>r in e||(t[r]=i)),t}return{...n}}function n1(n){return n=zs(n),ht.arr(n)?n.map(n1):yb(n)?fu.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function Yue(n){for(let e in n)return!0;return!1}function ZB(n){return ht.fun(n)||ht.arr(n)&&ht.obj(n[0])}function Zue(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function ece(n,e){var t;e&&n.ref!==e&&((t=n.ref)==null||t.delete(n),e.add(n),n.ref=e)}var tce={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},eR={...tce.default,mass:1,damping:1,easing:Mue.linear,clamp:!1},nce=class{constructor(){Ft(this,"tension");Ft(this,"friction");Ft(this,"frequency");Ft(this,"damping");Ft(this,"mass");Ft(this,"velocity",0);Ft(this,"restVelocity");Ft(this,"precision");Ft(this,"progress");Ft(this,"duration");Ft(this,"easing");Ft(this,"clamp");Ft(this,"bounce");Ft(this,"decay");Ft(this,"round");Object.assign(this,eR)}};function ice(n,e,t){t&&(t={...t},J6(t,e),e={...t,...e}),J6(n,e),Object.assign(n,e);for(let s in eR)n[s]==null&&(n[s]=eR[s]);let{mass:i,frequency:r,damping:o}=n;return ht.und(r)||(r<.01&&(r=.01),o<0&&(o=0),n.tension=Math.pow(2*Math.PI/r,2)*i,n.friction=4*Math.PI*o*i/r),n}function J6(n,e){if(!ht.und(e.decay))n.duration=void 0;else{let t=!ht.und(e.tension)||!ht.und(e.friction);(t||!ht.und(e.frequency)||!ht.und(e.damping)||!ht.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}var q6=[],rce=class{constructor(){Ft(this,"changed",!1);Ft(this,"values",q6);Ft(this,"toValues",null);Ft(this,"fromValues",q6);Ft(this,"to");Ft(this,"from");Ft(this,"config",new nce);Ft(this,"immediate",!1)}};function nH(n,{key:e,props:t,defaultProps:i,state:r,actions:o}){return new Promise((s,a)=>{let l,u,c=aS(t.cancel??(i==null?void 0:i.cancel),e);if(c)v();else{ht.und(t.pause)||(r.paused=aS(t.pause,e));let y=i==null?void 0:i.pause;y!==!0&&(y=r.paused||aS(y,e)),l=rp(t.delay||0,e),y?(r.resumeQueue.add(m),o.pause()):(o.resume(),m())}function d(){r.resumeQueue.add(m),r.timeouts.delete(u),u.cancel(),l=u.time-yn.now()}function m(){l>0&&!fu.skipAnimation?(r.delayed=!0,u=yn.setTimeout(v,l),r.pauseQueue.add(d),r.timeouts.add(u)):v()}function v(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(d),r.timeouts.delete(u),n<=(r.cancelId||0)&&(c=!0);try{o.start({...t,callId:n,cancel:c},s)}catch(y){a(y)}}})}var uk=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?iv(n.get()):e.every(t=>t.noop)?iH(n.get()):tu(n.get(),e.every(t=>t.finished)),iH=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),tu=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),iv=n=>({value:n,cancelled:!0,finished:!1});function rH(n,e,t,i){let{callId:r,parentId:o,onRest:s}=e,{asyncTo:a,promise:l}=t;return!o&&n===a&&!e.reset?l:t.promise=(async()=>{t.asyncId=r,t.asyncTo=n;let u=lk(e,(S,x)=>x==="onRest"?void 0:S),c,d,m=new Promise((S,x)=>(c=S,d=x)),v=S=>{let x=r<=(t.cancelId||0)&&iv(i)||r!==t.asyncId&&tu(i,!1);if(x)throw S.result=x,d(S),S},y=(S,x)=>{let C=new j6,b=new X6;return(async()=>{if(fu.skipAnimation)throw i1(t),b.result=tu(i,!1),d(b),b;v(C);let M=ht.obj(S)?{...S}:{...x,to:S};M.parentId=r,nc(u,(k,F)=>{ht.und(M[F])&&(M[F]=k)});let B=await i.start(M);return v(C),t.paused&&await new Promise(k=>{t.resumeQueue.add(k)}),B})()},_;if(fu.skipAnimation)return i1(t),tu(i,!1);try{let S;ht.arr(n)?S=(async x=>{for(let C of x)await y(C)})(n):S=Promise.resolve(n(y,i.stop.bind(i))),await Promise.all([S.then(c),m]),_=tu(i.get(),!0,!1)}catch(S){if(S instanceof j6)_=S.result;else if(S instanceof X6)_=S.result;else throw S}finally{r==t.asyncId&&(t.asyncId=o,t.asyncTo=o?a:void 0,t.promise=o?l:void 0)}return ht.fun(s)&&yn.batchedUpdates(()=>{s(_,i,i.item)}),_})()}function i1(n,e){oS(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}var j6=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");Ft(this,"result")}},X6=class extends Error{constructor(){super("SkipAnimationSignal");Ft(this,"result")}},tR=n=>n instanceof ck,oce=1,ck=class extends VU{constructor(){super(...arguments);Ft(this,"id",oce++);Ft(this,"_priority",0)}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=Gu(this);return e&&e.getValue()}to(...e){return fu.to(this,e)}interpolate(...e){return Due(),fu.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){YS(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||mb.sort(this),YS(this,{type:"priority",parent:this,priority:e})}},Gp=Symbol.for("SpringPhase"),oH=1,nR=2,iR=4,rM=n=>(n[Gp]&oH)>0,Kd=n=>(n[Gp]&nR)>0,uy=n=>(n[Gp]&iR)>0,Q6=(n,e)=>e?n[Gp]|=nR|oH:n[Gp]&=~nR,Y6=(n,e)=>e?n[Gp]|=iR:n[Gp]&=~iR,sce=class extends ck{constructor(e,t){super();Ft(this,"key");Ft(this,"animation",new rce);Ft(this,"queue");Ft(this,"defaultProps",{});Ft(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});Ft(this,"_pendingCalls",new Set);Ft(this,"_lastCallId",0);Ft(this,"_lastToId",0);Ft(this,"_memoizedDuration",0);if(!ht.und(e)||!ht.und(t)){let i=ht.obj(e)?{...e}:{...t,from:e};ht.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(Kd(this)||this._state.asyncTo)||uy(this)}get goal(){return zs(this.animation.to)}get velocity(){let e=Gu(this);return e instanceof F1?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return rM(this)}get isAnimating(){return Kd(this)}get isPaused(){return uy(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1,r=this.animation,{config:o,toValues:s}=r,a=Sb(r.to);!a&&ll(r.to)&&(s=Ia(zs(r.to))),r.values.forEach((c,d)=>{if(c.done)return;let m=c.constructor==t1?1:a?a[d].lastPosition:s[d],v=r.immediate,y=m;if(!v){if(y=c.lastPosition,o.tension<=0){c.done=!0;return}let _=c.elapsedTime+=e,S=r.fromValues[d],x=c.v0!=null?c.v0:c.v0=ht.arr(o.velocity)?o.velocity[d]:o.velocity,C,b=o.precision||(S==m?.005:Math.min(1,Math.abs(m-S)*.001));if(ht.und(o.duration))if(o.decay){let M=o.decay===!0?.998:o.decay,B=Math.exp(-(1-M)*_);y=S+x/(1-M)*(1-B),v=Math.abs(c.lastPosition-y)<=b,C=x*B}else{C=c.lastVelocity==null?x:c.lastVelocity;let M=o.restVelocity||b/10,B=o.clamp?0:o.bounce,k=!ht.und(B),F=S==m?c.v0>0:S<m,R,N=!1,U=1,G=Math.ceil(e/U);for(let oe=0;oe<G&&(R=Math.abs(C)>M,!(!R&&(v=Math.abs(m-y)<=b,v)));++oe){k&&(N=y==m||y>m==F,N&&(C=-C*B,y=m));let me=-o.tension*1e-6*(y-m),j=-o.friction*.001*C,ne=(me+j)/o.mass;C=C+ne*U,y=y+C*U}}else{let M=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,c.durationProgress>0&&(c.elapsedTime=o.duration*c.durationProgress,_=c.elapsedTime+=e)),M=(o.progress||0)+_/this._memoizedDuration,M=M>1?1:M<0?0:M,c.durationProgress=M),y=S+o.easing(M)*(m-S),C=(y-c.lastPosition)/e,v=M==1}c.lastVelocity=C,Number.isNaN(y)&&(console.warn("Got NaN while animating:",this),v=!0)}a&&!a[d].done&&(v=!1),v?c.done=!0:t=!1,c.setValue(y,o.round)&&(i=!0)});let l=Gu(this),u=l.getValue();if(t){let c=zs(r.to);(u!==c||i)&&!o.decay?(l.setValue(c),this._onChange(c)):i&&o.decay&&this._onChange(u),this._stop()}else i&&this._onChange(u)}set(e){return yn.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Kd(this)){let{to:e,config:t}=this.animation;yn.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return ht.und(e)?(i=this.queue||[],this.queue=[]):i=[ht.obj(e)?e:{...t,to:e}],Promise.all(i.map(r=>this._update(r))).then(r=>uk(this,r))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),i1(this._state,e&&this._lastCallId),yn.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:i,from:r}=e;i=ht.obj(i)?i[t]:i,(i==null||ZB(i))&&(i=void 0),r=ht.obj(r)?r[t]:r,r==null&&(r=void 0);let o={to:i,from:r};return rM(this)||(e.reverse&&([i,r]=[r,i]),r=zs(r),ht.und(r)?Gu(this)||this._set(i):this._set(r)),o}_update({...e},t){let{key:i,defaultProps:r}=this;e.default&&Object.assign(r,lk(e,(a,l)=>/^on/.test(l)?ZU(a,i):a)),e9(this,e,"onProps"),dy(this,"onProps",e,this);let o=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let s=this._state;return nH(++this._lastCallId,{key:i,props:e,defaultProps:r,state:s,actions:{pause:()=>{uy(this)||(Y6(this,!0),Ny(s.pauseQueue),dy(this,"onPause",tu(this,cy(this,this.animation.to)),this))},resume:()=>{uy(this)&&(Y6(this,!1),Kd(this)&&this._resume(),Ny(s.resumeQueue),dy(this,"onResume",tu(this,cy(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(a=>{if(e.loop&&a.finished&&!(t&&a.noop)){let l=sH(e);if(l)return this._update(l,!0)}return a})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(iv(this));let r=!ht.und(e.to),o=!ht.und(e.from);if(r||o)if(t.callId>this._lastToId)this._lastToId=t.callId;else return i(iv(this));let{key:s,defaultProps:a,animation:l}=this,{to:u,from:c}=l,{to:d=u,from:m=c}=e;o&&!r&&(!t.default||ht.und(d))&&(d=m),t.reverse&&([d,m]=[m,d]);let v=!Pc(m,c);v&&(l.from=m),m=zs(m);let y=!Pc(d,u);y&&this._focus(d);let _=ZB(t.to),{config:S}=l,{decay:x,velocity:C}=S;(r||o)&&(S.velocity=0),t.config&&!_&&ice(S,rp(t.config,s),t.config!==a.config?rp(a.config,s):void 0);let b=Gu(this);if(!b||ht.und(d))return i(tu(this,!0));let M=ht.und(t.reset)?o&&!t.default:!ht.und(m)&&aS(t.reset,s),B=M?m:this.get(),k=n1(d),F=ht.num(k)||ht.arr(k)||yb(k),R=!_&&(!F||aS(a.immediate||t.immediate,s));if(y){let oe=YB(d);if(oe!==b.constructor)if(R)b=this._set(k);else throw Error(`Cannot animate between ${b.constructor.name} and ${oe.name}, as the "to" prop suggests`)}let N=b.constructor,U=ll(d),G=!1;if(!U){let oe=M||!rM(this)&&v;(y||oe)&&(G=Pc(n1(B),k),U=!G),(!Pc(l.immediate,R)&&!R||!Pc(S.decay,x)||!Pc(S.velocity,C))&&(U=!0)}if(G&&Kd(this)&&(l.changed&&!M?U=!0:U||this._stop(u)),!_&&((U||ll(u))&&(l.values=b.getPayload(),l.toValues=ll(d)?null:N==t1?[1]:Ia(k)),l.immediate!=R&&(l.immediate=R,!R&&!M&&this._set(u)),U)){let{onRest:oe}=l;Gn(lce,j=>e9(this,t,j));let me=tu(this,cy(this,u));Ny(this._pendingCalls,me),this._pendingCalls.add(i),l.changed&&yn.batchedUpdates(()=>{var j;l.changed=!M,oe==null||oe(me,this),M?rp(a.onRest,me):(j=l.onStart)==null||j.call(l,me,this)})}M&&this._set(B),_?i(rH(t.to,t,this._state,this)):U?this._start():Kd(this)&&!y?this._pendingCalls.add(i):i(iH(B))}_focus(e){let t=this.animation;e!==t.to&&(H6(this)&&this._detach(),t.to=e,H6(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;ll(t)&&(Qv(t,this),tR(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;ll(e)&&ZS(e,this)}_set(e,t=!0){let i=zs(e);if(!ht.und(i)){let r=Gu(this);if(!r||!Pc(i,r.getValue())){let o=YB(i);!r||r.constructor!=o?ak(this,o.create(i)):r.setValue(i),r&&yn.batchedUpdates(()=>{this._onChange(i,t)})}}return Gu(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,dy(this,"onStart",tu(this,cy(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),rp(this.animation.onChange,e,this)),rp(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;Gu(this).reset(zs(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Kd(this)||(Q6(this,!0),uy(this)||this._resume())}_resume(){fu.skipAnimation?this.finish():mb.start(this)}_stop(e,t){if(Kd(this)){Q6(this,!1);let i=this.animation;Gn(i.values,o=>{o.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),YS(this,{type:"idle",parent:this});let r=t?iv(this.get()):tu(this.get(),cy(this,e??i.to));Ny(this._pendingCalls,r),i.changed&&(i.changed=!1,dy(this,"onRest",r,this))}}};function cy(n,e){let t=n1(e),i=n1(n.get());return Pc(i,t)}function sH(n,e=n.loop,t=n.to){let i=rp(e);if(i){let r=i!==!0&&tH(i),o=(r||n).reverse,s=!r||r.reset;return r1({...n,loop:e,default:!1,pause:void 0,to:!o||ZB(t)?t:void 0,from:s?n.from:void 0,reset:s,...r})}}function r1(n){let{to:e,from:t}=n=tH(n),i=new Set;return ht.obj(e)&&Z6(e,i),ht.obj(t)&&Z6(t,i),n.keys=i.size?Array.from(i):null,n}function ace(n){let e=r1(n);return ht.und(e.default)&&(e.default=lk(e)),e}function Z6(n,e){nc(n,(t,i)=>t!=null&&e.add(i))}var lce=["onStart","onRest","onChange","onPause","onResume"];function e9(n,e,t){n.animation[t]=e[t]!==eH(e,t)?ZU(e[t],n.key):void 0}function dy(n,e,...t){var i,r,o,s;(r=(i=n.animation)[e])==null||r.call(i,...t),(s=(o=n.defaultProps)[e])==null||s.call(o,...t)}var uce=["onStart","onChange","onRest"],cce=1,dce=class{constructor(n,e){Ft(this,"id",cce++);Ft(this,"springs",{});Ft(this,"queue",[]);Ft(this,"ref");Ft(this,"_flush");Ft(this,"_initialProps");Ft(this,"_lastAsyncId",0);Ft(this,"_active",new Set);Ft(this,"_changed",new Set);Ft(this,"_started",!1);Ft(this,"_item");Ft(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});Ft(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){let n={};return this.each((e,t)=>n[t]=e.get()),n}set(n){for(let e in n){let t=n[e];ht.und(t)||this.springs[e].set(t)}}update(n){return n&&this.queue.push(r1(n)),this}start(n){let{queue:e}=this;return n?e=Ia(n).map(r1):this.queue=[],this._flush?this._flush(this,e):(dH(this,e),rR(this,e))}stop(n,e){if(n!==!!n&&(e=n),e){let t=this.springs;Gn(Ia(e),i=>t[i].stop(!!n))}else i1(this._state,this._lastAsyncId),this.each(t=>t.stop(!!n));return this}pause(n){if(ht.und(n))this.start({pause:!0});else{let e=this.springs;Gn(Ia(n),t=>e[t].pause())}return this}resume(n){if(ht.und(n))this.start({pause:!1});else{let e=this.springs;Gn(Ia(n),t=>e[t].resume())}return this}each(n){nc(this.springs,n)}_onFrame(){let{onStart:n,onChange:e,onRest:t}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,oS(n,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));let o=!i&&this._started,s=r||o&&t.size?this.get():null;r&&e.size&&oS(e,([a,l])=>{l.value=s,a(l,this,this._item)}),o&&(this._started=!1,oS(t,([a,l])=>{l.value=s,a(l,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;yn.onFrame(this._onFrame)}};function rR(n,e){return Promise.all(e.map(t=>aH(n,t))).then(t=>uk(n,t))}async function aH(n,e,t){let{keys:i,to:r,from:o,loop:s,onRest:a,onResolve:l}=e,u=ht.obj(e.default)&&e.default;s&&(e.loop=!1),r===!1&&(e.to=null),o===!1&&(e.from=null);let c=ht.arr(r)||ht.fun(r)?r:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):Gn(uce,_=>{let S=e[_];if(ht.fun(S)){let x=n._events[_];e[_]=({finished:C,cancelled:b})=>{let M=x.get(S);M?(C||(M.finished=!1),b&&(M.cancelled=!0)):x.set(S,{value:null,finished:C||!1,cancelled:b||!1})},u&&(u[_]=e[_])}});let d=n._state;e.pause===!d.paused?(d.paused=e.pause,Ny(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);let m=(i||Object.keys(n.springs)).map(_=>n.springs[_].start(e)),v=e.cancel===!0||eH(e,"cancel")===!0;(c||v&&d.asyncId)&&m.push(nH(++n._lastAsyncId,{props:e,state:d,actions:{pause:XB,resume:XB,start(_,S){v?(i1(d,n._lastAsyncId),S(iv(n))):(_.onRest=a,S(rH(c,_,d,n)))}}})),d.paused&&await new Promise(_=>{d.resumeQueue.add(_)});let y=uk(n,await Promise.all(m));if(s&&y.finished&&!(t&&y.noop)){let _=sH(e,s,r);if(_)return dH(n,[_]),aH(n,_,!0)}return l&&yn.batchedUpdates(()=>l(y,n,n.item)),y}function t9(n,e){let t={...n.springs};return e&&Gn(Ia(e),i=>{ht.und(i.keys)&&(i=r1(i)),ht.obj(i.to)||(i={...i,to:void 0}),cH(t,i,r=>uH(r))}),lH(n,t),t}function lH(n,e){nc(e,(t,i)=>{n.springs[i]||(n.springs[i]=t,Qv(t,n))})}function uH(n,e){let t=new sce;return t.key=n,e&&Qv(t,e),t}function cH(n,e,t){e.keys&&Gn(e.keys,i=>{(n[i]||(n[i]=t(i)))._prepareNode(e)})}function dH(n,e){Gn(e,t=>{cH(n.springs,t,i=>uH(i,n))})}var xb=({children:n,...e})=>{let t=T.useContext(bE),i=e.pause||!!t.pause,r=e.immediate||!!t.immediate;e=zue(()=>({pause:i,immediate:r}),[i,r]);let{Provider:o}=bE;return T.createElement(o,{value:e},n)},bE=fce(xb,{});xb.Provider=bE.Provider;xb.Consumer=bE.Consumer;function fce(n,e){return Object.assign(n,T.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}var hce=()=>{let n=[],e=function(i){Nue();let r=[];return Gn(n,(o,s)=>{if(ht.und(i))r.push(o.start());else{let a=t(i,o,s);a&&r.push(o.start(a))}}),r};e.current=n,e.add=function(i){n.includes(i)||n.push(i)},e.delete=function(i){let r=n.indexOf(i);~r&&n.splice(r,1)},e.pause=function(){return Gn(n,i=>i.pause(...arguments)),this},e.resume=function(){return Gn(n,i=>i.resume(...arguments)),this},e.set=function(i){Gn(n,(r,o)=>{let s=ht.fun(i)?i(o,r):i;s&&r.set(s)})},e.start=function(i){let r=[];return Gn(n,(o,s)=>{if(ht.und(i))r.push(o.start());else{let a=this._getProps(i,o,s);a&&r.push(o.start(a))}}),r},e.stop=function(){return Gn(n,i=>i.stop(...arguments)),this},e.update=function(i){return Gn(n,(r,o)=>r.update(this._getProps(i,r,o))),this};let t=function(i,r,o){return ht.fun(i)?i(o,r):i};return e._getProps=t,e};function pce(n,e,t){let i=ht.fun(e)&&e;i&&!t&&(t=[]);let r=T.useMemo(()=>i||arguments.length==3?hce():void 0,[]),o=T.useRef(0),s=jU(),a=T.useMemo(()=>({ctrls:[],queue:[],flush(x,C){let b=t9(x,C);return o.current>0&&!a.queue.length&&!Object.keys(b).some(M=>!x.springs[M])?rR(x,C):new Promise(M=>{lH(x,b),a.queue.push(()=>{M(rR(x,C))}),s()})}}),[]),l=T.useRef([...a.ctrls]),u=[],c=W6(n)||0;T.useMemo(()=>{Gn(l.current.slice(n,c),x=>{Zue(x,r),x.stop(!0)}),l.current.length=n,d(c,n)},[n]),T.useMemo(()=>{d(0,Math.min(c,n))},t);function d(x,C){for(let b=x;b<C;b++){let M=l.current[b]||(l.current[b]=new dce(null,a.flush)),B=i?i(b,M):e[b];B&&(u[b]=ace(B))}}let m=l.current.map((x,C)=>t9(x,u[C])),v=T.useContext(xb),y=W6(v),_=v!==y&&Yue(v);sk(()=>{o.current++,a.ctrls=l.current;let{queue:x}=a;x.length&&(a.queue=[],Gn(x,C=>C())),Gn(l.current,(C,b)=>{r==null||r.add(C),_&&C.start({default:v});let M=u[b];M&&(ece(C,M.ref),C.ref?C.queue.push(M):C.start(M))})}),XU(()=>()=>{Gn(a.ctrls,x=>x.stop(!0))});let S=m.map(x=>({...x}));return r?[S,r]:S}function mce(n,e){let t=ht.fun(n),[[i],r]=pce(1,t?n:[n],t?e||[]:e);return t||arguments.length==2?[i,r]:i}var gce=class extends ck{constructor(e,t){super();Ft(this,"key");Ft(this,"idle",!0);Ft(this,"calc");Ft(this,"_active",new Set);this.source=e,this.calc=QS(...t);let i=this._get(),r=YB(i);ak(this,r.create(i))}advance(e){let t=this._get(),i=this.get();Pc(t,i)||(Gu(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&n9(this._active)&&oM(this)}_get(){let e=ht.arr(this.source)?this.source.map(zs):Ia(zs(this.source));return this.calc(...e)}_start(){this.idle&&!n9(this._active)&&(this.idle=!1,Gn(Sb(this),e=>{e.done=!1}),fu.skipAnimation?(yn.batchedUpdates(()=>this.advance()),oM(this)):mb.start(this))}_attach(){let e=1;Gn(Ia(this.source),t=>{ll(t)&&Qv(t,this),tR(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Gn(Ia(this.source),e=>{ll(e)&&ZS(e,this)}),this._active.clear(),oM(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Ia(this.source).reduce((t,i)=>Math.max(t,(tR(i)?i.priority:0)+1),0))}};function vce(n){return n.idle!==!1}function n9(n){return!n.size||Array.from(n).every(vce)}function oM(n){n.idle||(n.idle=!0,Gn(Sb(n),e=>{e.done=!0}),YS(n,{type:"idle",parent:n}))}fu.assign({createStringInterpolator:JU,to:(n,e)=>new gce(n,e)});var fH=/^--/;function yce(n,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!fH.test(n)&&!(lS.hasOwnProperty(n)&&lS[n])?e+"px":(""+e).trim()}var i9={};function Sce(n,e){if(!n.nodeType||!n.setAttribute)return!1;let t=n.nodeName==="filter"||n.parentNode&&n.parentNode.nodeName==="filter",{style:i,children:r,scrollTop:o,scrollLeft:s,viewBox:a,...l}=e,u=Object.values(l),c=Object.keys(l).map(d=>t||n.hasAttribute(d)?d:i9[d]||(i9[d]=d.replace(/([A-Z])/g,m=>"-"+m.toLowerCase())));r!==void 0&&(n.textContent=r);for(let d in i)if(i.hasOwnProperty(d)){let m=yce(d,i[d]);fH.test(d)?n.style.setProperty(d,m):n.style[d]=m}c.forEach((d,m)=>{n.setAttribute(d,u[m])}),o!==void 0&&(n.scrollTop=o),s!==void 0&&(n.scrollLeft=s),a!==void 0&&n.setAttribute("viewBox",a)}var lS={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_ce=(n,e)=>n+e.charAt(0).toUpperCase()+e.substring(1),xce=["Webkit","Ms","Moz","O"];lS=Object.keys(lS).reduce((n,e)=>(xce.forEach(t=>n[_ce(t,e)]=n[e]),n),lS);var wce=/^(matrix|translate|scale|rotate|skew)/,Cce=/^(translate)/,Ece=/^(rotate|skew)/,sM=(n,e)=>ht.num(n)&&n!==0?n+e:n,hC=(n,e)=>ht.arr(n)?n.every(t=>hC(t,e)):ht.num(n)?n===e:parseFloat(n)===e,bce=class extends _b{constructor({x:n,y:e,z:t,...i}){let r=[],o=[];(n||e||t)&&(r.push([n||0,e||0,t||0]),o.push(s=>[`translate3d(${s.map(a=>sM(a,"px")).join(",")})`,hC(s,0)])),nc(i,(s,a)=>{if(a==="transform")r.push([s||""]),o.push(l=>[l,l===""]);else if(wce.test(a)){if(delete i[a],ht.und(s))return;let l=Cce.test(a)?"px":Ece.test(a)?"deg":"";r.push(Ia(s)),o.push(a==="rotate3d"?([u,c,d,m])=>[`rotate3d(${u},${c},${d},${sM(m,l)})`,hC(m,0)]:u=>[`${a}(${u.map(c=>sM(c,l)).join(",")})`,hC(u,a.startsWith("scale")?1:0)])}}),r.length&&(i.transform=new Ace(r,o)),super(i)}},Ace=class extends VU{constructor(t,i){super();Ft(this,"_value",null);this.inputs=t,this.transforms=i}get(){return this._value||(this._value=this._get())}_get(){let t="",i=!0;return Gn(this.inputs,(r,o)=>{let s=zs(r[0]),[a,l]=this.transforms[o](ht.arr(s)?s:r.map(zs));t+=" "+a,i=i&&l}),i?"none":t}observerAdded(t){t==1&&Gn(this.inputs,i=>Gn(i,r=>ll(r)&&Qv(r,this)))}observerRemoved(t){t==0&&Gn(this.inputs,i=>Gn(i,r=>ll(r)&&ZS(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),YS(this,t)}},Mce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];fu.assign({batchedUpdates:W2.unstable_batchedUpdates,createStringInterpolator:JU,colors:pue});var Tce=Jue(Mce,{applyAnimatedValues:Sce,createAnimatedStyle:n=>new bce(n),getComponentProps:({scrollTop:n,scrollLeft:e,...t})=>t}),Bce=Tce.animated;const Rce=()=>{const n=mce({from:{opacity:0},to:{opacity:1}});return Ge(Bce.div,{style:{...n},children:ti(Ca,{className:Os.answerContainer,verticalAlign:"space-between",children:[Ge(FU,{}),Ge(Ca.Item,{grow:!0,children:ti("p",{className:Os.answerText,children:["Generating answer",Ge("span",{className:Os.loadingdots})]})})]})})},Ice=({error:n,onRetry:e})=>ti(Ca,{className:Os.answerContainer,verticalAlign:"space-between",children:[Ge(qle,{"aria-hidden":"true","aria-label":"Error icon",primaryFill:"red"}),Ge(Ca.Item,{grow:!0,children:Ge("p",{className:Os.answerText,children:n})}),Ge(vne,{className:Os.retryButton,onClick:e,text:"Retry"})]}),kce="_questionInputContainer_i0yx7_1",Lce="_questionInputTextArea_i0yx7_12",Fce="_questionInputButtonsContainer_i0yx7_30",Dce="_questionInputSendButton_i0yx7_36",Pce="_questionInputSendButtonDisabled_i0yx7_41",Nce="_questionInputMicButton_i0yx7_47",Uh={questionInputContainer:kce,questionInputTextArea:Lce,questionInputButtonsContainer:Fce,questionInputSendButton:Dce,questionInputSendButtonDisabled:Pce,questionInputMicButton:Nce},Oce=({onSend:n,disabled:e,placeholder:t,clearOnSend:i})=>{const[r,o]=T.useState(""),s=T.useRef(null),[a,l]=T.useState(t||"Ask a question..."),[u,c]=T.useState(!1);T.useEffect(()=>{let S=null;return u?((async()=>{console.log("recognition started"),S||(S=await hoe()),S.recognizeOnceAsync(C=>{if(C.reason===hs.RecognizedSpeech){var b=C.text,M=EI.fromResult(C);M.language,b.trim()&&(o(b),n(b),i&&setTimeout(()=>{o("")},100),c(!1))}else c(!1),console.log("ERROR: Speech was cancelled or could not be recognized. Ensure your microphone is working properly.")})})(),l("Listening...")):l(t||"Ask a question..."),()=>{}},[u]),T.useEffect(()=>{if(s.current){s.current.style.height="0px";const S=s.current.scrollHeight;S>60?s.current.style.height="80px":s.current.style.height=S+"px"}},[s,r]);const d=()=>{c(!u)},m=()=>{if(e||!r.trim()){r.trim()||console.log("empty question");return}console.log("send question"),n(r),i&&o("")},v=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),m())},y=S=>{var C;const x=(C=S.target)==null?void 0:C.value;x?x.length<=1e3&&o(x):o("")},_=e||!r.trim();return ti(Ca,{horizontal:!0,className:Uh.questionInputContainer,children:[Ge("div",{className:Uh.questionInputButtonsContainer,children:Ge("div",{className:Uh.questionInputMicButton,"aria-label":"Toggle speech input button",onClick:d,children:u?Ge(L6,{primaryFill:"#62a04e"}):Ge(L6,{primaryFill:"rgba(0, 0, 0, 0.4)"})})}),Ge("textarea",{className:Uh.questionInputTextArea,placeholder:a,rows:15,ref:s,value:r,onChange:y,onKeyDown:v}),Ge("div",{className:Uh.questionInputButtonsContainer,children:Ge("div",{className:`${Uh.questionInputSendButton} ${_?Uh.questionInputSendButtonDisabled:""}`,"aria-label":"Ask question button",onClick:m,children:Ge(Zle,{primaryFill:"#62a04e"})})})]})},zce="_examplesNavList_6ev24_1",Uce="_example_6ev24_1",Hce="_exampleText_6ev24_28",oR={examplesNavList:zce,example:Uce,exampleText:Hce},Gce=({text:n,value:e,onClick:t})=>Ge("div",{className:oR.example,onClick:()=>t(e),children:Ge("p",{className:oR.exampleText,children:n})}),Wce=[{text:"Who has the access to InnoWing?",value:"Who has the access to Innovation Wing?"},{text:"How to become a member of InnoWing?",value:"How to become a member of InnoWing?"},{text:"What is SIG?",value:"What is SIG?"}],Vce=({onExampleClicked:n})=>Ge("ul",{className:oR.examplesNavList,children:Wce.map((e,t)=>Ge("li",{children:Ge(Gce,{text:e.text,value:e.value,onClick:n})},t))}),Kce="_container_1b8rz_1",$ce="_message_1b8rz_9",r9={container:Kce,message:$ce},aM=({message:n})=>Ge("div",{className:r9.container,children:Ge("div",{className:r9.message,children:n})}),Jce="_thoughtProcess_1rdxk_1",qce={thoughtProcess:Jce};function jce(n){const e=n.split(": "),t=e[0],i=e.slice(1).join(": ");return{title:t,content:i}}const Xce="_supportingContentNavList_1yfye_1",Qce="_supportingContentItem_1yfye_9",Yce="_supportingContentItemHeader_1yfye_21",Zce="_supportingContentItemText_1yfye_25",Gx={supportingContentNavList:Xce,supportingContentItem:Qce,supportingContentItemHeader:Yce,supportingContentItemText:Zce},ede=({supportingContent:n})=>Ge("ul",{className:Gx.supportingContentNavList,children:n.map((e,t)=>{const i=jce(e);return ti("li",{className:Gx.supportingContentItem,children:[Ge("h4",{className:Gx.supportingContentItemHeader,children:i.title}),Ge("p",{className:Gx.supportingContentItemText,children:i.content})]})})});var wf=(n=>(n.ThoughtProcessTab="thoughtProcess",n.SupportingContentTab="supportingContent",n.CitationTab="citation",n))(wf||{});const lM={disabled:!0,style:{color:"grey"}},tde=({answer:n,activeTab:e,activeCitation:t,citationHeight:i,className:r,onActiveTabChanged:o})=>{const s=!n.thoughts,a=!n.data_points.length,l=!t,u=Dz.sanitize(n.thoughts);return ti(wie,{className:r,selectedKey:e,onLinkClick:c=>c&&o(c.props.itemKey),children:[Ge(Yw,{itemKey:wf.ThoughtProcessTab,headerText:"Thought process",headerButtonProps:s?lM:void 0,children:Ge("div",{className:qce.thoughtProcess,dangerouslySetInnerHTML:{__html:u}})}),Ge(Yw,{itemKey:wf.SupportingContentTab,headerText:"Supporting content",headerButtonProps:a?lM:void 0,children:Ge(ede,{supportingContent:n.data_points})}),Ge(Yw,{itemKey:wf.CitationTab,headerText:"Citation",headerButtonProps:l?lM:void 0,children:Ge("iframe",{title:"Citation",src:t,width:"100%",height:i})})]})},nde="_container_11g1f_1",ide="_light_11g1f_8",uM={container:nde,light:ide},rde=({className:n,onClick:e,mode:t})=>ti("div",{className:`${uM.container} ${n??""} ${t=="avatar"&&uM.light}`,onClick:e,children:[Ge(tue,{}),Ge(cz,{className:`${t=="avatar"&&uM.light}`,children:"Settings"})]}),ode="_container_1569y_1",sde="_light_1569y_8",ade="_disabled_1569y_12",Wx={container:ode,light:sde,disabled:ade},lde=({className:n,disabled:e,onClick:t,mode:i})=>ti("div",{className:`${Wx.container} ${n??""} ${e&&Wx.disabled} ${i=="avatar"&&Wx.light}`,onClick:t,children:[Ge($le,{}),Ge(cz,{className:`${i=="avatar"&&Wx.light} `,children:"Clear chat"})]}),ude="_container_5pflv_1",cde="_logo_5pflv_13",dde="_logoSelected_5pflv_21",fde="_light_5pflv_26",fy={container:ude,logo:cde,logoSelected:dde,light:fde},hde="/assets/robot_icon-62ba5f57.png",pde="/assets/cartoon_icon-426765d2.png",mde=({setSelectedAvatar:n,selectedAvatar:e,setSpeakText:t})=>{const i=r=>{console.log("clicked"),n(r),t("")};return ti("div",{className:fy.container,children:[Ge("div",{className:fy.logo,children:Ge("img",{className:e==="robot"?fy.logoSelected:"",src:hde,id:"change-to-robot-button",alt:"robot icon","aria-label":"Change to robot avatar",width:"80px",height:"auto",onClick:()=>i("robot")})}),Ge("div",{className:fy.logo,children:Ge("img",{className:e==="cartoon"?fy.logoSelected:"",src:pde,id:"change-to-cartoon-button",alt:"cartoon icon","aria-label":"Change to cartoon avatar",width:"80px",onClick:()=>i("cartoon")})})]})},gde="/assets/innowing-logo-wide-b7e9d14d.png",vde="_header_rg5ku_3",yde="_headerContainer_rg5ku_9",Sde="_headerTitleContainer_rg5ku_18",_de="_headerLogo_rg5ku_25",xde="_headerTitle_rg5ku_18",wde="_headerNavList_rg5ku_34",Cde="_headerNavPageLink_rg5ku_40",Ede="_headerNavPageLinkActive_rg5ku_55",bde="_headerNavLeftMargin_rg5ku_60",Ade="_headerRightText_rg5ku_64",Mde="_microsoftLogo_rg5ku_69",Du={header:vde,headerContainer:yde,headerTitleContainer:Sde,headerLogo:_de,headerTitle:xde,headerNavList:wde,headerNavPageLink:Cde,headerNavPageLinkActive:Ede,headerNavLeftMargin:bde,headerRightText:Ade,microsoftLogo:Mde},Tde=({setMode:n,mode:e})=>{const[t,i]=T.useState(e),r=o=>{o&&(o.preventDefault(),i(o.currentTarget.id),n(o.currentTarget.id))};return Ge("header",{className:Du.header,role:"banner",children:ti("div",{className:Du.headerContainer,children:[Ge("div",{className:Du.logo,children:Ge("a",{href:"https://innowings.engg.hku.hk/",target:"_blank",title:"Github repository link",children:Ge("img",{src:gde,alt:"Innowing logo","aria-label":"Link to Innowing website",width:"150px"})})}),Ge("nav",{children:ti("ul",{className:Du.headerNavList,children:[Ge("li",{children:Ge("a",{href:"#",id:"chat",className:t=="chat"?Du.headerNavPageLinkActive:Du.headerNavPageLink,onClick:r,children:"InnoChat"})}),Ge("li",{className:Du.headerNavLeftMargin,children:Ge("a",{href:"#",id:"avatar",className:t=="avatar"?Du.headerNavPageLinkActive:Du.headerNavPageLink,onClick:r,children:"Innova"})})]})}),ti("h4",{className:Du.headerRightText,children:["Powered by: ",Ge("span",{style:{fontSize:12},children:"Azure OpenAI"})]})]})})},Bde="_Avatar_s61k4_1",Rde={Avatar:Bde};/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const D1="142",Ide={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},kde={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hH=0,sR=1,pH=2,Lde=3,mH=0,wb=1,uS=2,pp=3,zf=0,Fa=1,nd=2,gH=1,Fde=2,$c=0,Ep=1,aR=2,lR=3,uR=4,vH=5,op=100,yH=101,SH=102,cR=103,dR=104,_H=200,xH=201,wH=202,CH=203,dk=204,fk=205,EH=206,bH=207,AH=208,MH=209,TH=210,BH=0,RH=1,IH=2,AE=3,kH=4,LH=5,FH=6,DH=7,P1=0,PH=1,NH=2,uu=0,OH=1,zH=2,UH=3,hk=4,HH=5,Cb=300,id=301,Uf=302,Wp=303,o1=304,Yv=306,ic=1e3,lo=1001,Cv=1002,yr=1003,s1=1004,Dde=1004,a1=1005,Pde=1005,oi=1006,Eb=1007,Nde=1007,cd=1008,Ode=1008,rd=1009,GH=1010,WH=1011,pk=1012,VH=1013,Cf=1014,Vo=1015,Ko=1016,KH=1017,$H=1018,bp=1020,JH=1021,qH=1022,Vs=1023,jH=1024,XH=1025,Pf=1026,Vp=1027,mk=1028,QH=1029,YH=1030,ZH=1031,eG=1033,pC=33776,mC=33777,gC=33778,vC=33779,fR=35840,hR=35841,pR=35842,mR=35843,tG=36196,gR=37492,vR=37496,yR=37808,SR=37809,_R=37810,xR=37811,wR=37812,CR=37813,ER=37814,bR=37815,AR=37816,MR=37817,TR=37818,BR=37819,RR=37820,IR=37821,kR=36492,gk=2200,nG=2201,iG=2202,Ev=2300,Kp=2301,yC=2302,mp=2400,gp=2401,l1=2402,bb=2500,vk=2501,rG=0,yk=1,ME=2,Hf=3e3,Ui=3001,oG=3200,sG=3201,nm=0,aG=1,zde="",Wu="srgb",Ef="srgb-linear",Ude=0,SC=7680,Hde=7681,Gde=7682,Wde=7683,Vde=34055,Kde=34056,$de=5386,Jde=512,qde=513,jde=514,Xde=515,Qde=516,Yde=517,Zde=518,lG=519,TE=35044,efe=35048,tfe=35040,nfe=35045,ife=35049,rfe=35041,ofe=35046,sfe=35050,afe=35042,lfe="100",LR="300 es",BE=1035;class eh{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let o=0,s=r.length;o<s;o++)r[o].call(this,e);e.target=null}}}const No=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let o9=1234567;const Ap=Math.PI/180,u1=180/Math.PI;function Da(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(No[n&255]+No[n>>8&255]+No[n>>16&255]+No[n>>24&255]+"-"+No[e&255]+No[e>>8&255]+"-"+No[e>>16&15|64]+No[e>>24&255]+"-"+No[t&63|128]+No[t>>8&255]+"-"+No[t>>16&255]+No[t>>24&255]+No[i&255]+No[i>>8&255]+No[i>>16&255]+No[i>>24&255]).toLowerCase()}function Sr(n,e,t){return Math.max(e,Math.min(t,n))}function Sk(n,e){return(n%e+e)%e}function ufe(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function cfe(n,e,t){return n!==e?(t-n)/(e-n):0}function cS(n,e,t){return(1-t)*n+t*e}function dfe(n,e,t,i){return cS(n,e,1-Math.exp(-t*i))}function ffe(n,e=1){return e-Math.abs(Sk(n,e*2)-e)}function hfe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function pfe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function mfe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function gfe(n,e){return n+Math.random()*(e-n)}function vfe(n){return n*(.5-Math.random())}function yfe(n){n!==void 0&&(o9=n);let e=o9+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Sfe(n){return n*Ap}function _fe(n){return n*u1}function FR(n){return(n&n-1)===0&&n!==0}function uG(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function RE(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function xfe(n,e,t,i,r){const o=Math.cos,s=Math.sin,a=o(t/2),l=s(t/2),u=o((e+i)/2),c=s((e+i)/2),d=o((e-i)/2),m=s((e-i)/2),v=o((i-e)/2),y=s((i-e)/2);switch(r){case"XYX":n.set(a*c,l*d,l*m,a*u);break;case"YZY":n.set(l*m,a*c,l*d,a*u);break;case"ZXZ":n.set(l*d,l*m,a*c,a*u);break;case"XZX":n.set(a*c,l*y,l*v,a*u);break;case"YXY":n.set(l*v,a*c,l*y,a*u);break;case"ZYZ":n.set(l*y,l*v,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function wfe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Cfe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var dl=Object.freeze({__proto__:null,DEG2RAD:Ap,RAD2DEG:u1,generateUUID:Da,clamp:Sr,euclideanModulo:Sk,mapLinear:ufe,inverseLerp:cfe,lerp:cS,damp:dfe,pingpong:ffe,smoothstep:hfe,smootherstep:pfe,randInt:mfe,randFloat:gfe,randFloatSpread:vfe,seededRandom:yfe,degToRad:Sfe,radToDeg:_fe,isPowerOfTwo:FR,ceilPowerOfTwo:uG,floorPowerOfTwo:RE,setQuaternionFromProperEuler:xfe,normalize:Cfe,denormalize:wfe});class Qe{constructor(e=0,t=0){Qe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*i-s*r+e.x,this.y=o*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ps{constructor(){ps.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,o,s,a,l,u){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=o,c[5]=l,c[6]=i,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,o=this.elements,s=i[0],a=i[3],l=i[6],u=i[1],c=i[4],d=i[7],m=i[2],v=i[5],y=i[8],_=r[0],S=r[3],x=r[6],C=r[1],b=r[4],M=r[7],B=r[2],k=r[5],F=r[8];return o[0]=s*_+a*C+l*B,o[3]=s*S+a*b+l*k,o[6]=s*x+a*M+l*F,o[1]=u*_+c*C+d*B,o[4]=u*S+c*b+d*k,o[7]=u*x+c*M+d*F,o[2]=m*_+v*C+y*B,o[5]=m*S+v*b+y*k,o[8]=m*x+v*M+y*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*s*c-t*a*u-i*o*c+i*a*l+r*o*u-r*s*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=c*s-a*u,m=a*l-c*o,v=u*o-s*l,y=t*d+i*m+r*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=d*_,e[1]=(r*u-c*i)*_,e[2]=(a*i-r*s)*_,e[3]=m*_,e[4]=(c*t-r*l)*_,e[5]=(r*o-a*t)*_,e[6]=v*_,e[7]=(i*l-u*t)*_,e[8]=(s*t-i*o)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,o,s,a){const l=Math.cos(o),u=Math.sin(o);return this.set(i*l,i*u,-i*(l*s+u*a)+s+e,-r*u,r*l,-r*(-u*s+l*a)+a+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.elements,o=r[0],s=r[3],a=r[6],l=r[1],u=r[4],c=r[7];return r[0]=t*o+i*l,r[3]=t*s+i*u,r[6]=t*a+i*c,r[1]=-i*o+t*l,r[4]=-i*s+t*u,r[7]=-i*a+t*c,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function cG(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const Efe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Hg(n,e){return new Efe[n](e)}function c1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Mp(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function _C(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const cM={[Wu]:{[Ef]:Mp},[Ef]:{[Wu]:_C}},il={legacyMode:!0,get workingColorSpace(){return Ef},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(cM[e]&&cM[e][t]!==void 0){const i=cM[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},dG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ur={r:0,g:0,b:0},Gl={h:0,s:0,l:0},Vx={h:0,s:0,l:0};function dM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Kx(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class vt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wu){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,il.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Ef){return this.r=e,this.g=t,this.b=i,il.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Ef){if(e=Sk(e,1),t=Sr(t,0,1),i=Sr(i,0,1),t===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+t):i+t-i*t,s=2*i-o;this.r=dM(s,o,e+1/3),this.g=dM(s,o,e),this.b=dM(s,o,e-1/3)}return il.toWorkingColorSpace(this,r),this}setStyle(e,t=Wu){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const s=r[1],a=r[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,il.toWorkingColorSpace(this,t),i(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,il.toWorkingColorSpace(this,t),i(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(o[1])/360,u=parseInt(o[2],10)/100,c=parseInt(o[3],10)/100;return i(o[4]),this.setHSL(l,u,c,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],s=o.length;if(s===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,il.toWorkingColorSpace(this,t),this;if(s===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,il.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Wu){const i=dG[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Mp(e.r),this.g=Mp(e.g),this.b=Mp(e.b),this}copyLinearToSRGB(e){return this.r=_C(e.r),this.g=_C(e.g),this.b=_C(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wu){return il.fromWorkingColorSpace(Kx(this,Ur),e),Sr(Ur.r*255,0,255)<<16^Sr(Ur.g*255,0,255)<<8^Sr(Ur.b*255,0,255)<<0}getHexString(e=Wu){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ef){il.fromWorkingColorSpace(Kx(this,Ur),t);const i=Ur.r,r=Ur.g,o=Ur.b,s=Math.max(i,r,o),a=Math.min(i,r,o);let l,u;const c=(a+s)/2;if(a===s)l=0,u=0;else{const d=s-a;switch(u=c<=.5?d/(s+a):d/(2-s-a),s){case i:l=(r-o)/d+(r<o?6:0);break;case r:l=(o-i)/d+2;break;case o:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=Ef){return il.fromWorkingColorSpace(Kx(this,Ur),t),e.r=Ur.r,e.g=Ur.g,e.b=Ur.b,e}getStyle(e=Wu){return il.fromWorkingColorSpace(Kx(this,Ur),e),e!==Wu?`color(${e} ${Ur.r} ${Ur.g} ${Ur.b})`:`rgb(${Ur.r*255|0},${Ur.g*255|0},${Ur.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Gl),Gl.h+=e,Gl.s+=t,Gl.l+=i,this.setHSL(Gl.h,Gl.s,Gl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Gl),e.getHSL(Vx);const i=cS(Gl.h,Vx.h,t),r=cS(Gl.s,Vx.s,t),o=cS(Gl.l,Vx.l,t);return this.setHSL(i,r,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}vt.NAMES=dG;let eg;class _k{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{eg===void 0&&(eg=c1("canvas")),eg.width=e.width,eg.height=e.height;const i=eg.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=eg}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=c1("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),o=r.data;for(let s=0;s<o.length;s++)o[s]=Mp(o[s]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Mp(t[i]/255)*255):t[i]=Mp(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class vp{constructor(e=null){this.isSource=!0,this.uuid=Da(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let s=0,a=r.length;s<a;s++)r[s].isDataTexture?o.push(fM(r[s].image)):o.push(fM(r[s]))}else o=fM(r);i.url=o}return t||(e.images[this.uuid]=i),i}}function fM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?_k.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let bfe=0;class Ri extends eh{constructor(e=Ri.DEFAULT_IMAGE,t=Ri.DEFAULT_MAPPING,i=lo,r=lo,o=oi,s=cd,a=Vs,l=rd,u=1,c=Hf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:bfe++}),this.uuid=Da(),this.name="",this.source=new vp(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=o,this.minFilter=s,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Qe(0,0),this.repeat=new Qe(1,1),this.center=new Qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ps,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Cb)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ic:e.x=e.x-Math.floor(e.x);break;case lo:e.x=e.x<0?0:1;break;case Cv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ic:e.y=e.y-Math.floor(e.y);break;case lo:e.y=e.y<0?0:1;break;case Cv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Ri.DEFAULT_IMAGE=null;Ri.DEFAULT_MAPPING=Cb;class Kn{constructor(e=0,t=0,i=0,r=1){Kn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*o,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*o,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*o,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,o;const l=e.elements,u=l[0],c=l[4],d=l[8],m=l[1],v=l[5],y=l[9],_=l[2],S=l[6],x=l[10];if(Math.abs(c-m)<.01&&Math.abs(d-_)<.01&&Math.abs(y-S)<.01){if(Math.abs(c+m)<.1&&Math.abs(d+_)<.1&&Math.abs(y+S)<.1&&Math.abs(u+v+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(u+1)/2,M=(v+1)/2,B=(x+1)/2,k=(c+m)/4,F=(d+_)/4,R=(y+S)/4;return b>M&&b>B?b<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(b),r=k/i,o=F/i):M>B?M<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(M),i=k/r,o=R/r):B<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(B),i=F/o,r=R/o),this.set(i,r,o,t),this}let C=Math.sqrt((S-y)*(S-y)+(d-_)*(d-_)+(m-c)*(m-c));return Math.abs(C)<.001&&(C=1),this.x=(S-y)/C,this.y=(d-_)/C,this.z=(m-c)/C,this.w=Math.acos((u+v+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Oa extends eh{constructor(e,t,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Kn(0,0,e,t),this.scissorTest=!1,this.viewport=new Kn(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Ri(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:oi,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new vp(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class N1 extends Ri{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=yr,this.minFilter=yr,this.wrapR=lo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Afe extends Oa{constructor(e,t,i){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new N1(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Ab extends Ri{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=yr,this.minFilter=yr,this.wrapR=lo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Mfe extends Oa{constructor(e,t,i){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Ab(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Tfe extends Oa{constructor(e,t,i,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let s=0;s<i;s++)this.texture[s]=o.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,o=this.texture.length;r<o;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Ir{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerp(e,t,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,t,r)}static slerpFlat(e,t,i,r,o,s,a){let l=i[r+0],u=i[r+1],c=i[r+2],d=i[r+3];const m=o[s+0],v=o[s+1],y=o[s+2],_=o[s+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d;return}if(a===1){e[t+0]=m,e[t+1]=v,e[t+2]=y,e[t+3]=_;return}if(d!==_||l!==m||u!==v||c!==y){let S=1-a;const x=l*m+u*v+c*y+d*_,C=x>=0?1:-1,b=1-x*x;if(b>Number.EPSILON){const B=Math.sqrt(b),k=Math.atan2(B,x*C);S=Math.sin(S*k)/B,a=Math.sin(a*k)/B}const M=a*C;if(l=l*S+m*M,u=u*S+v*M,c=c*S+y*M,d=d*S+_*M,S===1-a){const B=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=B,u*=B,c*=B,d*=B}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,o,s){const a=i[r],l=i[r+1],u=i[r+2],c=i[r+3],d=o[s],m=o[s+1],v=o[s+2],y=o[s+3];return e[t]=a*y+c*d+l*v-u*m,e[t+1]=l*y+c*m+u*d-a*v,e[t+2]=u*y+c*v+a*m-l*d,e[t+3]=c*y-a*d-l*m-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,r=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,u=a(i/2),c=a(r/2),d=a(o/2),m=l(i/2),v=l(r/2),y=l(o/2);switch(s){case"XYZ":this._x=m*c*d+u*v*y,this._y=u*v*d-m*c*y,this._z=u*c*y+m*v*d,this._w=u*c*d-m*v*y;break;case"YXZ":this._x=m*c*d+u*v*y,this._y=u*v*d-m*c*y,this._z=u*c*y-m*v*d,this._w=u*c*d+m*v*y;break;case"ZXY":this._x=m*c*d-u*v*y,this._y=u*v*d+m*c*y,this._z=u*c*y+m*v*d,this._w=u*c*d-m*v*y;break;case"ZYX":this._x=m*c*d-u*v*y,this._y=u*v*d+m*c*y,this._z=u*c*y-m*v*d,this._w=u*c*d+m*v*y;break;case"YZX":this._x=m*c*d+u*v*y,this._y=u*v*d+m*c*y,this._z=u*c*y-m*v*d,this._w=u*c*d-m*v*y;break;case"XZY":this._x=m*c*d-u*v*y,this._y=u*v*d-m*c*y,this._z=u*c*y+m*v*d,this._w=u*c*d+m*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],o=t[8],s=t[1],a=t[5],l=t[9],u=t[2],c=t[6],d=t[10],m=i+a+d;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(c-l)*v,this._y=(o-u)*v,this._z=(s-r)*v}else if(i>a&&i>d){const v=2*Math.sqrt(1+i-a-d);this._w=(c-l)/v,this._x=.25*v,this._y=(r+s)/v,this._z=(o+u)/v}else if(a>d){const v=2*Math.sqrt(1+a-i-d);this._w=(o-u)/v,this._x=(r+s)/v,this._y=.25*v,this._z=(l+c)/v}else{const v=2*Math.sqrt(1+d-i-a);this._w=(s-r)/v,this._x=(o+u)/v,this._y=(l+c)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sr(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,o=e._z,s=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=i*c+s*a+r*u-o*l,this._y=r*c+s*l+o*a-i*u,this._z=o*c+s*u+i*l-r*a,this._w=s*c-i*a-r*l-o*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,o=this._z,s=this._w;let a=s*e._w+i*e._x+r*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=i,this._y=r,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-t;return this._w=v*s+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),d=Math.sin((1-t)*c)/u,m=Math.sin(t*c)/u;return this._w=s*d+this._w*m,this._x=i*d+this._x*m,this._y=r*d+this._y*m,this._z=o*d+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(o),i*Math.cos(o),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,t=0,i=0){X.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(s9.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(s9.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*i+o[6]*r,this.y=o[1]*t+o[4]*i+o[7]*r,this.z=o[2]*t+o[5]*i+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,o=e.elements,s=1/(o[3]*t+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*i+o[8]*r+o[12])*s,this.y=(o[1]*t+o[5]*i+o[9]*r+o[13])*s,this.z=(o[2]*t+o[6]*i+o[10]*r+o[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z,l=e.w,u=l*t+s*r-a*i,c=l*i+a*t-o*r,d=l*r+o*i-s*t,m=-o*t-s*i-a*r;return this.x=u*l+m*-o+c*-a-d*-s,this.y=c*l+m*-s+d*-o-u*-a,this.z=d*l+m*-a+u*-s-c*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r,this.y=o[1]*t+o[5]*i+o[9]*r,this.z=o[2]*t+o[6]*i+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=r*l-o*a,this.y=o*s-i*l,this.z=i*a-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return hM.copy(this).projectOnVector(e),this.sub(hM)}reflect(e){return this.sub(hM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Sr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const hM=new X,s9=new Ir;class th{constructor(e=new X(1/0,1/0,1/0),t=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],d=e[l+1],m=e[l+2];c<t&&(t=c),d<i&&(i=d),m<r&&(r=m),c>o&&(o=c),d>s&&(s=d),m>a&&(a=m)}return this.min.set(t,i,r),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),d=e.getY(l),m=e.getZ(l);c<t&&(t=c),d<i&&(i=d),m<r&&(r=m),c>o&&(o=c),d>s&&(s=d),m>a&&(a=m)}return this.min.set(t,i,r),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Hh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const o=i.attributes.position;for(let s=0,a=o.count;s<a;s++)Hh.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(Hh)}else i.boundingBox===null&&i.computeBoundingBox(),pM.copy(i.boundingBox),pM.applyMatrix4(e.matrixWorld),this.union(pM);const r=e.children;for(let o=0,s=r.length;o<s;o++)this.expandByObject(r[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Hh),Hh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(hy),$x.subVectors(this.max,hy),tg.subVectors(e.a,hy),ng.subVectors(e.b,hy),ig.subVectors(e.c,hy),$d.subVectors(ng,tg),Jd.subVectors(ig,ng),Gh.subVectors(tg,ig);let t=[0,-$d.z,$d.y,0,-Jd.z,Jd.y,0,-Gh.z,Gh.y,$d.z,0,-$d.x,Jd.z,0,-Jd.x,Gh.z,0,-Gh.x,-$d.y,$d.x,0,-Jd.y,Jd.x,0,-Gh.y,Gh.x,0];return!mM(t,tg,ng,ig,$x)||(t=[1,0,0,0,1,0,0,0,1],!mM(t,tg,ng,ig,$x))?!1:(Jx.crossVectors($d,Jd),t=[Jx.x,Jx.y,Jx.z],mM(t,tg,ng,ig,$x))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Hh.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Hh).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ac[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ac[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ac[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ac[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ac[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ac[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ac[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ac[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ac),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ac=[new X,new X,new X,new X,new X,new X,new X,new X],Hh=new X,pM=new th,tg=new X,ng=new X,ig=new X,$d=new X,Jd=new X,Gh=new X,hy=new X,$x=new X,Jx=new X,Wh=new X;function mM(n,e,t,i,r){for(let o=0,s=n.length-3;o<=s;o+=3){Wh.fromArray(n,o);const a=r.x*Math.abs(Wh.x)+r.y*Math.abs(Wh.y)+r.z*Math.abs(Wh.z),l=e.dot(Wh),u=t.dot(Wh),c=i.dot(Wh);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const Bfe=new th,a9=new X,qx=new X,gM=new X;class nh{constructor(e=new X,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Bfe.setFromPoints(e).getCenter(i);let r=0;for(let o=0,s=e.length;o<s;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){gM.subVectors(e,this.center);const t=gM.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.add(gM.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return this.center.equals(e.center)===!0?qx.set(0,0,1).multiplyScalar(e.radius):qx.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(a9.copy(e.center).add(qx)),this.expandByPoint(a9.copy(e.center).sub(qx)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Mc=new X,vM=new X,jx=new X,qd=new X,yM=new X,Xx=new X,SM=new X;class O1{constructor(e=new X,t=new X(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Mc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Mc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Mc.copy(this.direction).multiplyScalar(t).add(this.origin),Mc.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){vM.copy(e).add(t).multiplyScalar(.5),jx.copy(t).sub(e).normalize(),qd.copy(this.origin).sub(vM);const o=e.distanceTo(t)*.5,s=-this.direction.dot(jx),a=qd.dot(this.direction),l=-qd.dot(jx),u=qd.lengthSq(),c=Math.abs(1-s*s);let d,m,v,y;if(c>0)if(d=s*l-a,m=s*a-l,y=o*c,d>=0)if(m>=-y)if(m<=y){const _=1/c;d*=_,m*=_,v=d*(d+s*m+2*a)+m*(s*d+m+2*l)+u}else m=o,d=Math.max(0,-(s*m+a)),v=-d*d+m*(m+2*l)+u;else m=-o,d=Math.max(0,-(s*m+a)),v=-d*d+m*(m+2*l)+u;else m<=-y?(d=Math.max(0,-(-s*o+a)),m=d>0?-o:Math.min(Math.max(-o,-l),o),v=-d*d+m*(m+2*l)+u):m<=y?(d=0,m=Math.min(Math.max(-o,-l),o),v=m*(m+2*l)+u):(d=Math.max(0,-(s*o+a)),m=d>0?o:Math.min(Math.max(-o,-l),o),v=-d*d+m*(m+2*l)+u);else m=s>0?-o:o,d=Math.max(0,-(s*m+a)),v=-d*d+m*(m+2*l)+u;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(jx).multiplyScalar(m).add(vM),v}intersectSphere(e,t){Mc.subVectors(e.center,this.origin);const i=Mc.dot(this.direction),r=Mc.dot(Mc)-i*i,o=e.radius*e.radius;if(r>o)return null;const s=Math.sqrt(o-r),a=i-s,l=i+s;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,o,s,a,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,m=this.origin;return u>=0?(i=(e.min.x-m.x)*u,r=(e.max.x-m.x)*u):(i=(e.max.x-m.x)*u,r=(e.min.x-m.x)*u),c>=0?(o=(e.min.y-m.y)*c,s=(e.max.y-m.y)*c):(o=(e.max.y-m.y)*c,s=(e.min.y-m.y)*c),i>s||o>r||((o>i||i!==i)&&(i=o),(s<r||r!==r)&&(r=s),d>=0?(a=(e.min.z-m.z)*d,l=(e.max.z-m.z)*d):(a=(e.max.z-m.z)*d,l=(e.min.z-m.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Mc)!==null}intersectTriangle(e,t,i,r,o){yM.subVectors(t,e),Xx.subVectors(i,e),SM.crossVectors(yM,Xx);let s=this.direction.dot(SM),a;if(s>0){if(r)return null;a=1}else if(s<0)a=-1,s=-s;else return null;qd.subVectors(this.origin,e);const l=a*this.direction.dot(Xx.crossVectors(qd,Xx));if(l<0)return null;const u=a*this.direction.dot(yM.cross(qd));if(u<0||l+u>s)return null;const c=-a*qd.dot(SM);return c<0?null:this.at(c/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pt{constructor(){Pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,r,o,s,a,l,u,c,d,m,v,y,_,S){const x=this.elements;return x[0]=e,x[4]=t,x[8]=i,x[12]=r,x[1]=o,x[5]=s,x[9]=a,x[13]=l,x[2]=u,x[6]=c,x[10]=d,x[14]=m,x[3]=v,x[7]=y,x[11]=_,x[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/rg.setFromMatrixColumn(e,0).length(),o=1/rg.setFromMatrixColumn(e,1).length(),s=1/rg.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*o,t[5]=i[5]*o,t[6]=i[6]*o,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,i=e.x,r=e.y,o=e.z,s=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),c=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const m=s*c,v=s*d,y=a*c,_=a*d;t[0]=l*c,t[4]=-l*d,t[8]=u,t[1]=v+y*u,t[5]=m-_*u,t[9]=-a*l,t[2]=_-m*u,t[6]=y+v*u,t[10]=s*l}else if(e.order==="YXZ"){const m=l*c,v=l*d,y=u*c,_=u*d;t[0]=m+_*a,t[4]=y*a-v,t[8]=s*u,t[1]=s*d,t[5]=s*c,t[9]=-a,t[2]=v*a-y,t[6]=_+m*a,t[10]=s*l}else if(e.order==="ZXY"){const m=l*c,v=l*d,y=u*c,_=u*d;t[0]=m-_*a,t[4]=-s*d,t[8]=y+v*a,t[1]=v+y*a,t[5]=s*c,t[9]=_-m*a,t[2]=-s*u,t[6]=a,t[10]=s*l}else if(e.order==="ZYX"){const m=s*c,v=s*d,y=a*c,_=a*d;t[0]=l*c,t[4]=y*u-v,t[8]=m*u+_,t[1]=l*d,t[5]=_*u+m,t[9]=v*u-y,t[2]=-u,t[6]=a*l,t[10]=s*l}else if(e.order==="YZX"){const m=s*l,v=s*u,y=a*l,_=a*u;t[0]=l*c,t[4]=_-m*d,t[8]=y*d+v,t[1]=d,t[5]=s*c,t[9]=-a*c,t[2]=-u*c,t[6]=v*d+y,t[10]=m-_*d}else if(e.order==="XZY"){const m=s*l,v=s*u,y=a*l,_=a*u;t[0]=l*c,t[4]=-d,t[8]=u*c,t[1]=m*d+_,t[5]=s*c,t[9]=v*d-y,t[2]=y*d-v,t[6]=a*c,t[10]=_*d+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Rfe,e,Ife)}lookAt(e,t,i){const r=this.elements;return va.subVectors(e,t),va.lengthSq()===0&&(va.z=1),va.normalize(),jd.crossVectors(i,va),jd.lengthSq()===0&&(Math.abs(i.z)===1?va.x+=1e-4:va.z+=1e-4,va.normalize(),jd.crossVectors(i,va)),jd.normalize(),Qx.crossVectors(va,jd),r[0]=jd.x,r[4]=Qx.x,r[8]=va.x,r[1]=jd.y,r[5]=Qx.y,r[9]=va.y,r[2]=jd.z,r[6]=Qx.z,r[10]=va.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,o=this.elements,s=i[0],a=i[4],l=i[8],u=i[12],c=i[1],d=i[5],m=i[9],v=i[13],y=i[2],_=i[6],S=i[10],x=i[14],C=i[3],b=i[7],M=i[11],B=i[15],k=r[0],F=r[4],R=r[8],N=r[12],U=r[1],G=r[5],oe=r[9],me=r[13],j=r[2],ne=r[6],te=r[10],de=r[14],O=r[3],V=r[7],$=r[11],ie=r[15];return o[0]=s*k+a*U+l*j+u*O,o[4]=s*F+a*G+l*ne+u*V,o[8]=s*R+a*oe+l*te+u*$,o[12]=s*N+a*me+l*de+u*ie,o[1]=c*k+d*U+m*j+v*O,o[5]=c*F+d*G+m*ne+v*V,o[9]=c*R+d*oe+m*te+v*$,o[13]=c*N+d*me+m*de+v*ie,o[2]=y*k+_*U+S*j+x*O,o[6]=y*F+_*G+S*ne+x*V,o[10]=y*R+_*oe+S*te+x*$,o[14]=y*N+_*me+S*de+x*ie,o[3]=C*k+b*U+M*j+B*O,o[7]=C*F+b*G+M*ne+B*V,o[11]=C*R+b*oe+M*te+B*$,o[15]=C*N+b*me+M*de+B*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],o=e[12],s=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],m=e[10],v=e[14],y=e[3],_=e[7],S=e[11],x=e[15];return y*(+o*l*d-r*u*d-o*a*m+i*u*m+r*a*v-i*l*v)+_*(+t*l*v-t*u*m+o*s*m-r*s*v+r*u*c-o*l*c)+S*(+t*u*d-t*a*v-o*s*d+i*s*v+o*a*c-i*u*c)+x*(-r*a*c-t*l*d+t*a*m+r*s*d-i*s*m+i*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],m=e[10],v=e[11],y=e[12],_=e[13],S=e[14],x=e[15],C=d*S*u-_*m*u+_*l*v-a*S*v-d*l*x+a*m*x,b=y*m*u-c*S*u-y*l*v+s*S*v+c*l*x-s*m*x,M=c*_*u-y*d*u+y*a*v-s*_*v-c*a*x+s*d*x,B=y*d*l-c*_*l-y*a*m+s*_*m+c*a*S-s*d*S,k=t*C+i*b+r*M+o*B;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/k;return e[0]=C*F,e[1]=(_*m*o-d*S*o-_*r*v+i*S*v+d*r*x-i*m*x)*F,e[2]=(a*S*o-_*l*o+_*r*u-i*S*u-a*r*x+i*l*x)*F,e[3]=(d*l*o-a*m*o-d*r*u+i*m*u+a*r*v-i*l*v)*F,e[4]=b*F,e[5]=(c*S*o-y*m*o+y*r*v-t*S*v-c*r*x+t*m*x)*F,e[6]=(y*l*o-s*S*o-y*r*u+t*S*u+s*r*x-t*l*x)*F,e[7]=(s*m*o-c*l*o+c*r*u-t*m*u-s*r*v+t*l*v)*F,e[8]=M*F,e[9]=(y*d*o-c*_*o-y*i*v+t*_*v+c*i*x-t*d*x)*F,e[10]=(s*_*o-y*a*o+y*i*u-t*_*u-s*i*x+t*a*x)*F,e[11]=(c*a*o-s*d*o-c*i*u+t*d*u+s*i*v-t*a*v)*F,e[12]=B*F,e[13]=(c*_*r-y*d*r+y*i*m-t*_*m-c*i*S+t*d*S)*F,e[14]=(y*a*r-s*_*r-y*i*l+t*_*l+s*i*S-t*a*S)*F,e[15]=(s*d*r-c*a*r+c*i*l-t*d*l-s*i*m+t*a*m)*F,this}scale(e){const t=this.elements,i=e.x,r=e.y,o=e.z;return t[0]*=i,t[4]*=r,t[8]*=o,t[1]*=i,t[5]*=r,t[9]*=o,t[2]*=i,t[6]*=r,t[10]*=o,t[3]*=i,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),o=1-i,s=e.x,a=e.y,l=e.z,u=o*s,c=o*a;return this.set(u*s+i,u*a-r*l,u*l+r*a,0,u*a+r*l,c*a+i,c*l-r*s,0,u*l-r*a,c*l+r*s,o*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,o,s){return this.set(1,i,o,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,u=o+o,c=s+s,d=a+a,m=o*u,v=o*c,y=o*d,_=s*c,S=s*d,x=a*d,C=l*u,b=l*c,M=l*d,B=i.x,k=i.y,F=i.z;return r[0]=(1-(_+x))*B,r[1]=(v+M)*B,r[2]=(y-b)*B,r[3]=0,r[4]=(v-M)*k,r[5]=(1-(m+x))*k,r[6]=(S+C)*k,r[7]=0,r[8]=(y+b)*F,r[9]=(S-C)*F,r[10]=(1-(m+_))*F,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let o=rg.set(r[0],r[1],r[2]).length();const s=rg.set(r[4],r[5],r[6]).length(),a=rg.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],Wl.copy(this);const u=1/o,c=1/s,d=1/a;return Wl.elements[0]*=u,Wl.elements[1]*=u,Wl.elements[2]*=u,Wl.elements[4]*=c,Wl.elements[5]*=c,Wl.elements[6]*=c,Wl.elements[8]*=d,Wl.elements[9]*=d,Wl.elements[10]*=d,t.setFromRotationMatrix(Wl),i.x=o,i.y=s,i.z=a,this}makePerspective(e,t,i,r,o,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*o/(t-e),u=2*o/(i-r),c=(t+e)/(t-e),d=(i+r)/(i-r),m=-(s+o)/(s-o),v=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=m,a[14]=v,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,o,s){const a=this.elements,l=1/(t-e),u=1/(i-r),c=1/(s-o),d=(t+e)*l,m=(i+r)*u,v=(s+o)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-m,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-v,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const rg=new X,Wl=new Pt,Rfe=new X(0,0,0),Ife=new X(1,1,1),jd=new X,Qx=new X,va=new X,l9=new Pt,u9=new Ir;class ru{constructor(e=0,t=0,i=0,r=ru.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,o=r[0],s=r[4],a=r[8],l=r[1],u=r[5],c=r[9],d=r[2],m=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(Sr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,v),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(m,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Sr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Sr(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-d,v),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Sr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Sr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-Sr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(m,u),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-c,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return l9.makeRotationFromQuaternion(e),this.setFromRotationMatrix(l9,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return u9.setFromEuler(this),this.setFromQuaternion(u9,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ru.DefaultOrder="XYZ";ru.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Tp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let kfe=0;const c9=new X,og=new Ir,Tc=new Pt,Yx=new X,py=new X,Lfe=new X,Ffe=new Ir,d9=new X(1,0,0),f9=new X(0,1,0),h9=new X(0,0,1),Dfe={type:"added"},p9={type:"removed"};class Dn extends eh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kfe++}),this.uuid=Da(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Dn.DefaultUp.clone();const e=new X,t=new ru,i=new Ir,r=new X(1,1,1);function o(){i.setFromEuler(t,!1)}function s(){t.setFromQuaternion(i,void 0,!1)}t._onChange(o),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Pt},normalMatrix:{value:new ps}}),this.matrix=new Pt,this.matrixWorld=new Pt,this.matrixAutoUpdate=Dn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Tp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return og.setFromAxisAngle(e,t),this.quaternion.multiply(og),this}rotateOnWorldAxis(e,t){return og.setFromAxisAngle(e,t),this.quaternion.premultiply(og),this}rotateX(e){return this.rotateOnAxis(d9,e)}rotateY(e){return this.rotateOnAxis(f9,e)}rotateZ(e){return this.rotateOnAxis(h9,e)}translateOnAxis(e,t){return c9.copy(e).applyQuaternion(this.quaternion),this.position.add(c9.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(d9,e)}translateY(e){return this.translateOnAxis(f9,e)}translateZ(e){return this.translateOnAxis(h9,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Tc.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Yx.copy(e):Yx.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),py.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Tc.lookAt(py,Yx,this.up):Tc.lookAt(Yx,py,this.up),this.quaternion.setFromRotationMatrix(Tc),r&&(Tc.extractRotation(r.matrixWorld),og.setFromRotationMatrix(Tc),this.quaternion.premultiply(og.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Dfe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(p9)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(p9)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Tc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Tc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Tc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(py,e,Lfe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(py,Ffe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let o=0,s=r.length;o<s;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(o(e.materials,this.material[l]));r.material=a}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(o(e.animations,l))}}if(t){const a=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),d=s(e.shapes),m=s(e.skeletons),v=s(e.animations),y=s(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),c.length>0&&(i.images=c),d.length>0&&(i.shapes=d),m.length>0&&(i.skeletons=m),v.length>0&&(i.animations=v),y.length>0&&(i.nodes=y)}return i.object=r,i;function s(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Dn.DefaultUp=new X(0,1,0);Dn.DefaultMatrixAutoUpdate=!0;const Vl=new X,Bc=new X,_M=new X,Rc=new X,sg=new X,ag=new X,m9=new X,xM=new X,wM=new X,CM=new X;class fl{constructor(e=new X,t=new X,i=new X){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Vl.subVectors(e,t),r.cross(Vl);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,i,r,o){Vl.subVectors(r,t),Bc.subVectors(i,t),_M.subVectors(e,t);const s=Vl.dot(Vl),a=Vl.dot(Bc),l=Vl.dot(_M),u=Bc.dot(Bc),c=Bc.dot(_M),d=s*u-a*a;if(d===0)return o.set(-2,-1,-1);const m=1/d,v=(u*l-a*c)*m,y=(s*c-a*l)*m;return o.set(1-v-y,y,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Rc),Rc.x>=0&&Rc.y>=0&&Rc.x+Rc.y<=1}static getUV(e,t,i,r,o,s,a,l){return this.getBarycoord(e,t,i,r,Rc),l.set(0,0),l.addScaledVector(o,Rc.x),l.addScaledVector(s,Rc.y),l.addScaledVector(a,Rc.z),l}static isFrontFacing(e,t,i,r){return Vl.subVectors(i,t),Bc.subVectors(e,t),Vl.cross(Bc).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Vl.subVectors(this.c,this.b),Bc.subVectors(this.a,this.b),Vl.cross(Bc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return fl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return fl.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,o){return fl.getUV(e,this.a,this.b,this.c,t,i,r,o)}containsPoint(e){return fl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return fl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,o=this.c;let s,a;sg.subVectors(r,i),ag.subVectors(o,i),xM.subVectors(e,i);const l=sg.dot(xM),u=ag.dot(xM);if(l<=0&&u<=0)return t.copy(i);wM.subVectors(e,r);const c=sg.dot(wM),d=ag.dot(wM);if(c>=0&&d<=c)return t.copy(r);const m=l*d-c*u;if(m<=0&&l>=0&&c<=0)return s=l/(l-c),t.copy(i).addScaledVector(sg,s);CM.subVectors(e,o);const v=sg.dot(CM),y=ag.dot(CM);if(y>=0&&v<=y)return t.copy(o);const _=v*u-l*y;if(_<=0&&u>=0&&y<=0)return a=u/(u-y),t.copy(i).addScaledVector(ag,a);const S=c*y-v*d;if(S<=0&&d-c>=0&&v-y>=0)return m9.subVectors(o,r),a=(d-c)/(d-c+(v-y)),t.copy(r).addScaledVector(m9,a);const x=1/(S+_+m);return s=_*x,a=m*x,t.copy(i).addScaledVector(sg,s).addScaledVector(ag,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Pfe=0;class kr extends eh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Pfe++}),this.uuid=Da(),this.name="",this.type="Material",this.blending=Ep,this.side=zf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=dk,this.blendDst=fk,this.blendEquation=op,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=AE,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=lG,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=SC,this.stencilZFail=SC,this.stencilZPass=SC,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===gH;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ep&&(i.blending=this.blending),this.side!==zf&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(t){const o=r(e.textures),s=r(e.images);o.length>0&&(i.textures=o),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=t[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ka extends kr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=P1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Tr=new X,Zx=new Qe;class jn{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i===!0,this.usage=TE,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let i=0;for(let r=0,o=e.length;r<o;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),s=new vt),t[i++]=s.r,t[i++]=s.g,t[i++]=s.b}return this}copyVector2sArray(e){const t=this.array;let i=0;for(let r=0,o=e.length;r<o;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),s=new Qe),t[i++]=s.x,t[i++]=s.y}return this}copyVector3sArray(e){const t=this.array;let i=0;for(let r=0,o=e.length;r<o;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),s=new X),t[i++]=s.x,t[i++]=s.y,t[i++]=s.z}return this}copyVector4sArray(e){const t=this.array;let i=0;for(let r=0,o=e.length;r<o;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),s=new Kn),t[i++]=s.x,t[i++]=s.y,t[i++]=s.z,t[i++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Zx.fromBufferAttribute(this,t),Zx.applyMatrix3(e),this.setXY(t,Zx.x,Zx.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Tr.fromBufferAttribute(this,t),Tr.applyMatrix3(e),this.setXYZ(t,Tr.x,Tr.y,Tr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Tr.fromBufferAttribute(this,t),Tr.applyMatrix4(e),this.setXYZ(t,Tr.x,Tr.y,Tr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Tr.fromBufferAttribute(this,t),Tr.applyNormalMatrix(e),this.setXYZ(t,Tr.x,Tr.y,Tr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Tr.fromBufferAttribute(this,t),Tr.transformDirection(e),this.setXYZ(t,Tr.x,Tr.y,Tr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==TE&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Nfe extends jn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Ofe extends jn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class zfe extends jn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Ufe extends jn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class Mb extends jn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Hfe extends jn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class xk extends jn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Gfe extends jn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Lt extends jn{constructor(e,t,i){super(new Float32Array(e),t,i)}}class Wfe extends jn{constructor(e,t,i){super(new Float64Array(e),t,i)}}let Vfe=0;const nl=new Pt,EM=new Dn,lg=new X,ya=new th,my=new th,ro=new X;class cn extends eh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vfe++}),this.uuid=Da(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(cG(e)?xk:Mb)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new ps().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return nl.makeRotationFromQuaternion(e),this.applyMatrix4(nl),this}rotateX(e){return nl.makeRotationX(e),this.applyMatrix4(nl),this}rotateY(e){return nl.makeRotationY(e),this.applyMatrix4(nl),this}rotateZ(e){return nl.makeRotationZ(e),this.applyMatrix4(nl),this}translate(e,t,i){return nl.makeTranslation(e,t,i),this.applyMatrix4(nl),this}scale(e,t,i){return nl.makeScale(e,t,i),this.applyMatrix4(nl),this}lookAt(e){return EM.lookAt(e),EM.updateMatrix(),this.applyMatrix4(EM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lg).negate(),this.translate(lg.x,lg.y,lg.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Lt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new th);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const o=t[i];ya.setFromBufferAttribute(o),this.morphTargetsRelative?(ro.addVectors(this.boundingBox.min,ya.min),this.boundingBox.expandByPoint(ro),ro.addVectors(this.boundingBox.max,ya.max),this.boundingBox.expandByPoint(ro)):(this.boundingBox.expandByPoint(ya.min),this.boundingBox.expandByPoint(ya.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new nh);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new X,1/0);return}if(e){const i=this.boundingSphere.center;if(ya.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){const a=t[o];my.setFromBufferAttribute(a),this.morphTargetsRelative?(ro.addVectors(ya.min,my.min),ya.expandByPoint(ro),ro.addVectors(ya.max,my.max),ya.expandByPoint(ro)):(ya.expandByPoint(my.min),ya.expandByPoint(my.max))}ya.getCenter(i);let r=0;for(let o=0,s=e.count;o<s;o++)ro.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(ro));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)ro.fromBufferAttribute(a,u),l&&(lg.fromBufferAttribute(e,u),ro.add(lg)),r=Math.max(r,i.distanceToSquared(ro))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,o=t.normal.array,s=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let U=0;U<a;U++)u[U]=new X,c[U]=new X;const d=new X,m=new X,v=new X,y=new Qe,_=new Qe,S=new Qe,x=new X,C=new X;function b(U,G,oe){d.fromArray(r,U*3),m.fromArray(r,G*3),v.fromArray(r,oe*3),y.fromArray(s,U*2),_.fromArray(s,G*2),S.fromArray(s,oe*2),m.sub(d),v.sub(d),_.sub(y),S.sub(y);const me=1/(_.x*S.y-S.x*_.y);isFinite(me)&&(x.copy(m).multiplyScalar(S.y).addScaledVector(v,-_.y).multiplyScalar(me),C.copy(v).multiplyScalar(_.x).addScaledVector(m,-S.x).multiplyScalar(me),u[U].add(x),u[G].add(x),u[oe].add(x),c[U].add(C),c[G].add(C),c[oe].add(C))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let U=0,G=M.length;U<G;++U){const oe=M[U],me=oe.start,j=oe.count;for(let ne=me,te=me+j;ne<te;ne+=3)b(i[ne+0],i[ne+1],i[ne+2])}const B=new X,k=new X,F=new X,R=new X;function N(U){F.fromArray(o,U*3),R.copy(F);const G=u[U];B.copy(G),B.sub(F.multiplyScalar(F.dot(G))).normalize(),k.crossVectors(R,G);const me=k.dot(c[U])<0?-1:1;l[U*4]=B.x,l[U*4+1]=B.y,l[U*4+2]=B.z,l[U*4+3]=me}for(let U=0,G=M.length;U<G;++U){const oe=M[U],me=oe.start,j=oe.count;for(let ne=me,te=me+j;ne<te;ne+=3)N(i[ne+0]),N(i[ne+1]),N(i[ne+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new jn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let m=0,v=i.count;m<v;m++)i.setXYZ(m,0,0,0);const r=new X,o=new X,s=new X,a=new X,l=new X,u=new X,c=new X,d=new X;if(e)for(let m=0,v=e.count;m<v;m+=3){const y=e.getX(m+0),_=e.getX(m+1),S=e.getX(m+2);r.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),s.fromBufferAttribute(t,S),c.subVectors(s,o),d.subVectors(r,o),c.cross(d),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,_),u.fromBufferAttribute(i,S),a.add(c),l.add(c),u.add(c),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(S,u.x,u.y,u.z)}else for(let m=0,v=t.count;m<v;m+=3)r.fromBufferAttribute(t,m+0),o.fromBufferAttribute(t,m+1),s.fromBufferAttribute(t,m+2),c.subVectors(s,o),d.subVectors(r,o),c.cross(d),i.setXYZ(m+0,c.x,c.y,c.z),i.setXYZ(m+1,c.x,c.y,c.z),i.setXYZ(m+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(e.attributes[r]===void 0)continue;const s=i[r].array,a=e.attributes[r],l=a.array,u=a.itemSize*t,c=Math.min(l.length,s.length-u);for(let d=0,m=u;d<c;d++,m++)s[m]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ro.fromBufferAttribute(e,t),ro.normalize(),e.setXYZ(t,ro.x,ro.y,ro.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,d=a.normalized,m=new u.constructor(l.length*c);let v=0,y=0;for(let _=0,S=l.length;_<S;_++){a.isInterleavedBufferAttribute?v=l[_]*a.data.stride+a.offset:v=l[_]*c;for(let x=0;x<c;x++)m[y++]=u[v++]}return new jn(m,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new cn,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);t.setAttribute(a,u)}const o=this.morphAttributes;for(const a in o){const l=[],u=o[a];for(let c=0,d=u.length;c<d;c++){const m=u[c],v=e(m,i);l.push(v)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const u=s[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,m=u.length;d<m;d++){const v=u[d];c.push(v.toJSON(e.data))}c.length>0&&(r[l]=c,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const u in r){const c=r[u];this.setAttribute(u,c.clone(t))}const o=e.morphAttributes;for(const u in o){const c=[],d=o[u];for(let m=0,v=d.length;m<v;m++)c.push(d[m].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const d=s[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const g9=new Pt,ug=new O1,bM=new nh,Xd=new X,Qd=new X,Yd=new X,AM=new X,MM=new X,TM=new X,ew=new X,tw=new X,nw=new X,iw=new Qe,rw=new Qe,ow=new Qe,BM=new X,sw=new X;class _r extends Dn{constructor(e=new cn,t=new ka){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}raycast(e,t){const i=this.geometry,r=this.material,o=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),bM.copy(i.boundingSphere),bM.applyMatrix4(o),e.ray.intersectsSphere(bM)===!1)||(g9.copy(o).invert(),ug.copy(e.ray).applyMatrix4(g9),i.boundingBox!==null&&ug.intersectsBox(i.boundingBox)===!1))return;let s;const a=i.index,l=i.attributes.position,u=i.morphAttributes.position,c=i.morphTargetsRelative,d=i.attributes.uv,m=i.attributes.uv2,v=i.groups,y=i.drawRange;if(a!==null)if(Array.isArray(r))for(let _=0,S=v.length;_<S;_++){const x=v[_],C=r[x.materialIndex],b=Math.max(x.start,y.start),M=Math.min(a.count,Math.min(x.start+x.count,y.start+y.count));for(let B=b,k=M;B<k;B+=3){const F=a.getX(B),R=a.getX(B+1),N=a.getX(B+2);s=aw(this,C,e,ug,l,u,c,d,m,F,R,N),s&&(s.faceIndex=Math.floor(B/3),s.face.materialIndex=x.materialIndex,t.push(s))}}else{const _=Math.max(0,y.start),S=Math.min(a.count,y.start+y.count);for(let x=_,C=S;x<C;x+=3){const b=a.getX(x),M=a.getX(x+1),B=a.getX(x+2);s=aw(this,r,e,ug,l,u,c,d,m,b,M,B),s&&(s.faceIndex=Math.floor(x/3),t.push(s))}}else if(l!==void 0)if(Array.isArray(r))for(let _=0,S=v.length;_<S;_++){const x=v[_],C=r[x.materialIndex],b=Math.max(x.start,y.start),M=Math.min(l.count,Math.min(x.start+x.count,y.start+y.count));for(let B=b,k=M;B<k;B+=3){const F=B,R=B+1,N=B+2;s=aw(this,C,e,ug,l,u,c,d,m,F,R,N),s&&(s.faceIndex=Math.floor(B/3),s.face.materialIndex=x.materialIndex,t.push(s))}}else{const _=Math.max(0,y.start),S=Math.min(l.count,y.start+y.count);for(let x=_,C=S;x<C;x+=3){const b=x,M=x+1,B=x+2;s=aw(this,r,e,ug,l,u,c,d,m,b,M,B),s&&(s.faceIndex=Math.floor(x/3),t.push(s))}}}}function Kfe(n,e,t,i,r,o,s,a){let l;if(e.side===Fa?l=i.intersectTriangle(s,o,r,!0,a):l=i.intersectTriangle(r,o,s,e.side!==nd,a),l===null)return null;sw.copy(a),sw.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(sw);return u<t.near||u>t.far?null:{distance:u,point:sw.clone(),object:n}}function aw(n,e,t,i,r,o,s,a,l,u,c,d){Xd.fromBufferAttribute(r,u),Qd.fromBufferAttribute(r,c),Yd.fromBufferAttribute(r,d);const m=n.morphTargetInfluences;if(o&&m){ew.set(0,0,0),tw.set(0,0,0),nw.set(0,0,0);for(let y=0,_=o.length;y<_;y++){const S=m[y],x=o[y];S!==0&&(AM.fromBufferAttribute(x,u),MM.fromBufferAttribute(x,c),TM.fromBufferAttribute(x,d),s?(ew.addScaledVector(AM,S),tw.addScaledVector(MM,S),nw.addScaledVector(TM,S)):(ew.addScaledVector(AM.sub(Xd),S),tw.addScaledVector(MM.sub(Qd),S),nw.addScaledVector(TM.sub(Yd),S)))}Xd.add(ew),Qd.add(tw),Yd.add(nw)}n.isSkinnedMesh&&(n.boneTransform(u,Xd),n.boneTransform(c,Qd),n.boneTransform(d,Yd));const v=Kfe(n,e,t,i,Xd,Qd,Yd,BM);if(v){a&&(iw.fromBufferAttribute(a,u),rw.fromBufferAttribute(a,c),ow.fromBufferAttribute(a,d),v.uv=fl.getUV(BM,Xd,Qd,Yd,iw,rw,ow,new Qe)),l&&(iw.fromBufferAttribute(l,u),rw.fromBufferAttribute(l,c),ow.fromBufferAttribute(l,d),v.uv2=fl.getUV(BM,Xd,Qd,Yd,iw,rw,ow,new Qe));const y={a:u,b:c,c:d,normal:new X,materialIndex:0};fl.getNormal(Xd,Qd,Yd,y.normal),v.face=y}return v}class od extends cn{constructor(e=1,t=1,i=1,r=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:o,depthSegments:s};const a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);const l=[],u=[],c=[],d=[];let m=0,v=0;y("z","y","x",-1,-1,i,t,e,s,o,0),y("z","y","x",1,-1,i,t,-e,s,o,1),y("x","z","y",1,1,e,i,t,r,s,2),y("x","z","y",1,-1,e,i,-t,r,s,3),y("x","y","z",1,-1,e,t,i,r,o,4),y("x","y","z",-1,-1,e,t,-i,r,o,5),this.setIndex(l),this.setAttribute("position",new Lt(u,3)),this.setAttribute("normal",new Lt(c,3)),this.setAttribute("uv",new Lt(d,2));function y(_,S,x,C,b,M,B,k,F,R,N){const U=M/F,G=B/R,oe=M/2,me=B/2,j=k/2,ne=F+1,te=R+1;let de=0,O=0;const V=new X;for(let $=0;$<te;$++){const ie=$*G-me;for(let ae=0;ae<ne;ae++){const Ce=ae*U-oe;V[_]=Ce*C,V[S]=ie*b,V[x]=j,u.push(V.x,V.y,V.z),V[_]=0,V[S]=0,V[x]=k>0?1:-1,c.push(V.x,V.y,V.z),d.push(ae/F),d.push(1-$/R),de+=1}}for(let $=0;$<R;$++)for(let ie=0;ie<F;ie++){const ae=m+ie+ne*$,Ce=m+ie+ne*($+1),Fe=m+(ie+1)+ne*($+1),Ne=m+(ie+1)+ne*$;l.push(ae,Ce,Ne),l.push(Ce,Fe,Ne),O+=6}a.addGroup(v,O,N),v+=O,m+=de}}static fromJSON(e){return new od(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function bv(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Oo(n){const e={};for(let t=0;t<n.length;t++){const i=bv(n[t]);for(const r in i)e[r]=i[r]}return e}const fG={clone:bv,merge:Oo};var $fe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Jfe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class hu extends kr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=$fe,this.fragmentShader=Jfe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=bv(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class z1 extends Dn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pt,this.projectionMatrix=new Pt,this.projectionMatrixInverse=new Pt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let Br=class extends z1{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=u1*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ap*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return u1*2*Math.atan(Math.tan(Ap*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ap*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,o=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;o+=s.offsetX*r/l,t-=s.offsetY*i/u,r*=s.width/l,i*=s.height/u}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const cg=90,dg=1;class hG extends Dn{constructor(e,t,i){if(super(),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new Br(cg,dg,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new X(1,0,0)),this.add(r);const o=new Br(cg,dg,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new X(-1,0,0)),this.add(o);const s=new Br(cg,dg,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new X(0,1,0)),this.add(s);const a=new Br(cg,dg,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new X(0,-1,0)),this.add(a);const l=new Br(cg,dg,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new X(0,0,1)),this.add(l);const u=new Br(cg,dg,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new X(0,0,-1)),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,o,s,a,l,u]=this.children,c=e.getRenderTarget(),d=e.toneMapping,m=e.xr.enabled;e.toneMapping=uu,e.xr.enabled=!1;const v=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,o),e.setRenderTarget(i,2),e.render(t,s),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=v,e.setRenderTarget(i,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=d,e.xr.enabled=m,i.texture.needsPMREMUpdate=!0}}class U1 extends Ri{constructor(e,t,i,r,o,s,a,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:id,super(e,t,i,r,o,s,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class wk extends Oa{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new U1(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:oi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new od(5,5,5),o=new hu({name:"CubemapFromEquirect",uniforms:bv(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Fa,blending:$c});o.uniforms.tEquirect.value=t;const s=new _r(r,o),a=t.minFilter;return t.minFilter===cd&&(t.minFilter=oi),new hG(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,i,r){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(o)}}const RM=new X,qfe=new X,jfe=new ps;class cf{constructor(e=new X(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=RM.subVectors(i,t).cross(qfe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(RM),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(i).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||jfe.getNormalMatrix(e),r=this.coplanarPoint(RM).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const fg=new nh,lw=new X;class Tb{constructor(e=new cf,t=new cf,i=new cf,r=new cf,o=new cf,s=new cf){this.planes=[e,t,i,r,o,s]}set(e,t,i,r,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=i[4],u=i[5],c=i[6],d=i[7],m=i[8],v=i[9],y=i[10],_=i[11],S=i[12],x=i[13],C=i[14],b=i[15];return t[0].setComponents(a-r,d-l,_-m,b-S).normalize(),t[1].setComponents(a+r,d+l,_+m,b+S).normalize(),t[2].setComponents(a+o,d+u,_+v,b+x).normalize(),t[3].setComponents(a-o,d-u,_-v,b-x).normalize(),t[4].setComponents(a-s,d-c,_-y,b-C).normalize(),t[5].setComponents(a+s,d+c,_+y,b+C).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),fg.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(fg)}intersectsSprite(e){return fg.center.set(0,0,0),fg.radius=.7071067811865476,fg.applyMatrix4(e.matrixWorld),this.intersectsSphere(fg)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(lw.x=r.normal.x>0?e.max.x:e.min.x,lw.y=r.normal.y>0?e.max.y:e.min.y,lw.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(lw)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function pG(){let n=null,e=!1,t=null,i=null;function r(o,s){t(o,s),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function Xfe(n,e){const t=e.isWebGL2,i=new WeakMap;function r(u,c){const d=u.array,m=u.usage,v=n.createBuffer();n.bindBuffer(c,v),n.bufferData(c,d,m),u.onUploadCallback();let y;if(d instanceof Float32Array)y=5126;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(d instanceof Int16Array)y=5122;else if(d instanceof Uint32Array)y=5125;else if(d instanceof Int32Array)y=5124;else if(d instanceof Int8Array)y=5120;else if(d instanceof Uint8Array)y=5121;else if(d instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:v,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function o(u,c,d){const m=c.array,v=c.updateRange;n.bindBuffer(d,u),v.count===-1?n.bufferSubData(d,0,m):(t?n.bufferSubData(d,v.offset*m.BYTES_PER_ELEMENT,m,v.offset,v.count):n.bufferSubData(d,v.offset*m.BYTES_PER_ELEMENT,m.subarray(v.offset,v.offset+v.count)),v.count=-1)}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=i.get(u);c&&(n.deleteBuffer(c.buffer),i.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const m=i.get(u);(!m||m.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d===void 0?i.set(u,r(u,c)):d.version<u.version&&(o(d.buffer,u,c),d.version=u.version)}return{get:s,remove:a,update:l}}class Gf extends cn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const o=e/2,s=t/2,a=Math.floor(i),l=Math.floor(r),u=a+1,c=l+1,d=e/a,m=t/l,v=[],y=[],_=[],S=[];for(let x=0;x<c;x++){const C=x*m-s;for(let b=0;b<u;b++){const M=b*d-o;y.push(M,-C,0),_.push(0,0,1),S.push(b/a),S.push(1-x/l)}}for(let x=0;x<l;x++)for(let C=0;C<a;C++){const b=C+u*x,M=C+u*(x+1),B=C+1+u*(x+1),k=C+1+u*x;v.push(b,M,k),v.push(M,B,k)}this.setIndex(v),this.setAttribute("position",new Lt(y,3)),this.setAttribute("normal",new Lt(_,3)),this.setAttribute("uv",new Lt(S,2))}static fromJSON(e){return new Gf(e.width,e.height,e.widthSegments,e.heightSegments)}}var Qfe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Yfe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zfe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,ehe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,the=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,nhe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ihe="vec3 transformed = vec3( position );",rhe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ohe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,she=`#ifdef USE_IRIDESCENCE
const mat3 XYZ_TO_REC709 = mat3(
    3.2404542, -0.9692660,  0.0556434,
   -1.5371385,  1.8760108, -0.2040259,
   -0.4985314,  0.0415560,  1.0572252
);
vec3 Fresnel0ToIor( vec3 fresnel0 ) {
   vec3 sqrtF0 = sqrt( fresnel0 );
   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
}
vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
}
float IorToFresnel0( float transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
}
vec3 evalSensitivity( float OPD, vec3 shift ) {
   float phase = 2.0 * PI * OPD * 1.0e-9;
   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );
   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );
   xyz /= 1.0685e-7;
   vec3 srgb = XYZ_TO_REC709 * xyz;
   return srgb;
}
vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
   vec3 I;
   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
   float cosTheta2Sq = 1.0 - sinTheta2Sq;
   if ( cosTheta2Sq < 0.0 ) {
       return vec3( 1.0 );
   }
   float cosTheta2 = sqrt( cosTheta2Sq );
   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
   float R12 = F_Schlick( R0, 1.0, cosTheta1 );
   float R21 = R12;
   float T121 = 1.0 - R12;
   float phi12 = 0.0;
   if ( iridescenceIOR < outsideIOR ) phi12 = PI;
   float phi21 = PI - phi12;
   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
   vec3 phi23 = vec3( 0.0 );
   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;
   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;
   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;
   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
   vec3 phi = vec3( phi21 ) + phi23;
   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
   vec3 r123 = sqrt( R123 );
   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
   vec3 C0 = R12 + Rs;
   I = C0;
   vec3 Cm = Rs - T121;
   for ( int m = 1; m <= 2; ++m ) {
       Cm *= r123;
       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
       I += Cm * Sm;
   }
   return max( I, vec3( 0.0 ) );
}
#endif`,ahe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,lhe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,uhe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,che=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,dhe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,fhe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,hhe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,phe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,mhe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,ghe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,vhe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,yhe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,She=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_he=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,xhe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,whe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Che="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ehe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,bhe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ahe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Mhe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,The=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Bhe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Rhe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ihe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,khe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Lhe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Fhe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Dhe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Phe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Nhe=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Ohe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,zhe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Uhe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Hhe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Ghe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Whe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Vhe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Khe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$he=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
float dotNVi = saturate( dot( normal, geometry.viewDir ) );
if ( material.iridescenceThickness == 0.0 ) {
	material.iridescence = 0.0;
} else {
	material.iridescence = saturate( material.iridescence );
}
if ( material.iridescence > 0.0 ) {
	material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
	material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Jhe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,qhe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,jhe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Xhe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Qhe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Yhe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Zhe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,epe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,tpe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,npe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ipe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rpe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ope=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,spe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ape=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,lpe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,upe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,cpe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,dpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fpe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,hpe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ppe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,mpe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,gpe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,vpe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,ype=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Spe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_pe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,xpe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,wpe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Cpe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Epe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bpe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Ape=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Mpe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Tpe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Bpe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Rpe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ipe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,kpe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Lpe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Fpe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Dpe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ppe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Npe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Ope=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,zpe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Upe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Hpe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Gpe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Wpe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Vpe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Kpe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,$pe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Jpe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const qpe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,jpe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Xpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Qpe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Ype=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Zpe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,eme=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,tme=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,nme=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ime=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,rme=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ome=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sme=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ame=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lme=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ume=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cme=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,dme=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fme=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,hme=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,pme=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mme=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gme=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,vme=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yme=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sme=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_me=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,xme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wme=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cme=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Eme=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bme=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Bn={alphamap_fragment:Qfe,alphamap_pars_fragment:Yfe,alphatest_fragment:Zfe,alphatest_pars_fragment:ehe,aomap_fragment:the,aomap_pars_fragment:nhe,begin_vertex:ihe,beginnormal_vertex:rhe,bsdfs:ohe,iridescence_fragment:she,bumpmap_pars_fragment:ahe,clipping_planes_fragment:lhe,clipping_planes_pars_fragment:uhe,clipping_planes_pars_vertex:che,clipping_planes_vertex:dhe,color_fragment:fhe,color_pars_fragment:hhe,color_pars_vertex:phe,color_vertex:mhe,common:ghe,cube_uv_reflection_fragment:vhe,defaultnormal_vertex:yhe,displacementmap_pars_vertex:She,displacementmap_vertex:_he,emissivemap_fragment:xhe,emissivemap_pars_fragment:whe,encodings_fragment:Che,encodings_pars_fragment:Ehe,envmap_fragment:bhe,envmap_common_pars_fragment:Ahe,envmap_pars_fragment:Mhe,envmap_pars_vertex:The,envmap_physical_pars_fragment:zhe,envmap_vertex:Bhe,fog_vertex:Rhe,fog_pars_vertex:Ihe,fog_fragment:khe,fog_pars_fragment:Lhe,gradientmap_pars_fragment:Fhe,lightmap_fragment:Dhe,lightmap_pars_fragment:Phe,lights_lambert_vertex:Nhe,lights_pars_begin:Ohe,lights_toon_fragment:Uhe,lights_toon_pars_fragment:Hhe,lights_phong_fragment:Ghe,lights_phong_pars_fragment:Whe,lights_physical_fragment:Vhe,lights_physical_pars_fragment:Khe,lights_fragment_begin:$he,lights_fragment_maps:Jhe,lights_fragment_end:qhe,logdepthbuf_fragment:jhe,logdepthbuf_pars_fragment:Xhe,logdepthbuf_pars_vertex:Qhe,logdepthbuf_vertex:Yhe,map_fragment:Zhe,map_pars_fragment:epe,map_particle_fragment:tpe,map_particle_pars_fragment:npe,metalnessmap_fragment:ipe,metalnessmap_pars_fragment:rpe,morphcolor_vertex:ope,morphnormal_vertex:spe,morphtarget_pars_vertex:ape,morphtarget_vertex:lpe,normal_fragment_begin:upe,normal_fragment_maps:cpe,normal_pars_fragment:dpe,normal_pars_vertex:fpe,normal_vertex:hpe,normalmap_pars_fragment:ppe,clearcoat_normal_fragment_begin:mpe,clearcoat_normal_fragment_maps:gpe,clearcoat_pars_fragment:vpe,iridescence_pars_fragment:ype,output_fragment:Spe,packing:_pe,premultiplied_alpha_fragment:xpe,project_vertex:wpe,dithering_fragment:Cpe,dithering_pars_fragment:Epe,roughnessmap_fragment:bpe,roughnessmap_pars_fragment:Ape,shadowmap_pars_fragment:Mpe,shadowmap_pars_vertex:Tpe,shadowmap_vertex:Bpe,shadowmask_pars_fragment:Rpe,skinbase_vertex:Ipe,skinning_pars_vertex:kpe,skinning_vertex:Lpe,skinnormal_vertex:Fpe,specularmap_fragment:Dpe,specularmap_pars_fragment:Ppe,tonemapping_fragment:Npe,tonemapping_pars_fragment:Ope,transmission_fragment:zpe,transmission_pars_fragment:Upe,uv_pars_fragment:Hpe,uv_pars_vertex:Gpe,uv_vertex:Wpe,uv2_pars_fragment:Vpe,uv2_pars_vertex:Kpe,uv2_vertex:$pe,worldpos_vertex:Jpe,background_vert:qpe,background_frag:jpe,cube_vert:Xpe,cube_frag:Qpe,depth_vert:Ype,depth_frag:Zpe,distanceRGBA_vert:eme,distanceRGBA_frag:tme,equirect_vert:nme,equirect_frag:ime,linedashed_vert:rme,linedashed_frag:ome,meshbasic_vert:sme,meshbasic_frag:ame,meshlambert_vert:lme,meshlambert_frag:ume,meshmatcap_vert:cme,meshmatcap_frag:dme,meshnormal_vert:fme,meshnormal_frag:hme,meshphong_vert:pme,meshphong_frag:mme,meshphysical_vert:gme,meshphysical_frag:vme,meshtoon_vert:yme,meshtoon_frag:Sme,points_vert:_me,points_frag:xme,shadow_vert:wme,shadow_frag:Cme,sprite_vert:Eme,sprite_frag:bme},Ct={common:{diffuse:{value:new vt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ps},uv2Transform:{value:new ps},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new vt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ps}},sprite:{diffuse:{value:new vt(16777215)},opacity:{value:1},center:{value:new Qe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ps}}},nu={basic:{uniforms:Oo([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.fog]),vertexShader:Bn.meshbasic_vert,fragmentShader:Bn.meshbasic_frag},lambert:{uniforms:Oo([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.fog,Ct.lights,{emissive:{value:new vt(0)}}]),vertexShader:Bn.meshlambert_vert,fragmentShader:Bn.meshlambert_frag},phong:{uniforms:Oo([Ct.common,Ct.specularmap,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,Ct.lights,{emissive:{value:new vt(0)},specular:{value:new vt(1118481)},shininess:{value:30}}]),vertexShader:Bn.meshphong_vert,fragmentShader:Bn.meshphong_frag},standard:{uniforms:Oo([Ct.common,Ct.envmap,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.roughnessmap,Ct.metalnessmap,Ct.fog,Ct.lights,{emissive:{value:new vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Bn.meshphysical_vert,fragmentShader:Bn.meshphysical_frag},toon:{uniforms:Oo([Ct.common,Ct.aomap,Ct.lightmap,Ct.emissivemap,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.gradientmap,Ct.fog,Ct.lights,{emissive:{value:new vt(0)}}]),vertexShader:Bn.meshtoon_vert,fragmentShader:Bn.meshtoon_frag},matcap:{uniforms:Oo([Ct.common,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,Ct.fog,{matcap:{value:null}}]),vertexShader:Bn.meshmatcap_vert,fragmentShader:Bn.meshmatcap_frag},points:{uniforms:Oo([Ct.points,Ct.fog]),vertexShader:Bn.points_vert,fragmentShader:Bn.points_frag},dashed:{uniforms:Oo([Ct.common,Ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Bn.linedashed_vert,fragmentShader:Bn.linedashed_frag},depth:{uniforms:Oo([Ct.common,Ct.displacementmap]),vertexShader:Bn.depth_vert,fragmentShader:Bn.depth_frag},normal:{uniforms:Oo([Ct.common,Ct.bumpmap,Ct.normalmap,Ct.displacementmap,{opacity:{value:1}}]),vertexShader:Bn.meshnormal_vert,fragmentShader:Bn.meshnormal_frag},sprite:{uniforms:Oo([Ct.sprite,Ct.fog]),vertexShader:Bn.sprite_vert,fragmentShader:Bn.sprite_frag},background:{uniforms:{uvTransform:{value:new ps},t2D:{value:null}},vertexShader:Bn.background_vert,fragmentShader:Bn.background_frag},cube:{uniforms:Oo([Ct.envmap,{opacity:{value:1}}]),vertexShader:Bn.cube_vert,fragmentShader:Bn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Bn.equirect_vert,fragmentShader:Bn.equirect_frag},distanceRGBA:{uniforms:Oo([Ct.common,Ct.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Bn.distanceRGBA_vert,fragmentShader:Bn.distanceRGBA_frag},shadow:{uniforms:Oo([Ct.lights,Ct.fog,{color:{value:new vt(0)},opacity:{value:1}}]),vertexShader:Bn.shadow_vert,fragmentShader:Bn.shadow_frag}};nu.physical={uniforms:Oo([nu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Qe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new vt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new vt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new vt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Bn.meshphysical_vert,fragmentShader:Bn.meshphysical_frag};function Ame(n,e,t,i,r,o){const s=new vt(0);let a=r===!0?0:1,l,u,c=null,d=0,m=null;function v(_,S){let x=!1,C=S.isScene===!0?S.background:null;C&&C.isTexture&&(C=e.get(C));const b=n.xr,M=b.getSession&&b.getSession();M&&M.environmentBlendMode==="additive"&&(C=null),C===null?y(s,a):C&&C.isColor&&(y(C,1),x=!0),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),C&&(C.isCubeTexture||C.mapping===Yv)?(u===void 0&&(u=new _r(new od(1,1,1),new hu({name:"BackgroundCubeMaterial",uniforms:bv(nu.cube.uniforms),vertexShader:nu.cube.vertexShader,fragmentShader:nu.cube.fragmentShader,side:Fa,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(B,k,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=C,u.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,(c!==C||d!==C.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,c=C,d=C.version,m=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):C&&C.isTexture&&(l===void 0&&(l=new _r(new Gf(2,2),new hu({name:"BackgroundMaterial",uniforms:bv(nu.background.uniforms),vertexShader:nu.background.vertexShader,fragmentShader:nu.background.fragmentShader,side:zf,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=C,C.matrixAutoUpdate===!0&&C.updateMatrix(),l.material.uniforms.uvTransform.value.copy(C.matrix),(c!==C||d!==C.version||m!==n.toneMapping)&&(l.material.needsUpdate=!0,c=C,d=C.version,m=n.toneMapping),l.layers.enableAll(),_.unshift(l,l.geometry,l.material,0,0,null))}function y(_,S){t.buffers.color.setClear(_.r,_.g,_.b,S,o)}return{getClearColor:function(){return s},setClearColor:function(_,S=1){s.set(_),a=S,y(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(_){a=_,y(s,a)},render:v}}function Mme(n,e,t,i){const r=n.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),s=i.isWebGL2||o!==null,a={},l=S(null);let u=l,c=!1;function d(j,ne,te,de,O){let V=!1;if(s){const $=_(de,te,ne);u!==$&&(u=$,v(u.object)),V=x(j,de,te,O),V&&C(j,de,te,O)}else{const $=ne.wireframe===!0;(u.geometry!==de.id||u.program!==te.id||u.wireframe!==$)&&(u.geometry=de.id,u.program=te.id,u.wireframe=$,V=!0)}O!==null&&t.update(O,34963),(V||c)&&(c=!1,R(j,ne,te,de),O!==null&&n.bindBuffer(34963,t.get(O).buffer))}function m(){return i.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}function v(j){return i.isWebGL2?n.bindVertexArray(j):o.bindVertexArrayOES(j)}function y(j){return i.isWebGL2?n.deleteVertexArray(j):o.deleteVertexArrayOES(j)}function _(j,ne,te){const de=te.wireframe===!0;let O=a[j.id];O===void 0&&(O={},a[j.id]=O);let V=O[ne.id];V===void 0&&(V={},O[ne.id]=V);let $=V[de];return $===void 0&&($=S(m()),V[de]=$),$}function S(j){const ne=[],te=[],de=[];for(let O=0;O<r;O++)ne[O]=0,te[O]=0,de[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ne,enabledAttributes:te,attributeDivisors:de,object:j,attributes:{},index:null}}function x(j,ne,te,de){const O=u.attributes,V=ne.attributes;let $=0;const ie=te.getAttributes();for(const ae in ie)if(ie[ae].location>=0){const Fe=O[ae];let Ne=V[ae];if(Ne===void 0&&(ae==="instanceMatrix"&&j.instanceMatrix&&(Ne=j.instanceMatrix),ae==="instanceColor"&&j.instanceColor&&(Ne=j.instanceColor)),Fe===void 0||Fe.attribute!==Ne||Ne&&Fe.data!==Ne.data)return!0;$++}return u.attributesNum!==$||u.index!==de}function C(j,ne,te,de){const O={},V=ne.attributes;let $=0;const ie=te.getAttributes();for(const ae in ie)if(ie[ae].location>=0){let Fe=V[ae];Fe===void 0&&(ae==="instanceMatrix"&&j.instanceMatrix&&(Fe=j.instanceMatrix),ae==="instanceColor"&&j.instanceColor&&(Fe=j.instanceColor));const Ne={};Ne.attribute=Fe,Fe&&Fe.data&&(Ne.data=Fe.data),O[ae]=Ne,$++}u.attributes=O,u.attributesNum=$,u.index=de}function b(){const j=u.newAttributes;for(let ne=0,te=j.length;ne<te;ne++)j[ne]=0}function M(j){B(j,0)}function B(j,ne){const te=u.newAttributes,de=u.enabledAttributes,O=u.attributeDivisors;te[j]=1,de[j]===0&&(n.enableVertexAttribArray(j),de[j]=1),O[j]!==ne&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,ne),O[j]=ne)}function k(){const j=u.newAttributes,ne=u.enabledAttributes;for(let te=0,de=ne.length;te<de;te++)ne[te]!==j[te]&&(n.disableVertexAttribArray(te),ne[te]=0)}function F(j,ne,te,de,O,V){i.isWebGL2===!0&&(te===5124||te===5125)?n.vertexAttribIPointer(j,ne,te,O,V):n.vertexAttribPointer(j,ne,te,de,O,V)}function R(j,ne,te,de){if(i.isWebGL2===!1&&(j.isInstancedMesh||de.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const O=de.attributes,V=te.getAttributes(),$=ne.defaultAttributeValues;for(const ie in V){const ae=V[ie];if(ae.location>=0){let Ce=O[ie];if(Ce===void 0&&(ie==="instanceMatrix"&&j.instanceMatrix&&(Ce=j.instanceMatrix),ie==="instanceColor"&&j.instanceColor&&(Ce=j.instanceColor)),Ce!==void 0){const Fe=Ce.normalized,Ne=Ce.itemSize,he=t.get(Ce);if(he===void 0)continue;const mt=he.buffer,ft=he.type,_t=he.bytesPerElement;if(Ce.isInterleavedBufferAttribute){const Ke=Ce.data,ct=Ke.stride,De=Ce.offset;if(Ke.isInstancedInterleavedBuffer){for(let Ae=0;Ae<ae.locationSize;Ae++)B(ae.location+Ae,Ke.meshPerAttribute);j.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=Ke.meshPerAttribute*Ke.count)}else for(let Ae=0;Ae<ae.locationSize;Ae++)M(ae.location+Ae);n.bindBuffer(34962,mt);for(let Ae=0;Ae<ae.locationSize;Ae++)F(ae.location+Ae,Ne/ae.locationSize,ft,Fe,ct*_t,(De+Ne/ae.locationSize*Ae)*_t)}else{if(Ce.isInstancedBufferAttribute){for(let Ke=0;Ke<ae.locationSize;Ke++)B(ae.location+Ke,Ce.meshPerAttribute);j.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let Ke=0;Ke<ae.locationSize;Ke++)M(ae.location+Ke);n.bindBuffer(34962,mt);for(let Ke=0;Ke<ae.locationSize;Ke++)F(ae.location+Ke,Ne/ae.locationSize,ft,Fe,Ne*_t,Ne/ae.locationSize*Ke*_t)}}else if($!==void 0){const Fe=$[ie];if(Fe!==void 0)switch(Fe.length){case 2:n.vertexAttrib2fv(ae.location,Fe);break;case 3:n.vertexAttrib3fv(ae.location,Fe);break;case 4:n.vertexAttrib4fv(ae.location,Fe);break;default:n.vertexAttrib1fv(ae.location,Fe)}}}}k()}function N(){oe();for(const j in a){const ne=a[j];for(const te in ne){const de=ne[te];for(const O in de)y(de[O].object),delete de[O];delete ne[te]}delete a[j]}}function U(j){if(a[j.id]===void 0)return;const ne=a[j.id];for(const te in ne){const de=ne[te];for(const O in de)y(de[O].object),delete de[O];delete ne[te]}delete a[j.id]}function G(j){for(const ne in a){const te=a[ne];if(te[j.id]===void 0)continue;const de=te[j.id];for(const O in de)y(de[O].object),delete de[O];delete te[j.id]}}function oe(){me(),c=!0,u!==l&&(u=l,v(u.object))}function me(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:oe,resetDefaultState:me,dispose:N,releaseStatesOfGeometry:U,releaseStatesOfProgram:G,initAttributes:b,enableAttribute:M,disableUnusedAttributes:k}}function Tme(n,e,t,i){const r=i.isWebGL2;let o;function s(u){o=u}function a(u,c){n.drawArrays(o,u,c),t.update(c,o,1)}function l(u,c,d){if(d===0)return;let m,v;if(r)m=n,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](o,u,c,d),t.update(c,o,d)}this.setMode=s,this.render=a,this.renderInstances=l}function Bme(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(F){if(F==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=s||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),m=n.getParameter(35660),v=n.getParameter(3379),y=n.getParameter(34076),_=n.getParameter(34921),S=n.getParameter(36347),x=n.getParameter(36348),C=n.getParameter(36349),b=m>0,M=s||e.has("OES_texture_float"),B=b&&M,k=s?n.getParameter(36183):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:S,maxVaryings:x,maxFragmentUniforms:C,vertexTextures:b,floatFragmentTextures:M,floatVertexTextures:B,maxSamples:k}}function Rme(n){const e=this;let t=null,i=0,r=!1,o=!1;const s=new cf,a=new ps,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,m,v){const y=d.length!==0||m||i!==0||r;return r=m,t=c(d,v,0),i=d.length,y},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(d,m,v){const y=d.clippingPlanes,_=d.clipIntersection,S=d.clipShadows,x=n.get(d);if(!r||y===null||y.length===0||o&&!S)o?c(null):u();else{const C=o?0:i,b=C*4;let M=x.clippingState||null;l.value=M,M=c(y,m,b,v);for(let B=0;B!==b;++B)M[B]=t[B];x.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=C}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(d,m,v,y){const _=d!==null?d.length:0;let S=null;if(_!==0){if(S=l.value,y!==!0||S===null){const x=v+_*4,C=m.matrixWorldInverse;a.getNormalMatrix(C),(S===null||S.length<x)&&(S=new Float32Array(x));for(let b=0,M=v;b!==_;++b,M+=4)s.copy(d[b]).applyMatrix4(C,a),s.normal.toArray(S,M),S[M+3]=s.constant}l.value=S,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,S}}function Ime(n){let e=new WeakMap;function t(s,a){return a===Wp?s.mapping=id:a===o1&&(s.mapping=Uf),s}function i(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const a=s.mapping;if(a===Wp||a===o1)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new wk(l.height/2);return u.fromEquirectangularTexture(n,s),e.set(s,u),s.addEventListener("dispose",r),t(u.texture,s.mapping)}else return null}}return s}function r(s){const a=s.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}class im extends z1{constructor(e=-1,t=1,i=1,r=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-e,s=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,s=o+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Gg=4,v9=[.125,.215,.35,.446,.526,.582],sp=20,IM=new im,y9=new vt;let kM=null;const Yh=(1+Math.sqrt(5))/2,hg=1/Yh,S9=[new X(1,1,1),new X(-1,1,1),new X(1,1,-1),new X(-1,1,-1),new X(0,Yh,hg),new X(0,Yh,-hg),new X(hg,0,Yh),new X(-hg,0,Yh),new X(Yh,hg,0),new X(-Yh,hg,0)];class DR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){kM=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,i,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=w9(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=x9(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(kM),e.scissorTest=!1,uw(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===id||e.mapping===Uf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),kM=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:oi,minFilter:oi,generateMipmaps:!1,type:Ko,format:Vs,encoding:Hf,depthBuffer:!1},r=_9(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_9(e,t,i);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=kme(o)),this._blurMaterial=Lme(o,e,t)}return r}_compileMaterial(e){const t=new _r(this._lodPlanes[0],e);this._renderer.compile(t,IM)}_sceneToCubeUV(e,t,i,r){const a=new Br(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.autoClear,m=c.toneMapping;c.getClearColor(y9),c.toneMapping=uu,c.autoClear=!1;const v=new ka({name:"PMREM.Background",side:Fa,depthWrite:!1,depthTest:!1}),y=new _r(new od,v);let _=!1;const S=e.background;S?S.isColor&&(v.color.copy(S),e.background=null,_=!0):(v.color.copy(y9),_=!0);for(let x=0;x<6;x++){const C=x%3;C===0?(a.up.set(0,l[x],0),a.lookAt(u[x],0,0)):C===1?(a.up.set(0,0,l[x]),a.lookAt(0,u[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,u[x]));const b=this._cubeSize;uw(r,C*b,x>2?b:0,b,b),c.setRenderTarget(r),_&&c.render(y,a),c.render(e,a)}y.geometry.dispose(),y.material.dispose(),c.toneMapping=m,c.autoClear=d,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===id||e.mapping===Uf;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=w9()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=x9());const o=r?this._cubemapMaterial:this._equirectMaterial,s=new _r(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;uw(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(s,IM)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),s=S9[(r-1)%S9.length];this._blur(e,r-1,r,o,s)}t.autoClear=i}_blur(e,t,i,r,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",o),this._halfBlur(s,e,i,i,r,"longitudinal",o)}_halfBlur(e,t,i,r,o,s,a){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new _r(this._lodPlanes[r],u),m=u.uniforms,v=this._sizeLods[i]-1,y=isFinite(o)?Math.PI/(2*v):2*Math.PI/(2*sp-1),_=o/y,S=isFinite(o)?1+Math.floor(c*_):sp;S>sp&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${sp}`);const x=[];let C=0;for(let F=0;F<sp;++F){const R=F/_,N=Math.exp(-R*R/2);x.push(N),F===0?C+=N:F<S&&(C+=2*N)}for(let F=0;F<x.length;F++)x[F]=x[F]/C;m.envMap.value=e.texture,m.samples.value=S,m.weights.value=x,m.latitudinal.value=s==="latitudinal",a&&(m.poleAxis.value=a);const{_lodMax:b}=this;m.dTheta.value=y,m.mipInt.value=b-i;const M=this._sizeLods[r],B=3*M*(r>b-Gg?r-b+Gg:0),k=4*(this._cubeSize-M);uw(t,B,k,3*M,2*M),l.setRenderTarget(t),l.render(d,IM)}}function kme(n){const e=[],t=[],i=[];let r=n;const o=n-Gg+1+v9.length;for(let s=0;s<o;s++){const a=Math.pow(2,r);t.push(a);let l=1/a;s>n-Gg?l=v9[s-n+Gg-1]:s===0&&(l=0),i.push(l);const u=1/(a-2),c=-u,d=1+u,m=[c,c,d,c,d,d,c,c,d,d,c,d],v=6,y=6,_=3,S=2,x=1,C=new Float32Array(_*y*v),b=new Float32Array(S*y*v),M=new Float32Array(x*y*v);for(let k=0;k<v;k++){const F=k%3*2/3-1,R=k>2?0:-1,N=[F,R,0,F+2/3,R,0,F+2/3,R+1,0,F,R,0,F+2/3,R+1,0,F,R+1,0];C.set(N,_*y*k),b.set(m,S*y*k);const U=[k,k,k,k,k,k];M.set(U,x*y*k)}const B=new cn;B.setAttribute("position",new jn(C,_)),B.setAttribute("uv",new jn(b,S)),B.setAttribute("faceIndex",new jn(M,x)),e.push(B),r>Gg&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function _9(n,e,t){const i=new Oa(n,e,t);return i.texture.mapping=Yv,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function uw(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Lme(n,e,t){const i=new Float32Array(sp),r=new X(0,1,0);return new hu({name:"SphericalGaussianBlur",defines:{n:sp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Ck(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:$c,depthTest:!1,depthWrite:!1})}function x9(){return new hu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Ck(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:$c,depthTest:!1,depthWrite:!1})}function w9(){return new hu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Ck(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:$c,depthTest:!1,depthWrite:!1})}function Ck(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Fme(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===Wp||l===o1,c=l===id||l===Uf;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new DR(n)),d=u?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||c&&d&&r(d)){t===null&&(t=new DR(n));const m=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,m),a.addEventListener("dispose",o),m.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function o(a){const l=a.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function Dme(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Pme(n,e,t,i){const r={},o=new WeakMap;function s(d){const m=d.target;m.index!==null&&e.remove(m.index);for(const y in m.attributes)e.remove(m.attributes[y]);m.removeEventListener("dispose",s),delete r[m.id];const v=o.get(m);v&&(e.remove(v),o.delete(m)),i.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,t.memory.geometries--}function a(d,m){return r[m.id]===!0||(m.addEventListener("dispose",s),r[m.id]=!0,t.memory.geometries++),m}function l(d){const m=d.attributes;for(const y in m)e.update(m[y],34962);const v=d.morphAttributes;for(const y in v){const _=v[y];for(let S=0,x=_.length;S<x;S++)e.update(_[S],34962)}}function u(d){const m=[],v=d.index,y=d.attributes.position;let _=0;if(v!==null){const C=v.array;_=v.version;for(let b=0,M=C.length;b<M;b+=3){const B=C[b+0],k=C[b+1],F=C[b+2];m.push(B,k,k,F,F,B)}}else{const C=y.array;_=y.version;for(let b=0,M=C.length/3-1;b<M;b+=3){const B=b+0,k=b+1,F=b+2;m.push(B,k,k,F,F,B)}}const S=new(cG(m)?xk:Mb)(m,1);S.version=_;const x=o.get(d);x&&e.remove(x),o.set(d,S)}function c(d){const m=o.get(d);if(m){const v=d.index;v!==null&&m.version<v.version&&u(d)}else u(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:c}}function Nme(n,e,t,i){const r=i.isWebGL2;let o;function s(m){o=m}let a,l;function u(m){a=m.type,l=m.bytesPerElement}function c(m,v){n.drawElements(o,v,a,m*l),t.update(v,o,1)}function d(m,v,y){if(y===0)return;let _,S;if(r)_=n,S="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),S="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[S](o,v,a,m*l,y),t.update(v,o,y)}this.setMode=s,this.setIndex=u,this.render=c,this.renderInstances=d}function Ome(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function zme(n,e){return n[0]-e[0]}function Ume(n,e){return Math.abs(e[1])-Math.abs(n[1])}function LM(n,e){let t=1;const i=e.isInterleavedBufferAttribute?e.data.array:e.array;i instanceof Int8Array?t=127:i instanceof Uint8Array?t=255:i instanceof Uint16Array?t=65535:i instanceof Int16Array?t=32767:i instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),n.divideScalar(t)}function Hme(n,e,t){const i={},r=new Float32Array(8),o=new WeakMap,s=new Kn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,d,m){const v=u.morphTargetInfluences;if(e.isWebGL2===!0){const _=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,S=_!==void 0?_.length:0;let x=o.get(c);if(x===void 0||x.count!==S){let te=function(){j.dispose(),o.delete(c),c.removeEventListener("dispose",te)};var y=te;x!==void 0&&x.texture.dispose();const M=c.morphAttributes.position!==void 0,B=c.morphAttributes.normal!==void 0,k=c.morphAttributes.color!==void 0,F=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],N=c.morphAttributes.color||[];let U=0;M===!0&&(U=1),B===!0&&(U=2),k===!0&&(U=3);let G=c.attributes.position.count*U,oe=1;G>e.maxTextureSize&&(oe=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const me=new Float32Array(G*oe*4*S),j=new N1(me,G,oe,S);j.type=Vo,j.needsUpdate=!0;const ne=U*4;for(let de=0;de<S;de++){const O=F[de],V=R[de],$=N[de],ie=G*oe*4*de;for(let ae=0;ae<O.count;ae++){const Ce=ae*ne;M===!0&&(s.fromBufferAttribute(O,ae),O.normalized===!0&&LM(s,O),me[ie+Ce+0]=s.x,me[ie+Ce+1]=s.y,me[ie+Ce+2]=s.z,me[ie+Ce+3]=0),B===!0&&(s.fromBufferAttribute(V,ae),V.normalized===!0&&LM(s,V),me[ie+Ce+4]=s.x,me[ie+Ce+5]=s.y,me[ie+Ce+6]=s.z,me[ie+Ce+7]=0),k===!0&&(s.fromBufferAttribute($,ae),$.normalized===!0&&LM(s,$),me[ie+Ce+8]=s.x,me[ie+Ce+9]=s.y,me[ie+Ce+10]=s.z,me[ie+Ce+11]=$.itemSize===4?s.w:1)}}x={count:S,texture:j,size:new Qe(G,oe)},o.set(c,x),c.addEventListener("dispose",te)}let C=0;for(let M=0;M<v.length;M++)C+=v[M];const b=c.morphTargetsRelative?1:1-C;m.getUniforms().setValue(n,"morphTargetBaseInfluence",b),m.getUniforms().setValue(n,"morphTargetInfluences",v),m.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),m.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const _=v===void 0?0:v.length;let S=i[c.id];if(S===void 0||S.length!==_){S=[];for(let B=0;B<_;B++)S[B]=[B,0];i[c.id]=S}for(let B=0;B<_;B++){const k=S[B];k[0]=B,k[1]=v[B]}S.sort(Ume);for(let B=0;B<8;B++)B<_&&S[B][1]?(a[B][0]=S[B][0],a[B][1]=S[B][1]):(a[B][0]=Number.MAX_SAFE_INTEGER,a[B][1]=0);a.sort(zme);const x=c.morphAttributes.position,C=c.morphAttributes.normal;let b=0;for(let B=0;B<8;B++){const k=a[B],F=k[0],R=k[1];F!==Number.MAX_SAFE_INTEGER&&R?(x&&c.getAttribute("morphTarget"+B)!==x[F]&&c.setAttribute("morphTarget"+B,x[F]),C&&c.getAttribute("morphNormal"+B)!==C[F]&&c.setAttribute("morphNormal"+B,C[F]),r[B]=R,b+=R):(x&&c.hasAttribute("morphTarget"+B)===!0&&c.deleteAttribute("morphTarget"+B),C&&c.hasAttribute("morphNormal"+B)===!0&&c.deleteAttribute("morphNormal"+B),r[B]=0)}const M=c.morphTargetsRelative?1:1-b;m.getUniforms().setValue(n,"morphTargetBaseInfluence",M),m.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function Gme(n,e,t,i){let r=new WeakMap;function o(l){const u=i.render.frame,c=l.geometry,d=e.get(l,c);return r.get(d)!==u&&(e.update(d),r.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function s(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:o,dispose:s}}const mG=new Ri,gG=new N1,vG=new Ab,yG=new U1,C9=[],E9=[],b9=new Float32Array(16),A9=new Float32Array(9),M9=new Float32Array(4);function Zv(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let o=C9[r];if(o===void 0&&(o=new Float32Array(r),C9[r]=o),e!==0){i.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function vs(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function ys(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Bb(n,e){let t=E9[e];t===void 0&&(t=new Int32Array(e),E9[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Wme(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Vme(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(vs(t,e))return;n.uniform2fv(this.addr,e),ys(t,e)}}function Kme(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(vs(t,e))return;n.uniform3fv(this.addr,e),ys(t,e)}}function $me(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(vs(t,e))return;n.uniform4fv(this.addr,e),ys(t,e)}}function Jme(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(vs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ys(t,e)}else{if(vs(t,i))return;M9.set(i),n.uniformMatrix2fv(this.addr,!1,M9),ys(t,i)}}function qme(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(vs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ys(t,e)}else{if(vs(t,i))return;A9.set(i),n.uniformMatrix3fv(this.addr,!1,A9),ys(t,i)}}function jme(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(vs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ys(t,e)}else{if(vs(t,i))return;b9.set(i),n.uniformMatrix4fv(this.addr,!1,b9),ys(t,i)}}function Xme(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Qme(n,e){const t=this.cache;vs(t,e)||(n.uniform2iv(this.addr,e),ys(t,e))}function Yme(n,e){const t=this.cache;vs(t,e)||(n.uniform3iv(this.addr,e),ys(t,e))}function Zme(n,e){const t=this.cache;vs(t,e)||(n.uniform4iv(this.addr,e),ys(t,e))}function ege(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function tge(n,e){const t=this.cache;vs(t,e)||(n.uniform2uiv(this.addr,e),ys(t,e))}function nge(n,e){const t=this.cache;vs(t,e)||(n.uniform3uiv(this.addr,e),ys(t,e))}function ige(n,e){const t=this.cache;vs(t,e)||(n.uniform4uiv(this.addr,e),ys(t,e))}function rge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||mG,r)}function oge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||vG,r)}function sge(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||yG,r)}function age(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||gG,r)}function lge(n){switch(n){case 5126:return Wme;case 35664:return Vme;case 35665:return Kme;case 35666:return $me;case 35674:return Jme;case 35675:return qme;case 35676:return jme;case 5124:case 35670:return Xme;case 35667:case 35671:return Qme;case 35668:case 35672:return Yme;case 35669:case 35673:return Zme;case 5125:return ege;case 36294:return tge;case 36295:return nge;case 36296:return ige;case 35678:case 36198:case 36298:case 36306:case 35682:return rge;case 35679:case 36299:case 36307:return oge;case 35680:case 36300:case 36308:case 36293:return sge;case 36289:case 36303:case 36311:case 36292:return age}}function uge(n,e){n.uniform1fv(this.addr,e)}function cge(n,e){const t=Zv(e,this.size,2);n.uniform2fv(this.addr,t)}function dge(n,e){const t=Zv(e,this.size,3);n.uniform3fv(this.addr,t)}function fge(n,e){const t=Zv(e,this.size,4);n.uniform4fv(this.addr,t)}function hge(n,e){const t=Zv(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function pge(n,e){const t=Zv(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function mge(n,e){const t=Zv(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function gge(n,e){n.uniform1iv(this.addr,e)}function vge(n,e){n.uniform2iv(this.addr,e)}function yge(n,e){n.uniform3iv(this.addr,e)}function Sge(n,e){n.uniform4iv(this.addr,e)}function _ge(n,e){n.uniform1uiv(this.addr,e)}function xge(n,e){n.uniform2uiv(this.addr,e)}function wge(n,e){n.uniform3uiv(this.addr,e)}function Cge(n,e){n.uniform4uiv(this.addr,e)}function Ege(n,e,t){const i=e.length,r=Bb(t,i);n.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)t.setTexture2D(e[o]||mG,r[o])}function bge(n,e,t){const i=e.length,r=Bb(t,i);n.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)t.setTexture3D(e[o]||vG,r[o])}function Age(n,e,t){const i=e.length,r=Bb(t,i);n.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)t.setTextureCube(e[o]||yG,r[o])}function Mge(n,e,t){const i=e.length,r=Bb(t,i);n.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||gG,r[o])}function Tge(n){switch(n){case 5126:return uge;case 35664:return cge;case 35665:return dge;case 35666:return fge;case 35674:return hge;case 35675:return pge;case 35676:return mge;case 5124:case 35670:return gge;case 35667:case 35671:return vge;case 35668:case 35672:return yge;case 35669:case 35673:return Sge;case 5125:return _ge;case 36294:return xge;case 36295:return wge;case 36296:return Cge;case 35678:case 36198:case 36298:case 36306:case 35682:return Ege;case 35679:case 36299:case 36307:return bge;case 35680:case 36300:case 36308:case 36293:return Age;case 36289:case 36303:case 36311:case 36292:return Mge}}class Bge{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=lge(t.type)}}class Rge{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=Tge(t.type)}}class Ige{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let o=0,s=r.length;o!==s;++o){const a=r[o];a.setValue(e,t[a.id],i)}}}const FM=/(\w+)(\])?(\[|\.)?/g;function T9(n,e){n.seq.push(e),n.map[e.id]=e}function kge(n,e,t){const i=n.name,r=i.length;for(FM.lastIndex=0;;){const o=FM.exec(i),s=FM.lastIndex;let a=o[1];const l=o[2]==="]",u=o[3];if(l&&(a=a|0),u===void 0||u==="["&&s+2===r){T9(t,u===void 0?new Bge(a,n,e):new Rge(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new Ige(a),T9(t,d)),t=d}}}class xC{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const o=e.getActiveUniform(t,r),s=e.getUniformLocation(t,o.name);kge(o,s,this)}}setValue(e,t,i,r){const o=this.map[t];o!==void 0&&o.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let o=0,s=t.length;o!==s;++o){const a=t[o],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,o=e.length;r!==o;++r){const s=e[r];s.id in t&&i.push(s)}return i}}function B9(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let Lge=0;function Fge(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let s=r;s<o;s++){const a=s+1;i.push(`${a===e?">":" "} ${a}: ${t[s]}`)}return i.join(`
`)}function Dge(n){switch(n){case Hf:return["Linear","( value )"];case Ui:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function R9(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const s=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+Fge(n.getShaderSource(e),s)}else return r}function Pge(n,e){const t=Dge(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Nge(n,e){let t;switch(e){case OH:t="Linear";break;case zH:t="Reinhard";break;case UH:t="OptimizedCineon";break;case hk:t="ACESFilmic";break;case HH:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Oge(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Oy).join(`
`)}function zge(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Uge(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const o=n.getActiveAttrib(e,r),s=o.name;let a=1;o.type===35674&&(a=2),o.type===35675&&(a=3),o.type===35676&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}function Oy(n){return n!==""}function I9(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function k9(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Hge=/^[ \t]*#include +<([\w\d./]+)>/gm;function PR(n){return n.replace(Hge,Gge)}function Gge(n,e){const t=Bn[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return PR(t)}const Wge=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Vge=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function L9(n){return n.replace(Vge,SG).replace(Wge,Kge)}function Kge(n,e,t,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),SG(n,e,t,i)}function SG(n,e,t,i){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function F9(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $ge(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===wb?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===uS?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===pp&&(e="SHADOWMAP_TYPE_VSM"),e}function Jge(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case id:case Uf:e="ENVMAP_TYPE_CUBE";break;case Yv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function qge(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Uf:e="ENVMAP_MODE_REFRACTION";break}return e}function jge(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case P1:e="ENVMAP_BLENDING_MULTIPLY";break;case PH:e="ENVMAP_BLENDING_MIX";break;case NH:e="ENVMAP_BLENDING_ADD";break}return e}function Xge(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function Qge(n,e,t,i){const r=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const l=$ge(t),u=Jge(t),c=qge(t),d=jge(t),m=Xge(t),v=t.isWebGL2?"":Oge(t),y=zge(o),_=r.createProgram();let S,x,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(S=[y].filter(Oy).join(`
`),S.length>0&&(S+=`
`),x=[v,y].filter(Oy).join(`
`),x.length>0&&(x+=`
`)):(S=[F9(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Oy).join(`
`),x=[v,F9(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==uu?"#define TONE_MAPPING":"",t.toneMapping!==uu?Bn.tonemapping_pars_fragment:"",t.toneMapping!==uu?Nge("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Bn.encodings_pars_fragment,Pge("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Oy).join(`
`)),s=PR(s),s=I9(s,t),s=k9(s,t),a=PR(a),a=I9(a,t),a=k9(a,t),s=L9(s),a=L9(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,S=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,x=["#define varying in",t.glslVersion===LR?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===LR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const b=C+S+s,M=C+x+a,B=B9(r,35633,b),k=B9(r,35632,M);if(r.attachShader(_,B),r.attachShader(_,k),t.index0AttributeName!==void 0?r.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_),n.debug.checkShaderErrors){const N=r.getProgramInfoLog(_).trim(),U=r.getShaderInfoLog(B).trim(),G=r.getShaderInfoLog(k).trim();let oe=!0,me=!0;if(r.getProgramParameter(_,35714)===!1){oe=!1;const j=R9(r,B,"vertex"),ne=R9(r,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,35715)+`

Program Info Log: `+N+`
`+j+`
`+ne)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(U===""||G==="")&&(me=!1);me&&(this.diagnostics={runnable:oe,programLog:N,vertexShader:{log:U,prefix:S},fragmentShader:{log:G,prefix:x}})}r.deleteShader(B),r.deleteShader(k);let F;this.getUniforms=function(){return F===void 0&&(F=new xC(r,_)),F};let R;return this.getAttributes=function(){return R===void 0&&(R=Uge(r,_)),R},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.name=t.shaderName,this.id=Lge++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=B,this.fragmentShader=k,this}let Yge=0;class Zge{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const i=new eve(e);t.set(e,i)}return t.get(e)}}class eve{constructor(e){this.id=Yge++,this.code=e,this.usedTimes=0}}function tve(n,e,t,i,r,o,s){const a=new Tp,l=new Zge,u=[],c=r.isWebGL2,d=r.logarithmicDepthBuffer,m=r.vertexTextures;let v=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(R,N,U,G,oe){const me=G.fog,j=oe.geometry,ne=R.isMeshStandardMaterial?G.environment:null,te=(R.isMeshStandardMaterial?t:e).get(R.envMap||ne),de=te&&te.mapping===Yv?te.image.height:null,O=y[R.type];R.precision!==null&&(v=r.getMaxPrecision(R.precision),v!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",v,"instead."));const V=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,$=V!==void 0?V.length:0;let ie=0;j.morphAttributes.position!==void 0&&(ie=1),j.morphAttributes.normal!==void 0&&(ie=2),j.morphAttributes.color!==void 0&&(ie=3);let ae,Ce,Fe,Ne;if(O){const ct=nu[O];ae=ct.vertexShader,Ce=ct.fragmentShader}else ae=R.vertexShader,Ce=R.fragmentShader,l.update(R),Fe=l.getVertexShaderID(R),Ne=l.getFragmentShaderID(R);const he=n.getRenderTarget(),mt=R.alphaTest>0,ft=R.clearcoat>0,_t=R.iridescence>0;return{isWebGL2:c,shaderID:O,shaderName:R.type,vertexShader:ae,fragmentShader:Ce,defines:R.defines,customVertexShaderID:Fe,customFragmentShaderID:Ne,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:v,instancing:oe.isInstancedMesh===!0,instancingColor:oe.isInstancedMesh===!0&&oe.instanceColor!==null,supportsVertexTextures:m,outputEncoding:he===null?n.outputEncoding:he.isXRRenderTarget===!0?he.texture.encoding:Hf,map:!!R.map,matcap:!!R.matcap,envMap:!!te,envMapMode:te&&te.mapping,envMapCubeUVHeight:de,lightMap:!!R.lightMap,aoMap:!!R.aoMap,emissiveMap:!!R.emissiveMap,bumpMap:!!R.bumpMap,normalMap:!!R.normalMap,objectSpaceNormalMap:R.normalMapType===aG,tangentSpaceNormalMap:R.normalMapType===nm,decodeVideoTexture:!!R.map&&R.map.isVideoTexture===!0&&R.map.encoding===Ui,clearcoat:ft,clearcoatMap:ft&&!!R.clearcoatMap,clearcoatRoughnessMap:ft&&!!R.clearcoatRoughnessMap,clearcoatNormalMap:ft&&!!R.clearcoatNormalMap,iridescence:_t,iridescenceMap:_t&&!!R.iridescenceMap,iridescenceThicknessMap:_t&&!!R.iridescenceThicknessMap,displacementMap:!!R.displacementMap,roughnessMap:!!R.roughnessMap,metalnessMap:!!R.metalnessMap,specularMap:!!R.specularMap,specularIntensityMap:!!R.specularIntensityMap,specularColorMap:!!R.specularColorMap,opaque:R.transparent===!1&&R.blending===Ep,alphaMap:!!R.alphaMap,alphaTest:mt,gradientMap:!!R.gradientMap,sheen:R.sheen>0,sheenColorMap:!!R.sheenColorMap,sheenRoughnessMap:!!R.sheenRoughnessMap,transmission:R.transmission>0,transmissionMap:!!R.transmissionMap,thicknessMap:!!R.thicknessMap,combine:R.combine,vertexTangents:!!R.normalMap&&!!j.attributes.tangent,vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,vertexUvs:!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatMap||!!R.clearcoatRoughnessMap||!!R.clearcoatNormalMap||!!R.iridescenceMap||!!R.iridescenceThicknessMap||!!R.displacementMap||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||!!R.sheenColorMap||!!R.sheenRoughnessMap,uvsVertexOnly:!(R.map||R.bumpMap||R.normalMap||R.specularMap||R.alphaMap||R.emissiveMap||R.roughnessMap||R.metalnessMap||R.clearcoatNormalMap||R.iridescenceMap||R.iridescenceThicknessMap||R.transmission>0||R.transmissionMap||R.thicknessMap||R.specularIntensityMap||R.specularColorMap||R.sheen>0||R.sheenColorMap||R.sheenRoughnessMap)&&!!R.displacementMap,fog:!!me,useFog:R.fog===!0,fogExp2:me&&me.isFogExp2,flatShading:!!R.flatShading,sizeAttenuation:R.sizeAttenuation,logarithmicDepthBuffer:d,skinning:oe.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:ie,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:R.toneMapped?n.toneMapping:uu,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===nd,flipSided:R.side===Fa,useDepthPacking:!!R.depthPacking,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:R.extensions&&R.extensions.derivatives,extensionFragDepth:R.extensions&&R.extensions.fragDepth,extensionDrawBuffers:R.extensions&&R.extensions.drawBuffers,extensionShaderTextureLOD:R.extensions&&R.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function S(R){const N=[];if(R.shaderID?N.push(R.shaderID):(N.push(R.customVertexShaderID),N.push(R.customFragmentShaderID)),R.defines!==void 0)for(const U in R.defines)N.push(U),N.push(R.defines[U]);return R.isRawShaderMaterial===!1&&(x(N,R),C(N,R),N.push(n.outputEncoding)),N.push(R.customProgramCacheKey),N.join()}function x(R,N){R.push(N.precision),R.push(N.outputEncoding),R.push(N.envMapMode),R.push(N.envMapCubeUVHeight),R.push(N.combine),R.push(N.vertexUvs),R.push(N.fogExp2),R.push(N.sizeAttenuation),R.push(N.morphTargetsCount),R.push(N.morphAttributeCount),R.push(N.numDirLights),R.push(N.numPointLights),R.push(N.numSpotLights),R.push(N.numHemiLights),R.push(N.numRectAreaLights),R.push(N.numDirLightShadows),R.push(N.numPointLightShadows),R.push(N.numSpotLightShadows),R.push(N.shadowMapType),R.push(N.toneMapping),R.push(N.numClippingPlanes),R.push(N.numClipIntersection),R.push(N.depthPacking)}function C(R,N){a.disableAll(),N.isWebGL2&&a.enable(0),N.supportsVertexTextures&&a.enable(1),N.instancing&&a.enable(2),N.instancingColor&&a.enable(3),N.map&&a.enable(4),N.matcap&&a.enable(5),N.envMap&&a.enable(6),N.lightMap&&a.enable(7),N.aoMap&&a.enable(8),N.emissiveMap&&a.enable(9),N.bumpMap&&a.enable(10),N.normalMap&&a.enable(11),N.objectSpaceNormalMap&&a.enable(12),N.tangentSpaceNormalMap&&a.enable(13),N.clearcoat&&a.enable(14),N.clearcoatMap&&a.enable(15),N.clearcoatRoughnessMap&&a.enable(16),N.clearcoatNormalMap&&a.enable(17),N.iridescence&&a.enable(18),N.iridescenceMap&&a.enable(19),N.iridescenceThicknessMap&&a.enable(20),N.displacementMap&&a.enable(21),N.specularMap&&a.enable(22),N.roughnessMap&&a.enable(23),N.metalnessMap&&a.enable(24),N.gradientMap&&a.enable(25),N.alphaMap&&a.enable(26),N.alphaTest&&a.enable(27),N.vertexColors&&a.enable(28),N.vertexAlphas&&a.enable(29),N.vertexUvs&&a.enable(30),N.vertexTangents&&a.enable(31),N.uvsVertexOnly&&a.enable(32),N.fog&&a.enable(33),R.push(a.mask),a.disableAll(),N.useFog&&a.enable(0),N.flatShading&&a.enable(1),N.logarithmicDepthBuffer&&a.enable(2),N.skinning&&a.enable(3),N.morphTargets&&a.enable(4),N.morphNormals&&a.enable(5),N.morphColors&&a.enable(6),N.premultipliedAlpha&&a.enable(7),N.shadowMapEnabled&&a.enable(8),N.physicallyCorrectLights&&a.enable(9),N.doubleSided&&a.enable(10),N.flipSided&&a.enable(11),N.useDepthPacking&&a.enable(12),N.dithering&&a.enable(13),N.specularIntensityMap&&a.enable(14),N.specularColorMap&&a.enable(15),N.transmission&&a.enable(16),N.transmissionMap&&a.enable(17),N.thicknessMap&&a.enable(18),N.sheen&&a.enable(19),N.sheenColorMap&&a.enable(20),N.sheenRoughnessMap&&a.enable(21),N.decodeVideoTexture&&a.enable(22),N.opaque&&a.enable(23),R.push(a.mask)}function b(R){const N=y[R.type];let U;if(N){const G=nu[N];U=fG.clone(G.uniforms)}else U=R.uniforms;return U}function M(R,N){let U;for(let G=0,oe=u.length;G<oe;G++){const me=u[G];if(me.cacheKey===N){U=me,++U.usedTimes;break}}return U===void 0&&(U=new Qge(n,N,R,o),u.push(U)),U}function B(R){if(--R.usedTimes===0){const N=u.indexOf(R);u[N]=u[u.length-1],u.pop(),R.destroy()}}function k(R){l.remove(R)}function F(){l.dispose()}return{getParameters:_,getProgramCacheKey:S,getUniforms:b,acquireProgram:M,releaseProgram:B,releaseShaderCache:k,programs:u,dispose:F}}function nve(){let n=new WeakMap;function e(o){let s=n.get(o);return s===void 0&&(s={},n.set(o,s)),s}function t(o){n.delete(o)}function i(o,s,a){n.get(o)[s]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function ive(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function D9(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function P9(){const n=[];let e=0;const t=[],i=[],r=[];function o(){e=0,t.length=0,i.length=0,r.length=0}function s(d,m,v,y,_,S){let x=n[e];return x===void 0?(x={id:d.id,object:d,geometry:m,material:v,groupOrder:y,renderOrder:d.renderOrder,z:_,group:S},n[e]=x):(x.id=d.id,x.object=d,x.geometry=m,x.material=v,x.groupOrder=y,x.renderOrder=d.renderOrder,x.z=_,x.group=S),e++,x}function a(d,m,v,y,_,S){const x=s(d,m,v,y,_,S);v.transmission>0?i.push(x):v.transparent===!0?r.push(x):t.push(x)}function l(d,m,v,y,_,S){const x=s(d,m,v,y,_,S);v.transmission>0?i.unshift(x):v.transparent===!0?r.unshift(x):t.unshift(x)}function u(d,m){t.length>1&&t.sort(d||ive),i.length>1&&i.sort(m||D9),r.length>1&&r.sort(m||D9)}function c(){for(let d=e,m=n.length;d<m;d++){const v=n[d];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:o,push:a,unshift:l,finish:c,sort:u}}function rve(){let n=new WeakMap;function e(i,r){let o;return n.has(i)===!1?(o=new P9,n.set(i,[o])):r>=n.get(i).length?(o=new P9,n.get(i).push(o)):o=n.get(i)[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function ove(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new X,color:new vt};break;case"SpotLight":t={position:new X,direction:new X,color:new vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new X,color:new vt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new X,skyColor:new vt,groundColor:new vt};break;case"RectAreaLight":t={color:new vt,position:new X,halfWidth:new X,halfHeight:new X};break}return n[e.id]=t,t}}}function sve(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let ave=0;function lve(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function uve(n,e){const t=new ove,i=sve(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)r.probe.push(new X);const o=new X,s=new Pt,a=new Pt;function l(c,d){let m=0,v=0,y=0;for(let N=0;N<9;N++)r.probe[N].set(0,0,0);let _=0,S=0,x=0,C=0,b=0,M=0,B=0,k=0;c.sort(lve);const F=d!==!0?Math.PI:1;for(let N=0,U=c.length;N<U;N++){const G=c[N],oe=G.color,me=G.intensity,j=G.distance,ne=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)m+=oe.r*me*F,v+=oe.g*me*F,y+=oe.b*me*F;else if(G.isLightProbe)for(let te=0;te<9;te++)r.probe[te].addScaledVector(G.sh.coefficients[te],me);else if(G.isDirectionalLight){const te=t.get(G);if(te.color.copy(G.color).multiplyScalar(G.intensity*F),G.castShadow){const de=G.shadow,O=i.get(G);O.shadowBias=de.bias,O.shadowNormalBias=de.normalBias,O.shadowRadius=de.radius,O.shadowMapSize=de.mapSize,r.directionalShadow[_]=O,r.directionalShadowMap[_]=ne,r.directionalShadowMatrix[_]=G.shadow.matrix,M++}r.directional[_]=te,_++}else if(G.isSpotLight){const te=t.get(G);if(te.position.setFromMatrixPosition(G.matrixWorld),te.color.copy(oe).multiplyScalar(me*F),te.distance=j,te.coneCos=Math.cos(G.angle),te.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),te.decay=G.decay,G.castShadow){const de=G.shadow,O=i.get(G);O.shadowBias=de.bias,O.shadowNormalBias=de.normalBias,O.shadowRadius=de.radius,O.shadowMapSize=de.mapSize,r.spotShadow[x]=O,r.spotShadowMap[x]=ne,r.spotShadowMatrix[x]=G.shadow.matrix,k++}r.spot[x]=te,x++}else if(G.isRectAreaLight){const te=t.get(G);te.color.copy(oe).multiplyScalar(me),te.halfWidth.set(G.width*.5,0,0),te.halfHeight.set(0,G.height*.5,0),r.rectArea[C]=te,C++}else if(G.isPointLight){const te=t.get(G);if(te.color.copy(G.color).multiplyScalar(G.intensity*F),te.distance=G.distance,te.decay=G.decay,G.castShadow){const de=G.shadow,O=i.get(G);O.shadowBias=de.bias,O.shadowNormalBias=de.normalBias,O.shadowRadius=de.radius,O.shadowMapSize=de.mapSize,O.shadowCameraNear=de.camera.near,O.shadowCameraFar=de.camera.far,r.pointShadow[S]=O,r.pointShadowMap[S]=ne,r.pointShadowMatrix[S]=G.shadow.matrix,B++}r.point[S]=te,S++}else if(G.isHemisphereLight){const te=t.get(G);te.skyColor.copy(G.color).multiplyScalar(me*F),te.groundColor.copy(G.groundColor).multiplyScalar(me*F),r.hemi[b]=te,b++}}C>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ct.LTC_FLOAT_1,r.rectAreaLTC2=Ct.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ct.LTC_HALF_1,r.rectAreaLTC2=Ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=m,r.ambient[1]=v,r.ambient[2]=y;const R=r.hash;(R.directionalLength!==_||R.pointLength!==S||R.spotLength!==x||R.rectAreaLength!==C||R.hemiLength!==b||R.numDirectionalShadows!==M||R.numPointShadows!==B||R.numSpotShadows!==k)&&(r.directional.length=_,r.spot.length=x,r.rectArea.length=C,r.point.length=S,r.hemi.length=b,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=B,r.pointShadowMap.length=B,r.spotShadow.length=k,r.spotShadowMap.length=k,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=B,r.spotShadowMatrix.length=k,R.directionalLength=_,R.pointLength=S,R.spotLength=x,R.rectAreaLength=C,R.hemiLength=b,R.numDirectionalShadows=M,R.numPointShadows=B,R.numSpotShadows=k,r.version=ave++)}function u(c,d){let m=0,v=0,y=0,_=0,S=0;const x=d.matrixWorldInverse;for(let C=0,b=c.length;C<b;C++){const M=c[C];if(M.isDirectionalLight){const B=r.directional[m];B.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),B.direction.sub(o),B.direction.transformDirection(x),m++}else if(M.isSpotLight){const B=r.spot[y];B.position.setFromMatrixPosition(M.matrixWorld),B.position.applyMatrix4(x),B.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),B.direction.sub(o),B.direction.transformDirection(x),y++}else if(M.isRectAreaLight){const B=r.rectArea[_];B.position.setFromMatrixPosition(M.matrixWorld),B.position.applyMatrix4(x),a.identity(),s.copy(M.matrixWorld),s.premultiply(x),a.extractRotation(s),B.halfWidth.set(M.width*.5,0,0),B.halfHeight.set(0,M.height*.5,0),B.halfWidth.applyMatrix4(a),B.halfHeight.applyMatrix4(a),_++}else if(M.isPointLight){const B=r.point[v];B.position.setFromMatrixPosition(M.matrixWorld),B.position.applyMatrix4(x),v++}else if(M.isHemisphereLight){const B=r.hemi[S];B.direction.setFromMatrixPosition(M.matrixWorld),B.direction.transformDirection(x),S++}}}return{setup:l,setupView:u,state:r}}function N9(n,e){const t=new uve(n,e),i=[],r=[];function o(){i.length=0,r.length=0}function s(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function u(d){t.setupView(i,d)}return{init:o,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:u,pushLight:s,pushShadow:a}}function cve(n,e){let t=new WeakMap;function i(o,s=0){let a;return t.has(o)===!1?(a=new N9(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new N9(n,e),t.get(o).push(a)):a=t.get(o)[s],a}function r(){t=new WeakMap}return{get:i,dispose:r}}class Ek extends kr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=oG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class bk extends kr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new X,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const dve=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fve=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hve(n,e,t){let i=new Tb;const r=new Qe,o=new Qe,s=new Kn,a=new Ek({depthPacking:sG}),l=new bk,u={},c=t.maxTextureSize,d={0:Fa,1:zf,2:nd},m=new hu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Qe},radius:{value:4}},vertexShader:dve,fragmentShader:fve}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const y=new cn;y.setAttribute("position",new jn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new _r(y,m),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=wb,this.render=function(M,B,k){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||M.length===0)return;const F=n.getRenderTarget(),R=n.getActiveCubeFace(),N=n.getActiveMipmapLevel(),U=n.state;U.setBlending($c),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);for(let G=0,oe=M.length;G<oe;G++){const me=M[G],j=me.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",me,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;r.copy(j.mapSize);const ne=j.getFrameExtents();if(r.multiply(ne),o.copy(j.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(o.x=Math.floor(c/ne.x),r.x=o.x*ne.x,j.mapSize.x=o.x),r.y>c&&(o.y=Math.floor(c/ne.y),r.y=o.y*ne.y,j.mapSize.y=o.y)),j.map===null){const de=this.type!==pp?{minFilter:yr,magFilter:yr}:{};j.map=new Oa(r.x,r.y,de),j.map.texture.name=me.name+".shadowMap",j.camera.updateProjectionMatrix()}n.setRenderTarget(j.map),n.clear();const te=j.getViewportCount();for(let de=0;de<te;de++){const O=j.getViewport(de);s.set(o.x*O.x,o.y*O.y,o.x*O.z,o.y*O.w),U.viewport(s),j.updateMatrices(me,de),i=j.getFrustum(),b(B,k,j.camera,me,this.type)}j.isPointLightShadow!==!0&&this.type===pp&&x(j,k),j.needsUpdate=!1}S.needsUpdate=!1,n.setRenderTarget(F,R,N)};function x(M,B){const k=e.update(_);m.defines.VSM_SAMPLES!==M.blurSamples&&(m.defines.VSM_SAMPLES=M.blurSamples,v.defines.VSM_SAMPLES=M.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Oa(r.x,r.y)),m.uniforms.shadow_pass.value=M.map.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(B,null,k,m,_,null),v.uniforms.shadow_pass.value=M.mapPass.texture,v.uniforms.resolution.value=M.mapSize,v.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(B,null,k,v,_,null)}function C(M,B,k,F,R,N){let U=null;const G=k.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(G!==void 0?U=G:U=k.isPointLight===!0?l:a,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0){const oe=U.uuid,me=B.uuid;let j=u[oe];j===void 0&&(j={},u[oe]=j);let ne=j[me];ne===void 0&&(ne=U.clone(),j[me]=ne),U=ne}return U.visible=B.visible,U.wireframe=B.wireframe,N===pp?U.side=B.shadowSide!==null?B.shadowSide:B.side:U.side=B.shadowSide!==null?B.shadowSide:d[B.side],U.alphaMap=B.alphaMap,U.alphaTest=B.alphaTest,U.clipShadows=B.clipShadows,U.clippingPlanes=B.clippingPlanes,U.clipIntersection=B.clipIntersection,U.displacementMap=B.displacementMap,U.displacementScale=B.displacementScale,U.displacementBias=B.displacementBias,U.wireframeLinewidth=B.wireframeLinewidth,U.linewidth=B.linewidth,k.isPointLight===!0&&U.isMeshDistanceMaterial===!0&&(U.referencePosition.setFromMatrixPosition(k.matrixWorld),U.nearDistance=F,U.farDistance=R),U}function b(M,B,k,F,R){if(M.visible===!1)return;if(M.layers.test(B.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&R===pp)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,M.matrixWorld);const G=e.update(M),oe=M.material;if(Array.isArray(oe)){const me=G.groups;for(let j=0,ne=me.length;j<ne;j++){const te=me[j],de=oe[te.materialIndex];if(de&&de.visible){const O=C(M,de,F,k.near,k.far,R);n.renderBufferDirect(k,null,G,O,M,te)}}}else if(oe.visible){const me=C(M,oe,F,k.near,k.far,R);n.renderBufferDirect(k,null,G,me,M,null)}}const U=M.children;for(let G=0,oe=U.length;G<oe;G++)b(U[G],B,k,F,R)}}function pve(n,e,t){const i=t.isWebGL2;function r(){let re=!1;const Be=new Kn;let et=null;const Ve=new Kn(0,0,0,0);return{setMask:function(Re){et!==Re&&!re&&(n.colorMask(Re,Re,Re,Re),et=Re)},setLocked:function(Re){re=Re},setClear:function(Re,st,Ze,He,Ot){Ot===!0&&(Re*=He,st*=He,Ze*=He),Be.set(Re,st,Ze,He),Ve.equals(Be)===!1&&(n.clearColor(Re,st,Ze,He),Ve.copy(Be))},reset:function(){re=!1,et=null,Ve.set(-1,0,0,0)}}}function o(){let re=!1,Be=null,et=null,Ve=null;return{setTest:function(Re){Re?Ne(2929):he(2929)},setMask:function(Re){Be!==Re&&!re&&(n.depthMask(Re),Be=Re)},setFunc:function(Re){if(et!==Re){if(Re)switch(Re){case BH:n.depthFunc(512);break;case RH:n.depthFunc(519);break;case IH:n.depthFunc(513);break;case AE:n.depthFunc(515);break;case kH:n.depthFunc(514);break;case LH:n.depthFunc(518);break;case FH:n.depthFunc(516);break;case DH:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);et=Re}},setLocked:function(Re){re=Re},setClear:function(Re){Ve!==Re&&(n.clearDepth(Re),Ve=Re)},reset:function(){re=!1,Be=null,et=null,Ve=null}}}function s(){let re=!1,Be=null,et=null,Ve=null,Re=null,st=null,Ze=null,He=null,Ot=null;return{setTest:function(tn){re||(tn?Ne(2960):he(2960))},setMask:function(tn){Be!==tn&&!re&&(n.stencilMask(tn),Be=tn)},setFunc:function(tn,ai,ji){(et!==tn||Ve!==ai||Re!==ji)&&(n.stencilFunc(tn,ai,ji),et=tn,Ve=ai,Re=ji)},setOp:function(tn,ai,ji){(st!==tn||Ze!==ai||He!==ji)&&(n.stencilOp(tn,ai,ji),st=tn,Ze=ai,He=ji)},setLocked:function(tn){re=tn},setClear:function(tn){Ot!==tn&&(n.clearStencil(tn),Ot=tn)},reset:function(){re=!1,Be=null,et=null,Ve=null,Re=null,st=null,Ze=null,He=null,Ot=null}}}const a=new r,l=new o,u=new s;let c={},d={},m=new WeakMap,v=[],y=null,_=!1,S=null,x=null,C=null,b=null,M=null,B=null,k=null,F=!1,R=null,N=null,U=null,G=null,oe=null;const me=n.getParameter(35661);let j=!1,ne=0;const te=n.getParameter(7938);te.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(te)[1]),j=ne>=1):te.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),j=ne>=2);let de=null,O={};const V=n.getParameter(3088),$=n.getParameter(2978),ie=new Kn().fromArray(V),ae=new Kn().fromArray($);function Ce(re,Be,et){const Ve=new Uint8Array(4),Re=n.createTexture();n.bindTexture(re,Re),n.texParameteri(re,10241,9728),n.texParameteri(re,10240,9728);for(let st=0;st<et;st++)n.texImage2D(Be+st,0,6408,1,1,0,6408,5121,Ve);return Re}const Fe={};Fe[3553]=Ce(3553,3553,1),Fe[34067]=Ce(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Ne(2929),l.setFunc(AE),je(!1),Ye(sR),Ne(2884),De($c);function Ne(re){c[re]!==!0&&(n.enable(re),c[re]=!0)}function he(re){c[re]!==!1&&(n.disable(re),c[re]=!1)}function mt(re,Be){return d[re]!==Be?(n.bindFramebuffer(re,Be),d[re]=Be,i&&(re===36009&&(d[36160]=Be),re===36160&&(d[36009]=Be)),!0):!1}function ft(re,Be){let et=v,Ve=!1;if(re)if(et=m.get(Be),et===void 0&&(et=[],m.set(Be,et)),re.isWebGLMultipleRenderTargets){const Re=re.texture;if(et.length!==Re.length||et[0]!==36064){for(let st=0,Ze=Re.length;st<Ze;st++)et[st]=36064+st;et.length=Re.length,Ve=!0}}else et[0]!==36064&&(et[0]=36064,Ve=!0);else et[0]!==1029&&(et[0]=1029,Ve=!0);Ve&&(t.isWebGL2?n.drawBuffers(et):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(et))}function _t(re){return y!==re?(n.useProgram(re),y=re,!0):!1}const Ke={[op]:32774,[yH]:32778,[SH]:32779};if(i)Ke[cR]=32775,Ke[dR]=32776;else{const re=e.get("EXT_blend_minmax");re!==null&&(Ke[cR]=re.MIN_EXT,Ke[dR]=re.MAX_EXT)}const ct={[_H]:0,[xH]:1,[wH]:768,[dk]:770,[TH]:776,[AH]:774,[EH]:772,[CH]:769,[fk]:771,[MH]:775,[bH]:773};function De(re,Be,et,Ve,Re,st,Ze,He){if(re===$c){_===!0&&(he(3042),_=!1);return}if(_===!1&&(Ne(3042),_=!0),re!==vH){if(re!==S||He!==F){if((x!==op||M!==op)&&(n.blendEquation(32774),x=op,M=op),He)switch(re){case Ep:n.blendFuncSeparate(1,771,1,771);break;case aR:n.blendFunc(1,1);break;case lR:n.blendFuncSeparate(0,769,0,1);break;case uR:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case Ep:n.blendFuncSeparate(770,771,1,771);break;case aR:n.blendFunc(770,1);break;case lR:n.blendFuncSeparate(0,769,0,1);break;case uR:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}C=null,b=null,B=null,k=null,S=re,F=He}return}Re=Re||Be,st=st||et,Ze=Ze||Ve,(Be!==x||Re!==M)&&(n.blendEquationSeparate(Ke[Be],Ke[Re]),x=Be,M=Re),(et!==C||Ve!==b||st!==B||Ze!==k)&&(n.blendFuncSeparate(ct[et],ct[Ve],ct[st],ct[Ze]),C=et,b=Ve,B=st,k=Ze),S=re,F=null}function Ae(re,Be){re.side===nd?he(2884):Ne(2884);let et=re.side===Fa;Be&&(et=!et),je(et),re.blending===Ep&&re.transparent===!1?De($c):De(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.premultipliedAlpha),l.setFunc(re.depthFunc),l.setTest(re.depthTest),l.setMask(re.depthWrite),a.setMask(re.colorWrite);const Ve=re.stencilWrite;u.setTest(Ve),Ve&&(u.setMask(re.stencilWriteMask),u.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),u.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),St(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?Ne(32926):he(32926)}function je(re){R!==re&&(re?n.frontFace(2304):n.frontFace(2305),R=re)}function Ye(re){re!==hH?(Ne(2884),re!==N&&(re===sR?n.cullFace(1029):re===pH?n.cullFace(1028):n.cullFace(1032))):he(2884),N=re}function rt(re){re!==U&&(j&&n.lineWidth(re),U=re)}function St(re,Be,et){re?(Ne(32823),(G!==Be||oe!==et)&&(n.polygonOffset(Be,et),G=Be,oe=et)):he(32823)}function It(re){re?Ne(3089):he(3089)}function Rt(re){re===void 0&&(re=33984+me-1),de!==re&&(n.activeTexture(re),de=re)}function qt(re,Be){de===null&&Rt();let et=O[de];et===void 0&&(et={type:void 0,texture:void 0},O[de]=et),(et.type!==re||et.texture!==Be)&&(n.bindTexture(re,Be||Fe[re]),et.type=re,et.texture=Be)}function Kt(){const re=O[de];re!==void 0&&re.type!==void 0&&(n.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function Z(){try{n.compressedTexImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function q(){try{n.texSubImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Me(){try{n.texSubImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Je(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function it(){try{n.texStorage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ot(){try{n.texStorage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Nt(){try{n.texImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Te(){try{n.texImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Mt(re){ie.equals(re)===!1&&(n.scissor(re.x,re.y,re.z,re.w),ie.copy(re))}function gt(re){ae.equals(re)===!1&&(n.viewport(re.x,re.y,re.z,re.w),ae.copy(re))}function pt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},de=null,O={},d={},m=new WeakMap,v=[],y=null,_=!1,S=null,x=null,C=null,b=null,M=null,B=null,k=null,F=!1,R=null,N=null,U=null,G=null,oe=null,ie.set(0,0,n.canvas.width,n.canvas.height),ae.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Ne,disable:he,bindFramebuffer:mt,drawBuffers:ft,useProgram:_t,setBlending:De,setMaterial:Ae,setFlipSided:je,setCullFace:Ye,setLineWidth:rt,setPolygonOffset:St,setScissorTest:It,activeTexture:Rt,bindTexture:qt,unbindTexture:Kt,compressedTexImage2D:Z,texImage2D:Nt,texImage3D:Te,texStorage2D:it,texStorage3D:ot,texSubImage2D:q,texSubImage3D:Me,compressedTexSubImage2D:Je,scissor:Mt,viewport:gt,reset:pt}}function mve(n,e,t,i,r,o,s){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,c=r.maxTextureSize,d=r.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let _;const S=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(Z,q){return x?new OffscreenCanvas(Z,q):c1("canvas")}function b(Z,q,Me,Je){let it=1;if((Z.width>Je||Z.height>Je)&&(it=Je/Math.max(Z.width,Z.height)),it<1||q===!0)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap){const ot=q?RE:Math.floor,Nt=ot(it*Z.width),Te=ot(it*Z.height);_===void 0&&(_=C(Nt,Te));const Mt=Me?C(Nt,Te):_;return Mt.width=Nt,Mt.height=Te,Mt.getContext("2d").drawImage(Z,0,0,Nt,Te),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Z.width+"x"+Z.height+") to ("+Nt+"x"+Te+")."),Mt}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Z.width+"x"+Z.height+")."),Z;return Z}function M(Z){return FR(Z.width)&&FR(Z.height)}function B(Z){return a?!1:Z.wrapS!==lo||Z.wrapT!==lo||Z.minFilter!==yr&&Z.minFilter!==oi}function k(Z,q){return Z.generateMipmaps&&q&&Z.minFilter!==yr&&Z.minFilter!==oi}function F(Z){n.generateMipmap(Z)}function R(Z,q,Me,Je,it=!1){if(a===!1)return q;if(Z!==null){if(n[Z]!==void 0)return n[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let ot=q;return q===6403&&(Me===5126&&(ot=33326),Me===5131&&(ot=33325),Me===5121&&(ot=33321)),q===33319&&(Me===5126&&(ot=33328),Me===5131&&(ot=33327),Me===5121&&(ot=33323)),q===6408&&(Me===5126&&(ot=34836),Me===5131&&(ot=34842),Me===5121&&(ot=Je===Ui&&it===!1?35907:32856),Me===32819&&(ot=32854),Me===32820&&(ot=32855)),(ot===33325||ot===33326||ot===33327||ot===33328||ot===34842||ot===34836)&&e.get("EXT_color_buffer_float"),ot}function N(Z,q,Me){return k(Z,Me)===!0||Z.isFramebufferTexture&&Z.minFilter!==yr&&Z.minFilter!==oi?Math.log2(Math.max(q.width,q.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?q.mipmaps.length:1}function U(Z){return Z===yr||Z===s1||Z===a1?9728:9729}function G(Z){const q=Z.target;q.removeEventListener("dispose",G),me(q),q.isVideoTexture&&y.delete(q)}function oe(Z){const q=Z.target;q.removeEventListener("dispose",oe),ne(q)}function me(Z){const q=i.get(Z);if(q.__webglInit===void 0)return;const Me=Z.source,Je=S.get(Me);if(Je){const it=Je[q.__cacheKey];it.usedTimes--,it.usedTimes===0&&j(Z),Object.keys(Je).length===0&&S.delete(Me)}i.remove(Z)}function j(Z){const q=i.get(Z);n.deleteTexture(q.__webglTexture);const Me=Z.source,Je=S.get(Me);delete Je[q.__cacheKey],s.memory.textures--}function ne(Z){const q=Z.texture,Me=i.get(Z),Je=i.get(q);if(Je.__webglTexture!==void 0&&(n.deleteTexture(Je.__webglTexture),s.memory.textures--),Z.depthTexture&&Z.depthTexture.dispose(),Z.isWebGLCubeRenderTarget)for(let it=0;it<6;it++)n.deleteFramebuffer(Me.__webglFramebuffer[it]),Me.__webglDepthbuffer&&n.deleteRenderbuffer(Me.__webglDepthbuffer[it]);else{if(n.deleteFramebuffer(Me.__webglFramebuffer),Me.__webglDepthbuffer&&n.deleteRenderbuffer(Me.__webglDepthbuffer),Me.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Me.__webglMultisampledFramebuffer),Me.__webglColorRenderbuffer)for(let it=0;it<Me.__webglColorRenderbuffer.length;it++)Me.__webglColorRenderbuffer[it]&&n.deleteRenderbuffer(Me.__webglColorRenderbuffer[it]);Me.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Me.__webglDepthRenderbuffer)}if(Z.isWebGLMultipleRenderTargets)for(let it=0,ot=q.length;it<ot;it++){const Nt=i.get(q[it]);Nt.__webglTexture&&(n.deleteTexture(Nt.__webglTexture),s.memory.textures--),i.remove(q[it])}i.remove(q),i.remove(Z)}let te=0;function de(){te=0}function O(){const Z=te;return Z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+l),te+=1,Z}function V(Z){const q=[];return q.push(Z.wrapS),q.push(Z.wrapT),q.push(Z.magFilter),q.push(Z.minFilter),q.push(Z.anisotropy),q.push(Z.internalFormat),q.push(Z.format),q.push(Z.type),q.push(Z.generateMipmaps),q.push(Z.premultiplyAlpha),q.push(Z.flipY),q.push(Z.unpackAlignment),q.push(Z.encoding),q.join()}function $(Z,q){const Me=i.get(Z);if(Z.isVideoTexture&&qt(Z),Z.isRenderTargetTexture===!1&&Z.version>0&&Me.__version!==Z.version){const Je=Z.image;if(Je===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Je.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ft(Me,Z,q);return}}t.activeTexture(33984+q),t.bindTexture(3553,Me.__webglTexture)}function ie(Z,q){const Me=i.get(Z);if(Z.version>0&&Me.__version!==Z.version){ft(Me,Z,q);return}t.activeTexture(33984+q),t.bindTexture(35866,Me.__webglTexture)}function ae(Z,q){const Me=i.get(Z);if(Z.version>0&&Me.__version!==Z.version){ft(Me,Z,q);return}t.activeTexture(33984+q),t.bindTexture(32879,Me.__webglTexture)}function Ce(Z,q){const Me=i.get(Z);if(Z.version>0&&Me.__version!==Z.version){_t(Me,Z,q);return}t.activeTexture(33984+q),t.bindTexture(34067,Me.__webglTexture)}const Fe={[ic]:10497,[lo]:33071,[Cv]:33648},Ne={[yr]:9728,[s1]:9984,[a1]:9986,[oi]:9729,[Eb]:9985,[cd]:9987};function he(Z,q,Me){if(Me?(n.texParameteri(Z,10242,Fe[q.wrapS]),n.texParameteri(Z,10243,Fe[q.wrapT]),(Z===32879||Z===35866)&&n.texParameteri(Z,32882,Fe[q.wrapR]),n.texParameteri(Z,10240,Ne[q.magFilter]),n.texParameteri(Z,10241,Ne[q.minFilter])):(n.texParameteri(Z,10242,33071),n.texParameteri(Z,10243,33071),(Z===32879||Z===35866)&&n.texParameteri(Z,32882,33071),(q.wrapS!==lo||q.wrapT!==lo)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Z,10240,U(q.magFilter)),n.texParameteri(Z,10241,U(q.minFilter)),q.minFilter!==yr&&q.minFilter!==oi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Je=e.get("EXT_texture_filter_anisotropic");if(q.type===Vo&&e.has("OES_texture_float_linear")===!1||a===!1&&q.type===Ko&&e.has("OES_texture_half_float_linear")===!1)return;(q.anisotropy>1||i.get(q).__currentAnisotropy)&&(n.texParameterf(Z,Je.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,r.getMaxAnisotropy())),i.get(q).__currentAnisotropy=q.anisotropy)}}function mt(Z,q){let Me=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,q.addEventListener("dispose",G));const Je=q.source;let it=S.get(Je);it===void 0&&(it={},S.set(Je,it));const ot=V(q);if(ot!==Z.__cacheKey){it[ot]===void 0&&(it[ot]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Me=!0),it[ot].usedTimes++;const Nt=it[Z.__cacheKey];Nt!==void 0&&(it[Z.__cacheKey].usedTimes--,Nt.usedTimes===0&&j(q)),Z.__cacheKey=ot,Z.__webglTexture=it[ot].texture}return Me}function ft(Z,q,Me){let Je=3553;q.isDataArrayTexture&&(Je=35866),q.isData3DTexture&&(Je=32879);const it=mt(Z,q),ot=q.source;if(t.activeTexture(33984+Me),t.bindTexture(Je,Z.__webglTexture),ot.version!==ot.__currentVersion||it===!0){n.pixelStorei(37440,q.flipY),n.pixelStorei(37441,q.premultiplyAlpha),n.pixelStorei(3317,q.unpackAlignment),n.pixelStorei(37443,0);const Nt=B(q)&&M(q.image)===!1;let Te=b(q.image,Nt,!1,c);Te=Kt(q,Te);const Mt=M(Te)||a,gt=o.convert(q.format,q.encoding);let pt=o.convert(q.type),re=R(q.internalFormat,gt,pt,q.encoding,q.isVideoTexture);he(Je,q,Mt);let Be;const et=q.mipmaps,Ve=a&&q.isVideoTexture!==!0,Re=ot.__currentVersion===void 0||it===!0,st=N(q,Te,Mt);if(q.isDepthTexture)re=6402,a?q.type===Vo?re=36012:q.type===Cf?re=33190:q.type===bp?re=35056:re=33189:q.type===Vo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),q.format===Pf&&re===6402&&q.type!==pk&&q.type!==Cf&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),q.type=Cf,pt=o.convert(q.type)),q.format===Vp&&re===6402&&(re=34041,q.type!==bp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),q.type=bp,pt=o.convert(q.type))),Re&&(Ve?t.texStorage2D(3553,1,re,Te.width,Te.height):t.texImage2D(3553,0,re,Te.width,Te.height,0,gt,pt,null));else if(q.isDataTexture)if(et.length>0&&Mt){Ve&&Re&&t.texStorage2D(3553,st,re,et[0].width,et[0].height);for(let Ze=0,He=et.length;Ze<He;Ze++)Be=et[Ze],Ve?t.texSubImage2D(3553,Ze,0,0,Be.width,Be.height,gt,pt,Be.data):t.texImage2D(3553,Ze,re,Be.width,Be.height,0,gt,pt,Be.data);q.generateMipmaps=!1}else Ve?(Re&&t.texStorage2D(3553,st,re,Te.width,Te.height),t.texSubImage2D(3553,0,0,0,Te.width,Te.height,gt,pt,Te.data)):t.texImage2D(3553,0,re,Te.width,Te.height,0,gt,pt,Te.data);else if(q.isCompressedTexture){Ve&&Re&&t.texStorage2D(3553,st,re,et[0].width,et[0].height);for(let Ze=0,He=et.length;Ze<He;Ze++)Be=et[Ze],q.format!==Vs?gt!==null?Ve?t.compressedTexSubImage2D(3553,Ze,0,0,Be.width,Be.height,gt,Be.data):t.compressedTexImage2D(3553,Ze,re,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ve?t.texSubImage2D(3553,Ze,0,0,Be.width,Be.height,gt,pt,Be.data):t.texImage2D(3553,Ze,re,Be.width,Be.height,0,gt,pt,Be.data)}else if(q.isDataArrayTexture)Ve?(Re&&t.texStorage3D(35866,st,re,Te.width,Te.height,Te.depth),t.texSubImage3D(35866,0,0,0,0,Te.width,Te.height,Te.depth,gt,pt,Te.data)):t.texImage3D(35866,0,re,Te.width,Te.height,Te.depth,0,gt,pt,Te.data);else if(q.isData3DTexture)Ve?(Re&&t.texStorage3D(32879,st,re,Te.width,Te.height,Te.depth),t.texSubImage3D(32879,0,0,0,0,Te.width,Te.height,Te.depth,gt,pt,Te.data)):t.texImage3D(32879,0,re,Te.width,Te.height,Te.depth,0,gt,pt,Te.data);else if(q.isFramebufferTexture){if(Re)if(Ve)t.texStorage2D(3553,st,re,Te.width,Te.height);else{let Ze=Te.width,He=Te.height;for(let Ot=0;Ot<st;Ot++)t.texImage2D(3553,Ot,re,Ze,He,0,gt,pt,null),Ze>>=1,He>>=1}}else if(et.length>0&&Mt){Ve&&Re&&t.texStorage2D(3553,st,re,et[0].width,et[0].height);for(let Ze=0,He=et.length;Ze<He;Ze++)Be=et[Ze],Ve?t.texSubImage2D(3553,Ze,0,0,gt,pt,Be):t.texImage2D(3553,Ze,re,gt,pt,Be);q.generateMipmaps=!1}else Ve?(Re&&t.texStorage2D(3553,st,re,Te.width,Te.height),t.texSubImage2D(3553,0,0,0,gt,pt,Te)):t.texImage2D(3553,0,re,gt,pt,Te);k(q,Mt)&&F(Je),ot.__currentVersion=ot.version,q.onUpdate&&q.onUpdate(q)}Z.__version=q.version}function _t(Z,q,Me){if(q.image.length!==6)return;const Je=mt(Z,q),it=q.source;if(t.activeTexture(33984+Me),t.bindTexture(34067,Z.__webglTexture),it.version!==it.__currentVersion||Je===!0){n.pixelStorei(37440,q.flipY),n.pixelStorei(37441,q.premultiplyAlpha),n.pixelStorei(3317,q.unpackAlignment),n.pixelStorei(37443,0);const ot=q.isCompressedTexture||q.image[0].isCompressedTexture,Nt=q.image[0]&&q.image[0].isDataTexture,Te=[];for(let Ze=0;Ze<6;Ze++)!ot&&!Nt?Te[Ze]=b(q.image[Ze],!1,!0,u):Te[Ze]=Nt?q.image[Ze].image:q.image[Ze],Te[Ze]=Kt(q,Te[Ze]);const Mt=Te[0],gt=M(Mt)||a,pt=o.convert(q.format,q.encoding),re=o.convert(q.type),Be=R(q.internalFormat,pt,re,q.encoding),et=a&&q.isVideoTexture!==!0,Ve=it.__currentVersion===void 0||Je===!0;let Re=N(q,Mt,gt);he(34067,q,gt);let st;if(ot){et&&Ve&&t.texStorage2D(34067,Re,Be,Mt.width,Mt.height);for(let Ze=0;Ze<6;Ze++){st=Te[Ze].mipmaps;for(let He=0;He<st.length;He++){const Ot=st[He];q.format!==Vs?pt!==null?et?t.compressedTexSubImage2D(34069+Ze,He,0,0,Ot.width,Ot.height,pt,Ot.data):t.compressedTexImage2D(34069+Ze,He,Be,Ot.width,Ot.height,0,Ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):et?t.texSubImage2D(34069+Ze,He,0,0,Ot.width,Ot.height,pt,re,Ot.data):t.texImage2D(34069+Ze,He,Be,Ot.width,Ot.height,0,pt,re,Ot.data)}}}else{st=q.mipmaps,et&&Ve&&(st.length>0&&Re++,t.texStorage2D(34067,Re,Be,Te[0].width,Te[0].height));for(let Ze=0;Ze<6;Ze++)if(Nt){et?t.texSubImage2D(34069+Ze,0,0,0,Te[Ze].width,Te[Ze].height,pt,re,Te[Ze].data):t.texImage2D(34069+Ze,0,Be,Te[Ze].width,Te[Ze].height,0,pt,re,Te[Ze].data);for(let He=0;He<st.length;He++){const tn=st[He].image[Ze].image;et?t.texSubImage2D(34069+Ze,He+1,0,0,tn.width,tn.height,pt,re,tn.data):t.texImage2D(34069+Ze,He+1,Be,tn.width,tn.height,0,pt,re,tn.data)}}else{et?t.texSubImage2D(34069+Ze,0,0,0,pt,re,Te[Ze]):t.texImage2D(34069+Ze,0,Be,pt,re,Te[Ze]);for(let He=0;He<st.length;He++){const Ot=st[He];et?t.texSubImage2D(34069+Ze,He+1,0,0,pt,re,Ot.image[Ze]):t.texImage2D(34069+Ze,He+1,Be,pt,re,Ot.image[Ze])}}}k(q,gt)&&F(34067),it.__currentVersion=it.version,q.onUpdate&&q.onUpdate(q)}Z.__version=q.version}function Ke(Z,q,Me,Je,it){const ot=o.convert(Me.format,Me.encoding),Nt=o.convert(Me.type),Te=R(Me.internalFormat,ot,Nt,Me.encoding);i.get(q).__hasExternalTextures||(it===32879||it===35866?t.texImage3D(it,0,Te,q.width,q.height,q.depth,0,ot,Nt,null):t.texImage2D(it,0,Te,q.width,q.height,0,ot,Nt,null)),t.bindFramebuffer(36160,Z),Rt(q)?m.framebufferTexture2DMultisampleEXT(36160,Je,it,i.get(Me).__webglTexture,0,It(q)):n.framebufferTexture2D(36160,Je,it,i.get(Me).__webglTexture,0),t.bindFramebuffer(36160,null)}function ct(Z,q,Me){if(n.bindRenderbuffer(36161,Z),q.depthBuffer&&!q.stencilBuffer){let Je=33189;if(Me||Rt(q)){const it=q.depthTexture;it&&it.isDepthTexture&&(it.type===Vo?Je=36012:it.type===Cf&&(Je=33190));const ot=It(q);Rt(q)?m.renderbufferStorageMultisampleEXT(36161,ot,Je,q.width,q.height):n.renderbufferStorageMultisample(36161,ot,Je,q.width,q.height)}else n.renderbufferStorage(36161,Je,q.width,q.height);n.framebufferRenderbuffer(36160,36096,36161,Z)}else if(q.depthBuffer&&q.stencilBuffer){const Je=It(q);Me&&Rt(q)===!1?n.renderbufferStorageMultisample(36161,Je,35056,q.width,q.height):Rt(q)?m.renderbufferStorageMultisampleEXT(36161,Je,35056,q.width,q.height):n.renderbufferStorage(36161,34041,q.width,q.height),n.framebufferRenderbuffer(36160,33306,36161,Z)}else{const Je=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let it=0;it<Je.length;it++){const ot=Je[it],Nt=o.convert(ot.format,ot.encoding),Te=o.convert(ot.type),Mt=R(ot.internalFormat,Nt,Te,ot.encoding),gt=It(q);Me&&Rt(q)===!1?n.renderbufferStorageMultisample(36161,gt,Mt,q.width,q.height):Rt(q)?m.renderbufferStorageMultisampleEXT(36161,gt,Mt,q.width,q.height):n.renderbufferStorage(36161,Mt,q.width,q.height)}}n.bindRenderbuffer(36161,null)}function De(Z,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Z),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(q.depthTexture).__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),$(q.depthTexture,0);const Je=i.get(q.depthTexture).__webglTexture,it=It(q);if(q.depthTexture.format===Pf)Rt(q)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,Je,0,it):n.framebufferTexture2D(36160,36096,3553,Je,0);else if(q.depthTexture.format===Vp)Rt(q)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,Je,0,it):n.framebufferTexture2D(36160,33306,3553,Je,0);else throw new Error("Unknown depthTexture format")}function Ae(Z){const q=i.get(Z),Me=Z.isWebGLCubeRenderTarget===!0;if(Z.depthTexture&&!q.__autoAllocateDepthBuffer){if(Me)throw new Error("target.depthTexture not supported in Cube render targets");De(q.__webglFramebuffer,Z)}else if(Me){q.__webglDepthbuffer=[];for(let Je=0;Je<6;Je++)t.bindFramebuffer(36160,q.__webglFramebuffer[Je]),q.__webglDepthbuffer[Je]=n.createRenderbuffer(),ct(q.__webglDepthbuffer[Je],Z,!1)}else t.bindFramebuffer(36160,q.__webglFramebuffer),q.__webglDepthbuffer=n.createRenderbuffer(),ct(q.__webglDepthbuffer,Z,!1);t.bindFramebuffer(36160,null)}function je(Z,q,Me){const Je=i.get(Z);q!==void 0&&Ke(Je.__webglFramebuffer,Z,Z.texture,36064,3553),Me!==void 0&&Ae(Z)}function Ye(Z){const q=Z.texture,Me=i.get(Z),Je=i.get(q);Z.addEventListener("dispose",oe),Z.isWebGLMultipleRenderTargets!==!0&&(Je.__webglTexture===void 0&&(Je.__webglTexture=n.createTexture()),Je.__version=q.version,s.memory.textures++);const it=Z.isWebGLCubeRenderTarget===!0,ot=Z.isWebGLMultipleRenderTargets===!0,Nt=M(Z)||a;if(it){Me.__webglFramebuffer=[];for(let Te=0;Te<6;Te++)Me.__webglFramebuffer[Te]=n.createFramebuffer()}else{if(Me.__webglFramebuffer=n.createFramebuffer(),ot)if(r.drawBuffers){const Te=Z.texture;for(let Mt=0,gt=Te.length;Mt<gt;Mt++){const pt=i.get(Te[Mt]);pt.__webglTexture===void 0&&(pt.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Z.samples>0&&Rt(Z)===!1){const Te=ot?q:[q];Me.__webglMultisampledFramebuffer=n.createFramebuffer(),Me.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Me.__webglMultisampledFramebuffer);for(let Mt=0;Mt<Te.length;Mt++){const gt=Te[Mt];Me.__webglColorRenderbuffer[Mt]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Me.__webglColorRenderbuffer[Mt]);const pt=o.convert(gt.format,gt.encoding),re=o.convert(gt.type),Be=R(gt.internalFormat,pt,re,gt.encoding),et=It(Z);n.renderbufferStorageMultisample(36161,et,Be,Z.width,Z.height),n.framebufferRenderbuffer(36160,36064+Mt,36161,Me.__webglColorRenderbuffer[Mt])}n.bindRenderbuffer(36161,null),Z.depthBuffer&&(Me.__webglDepthRenderbuffer=n.createRenderbuffer(),ct(Me.__webglDepthRenderbuffer,Z,!0)),t.bindFramebuffer(36160,null)}}if(it){t.bindTexture(34067,Je.__webglTexture),he(34067,q,Nt);for(let Te=0;Te<6;Te++)Ke(Me.__webglFramebuffer[Te],Z,q,36064,34069+Te);k(q,Nt)&&F(34067),t.unbindTexture()}else if(ot){const Te=Z.texture;for(let Mt=0,gt=Te.length;Mt<gt;Mt++){const pt=Te[Mt],re=i.get(pt);t.bindTexture(3553,re.__webglTexture),he(3553,pt,Nt),Ke(Me.__webglFramebuffer,Z,pt,36064+Mt,3553),k(pt,Nt)&&F(3553)}t.unbindTexture()}else{let Te=3553;(Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(a?Te=Z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Te,Je.__webglTexture),he(Te,q,Nt),Ke(Me.__webglFramebuffer,Z,q,36064,Te),k(q,Nt)&&F(Te),t.unbindTexture()}Z.depthBuffer&&Ae(Z)}function rt(Z){const q=M(Z)||a,Me=Z.isWebGLMultipleRenderTargets===!0?Z.texture:[Z.texture];for(let Je=0,it=Me.length;Je<it;Je++){const ot=Me[Je];if(k(ot,q)){const Nt=Z.isWebGLCubeRenderTarget?34067:3553,Te=i.get(ot).__webglTexture;t.bindTexture(Nt,Te),F(Nt),t.unbindTexture()}}}function St(Z){if(a&&Z.samples>0&&Rt(Z)===!1){const q=Z.isWebGLMultipleRenderTargets?Z.texture:[Z.texture],Me=Z.width,Je=Z.height;let it=16384;const ot=[],Nt=Z.stencilBuffer?33306:36096,Te=i.get(Z),Mt=Z.isWebGLMultipleRenderTargets===!0;if(Mt)for(let gt=0;gt<q.length;gt++)t.bindFramebuffer(36160,Te.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+gt,36161,null),t.bindFramebuffer(36160,Te.__webglFramebuffer),n.framebufferTexture2D(36009,36064+gt,3553,null,0);t.bindFramebuffer(36008,Te.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Te.__webglFramebuffer);for(let gt=0;gt<q.length;gt++){ot.push(36064+gt),Z.depthBuffer&&ot.push(Nt);const pt=Te.__ignoreDepthValues!==void 0?Te.__ignoreDepthValues:!1;if(pt===!1&&(Z.depthBuffer&&(it|=256),Z.stencilBuffer&&(it|=1024)),Mt&&n.framebufferRenderbuffer(36008,36064,36161,Te.__webglColorRenderbuffer[gt]),pt===!0&&(n.invalidateFramebuffer(36008,[Nt]),n.invalidateFramebuffer(36009,[Nt])),Mt){const re=i.get(q[gt]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,re,0)}n.blitFramebuffer(0,0,Me,Je,0,0,Me,Je,it,9728),v&&n.invalidateFramebuffer(36008,ot)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Mt)for(let gt=0;gt<q.length;gt++){t.bindFramebuffer(36160,Te.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+gt,36161,Te.__webglColorRenderbuffer[gt]);const pt=i.get(q[gt]).__webglTexture;t.bindFramebuffer(36160,Te.__webglFramebuffer),n.framebufferTexture2D(36009,36064+gt,3553,pt,0)}t.bindFramebuffer(36009,Te.__webglMultisampledFramebuffer)}}function It(Z){return Math.min(d,Z.samples)}function Rt(Z){const q=i.get(Z);return a&&Z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function qt(Z){const q=s.render.frame;y.get(Z)!==q&&(y.set(Z,q),Z.update())}function Kt(Z,q){const Me=Z.encoding,Je=Z.format,it=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||Z.format===BE||Me!==Hf&&(Me===Ui?a===!1?e.has("EXT_sRGB")===!0&&Je===Vs?(Z.format=BE,Z.minFilter=oi,Z.generateMipmaps=!1):q=_k.sRGBToLinear(q):(Je!==Vs||it!==rd)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Me)),q}this.allocateTextureUnit=O,this.resetTextureUnits=de,this.setTexture2D=$,this.setTexture2DArray=ie,this.setTexture3D=ae,this.setTextureCube=Ce,this.rebindTextures=je,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=rt,this.updateMultisampleRenderTarget=St,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=Ke,this.useMultisampledRTT=Rt}function _G(n,e,t){const i=t.isWebGL2;function r(o,s=null){let a;if(o===rd)return 5121;if(o===KH)return 32819;if(o===$H)return 32820;if(o===GH)return 5120;if(o===WH)return 5122;if(o===pk)return 5123;if(o===VH)return 5124;if(o===Cf)return 5125;if(o===Vo)return 5126;if(o===Ko)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(o===JH)return 6406;if(o===Vs)return 6408;if(o===jH)return 6409;if(o===XH)return 6410;if(o===Pf)return 6402;if(o===Vp)return 34041;if(o===mk)return 6403;if(o===qH)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(o===BE)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(o===QH)return 36244;if(o===YH)return 33319;if(o===ZH)return 33320;if(o===eG)return 36249;if(o===pC||o===mC||o===gC||o===vC)if(s===Ui)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(o===pC)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===mC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===gC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===vC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(o===pC)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===mC)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===gC)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===vC)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===fR||o===hR||o===pR||o===mR)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(o===fR)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===hR)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===pR)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===mR)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===tG)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===gR||o===vR)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(o===gR)return s===Ui?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===vR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===yR||o===SR||o===_R||o===xR||o===wR||o===CR||o===ER||o===bR||o===AR||o===MR||o===TR||o===BR||o===RR||o===IR)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(o===yR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===SR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===_R)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===xR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===wR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===CR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===ER)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===bR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===AR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===MR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===TR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===BR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===RR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===IR)return s===Ui?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===kR)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(o===kR)return s===Ui?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return o===bp?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[o]!==void 0?n[o]:null}return{convert:r}}class xG extends Br{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ou extends Dn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const gve={type:"move"};class DM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ou,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ou,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ou,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,o=null,s=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const _ of e.hand.values()){const S=t.getJointPose(_,i);if(u.joints[_.jointName]===void 0){const C=new ou;C.matrixAutoUpdate=!1,C.visible=!1,u.joints[_.jointName]=C,u.add(C)}const x=u.joints[_.jointName];S!==null&&(x.matrix.fromArray(S.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=S.radius),x.visible=S!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],m=c.position.distanceTo(d.position),v=.02,y=.005;u.inputState.pinching&&m>v+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=v-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,i),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&o!==null&&(r=o),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(gve)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=s!==null),this}}class Ak extends Ri{constructor(e,t,i,r,o,s,a,l,u,c){if(c=c!==void 0?c:Pf,c!==Pf&&c!==Vp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&c===Pf&&(i=Cf),i===void 0&&c===Vp&&(i=bp),super(null,r,o,s,a,l,c,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:yr,this.minFilter=l!==void 0?l:yr,this.flipY=!1,this.generateMipmaps=!1}}class vve extends eh{constructor(e,t){super();const i=this;let r=null,o=1,s=null,a="local-floor",l=null,u=null,c=null,d=null,m=null,v=null;const y=t.getContextAttributes();let _=null,S=null;const x=[],C=[],b=new Br;b.layers.enable(1),b.viewport=new Kn;const M=new Br;M.layers.enable(2),M.viewport=new Kn;const B=[b,M],k=new xG;k.layers.enable(1),k.layers.enable(2);let F=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let $=x[V];return $===void 0&&($=new DM,x[V]=$),$.getTargetRaySpace()},this.getControllerGrip=function(V){let $=x[V];return $===void 0&&($=new DM,x[V]=$),$.getGripSpace()},this.getHand=function(V){let $=x[V];return $===void 0&&($=new DM,x[V]=$),$.getHandSpace()};function N(V){const $=C.indexOf(V.inputSource);if($===-1)return;const ie=x[$];ie!==void 0&&ie.dispatchEvent({type:V.type,data:V.inputSource})}function U(){r.removeEventListener("select",N),r.removeEventListener("selectstart",N),r.removeEventListener("selectend",N),r.removeEventListener("squeeze",N),r.removeEventListener("squeezestart",N),r.removeEventListener("squeezeend",N),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",G);for(let V=0;V<x.length;V++){const $=C[V];$!==null&&(C[V]=null,x[V].disconnect($))}F=null,R=null,e.setRenderTarget(_),m=null,d=null,c=null,r=null,S=null,O.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){o=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){a=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(V){l=V},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return c},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(V){if(r=V,r!==null){if(_=e.getRenderTarget(),r.addEventListener("select",N),r.addEventListener("selectstart",N),r.addEventListener("selectend",N),r.addEventListener("squeeze",N),r.addEventListener("squeezestart",N),r.addEventListener("squeezeend",N),r.addEventListener("end",U),r.addEventListener("inputsourceschange",G),y.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const $={antialias:r.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(r,t,$),r.updateRenderState({baseLayer:m}),S=new Oa(m.framebufferWidth,m.framebufferHeight,{format:Vs,type:rd,encoding:e.outputEncoding})}else{let $=null,ie=null,ae=null;y.depth&&(ae=y.stencil?35056:33190,$=y.stencil?Vp:Pf,ie=y.stencil?bp:Cf);const Ce={colorFormat:32856,depthFormat:ae,scaleFactor:o};c=new XRWebGLBinding(r,t),d=c.createProjectionLayer(Ce),r.updateRenderState({layers:[d]}),S=new Oa(d.textureWidth,d.textureHeight,{format:Vs,type:rd,depthTexture:new Ak(d.textureWidth,d.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,$),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const Fe=e.properties.get(S);Fe.__ignoreDepthValues=d.ignoreDepthValues}S.isXRRenderTarget=!0,this.setFoveation(1),l=null,s=await r.requestReferenceSpace(a),O.setContext(r),O.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function G(V){for(let $=0;$<V.removed.length;$++){const ie=V.removed[$],ae=C.indexOf(ie);ae>=0&&(C[ae]=null,x[ae].dispatchEvent({type:"disconnected",data:ie}))}for(let $=0;$<V.added.length;$++){const ie=V.added[$];let ae=C.indexOf(ie);if(ae===-1){for(let Fe=0;Fe<x.length;Fe++)if(Fe>=C.length){C.push(ie),ae=Fe;break}else if(C[Fe]===null){C[Fe]=ie,ae=Fe;break}if(ae===-1)break}const Ce=x[ae];Ce&&Ce.dispatchEvent({type:"connected",data:ie})}}const oe=new X,me=new X;function j(V,$,ie){oe.setFromMatrixPosition($.matrixWorld),me.setFromMatrixPosition(ie.matrixWorld);const ae=oe.distanceTo(me),Ce=$.projectionMatrix.elements,Fe=ie.projectionMatrix.elements,Ne=Ce[14]/(Ce[10]-1),he=Ce[14]/(Ce[10]+1),mt=(Ce[9]+1)/Ce[5],ft=(Ce[9]-1)/Ce[5],_t=(Ce[8]-1)/Ce[0],Ke=(Fe[8]+1)/Fe[0],ct=Ne*_t,De=Ne*Ke,Ae=ae/(-_t+Ke),je=Ae*-_t;$.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(je),V.translateZ(Ae),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const Ye=Ne+Ae,rt=he+Ae,St=ct-je,It=De+(ae-je),Rt=mt*he/rt*Ye,qt=ft*he/rt*Ye;V.projectionMatrix.makePerspective(St,It,Rt,qt,Ye,rt)}function ne(V,$){$===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices($.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(r===null)return;k.near=M.near=b.near=V.near,k.far=M.far=b.far=V.far,(F!==k.near||R!==k.far)&&(r.updateRenderState({depthNear:k.near,depthFar:k.far}),F=k.near,R=k.far);const $=V.parent,ie=k.cameras;ne(k,$);for(let Ce=0;Ce<ie.length;Ce++)ne(ie[Ce],$);k.matrixWorld.decompose(k.position,k.quaternion,k.scale),V.position.copy(k.position),V.quaternion.copy(k.quaternion),V.scale.copy(k.scale),V.matrix.copy(k.matrix),V.matrixWorld.copy(k.matrixWorld);const ae=V.children;for(let Ce=0,Fe=ae.length;Ce<Fe;Ce++)ae[Ce].updateMatrixWorld(!0);ie.length===2?j(k,b,M):k.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return k},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(m!==null)return m.fixedFoveation},this.setFoveation=function(V){d!==null&&(d.fixedFoveation=V),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=V)};let te=null;function de(V,$){if(u=$.getViewerPose(l||s),v=$,u!==null){const ie=u.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let ae=!1;ie.length!==k.cameras.length&&(k.cameras.length=0,ae=!0);for(let Ce=0;Ce<ie.length;Ce++){const Fe=ie[Ce];let Ne=null;if(m!==null)Ne=m.getViewport(Fe);else{const mt=c.getViewSubImage(d,Fe);Ne=mt.viewport,Ce===0&&(e.setRenderTargetTextures(S,mt.colorTexture,d.ignoreDepthValues?void 0:mt.depthStencilTexture),e.setRenderTarget(S))}let he=B[Ce];he===void 0&&(he=new Br,he.layers.enable(Ce),he.viewport=new Kn,B[Ce]=he),he.matrix.fromArray(Fe.transform.matrix),he.projectionMatrix.fromArray(Fe.projectionMatrix),he.viewport.set(Ne.x,Ne.y,Ne.width,Ne.height),Ce===0&&k.matrix.copy(he.matrix),ae===!0&&k.cameras.push(he)}}for(let ie=0;ie<x.length;ie++){const ae=C[ie],Ce=x[ie];ae!==null&&Ce!==void 0&&Ce.update(ae,$,l||s)}te&&te(V,$),v=null}const O=new pG;O.setAnimationLoop(de),this.setAnimationLoop=function(V){te=V},this.dispose=function(){}}}function yve(n,e){function t(_,S){_.fogColor.value.copy(S.color),S.isFog?(_.fogNear.value=S.near,_.fogFar.value=S.far):S.isFogExp2&&(_.fogDensity.value=S.density)}function i(_,S,x,C,b){S.isMeshBasicMaterial||S.isMeshLambertMaterial?r(_,S):S.isMeshToonMaterial?(r(_,S),c(_,S)):S.isMeshPhongMaterial?(r(_,S),u(_,S)):S.isMeshStandardMaterial?(r(_,S),d(_,S),S.isMeshPhysicalMaterial&&m(_,S,b)):S.isMeshMatcapMaterial?(r(_,S),v(_,S)):S.isMeshDepthMaterial?r(_,S):S.isMeshDistanceMaterial?(r(_,S),y(_,S)):S.isMeshNormalMaterial?r(_,S):S.isLineBasicMaterial?(o(_,S),S.isLineDashedMaterial&&s(_,S)):S.isPointsMaterial?a(_,S,x,C):S.isSpriteMaterial?l(_,S):S.isShadowMaterial?(_.color.value.copy(S.color),_.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function r(_,S){_.opacity.value=S.opacity,S.color&&_.diffuse.value.copy(S.color),S.emissive&&_.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(_.map.value=S.map),S.alphaMap&&(_.alphaMap.value=S.alphaMap),S.bumpMap&&(_.bumpMap.value=S.bumpMap,_.bumpScale.value=S.bumpScale,S.side===Fa&&(_.bumpScale.value*=-1)),S.displacementMap&&(_.displacementMap.value=S.displacementMap,_.displacementScale.value=S.displacementScale,_.displacementBias.value=S.displacementBias),S.emissiveMap&&(_.emissiveMap.value=S.emissiveMap),S.normalMap&&(_.normalMap.value=S.normalMap,_.normalScale.value.copy(S.normalScale),S.side===Fa&&_.normalScale.value.negate()),S.specularMap&&(_.specularMap.value=S.specularMap),S.alphaTest>0&&(_.alphaTest.value=S.alphaTest);const x=e.get(S).envMap;if(x&&(_.envMap.value=x,_.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=S.reflectivity,_.ior.value=S.ior,_.refractionRatio.value=S.refractionRatio),S.lightMap){_.lightMap.value=S.lightMap;const M=n.physicallyCorrectLights!==!0?Math.PI:1;_.lightMapIntensity.value=S.lightMapIntensity*M}S.aoMap&&(_.aoMap.value=S.aoMap,_.aoMapIntensity.value=S.aoMapIntensity);let C;S.map?C=S.map:S.specularMap?C=S.specularMap:S.displacementMap?C=S.displacementMap:S.normalMap?C=S.normalMap:S.bumpMap?C=S.bumpMap:S.roughnessMap?C=S.roughnessMap:S.metalnessMap?C=S.metalnessMap:S.alphaMap?C=S.alphaMap:S.emissiveMap?C=S.emissiveMap:S.clearcoatMap?C=S.clearcoatMap:S.clearcoatNormalMap?C=S.clearcoatNormalMap:S.clearcoatRoughnessMap?C=S.clearcoatRoughnessMap:S.iridescenceMap?C=S.iridescenceMap:S.iridescenceThicknessMap?C=S.iridescenceThicknessMap:S.specularIntensityMap?C=S.specularIntensityMap:S.specularColorMap?C=S.specularColorMap:S.transmissionMap?C=S.transmissionMap:S.thicknessMap?C=S.thicknessMap:S.sheenColorMap?C=S.sheenColorMap:S.sheenRoughnessMap&&(C=S.sheenRoughnessMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),_.uvTransform.value.copy(C.matrix));let b;S.aoMap?b=S.aoMap:S.lightMap&&(b=S.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),_.uv2Transform.value.copy(b.matrix))}function o(_,S){_.diffuse.value.copy(S.color),_.opacity.value=S.opacity}function s(_,S){_.dashSize.value=S.dashSize,_.totalSize.value=S.dashSize+S.gapSize,_.scale.value=S.scale}function a(_,S,x,C){_.diffuse.value.copy(S.color),_.opacity.value=S.opacity,_.size.value=S.size*x,_.scale.value=C*.5,S.map&&(_.map.value=S.map),S.alphaMap&&(_.alphaMap.value=S.alphaMap),S.alphaTest>0&&(_.alphaTest.value=S.alphaTest);let b;S.map?b=S.map:S.alphaMap&&(b=S.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),_.uvTransform.value.copy(b.matrix))}function l(_,S){_.diffuse.value.copy(S.color),_.opacity.value=S.opacity,_.rotation.value=S.rotation,S.map&&(_.map.value=S.map),S.alphaMap&&(_.alphaMap.value=S.alphaMap),S.alphaTest>0&&(_.alphaTest.value=S.alphaTest);let x;S.map?x=S.map:S.alphaMap&&(x=S.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),_.uvTransform.value.copy(x.matrix))}function u(_,S){_.specular.value.copy(S.specular),_.shininess.value=Math.max(S.shininess,1e-4)}function c(_,S){S.gradientMap&&(_.gradientMap.value=S.gradientMap)}function d(_,S){_.roughness.value=S.roughness,_.metalness.value=S.metalness,S.roughnessMap&&(_.roughnessMap.value=S.roughnessMap),S.metalnessMap&&(_.metalnessMap.value=S.metalnessMap),e.get(S).envMap&&(_.envMapIntensity.value=S.envMapIntensity)}function m(_,S,x){_.ior.value=S.ior,S.sheen>0&&(_.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),_.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(_.sheenColorMap.value=S.sheenColorMap),S.sheenRoughnessMap&&(_.sheenRoughnessMap.value=S.sheenRoughnessMap)),S.clearcoat>0&&(_.clearcoat.value=S.clearcoat,_.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(_.clearcoatMap.value=S.clearcoatMap),S.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap),S.clearcoatNormalMap&&(_.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),_.clearcoatNormalMap.value=S.clearcoatNormalMap,S.side===Fa&&_.clearcoatNormalScale.value.negate())),S.iridescence>0&&(_.iridescence.value=S.iridescence,_.iridescenceIOR.value=S.iridescenceIOR,_.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(_.iridescenceMap.value=S.iridescenceMap),S.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=S.iridescenceThicknessMap)),S.transmission>0&&(_.transmission.value=S.transmission,_.transmissionSamplerMap.value=x.texture,_.transmissionSamplerSize.value.set(x.width,x.height),S.transmissionMap&&(_.transmissionMap.value=S.transmissionMap),_.thickness.value=S.thickness,S.thicknessMap&&(_.thicknessMap.value=S.thicknessMap),_.attenuationDistance.value=S.attenuationDistance,_.attenuationColor.value.copy(S.attenuationColor)),_.specularIntensity.value=S.specularIntensity,_.specularColor.value.copy(S.specularColor),S.specularIntensityMap&&(_.specularIntensityMap.value=S.specularIntensityMap),S.specularColorMap&&(_.specularColorMap.value=S.specularColorMap)}function v(_,S){S.matcap&&(_.matcap.value=S.matcap)}function y(_,S){_.referencePosition.value.copy(S.referencePosition),_.nearDistance.value=S.nearDistance,_.farDistance.value=S.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function Sve(){const n=c1("canvas");return n.style.display="block",n}function Mk(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:Sve(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,o=n.antialias!==void 0?n.antialias:!1,s=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let c;t!==null?c=t.getContextAttributes().alpha:c=n.alpha!==void 0?n.alpha:!1;let d=null,m=null;const v=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Hf,this.physicallyCorrectLights=!1,this.toneMapping=uu,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const _=this;let S=!1,x=0,C=0,b=null,M=-1,B=null;const k=new Kn,F=new Kn;let R=null,N=e.width,U=e.height,G=1,oe=null,me=null;const j=new Kn(0,0,N,U),ne=new Kn(0,0,N,U);let te=!1;const de=new Tb;let O=!1,V=!1,$=null;const ie=new Pt,ae=new Qe,Ce=new X,Fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ne(){return b===null?G:1}let he=t;function mt(Q,Ee){for(let Ie=0;Ie<Q.length;Ie++){const _e=Q[Ie],ge=e.getContext(_e,Ee);if(ge!==null)return ge}return null}try{const Q={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${D1}`),e.addEventListener("webglcontextlost",re,!1),e.addEventListener("webglcontextrestored",Be,!1),e.addEventListener("webglcontextcreationerror",et,!1),he===null){const Ee=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&Ee.shift(),he=mt(Ee,Q),he===null)throw mt(Ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}he.getShaderPrecisionFormat===void 0&&(he.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}let ft,_t,Ke,ct,De,Ae,je,Ye,rt,St,It,Rt,qt,Kt,Z,q,Me,Je,it,ot,Nt,Te,Mt;function gt(){ft=new Dme(he),_t=new Bme(he,ft,n),ft.init(_t),Te=new _G(he,ft,_t),Ke=new pve(he,ft,_t),ct=new Ome,De=new nve,Ae=new mve(he,ft,Ke,De,_t,Te,ct),je=new Ime(_),Ye=new Fme(_),rt=new Xfe(he,_t),Mt=new Mme(he,ft,rt,_t),St=new Pme(he,rt,ct,Mt),It=new Gme(he,St,rt,ct),it=new Hme(he,_t,Ae),q=new Rme(De),Rt=new tve(_,je,Ye,ft,_t,Mt,q),qt=new yve(_,De),Kt=new rve,Z=new cve(ft,_t),Je=new Ame(_,je,Ke,It,c,s),Me=new hve(_,It,_t),ot=new Tme(he,ft,ct,_t),Nt=new Nme(he,ft,ct,_t),ct.programs=Rt.programs,_.capabilities=_t,_.extensions=ft,_.properties=De,_.renderLists=Kt,_.shadowMap=Me,_.state=Ke,_.info=ct}gt();const pt=new vve(_,he);this.xr=pt,this.getContext=function(){return he},this.getContextAttributes=function(){return he.getContextAttributes()},this.forceContextLoss=function(){const Q=ft.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=ft.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(Q){Q!==void 0&&(G=Q,this.setSize(N,U,!1))},this.getSize=function(Q){return Q.set(N,U)},this.setSize=function(Q,Ee,Ie){if(pt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}N=Q,U=Ee,e.width=Math.floor(Q*G),e.height=Math.floor(Ee*G),Ie!==!1&&(e.style.width=Q+"px",e.style.height=Ee+"px"),this.setViewport(0,0,Q,Ee)},this.getDrawingBufferSize=function(Q){return Q.set(N*G,U*G).floor()},this.setDrawingBufferSize=function(Q,Ee,Ie){N=Q,U=Ee,G=Ie,e.width=Math.floor(Q*Ie),e.height=Math.floor(Ee*Ie),this.setViewport(0,0,Q,Ee)},this.getCurrentViewport=function(Q){return Q.copy(k)},this.getViewport=function(Q){return Q.copy(j)},this.setViewport=function(Q,Ee,Ie,_e){Q.isVector4?j.set(Q.x,Q.y,Q.z,Q.w):j.set(Q,Ee,Ie,_e),Ke.viewport(k.copy(j).multiplyScalar(G).floor())},this.getScissor=function(Q){return Q.copy(ne)},this.setScissor=function(Q,Ee,Ie,_e){Q.isVector4?ne.set(Q.x,Q.y,Q.z,Q.w):ne.set(Q,Ee,Ie,_e),Ke.scissor(F.copy(ne).multiplyScalar(G).floor())},this.getScissorTest=function(){return te},this.setScissorTest=function(Q){Ke.setScissorTest(te=Q)},this.setOpaqueSort=function(Q){oe=Q},this.setTransparentSort=function(Q){me=Q},this.getClearColor=function(Q){return Q.copy(Je.getClearColor())},this.setClearColor=function(){Je.setClearColor.apply(Je,arguments)},this.getClearAlpha=function(){return Je.getClearAlpha()},this.setClearAlpha=function(){Je.setClearAlpha.apply(Je,arguments)},this.clear=function(Q=!0,Ee=!0,Ie=!0){let _e=0;Q&&(_e|=16384),Ee&&(_e|=256),Ie&&(_e|=1024),he.clear(_e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",re,!1),e.removeEventListener("webglcontextrestored",Be,!1),e.removeEventListener("webglcontextcreationerror",et,!1),Kt.dispose(),Z.dispose(),De.dispose(),je.dispose(),Ye.dispose(),It.dispose(),Mt.dispose(),Rt.dispose(),pt.dispose(),pt.removeEventListener("sessionstart",Ot),pt.removeEventListener("sessionend",tn),$&&($.dispose(),$=null),ai.stop()};function re(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Be(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const Q=ct.autoReset,Ee=Me.enabled,Ie=Me.autoUpdate,_e=Me.needsUpdate,ge=Me.type;gt(),ct.autoReset=Q,Me.enabled=Ee,Me.autoUpdate=Ie,Me.needsUpdate=_e,Me.type=ge}function et(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function Ve(Q){const Ee=Q.target;Ee.removeEventListener("dispose",Ve),Re(Ee)}function Re(Q){st(Q),De.remove(Q)}function st(Q){const Ee=De.get(Q).programs;Ee!==void 0&&(Ee.forEach(function(Ie){Rt.releaseProgram(Ie)}),Q.isShaderMaterial&&Rt.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,Ee,Ie,_e,ge,at){Ee===null&&(Ee=Fe);const D=ge.isMesh&&ge.matrixWorld.determinant()<0,H=As(Q,Ee,Ie,_e,ge);Ke.setMaterial(_e,D);let Y=Ie.index;const ve=Ie.attributes.position;if(Y===null){if(ve===void 0||ve.count===0)return}else if(Y.count===0)return;let se=1;_e.wireframe===!0&&(Y=St.getWireframeAttribute(Ie),se=2),Mt.setup(ge,_e,H,Ie,Y);let W,ce=ot;Y!==null&&(W=rt.get(Y),ce=Nt,ce.setIndex(W));const ye=Y!==null?Y.count:ve.count,ze=Ie.drawRange.start*se,We=Ie.drawRange.count*se,Xe=at!==null?at.start*se:0,ke=at!==null?at.count*se:1/0,Ut=Math.max(ze,Xe),tt=Math.min(ye,ze+We,Xe+ke)-1,xt=Math.max(0,tt-Ut+1);if(xt!==0){if(ge.isMesh)_e.wireframe===!0?(Ke.setLineWidth(_e.wireframeLinewidth*Ne()),ce.setMode(1)):ce.setMode(4);else if(ge.isLine){let zt=_e.linewidth;zt===void 0&&(zt=1),Ke.setLineWidth(zt*Ne()),ge.isLineSegments?ce.setMode(1):ge.isLineLoop?ce.setMode(2):ce.setMode(3)}else ge.isPoints?ce.setMode(0):ge.isSprite&&ce.setMode(4);if(ge.isInstancedMesh)ce.renderInstances(Ut,xt,ge.count);else if(Ie.isInstancedBufferGeometry){const zt=Math.min(Ie.instanceCount,Ie._maxInstanceCount);ce.renderInstances(Ut,xt,zt)}else ce.render(Ut,xt)}},this.compile=function(Q,Ee){m=Z.get(Q),m.init(),y.push(m),Q.traverseVisible(function(Ie){Ie.isLight&&Ie.layers.test(Ee.layers)&&(m.pushLight(Ie),Ie.castShadow&&m.pushShadow(Ie))}),m.setupLights(_.physicallyCorrectLights),Q.traverse(function(Ie){const _e=Ie.material;if(_e)if(Array.isArray(_e))for(let ge=0;ge<_e.length;ge++){const at=_e[ge];ho(at,Q,Ie)}else ho(_e,Q,Ie)}),y.pop(),m=null};let Ze=null;function He(Q){Ze&&Ze(Q)}function Ot(){ai.stop()}function tn(){ai.start()}const ai=new pG;ai.setAnimationLoop(He),typeof self<"u"&&ai.setContext(self),this.setAnimationLoop=function(Q){Ze=Q,pt.setAnimationLoop(Q),Q===null?ai.stop():ai.start()},pt.addEventListener("sessionstart",Ot),pt.addEventListener("sessionend",tn),this.render=function(Q,Ee){if(Ee!==void 0&&Ee.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;Q.autoUpdate===!0&&Q.updateMatrixWorld(),Ee.parent===null&&Ee.updateMatrixWorld(),pt.enabled===!0&&pt.isPresenting===!0&&(pt.cameraAutoUpdate===!0&&pt.updateCamera(Ee),Ee=pt.getCamera()),Q.isScene===!0&&Q.onBeforeRender(_,Q,Ee,b),m=Z.get(Q,y.length),m.init(),y.push(m),ie.multiplyMatrices(Ee.projectionMatrix,Ee.matrixWorldInverse),de.setFromProjectionMatrix(ie),V=this.localClippingEnabled,O=q.init(this.clippingPlanes,V,Ee),d=Kt.get(Q,v.length),d.init(),v.push(d),ji(Q,Ee,0,_.sortObjects),d.finish(),_.sortObjects===!0&&d.sort(oe,me),O===!0&&q.beginShadows();const Ie=m.state.shadowsArray;if(Me.render(Ie,Q,Ee),O===!0&&q.endShadows(),this.info.autoReset===!0&&this.info.reset(),Je.render(d,Q),m.setupLights(_.physicallyCorrectLights),Ee.isArrayCamera){const _e=Ee.cameras;for(let ge=0,at=_e.length;ge<at;ge++){const D=_e[ge];Ro(d,Q,D,D.viewport)}}else Ro(d,Q,Ee);b!==null&&(Ae.updateMultisampleRenderTarget(b),Ae.updateRenderTargetMipmap(b)),Q.isScene===!0&&Q.onAfterRender(_,Q,Ee),Mt.resetDefaultState(),M=-1,B=null,y.pop(),y.length>0?m=y[y.length-1]:m=null,v.pop(),v.length>0?d=v[v.length-1]:d=null};function ji(Q,Ee,Ie,_e){if(Q.visible===!1)return;if(Q.layers.test(Ee.layers)){if(Q.isGroup)Ie=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(Ee);else if(Q.isLight)m.pushLight(Q),Q.castShadow&&m.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||de.intersectsSprite(Q)){_e&&Ce.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(ie);const D=It.update(Q),H=Q.material;H.visible&&d.push(Q,D,H,Ie,Ce.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(Q.isSkinnedMesh&&Q.skeleton.frame!==ct.render.frame&&(Q.skeleton.update(),Q.skeleton.frame=ct.render.frame),!Q.frustumCulled||de.intersectsObject(Q))){_e&&Ce.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(ie);const D=It.update(Q),H=Q.material;if(Array.isArray(H)){const Y=D.groups;for(let ve=0,se=Y.length;ve<se;ve++){const W=Y[ve],ce=H[W.materialIndex];ce&&ce.visible&&d.push(Q,D,ce,Ie,Ce.z,W)}}else H.visible&&d.push(Q,D,H,Ie,Ce.z,null)}}const at=Q.children;for(let D=0,H=at.length;D<H;D++)ji(at[D],Ee,Ie,_e)}function Ro(Q,Ee,Ie,_e){const ge=Q.opaque,at=Q.transmissive,D=Q.transparent;m.setupLightsView(Ie),at.length>0&&Fr(ge,Ee,Ie),_e&&Ke.viewport(k.copy(_e)),ge.length>0&&fo(ge,Ee,Ie),at.length>0&&fo(at,Ee,Ie),D.length>0&&fo(D,Ee,Ie),Ke.buffers.depth.setTest(!0),Ke.buffers.depth.setMask(!0),Ke.buffers.color.setMask(!0),Ke.setPolygonOffset(!1)}function Fr(Q,Ee,Ie){const _e=_t.isWebGL2;$===null&&($=new Oa(1,1,{generateMipmaps:!0,type:ft.has("EXT_color_buffer_half_float")?Ko:rd,minFilter:cd,samples:_e&&o===!0?4:0})),_.getDrawingBufferSize(ae),_e?$.setSize(ae.x,ae.y):$.setSize(RE(ae.x),RE(ae.y));const ge=_.getRenderTarget();_.setRenderTarget($),_.clear();const at=_.toneMapping;_.toneMapping=uu,fo(Q,Ee,Ie),_.toneMapping=at,Ae.updateMultisampleRenderTarget($),Ae.updateRenderTargetMipmap($),_.setRenderTarget(ge)}function fo(Q,Ee,Ie){const _e=Ee.isScene===!0?Ee.overrideMaterial:null;for(let ge=0,at=Q.length;ge<at;ge++){const D=Q[ge],H=D.object,Y=D.geometry,ve=_e===null?D.material:_e,se=D.group;H.layers.test(Ie.layers)&&Qs(H,Ee,Ie,Y,ve,se)}}function Qs(Q,Ee,Ie,_e,ge,at){Q.onBeforeRender(_,Ee,Ie,_e,ge,at),Q.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),ge.onBeforeRender(_,Ee,Ie,_e,Q,at),ge.transparent===!0&&ge.side===nd?(ge.side=Fa,ge.needsUpdate=!0,_.renderBufferDirect(Ie,Ee,_e,ge,Q,at),ge.side=zf,ge.needsUpdate=!0,_.renderBufferDirect(Ie,Ee,_e,ge,Q,at),ge.side=nd):_.renderBufferDirect(Ie,Ee,_e,ge,Q,at),Q.onAfterRender(_,Ee,Ie,_e,ge,at)}function ho(Q,Ee,Ie){Ee.isScene!==!0&&(Ee=Fe);const _e=De.get(Q),ge=m.state.lights,at=m.state.shadowsArray,D=ge.state.version,H=Rt.getParameters(Q,ge.state,at,Ee,Ie),Y=Rt.getProgramCacheKey(H);let ve=_e.programs;_e.environment=Q.isMeshStandardMaterial?Ee.environment:null,_e.fog=Ee.fog,_e.envMap=(Q.isMeshStandardMaterial?Ye:je).get(Q.envMap||_e.environment),ve===void 0&&(Q.addEventListener("dispose",Ve),ve=new Map,_e.programs=ve);let se=ve.get(Y);if(se!==void 0){if(_e.currentProgram===se&&_e.lightsStateVersion===D)return bs(Q,H),se}else H.uniforms=Rt.getUniforms(Q),Q.onBuild(Ie,H,_),Q.onBeforeCompile(H,_),se=Rt.acquireProgram(H,Y),ve.set(Y,se),_e.uniforms=H.uniforms;const W=_e.uniforms;(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(W.clippingPlanes=q.uniform),bs(Q,H),_e.needsLights=lr(Q),_e.lightsStateVersion=D,_e.needsLights&&(W.ambientLightColor.value=ge.state.ambient,W.lightProbe.value=ge.state.probe,W.directionalLights.value=ge.state.directional,W.directionalLightShadows.value=ge.state.directionalShadow,W.spotLights.value=ge.state.spot,W.spotLightShadows.value=ge.state.spotShadow,W.rectAreaLights.value=ge.state.rectArea,W.ltc_1.value=ge.state.rectAreaLTC1,W.ltc_2.value=ge.state.rectAreaLTC2,W.pointLights.value=ge.state.point,W.pointLightShadows.value=ge.state.pointShadow,W.hemisphereLights.value=ge.state.hemi,W.directionalShadowMap.value=ge.state.directionalShadowMap,W.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,W.spotShadowMap.value=ge.state.spotShadowMap,W.spotShadowMatrix.value=ge.state.spotShadowMatrix,W.pointShadowMap.value=ge.state.pointShadowMap,W.pointShadowMatrix.value=ge.state.pointShadowMatrix);const ce=se.getUniforms(),ye=xC.seqWithValue(ce.seq,W);return _e.currentProgram=se,_e.uniformsList=ye,se}function bs(Q,Ee){const Ie=De.get(Q);Ie.outputEncoding=Ee.outputEncoding,Ie.instancing=Ee.instancing,Ie.skinning=Ee.skinning,Ie.morphTargets=Ee.morphTargets,Ie.morphNormals=Ee.morphNormals,Ie.morphColors=Ee.morphColors,Ie.morphTargetsCount=Ee.morphTargetsCount,Ie.numClippingPlanes=Ee.numClippingPlanes,Ie.numIntersection=Ee.numClipIntersection,Ie.vertexAlphas=Ee.vertexAlphas,Ie.vertexTangents=Ee.vertexTangents,Ie.toneMapping=Ee.toneMapping}function As(Q,Ee,Ie,_e,ge){Ee.isScene!==!0&&(Ee=Fe),Ae.resetTextureUnits();const at=Ee.fog,D=_e.isMeshStandardMaterial?Ee.environment:null,H=b===null?_.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Hf,Y=(_e.isMeshStandardMaterial?Ye:je).get(_e.envMap||D),ve=_e.vertexColors===!0&&!!Ie.attributes.color&&Ie.attributes.color.itemSize===4,se=!!_e.normalMap&&!!Ie.attributes.tangent,W=!!Ie.morphAttributes.position,ce=!!Ie.morphAttributes.normal,ye=!!Ie.morphAttributes.color,ze=_e.toneMapped?_.toneMapping:uu,We=Ie.morphAttributes.position||Ie.morphAttributes.normal||Ie.morphAttributes.color,Xe=We!==void 0?We.length:0,ke=De.get(_e),Ut=m.state.lights;if(O===!0&&(V===!0||Q!==B)){const un=Q===B&&_e.id===M;q.setState(_e,Q,un)}let tt=!1;_e.version===ke.__version?(ke.needsLights&&ke.lightsStateVersion!==Ut.state.version||ke.outputEncoding!==H||ge.isInstancedMesh&&ke.instancing===!1||!ge.isInstancedMesh&&ke.instancing===!0||ge.isSkinnedMesh&&ke.skinning===!1||!ge.isSkinnedMesh&&ke.skinning===!0||ke.envMap!==Y||_e.fog===!0&&ke.fog!==at||ke.numClippingPlanes!==void 0&&(ke.numClippingPlanes!==q.numPlanes||ke.numIntersection!==q.numIntersection)||ke.vertexAlphas!==ve||ke.vertexTangents!==se||ke.morphTargets!==W||ke.morphNormals!==ce||ke.morphColors!==ye||ke.toneMapping!==ze||_t.isWebGL2===!0&&ke.morphTargetsCount!==Xe)&&(tt=!0):(tt=!0,ke.__version=_e.version);let xt=ke.currentProgram;tt===!0&&(xt=ho(_e,Ee,ge));let zt=!1,jt=!1,mn=!1;const Yt=xt.getUniforms(),Zt=ke.uniforms;if(Ke.useProgram(xt.program)&&(zt=!0,jt=!0,mn=!0),_e.id!==M&&(M=_e.id,jt=!0),zt||B!==Q){if(Yt.setValue(he,"projectionMatrix",Q.projectionMatrix),_t.logarithmicDepthBuffer&&Yt.setValue(he,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),B!==Q&&(B=Q,jt=!0,mn=!0),_e.isShaderMaterial||_e.isMeshPhongMaterial||_e.isMeshToonMaterial||_e.isMeshStandardMaterial||_e.envMap){const un=Yt.map.cameraPosition;un!==void 0&&un.setValue(he,Ce.setFromMatrixPosition(Q.matrixWorld))}(_e.isMeshPhongMaterial||_e.isMeshToonMaterial||_e.isMeshLambertMaterial||_e.isMeshBasicMaterial||_e.isMeshStandardMaterial||_e.isShaderMaterial)&&Yt.setValue(he,"isOrthographic",Q.isOrthographicCamera===!0),(_e.isMeshPhongMaterial||_e.isMeshToonMaterial||_e.isMeshLambertMaterial||_e.isMeshBasicMaterial||_e.isMeshStandardMaterial||_e.isShaderMaterial||_e.isShadowMaterial||ge.isSkinnedMesh)&&Yt.setValue(he,"viewMatrix",Q.matrixWorldInverse)}if(ge.isSkinnedMesh){Yt.setOptional(he,ge,"bindMatrix"),Yt.setOptional(he,ge,"bindMatrixInverse");const un=ge.skeleton;un&&(_t.floatVertexTextures?(un.boneTexture===null&&un.computeBoneTexture(),Yt.setValue(he,"boneTexture",un.boneTexture,Ae),Yt.setValue(he,"boneTextureSize",un.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ln=Ie.morphAttributes;return(ln.position!==void 0||ln.normal!==void 0||ln.color!==void 0&&_t.isWebGL2===!0)&&it.update(ge,Ie,_e,xt),(jt||ke.receiveShadow!==ge.receiveShadow)&&(ke.receiveShadow=ge.receiveShadow,Yt.setValue(he,"receiveShadow",ge.receiveShadow)),jt&&(Yt.setValue(he,"toneMappingExposure",_.toneMappingExposure),ke.needsLights&&Dr(Zt,mn),at&&_e.fog===!0&&qt.refreshFogUniforms(Zt,at),qt.refreshMaterialUniforms(Zt,_e,G,U,$),xC.upload(he,ke.uniformsList,Zt,Ae)),_e.isShaderMaterial&&_e.uniformsNeedUpdate===!0&&(xC.upload(he,ke.uniformsList,Zt,Ae),_e.uniformsNeedUpdate=!1),_e.isSpriteMaterial&&Yt.setValue(he,"center",ge.center),Yt.setValue(he,"modelViewMatrix",ge.modelViewMatrix),Yt.setValue(he,"normalMatrix",ge.normalMatrix),Yt.setValue(he,"modelMatrix",ge.matrixWorld),xt}function Dr(Q,Ee){Q.ambientLightColor.needsUpdate=Ee,Q.lightProbe.needsUpdate=Ee,Q.directionalLights.needsUpdate=Ee,Q.directionalLightShadows.needsUpdate=Ee,Q.pointLights.needsUpdate=Ee,Q.pointLightShadows.needsUpdate=Ee,Q.spotLights.needsUpdate=Ee,Q.spotLightShadows.needsUpdate=Ee,Q.rectAreaLights.needsUpdate=Ee,Q.hemisphereLights.needsUpdate=Ee}function lr(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(Q,Ee,Ie){De.get(Q.texture).__webglTexture=Ee,De.get(Q.depthTexture).__webglTexture=Ie;const _e=De.get(Q);_e.__hasExternalTextures=!0,_e.__hasExternalTextures&&(_e.__autoAllocateDepthBuffer=Ie===void 0,_e.__autoAllocateDepthBuffer||ft.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),_e.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Q,Ee){const Ie=De.get(Q);Ie.__webglFramebuffer=Ee,Ie.__useDefaultFramebuffer=Ee===void 0},this.setRenderTarget=function(Q,Ee=0,Ie=0){b=Q,x=Ee,C=Ie;let _e=!0;if(Q){const Y=De.get(Q);Y.__useDefaultFramebuffer!==void 0?(Ke.bindFramebuffer(36160,null),_e=!1):Y.__webglFramebuffer===void 0?Ae.setupRenderTarget(Q):Y.__hasExternalTextures&&Ae.rebindTextures(Q,De.get(Q.texture).__webglTexture,De.get(Q.depthTexture).__webglTexture)}let ge=null,at=!1,D=!1;if(Q){const Y=Q.texture;(Y.isData3DTexture||Y.isDataArrayTexture)&&(D=!0);const ve=De.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(ge=ve[Ee],at=!0):_t.isWebGL2&&Q.samples>0&&Ae.useMultisampledRTT(Q)===!1?ge=De.get(Q).__webglMultisampledFramebuffer:ge=ve,k.copy(Q.viewport),F.copy(Q.scissor),R=Q.scissorTest}else k.copy(j).multiplyScalar(G).floor(),F.copy(ne).multiplyScalar(G).floor(),R=te;if(Ke.bindFramebuffer(36160,ge)&&_t.drawBuffers&&_e&&Ke.drawBuffers(Q,ge),Ke.viewport(k),Ke.scissor(F),Ke.setScissorTest(R),at){const Y=De.get(Q.texture);he.framebufferTexture2D(36160,36064,34069+Ee,Y.__webglTexture,Ie)}else if(D){const Y=De.get(Q.texture),ve=Ee||0;he.framebufferTextureLayer(36160,36064,Y.__webglTexture,Ie||0,ve)}M=-1},this.readRenderTargetPixels=function(Q,Ee,Ie,_e,ge,at,D){if(!(Q&&Q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let H=De.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&D!==void 0&&(H=H[D]),H){Ke.bindFramebuffer(36160,H);try{const Y=Q.texture,ve=Y.format,se=Y.type;if(ve!==Vs&&Te.convert(ve)!==he.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const W=se===Ko&&(ft.has("EXT_color_buffer_half_float")||_t.isWebGL2&&ft.has("EXT_color_buffer_float"));if(se!==rd&&Te.convert(se)!==he.getParameter(35738)&&!(se===Vo&&(_t.isWebGL2||ft.has("OES_texture_float")||ft.has("WEBGL_color_buffer_float")))&&!W){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ee>=0&&Ee<=Q.width-_e&&Ie>=0&&Ie<=Q.height-ge&&he.readPixels(Ee,Ie,_e,ge,Te.convert(ve),Te.convert(se),at)}finally{const Y=b!==null?De.get(b).__webglFramebuffer:null;Ke.bindFramebuffer(36160,Y)}}},this.copyFramebufferToTexture=function(Q,Ee,Ie=0){const _e=Math.pow(2,-Ie),ge=Math.floor(Ee.image.width*_e),at=Math.floor(Ee.image.height*_e);Ae.setTexture2D(Ee,0),he.copyTexSubImage2D(3553,Ie,0,0,Q.x,Q.y,ge,at),Ke.unbindTexture()},this.copyTextureToTexture=function(Q,Ee,Ie,_e=0){const ge=Ee.image.width,at=Ee.image.height,D=Te.convert(Ie.format),H=Te.convert(Ie.type);Ae.setTexture2D(Ie,0),he.pixelStorei(37440,Ie.flipY),he.pixelStorei(37441,Ie.premultiplyAlpha),he.pixelStorei(3317,Ie.unpackAlignment),Ee.isDataTexture?he.texSubImage2D(3553,_e,Q.x,Q.y,ge,at,D,H,Ee.image.data):Ee.isCompressedTexture?he.compressedTexSubImage2D(3553,_e,Q.x,Q.y,Ee.mipmaps[0].width,Ee.mipmaps[0].height,D,Ee.mipmaps[0].data):he.texSubImage2D(3553,_e,Q.x,Q.y,D,H,Ee.image),_e===0&&Ie.generateMipmaps&&he.generateMipmap(3553),Ke.unbindTexture()},this.copyTextureToTexture3D=function(Q,Ee,Ie,_e,ge=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const at=Q.max.x-Q.min.x+1,D=Q.max.y-Q.min.y+1,H=Q.max.z-Q.min.z+1,Y=Te.convert(_e.format),ve=Te.convert(_e.type);let se;if(_e.isData3DTexture)Ae.setTexture3D(_e,0),se=32879;else if(_e.isDataArrayTexture)Ae.setTexture2DArray(_e,0),se=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}he.pixelStorei(37440,_e.flipY),he.pixelStorei(37441,_e.premultiplyAlpha),he.pixelStorei(3317,_e.unpackAlignment);const W=he.getParameter(3314),ce=he.getParameter(32878),ye=he.getParameter(3316),ze=he.getParameter(3315),We=he.getParameter(32877),Xe=Ie.isCompressedTexture?Ie.mipmaps[0]:Ie.image;he.pixelStorei(3314,Xe.width),he.pixelStorei(32878,Xe.height),he.pixelStorei(3316,Q.min.x),he.pixelStorei(3315,Q.min.y),he.pixelStorei(32877,Q.min.z),Ie.isDataTexture||Ie.isData3DTexture?he.texSubImage3D(se,ge,Ee.x,Ee.y,Ee.z,at,D,H,Y,ve,Xe.data):Ie.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),he.compressedTexSubImage3D(se,ge,Ee.x,Ee.y,Ee.z,at,D,H,Y,Xe.data)):he.texSubImage3D(se,ge,Ee.x,Ee.y,Ee.z,at,D,H,Y,ve,Xe),he.pixelStorei(3314,W),he.pixelStorei(32878,ce),he.pixelStorei(3316,ye),he.pixelStorei(3315,ze),he.pixelStorei(32877,We),ge===0&&_e.generateMipmaps&&he.generateMipmap(se),Ke.unbindTexture()},this.initTexture=function(Q){Q.isCubeTexture?Ae.setTextureCube(Q,0):Q.isData3DTexture?Ae.setTexture3D(Q,0):Q.isDataArrayTexture?Ae.setTexture2DArray(Q,0):Ae.setTexture2D(Q,0),Ke.unbindTexture()},this.resetState=function(){x=0,C=0,b=null,Ke.reset(),Mt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class wG extends Mk{}wG.prototype.isWebGL1Renderer=!0;class Rb{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new vt(e),this.density=t}clone(){return new Rb(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Ib{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new vt(e),this.near=t,this.far=i}clone(){return new Ib(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class d1 extends Dn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}class H1{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=TE,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Da()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Da()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Da()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const os=new X;class Wf{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)os.fromBufferAttribute(this,t),os.applyMatrix4(e),this.setXYZ(t,os.x,os.y,os.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)os.fromBufferAttribute(this,t),os.applyNormalMatrix(e),this.setXYZ(t,os.x,os.y,os.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)os.fromBufferAttribute(this,t),os.transformDirection(e),this.setXYZ(t,os.x,os.y,os.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new jn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Wf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Tk extends kr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let pg;const gy=new X,mg=new X,gg=new X,vg=new Qe,vy=new Qe,CG=new Pt,cw=new X,yy=new X,dw=new X,O9=new Qe,PM=new Qe,z9=new Qe;class EG extends Dn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",pg===void 0){pg=new cn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new H1(t,5);pg.setIndex([0,1,2,0,2,3]),pg.setAttribute("position",new Wf(i,3,0,!1)),pg.setAttribute("uv",new Wf(i,2,3,!1))}this.geometry=pg,this.material=e!==void 0?e:new Tk,this.center=new Qe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),mg.setFromMatrixScale(this.matrixWorld),CG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),gg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&mg.multiplyScalar(-gg.z);const i=this.material.rotation;let r,o;i!==0&&(o=Math.cos(i),r=Math.sin(i));const s=this.center;fw(cw.set(-.5,-.5,0),gg,s,mg,r,o),fw(yy.set(.5,-.5,0),gg,s,mg,r,o),fw(dw.set(.5,.5,0),gg,s,mg,r,o),O9.set(0,0),PM.set(1,0),z9.set(1,1);let a=e.ray.intersectTriangle(cw,yy,dw,!1,gy);if(a===null&&(fw(yy.set(-.5,.5,0),gg,s,mg,r,o),PM.set(0,1),a=e.ray.intersectTriangle(cw,dw,yy,!1,gy),a===null))return;const l=e.ray.origin.distanceTo(gy);l<e.near||l>e.far||t.push({distance:l,point:gy.clone(),uv:fl.getUV(gy,cw,yy,dw,O9,PM,z9,new Qe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function fw(n,e,t,i,r,o){vg.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(vy.x=o*vg.x-r*vg.y,vy.y=r*vg.x+o*vg.y):vy.copy(vg),n.copy(e),n.x+=vy.x,n.y+=vy.y,n.applyMatrix4(CG)}const hw=new X,U9=new X;class bG extends Dn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const o=t[i];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r&&!(e<t[i].distance);i++);return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){hw.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(hw);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){hw.setFromMatrixPosition(e.matrixWorld),U9.setFromMatrixPosition(this.matrixWorld);const i=hw.distanceTo(U9)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o&&i>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,o=i.length;r<o;r++){const s=i[r];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}const H9=new X,G9=new Kn,W9=new Kn,_ve=new X,V9=new Pt;class kb extends _r{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Pt,this.bindMatrixInverse=new Pt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;G9.fromBufferAttribute(r.attributes.skinIndex,e),W9.fromBufferAttribute(r.attributes.skinWeight,e),H9.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const s=W9.getComponent(o);if(s!==0){const a=G9.getComponent(o);V9.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(_ve.copy(H9).applyMatrix4(V9),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Av extends Dn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class rv extends Ri{constructor(e=null,t=1,i=1,r,o,s,a,l,u=yr,c=yr,d,m){super(null,s,a,l,u,c,r,o,d,m),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const K9=new Pt,xve=new Pt;class e0{constructor(e=[],t=[]){this.uuid=Da(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Pt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:xve;K9.multiplyMatrices(a,t[o]),K9.toArray(i,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new e0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=uG(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new rv(t,e,e,Vs,Vo);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const o=e.bones[i];let s=t[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new Av),this.bones.push(s),this.boneInverses.push(new Pt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const s=t[r];e.bones.push(s.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Mv extends jn{constructor(e,t,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const $9=new Pt,J9=new Pt,pw=[],Sy=new _r;class Bk extends _r{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Mv(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Sy.geometry=this.geometry,Sy.material=this.material,Sy.material!==void 0)for(let o=0;o<r;o++){this.getMatrixAt(o,$9),J9.multiplyMatrices(i,$9),Sy.matrixWorld=J9,Sy.raycast(e,pw);for(let s=0,a=pw.length;s<a;s++){const l=pw[s];l.instanceId=o,l.object=this,t.push(l)}pw.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Mv(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Bo extends kr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new vt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const q9=new X,j9=new X,X9=new Pt,NM=new O1,mw=new nh;class rc extends Dn{constructor(e=new cn,t=new Bo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,o=t.count;r<o;r++)q9.fromBufferAttribute(t,r-1),j9.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=q9.distanceTo(j9);e.setAttribute("lineDistance",new Lt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),mw.copy(i.boundingSphere),mw.applyMatrix4(r),mw.radius+=o,e.ray.intersectsSphere(mw)===!1)return;X9.copy(r).invert(),NM.copy(e.ray).applyMatrix4(X9);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new X,c=new X,d=new X,m=new X,v=this.isLineSegments?2:1,y=i.index,S=i.attributes.position;if(y!==null){const x=Math.max(0,s.start),C=Math.min(y.count,s.start+s.count);for(let b=x,M=C-1;b<M;b+=v){const B=y.getX(b),k=y.getX(b+1);if(u.fromBufferAttribute(S,B),c.fromBufferAttribute(S,k),NM.distanceSqToSegment(u,c,m,d)>l)continue;m.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(m);R<e.near||R>e.far||t.push({distance:R,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,s.start),C=Math.min(S.count,s.start+s.count);for(let b=x,M=C-1;b<M;b+=v){if(u.fromBufferAttribute(S,b),c.fromBufferAttribute(S,b+1),NM.distanceSqToSegment(u,c,m,d)>l)continue;m.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(m);k<e.near||k>e.far||t.push({distance:k,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const Q9=new X,Y9=new X;class mu extends rc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,o=t.count;r<o;r+=2)Q9.fromBufferAttribute(t,r),Y9.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Q9.distanceTo(Y9);e.setAttribute("lineDistance",new Lt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Rk extends rc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Lb extends kr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Z9=new Pt,NR=new O1,gw=new nh,vw=new X;class Ik extends Dn{constructor(e=new cn,t=new Lb){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),gw.copy(i.boundingSphere),gw.applyMatrix4(r),gw.radius+=o,e.ray.intersectsSphere(gw)===!1)return;Z9.copy(r).invert(),NR.copy(e.ray).applyMatrix4(Z9);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,d=i.attributes.position;if(u!==null){const m=Math.max(0,s.start),v=Math.min(u.count,s.start+s.count);for(let y=m,_=v;y<_;y++){const S=u.getX(y);vw.fromBufferAttribute(d,S),eN(vw,S,l,r,e,t,this)}}else{const m=Math.max(0,s.start),v=Math.min(d.count,s.start+s.count);for(let y=m,_=v;y<_;y++)vw.fromBufferAttribute(d,y),eN(vw,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function eN(n,e,t,i,r,o,s){const a=NR.distanceSqToPoint(n);if(a<t){const l=new X;NR.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;o.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class wve extends Ri{constructor(e,t,i,r,o,s,a,l,u){super(e,t,i,r,o,s,a,l,u),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:oi,this.magFilter=o!==void 0?o:oi,this.generateMipmaps=!1;const c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Cve extends Ri{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=yr,this.minFilter=yr,this.generateMipmaps=!1,this.needsUpdate=!0}}class AG extends Ri{constructor(e,t,i,r,o,s,a,l,u,c,d,m){super(null,s,a,l,u,c,r,o,d,m),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Eve extends Ri{constructor(e,t,i,r,o,s,a,l,u){super(e,t,i,r,o,s,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Al{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),o=0;t.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),o+=i.distanceTo(r),t.push(o),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const o=i.length;let s;t?s=t:s=e*i[o-1];let a=0,l=o-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-s,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===s)return r/(o-1);const c=i[r],m=i[r+1]-c,v=(s-c)/m;return(r+v)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const s=this.getPoint(r),a=this.getPoint(o),l=t||(s.isVector2?new Qe:new X);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new X,r=[],o=[],s=[],a=new X,l=new Pt;for(let v=0;v<=e;v++){const y=v/e;r[v]=this.getTangentAt(y,new X)}o[0]=new X,s[0]=new X;let u=Number.MAX_VALUE;const c=Math.abs(r[0].x),d=Math.abs(r[0].y),m=Math.abs(r[0].z);c<=u&&(u=c,i.set(1,0,0)),d<=u&&(u=d,i.set(0,1,0)),m<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),o[0].crossVectors(r[0],a),s[0].crossVectors(r[0],o[0]);for(let v=1;v<=e;v++){if(o[v]=o[v-1].clone(),s[v]=s[v-1].clone(),a.crossVectors(r[v-1],r[v]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Sr(r[v-1].dot(r[v]),-1,1));o[v].applyMatrix4(l.makeRotationAxis(a,y))}s[v].crossVectors(r[v],o[v])}if(t===!0){let v=Math.acos(Sr(o[0].dot(o[e]),-1,1));v/=e,r[0].dot(a.crossVectors(o[0],o[e]))>0&&(v=-v);for(let y=1;y<=e;y++)o[y].applyMatrix4(l.makeRotationAxis(r[y],v*y)),s[y].crossVectors(r[y],o[y])}return{tangents:r,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Fb extends Al{constructor(e=0,t=0,i=1,r=1,o=0,s=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new Qe,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(s?o=0:o=r),this.aClockwise===!0&&!s&&(o===r?o=-r:o=o-r);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),m=l-this.aX,v=u-this.aY;l=m*c-v*d+this.aX,u=m*d+v*c+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class MG extends Fb{constructor(e,t,i,r,o,s){super(e,t,i,i,r,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function kk(){let n=0,e=0,t=0,i=0;function r(o,s,a,l){n=o,e=a,t=-3*o+3*s-2*a-l,i=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,u){r(s,a,u*(a-o),u*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,u,c,d){let m=(s-o)/u-(a-o)/(u+c)+(a-s)/c,v=(a-s)/c-(l-s)/(c+d)+(l-a)/d;m*=c,v*=c,r(s,a,m,v)},calc:function(o){const s=o*o,a=s*o;return n+e*o+t*s+i*a}}}const yw=new X,OM=new kk,zM=new kk,UM=new kk;class TG extends Al{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new X){const i=t,r=this.points,o=r.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let u,c;this.closed||a>0?u=r[(a-1)%o]:(yw.subVectors(r[0],r[1]).add(r[0]),u=yw);const d=r[a%o],m=r[(a+1)%o];if(this.closed||a+2<o?c=r[(a+2)%o]:(yw.subVectors(r[o-1],r[o-2]).add(r[o-1]),c=yw),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(d),v),_=Math.pow(d.distanceToSquared(m),v),S=Math.pow(m.distanceToSquared(c),v);_<1e-4&&(_=1),y<1e-4&&(y=_),S<1e-4&&(S=_),OM.initNonuniformCatmullRom(u.x,d.x,m.x,c.x,y,_,S),zM.initNonuniformCatmullRom(u.y,d.y,m.y,c.y,y,_,S),UM.initNonuniformCatmullRom(u.z,d.z,m.z,c.z,y,_,S)}else this.curveType==="catmullrom"&&(OM.initCatmullRom(u.x,d.x,m.x,c.x,this.tension),zM.initCatmullRom(u.y,d.y,m.y,c.y,this.tension),UM.initCatmullRom(u.z,d.z,m.z,c.z,this.tension));return i.set(OM.calc(l),zM.calc(l),UM.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new X().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function tN(n,e,t,i,r){const o=(i-e)*.5,s=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+o+s)*l+(-3*t+3*i-2*o-s)*a+o*n+t}function bve(n,e){const t=1-n;return t*t*e}function Ave(n,e){return 2*(1-n)*n*e}function Mve(n,e){return n*n*e}function dS(n,e,t,i){return bve(n,e)+Ave(n,t)+Mve(n,i)}function Tve(n,e){const t=1-n;return t*t*t*e}function Bve(n,e){const t=1-n;return 3*t*t*n*e}function Rve(n,e){return 3*(1-n)*n*n*e}function Ive(n,e){return n*n*n*e}function fS(n,e,t,i,r){return Tve(n,e)+Bve(n,t)+Rve(n,i)+Ive(n,r)}class Lk extends Al{constructor(e=new Qe,t=new Qe,i=new Qe,r=new Qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Qe){const i=t,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return i.set(fS(e,r.x,o.x,s.x,a.x),fS(e,r.y,o.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class BG extends Al{constructor(e=new X,t=new X,i=new X,r=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new X){const i=t,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return i.set(fS(e,r.x,o.x,s.x,a.x),fS(e,r.y,o.y,s.y,a.y),fS(e,r.z,o.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Db extends Al{constructor(e=new Qe,t=new Qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Qe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new Qe;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RG extends Al{constructor(e=new X,t=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new X){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Fk extends Al{constructor(e=new Qe,t=new Qe,i=new Qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Qe){const i=t,r=this.v0,o=this.v1,s=this.v2;return i.set(dS(e,r.x,o.x,s.x),dS(e,r.y,o.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Dk extends Al{constructor(e=new X,t=new X,i=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new X){const i=t,r=this.v0,o=this.v1,s=this.v2;return i.set(dS(e,r.x,o.x,s.x),dS(e,r.y,o.y,s.y),dS(e,r.z,o.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Pk extends Al{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Qe){const i=t,r=this.points,o=(r.length-1)*e,s=Math.floor(o),a=o-s,l=r[s===0?s:s-1],u=r[s],c=r[s>r.length-2?r.length-1:s+1],d=r[s>r.length-3?r.length-1:s+2];return i.set(tN(a,l.x,u.x,c.x,d.x),tN(a,l.y,u.y,c.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Qe().fromArray(r))}return this}}var Nk=Object.freeze({__proto__:null,ArcCurve:MG,CatmullRomCurve3:TG,CubicBezierCurve:Lk,CubicBezierCurve3:BG,EllipseCurve:Fb,LineCurve:Db,LineCurve3:RG,QuadraticBezierCurve:Fk,QuadraticBezierCurve3:Dk,SplineCurve:Pk});class IG extends Al{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Db(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=i){const s=r[o]-i,a=this.curves[o],l=a.getLength(),u=l===0?0:1-s/l;return a.getPointAt(u,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,o=this.curves;r<o.length;r++){const s=o[r],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];i&&i.equals(c)||(t.push(c),i=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Nk[r.type]().fromJSON(r))}return this}}class f1 extends IG{constructor(e){super(),this.type="Path",this.currentPoint=new Qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Db(this.currentPoint.clone(),new Qe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const o=new Fk(this.currentPoint.clone(),new Qe(e,t),new Qe(i,r));return this.curves.push(o),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,o,s){const a=new Lk(this.currentPoint.clone(),new Qe(e,t),new Qe(i,r),new Qe(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Pk(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,o,s),this}absarc(e,t,i,r,o,s){return this.absellipse(e,t,i,i,r,o,s),this}ellipse(e,t,i,r,o,s,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,i,r,o,s,a,l),this}absellipse(e,t,i,r,o,s,a,l){const u=new Fb(e,t,i,r,o,s,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class $p extends cn{constructor(e=[new Qe(0,.5),new Qe(.5,0),new Qe(0,-.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Sr(r,0,Math.PI*2);const o=[],s=[],a=[],l=[],u=[],c=1/t,d=new X,m=new Qe,v=new X,y=new X,_=new X;let S=0,x=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:S=e[C+1].x-e[C].x,x=e[C+1].y-e[C].y,v.x=x*1,v.y=-S,v.z=x*0,_.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:S=e[C+1].x-e[C].x,x=e[C+1].y-e[C].y,v.x=x*1,v.y=-S,v.z=x*0,y.copy(v),v.x+=_.x,v.y+=_.y,v.z+=_.z,v.normalize(),l.push(v.x,v.y,v.z),_.copy(y)}for(let C=0;C<=t;C++){const b=i+C*c*r,M=Math.sin(b),B=Math.cos(b);for(let k=0;k<=e.length-1;k++){d.x=e[k].x*M,d.y=e[k].y,d.z=e[k].x*B,s.push(d.x,d.y,d.z),m.x=C/t,m.y=k/(e.length-1),a.push(m.x,m.y);const F=l[3*k+0]*M,R=l[3*k+1],N=l[3*k+0]*B;u.push(F,R,N)}}for(let C=0;C<t;C++)for(let b=0;b<e.length-1;b++){const M=b+C*e.length,B=M,k=M+e.length,F=M+e.length+1,R=M+1;o.push(B,k,R),o.push(F,R,k)}this.setIndex(o),this.setAttribute("position",new Lt(s,3)),this.setAttribute("uv",new Lt(a,2)),this.setAttribute("normal",new Lt(u,3))}static fromJSON(e){return new $p(e.points,e.segments,e.phiStart,e.phiLength)}}class Tv extends $p{constructor(e=1,t=1,i=4,r=8){const o=new f1;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Tv(e.radius,e.length,e.capSegments,e.radialSegments)}}class Bv extends cn{constructor(e=1,t=8,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const o=[],s=[],a=[],l=[],u=new X,c=new Qe;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,m=3;d<=t;d++,m+=3){const v=i+d/t*r;u.x=e*Math.cos(v),u.y=e*Math.sin(v),s.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(s[m]/e+1)/2,c.y=(s[m+1]/e+1)/2,l.push(c.x,c.y)}for(let d=1;d<=t;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new Lt(s,3)),this.setAttribute("normal",new Lt(a,3)),this.setAttribute("uv",new Lt(l,2))}static fromJSON(e){return new Bv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Vf extends cn{constructor(e=1,t=1,i=1,r=8,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),o=Math.floor(o);const c=[],d=[],m=[],v=[];let y=0;const _=[],S=i/2;let x=0;C(),s===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(c),this.setAttribute("position",new Lt(d,3)),this.setAttribute("normal",new Lt(m,3)),this.setAttribute("uv",new Lt(v,2));function C(){const M=new X,B=new X;let k=0;const F=(t-e)/i;for(let R=0;R<=o;R++){const N=[],U=R/o,G=U*(t-e)+e;for(let oe=0;oe<=r;oe++){const me=oe/r,j=me*l+a,ne=Math.sin(j),te=Math.cos(j);B.x=G*ne,B.y=-U*i+S,B.z=G*te,d.push(B.x,B.y,B.z),M.set(ne,F,te).normalize(),m.push(M.x,M.y,M.z),v.push(me,1-U),N.push(y++)}_.push(N)}for(let R=0;R<r;R++)for(let N=0;N<o;N++){const U=_[N][R],G=_[N+1][R],oe=_[N+1][R+1],me=_[N][R+1];c.push(U,G,me),c.push(G,oe,me),k+=6}u.addGroup(x,k,0),x+=k}function b(M){const B=y,k=new Qe,F=new X;let R=0;const N=M===!0?e:t,U=M===!0?1:-1;for(let oe=1;oe<=r;oe++)d.push(0,S*U,0),m.push(0,U,0),v.push(.5,.5),y++;const G=y;for(let oe=0;oe<=r;oe++){const j=oe/r*l+a,ne=Math.cos(j),te=Math.sin(j);F.x=N*te,F.y=S*U,F.z=N*ne,d.push(F.x,F.y,F.z),m.push(0,U,0),k.x=ne*.5+.5,k.y=te*.5*U+.5,v.push(k.x,k.y),y++}for(let oe=0;oe<r;oe++){const me=B+oe,j=G+oe;M===!0?c.push(j,j+1,me):c.push(j+1,j,me),R+=3}u.addGroup(x,R,M===!0?1:2),x+=R}}static fromJSON(e){return new Vf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Rv extends Vf{constructor(e=1,t=1,i=8,r=1,o=!1,s=0,a=Math.PI*2){super(0,e,t,i,r,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new Rv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class oc extends cn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const o=[],s=[];a(r),u(i),c(),this.setAttribute("position",new Lt(o,3)),this.setAttribute("normal",new Lt(o.slice(),3)),this.setAttribute("uv",new Lt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(C){const b=new X,M=new X,B=new X;for(let k=0;k<t.length;k+=3)v(t[k+0],b),v(t[k+1],M),v(t[k+2],B),l(b,M,B,C)}function l(C,b,M,B){const k=B+1,F=[];for(let R=0;R<=k;R++){F[R]=[];const N=C.clone().lerp(M,R/k),U=b.clone().lerp(M,R/k),G=k-R;for(let oe=0;oe<=G;oe++)oe===0&&R===k?F[R][oe]=N:F[R][oe]=N.clone().lerp(U,oe/G)}for(let R=0;R<k;R++)for(let N=0;N<2*(k-R)-1;N++){const U=Math.floor(N/2);N%2===0?(m(F[R][U+1]),m(F[R+1][U]),m(F[R][U])):(m(F[R][U+1]),m(F[R+1][U+1]),m(F[R+1][U]))}}function u(C){const b=new X;for(let M=0;M<o.length;M+=3)b.x=o[M+0],b.y=o[M+1],b.z=o[M+2],b.normalize().multiplyScalar(C),o[M+0]=b.x,o[M+1]=b.y,o[M+2]=b.z}function c(){const C=new X;for(let b=0;b<o.length;b+=3){C.x=o[b+0],C.y=o[b+1],C.z=o[b+2];const M=S(C)/2/Math.PI+.5,B=x(C)/Math.PI+.5;s.push(M,1-B)}y(),d()}function d(){for(let C=0;C<s.length;C+=6){const b=s[C+0],M=s[C+2],B=s[C+4],k=Math.max(b,M,B),F=Math.min(b,M,B);k>.9&&F<.1&&(b<.2&&(s[C+0]+=1),M<.2&&(s[C+2]+=1),B<.2&&(s[C+4]+=1))}}function m(C){o.push(C.x,C.y,C.z)}function v(C,b){const M=C*3;b.x=e[M+0],b.y=e[M+1],b.z=e[M+2]}function y(){const C=new X,b=new X,M=new X,B=new X,k=new Qe,F=new Qe,R=new Qe;for(let N=0,U=0;N<o.length;N+=9,U+=6){C.set(o[N+0],o[N+1],o[N+2]),b.set(o[N+3],o[N+4],o[N+5]),M.set(o[N+6],o[N+7],o[N+8]),k.set(s[U+0],s[U+1]),F.set(s[U+2],s[U+3]),R.set(s[U+4],s[U+5]),B.copy(C).add(b).add(M).divideScalar(3);const G=S(B);_(k,U+0,C,G),_(F,U+2,b,G),_(R,U+4,M,G)}}function _(C,b,M,B){B<0&&C.x===1&&(s[b]=C.x-1),M.x===0&&M.z===0&&(s[b]=B/2/Math.PI+.5)}function S(C){return Math.atan2(C.z,-C.x)}function x(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}static fromJSON(e){return new oc(e.vertices,e.indices,e.radius,e.details)}}class Iv extends oc{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Iv(e.radius,e.detail)}}const Sw=new X,_w=new X,HM=new X,xw=new fl;class kG extends cn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(Ap*t),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,u=[0,0,0],c=["a","b","c"],d=new Array(3),m={},v=[];for(let y=0;y<l;y+=3){s?(u[0]=s.getX(y),u[1]=s.getX(y+1),u[2]=s.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:_,b:S,c:x}=xw;if(_.fromBufferAttribute(a,u[0]),S.fromBufferAttribute(a,u[1]),x.fromBufferAttribute(a,u[2]),xw.getNormal(HM),d[0]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,d[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,d[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let C=0;C<3;C++){const b=(C+1)%3,M=d[C],B=d[b],k=xw[c[C]],F=xw[c[b]],R=`${M}_${B}`,N=`${B}_${M}`;N in m&&m[N]?(HM.dot(m[N].normal)<=o&&(v.push(k.x,k.y,k.z),v.push(F.x,F.y,F.z)),m[N]=null):R in m||(m[R]={index0:u[C],index1:u[b],normal:HM.clone()})}}for(const y in m)if(m[y]){const{index0:_,index1:S}=m[y];Sw.fromBufferAttribute(a,_),_w.fromBufferAttribute(a,S),v.push(Sw.x,Sw.y,Sw.z),v.push(_w.x,_w.y,_w.z)}this.setAttribute("position",new Lt(v,3))}}}class Bp extends f1{constructor(e){super(e),this.uuid=Da(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new f1().fromJSON(r))}return this}}const kve={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let o=LG(n,0,r,t,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,u,c,d,m,v;if(i&&(o=Nve(n,e,o,t)),n.length>80*t){a=u=n[0],l=c=n[1];for(let y=t;y<r;y+=t)d=n[y],m=n[y+1],d<a&&(a=d),m<l&&(l=m),d>u&&(u=d),m>c&&(c=m);v=Math.max(u-a,c-l),v=v!==0?1/v:0}return h1(o,s,t,a,l,v),s}};function LG(n,e,t,i,r){let o,s;if(r===qve(n,e,t,i)>0)for(o=e;o<t;o+=i)s=nN(o,n[o],n[o+1],s);else for(o=t-i;o>=e;o-=i)s=nN(o,n[o],n[o+1],s);return s&&Pb(s,s.next)&&(m1(s),s=s.next),s}function Kf(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Pb(t,t.next)||Wi(t.prev,t,t.next)===0)){if(m1(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function h1(n,e,t,i,r,o,s){if(!n)return;!s&&o&&Gve(n,i,r,o);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,o?Fve(n,i,r,o):Lve(n)){e.push(l.i/t),e.push(n.i/t),e.push(u.i/t),m1(n),n=u.next,a=u.next;continue}if(n=u,n===a){s?s===1?(n=Dve(Kf(n),e,t),h1(n,e,t,i,r,o,2)):s===2&&Pve(n,e,t,i,r,o):h1(Kf(n),e,t,i,r,o,1);break}}}function Lve(n){const e=n.prev,t=n,i=n.next;if(Wi(e,t,i)>=0)return!1;let r=n.next.next;for(;r!==n.prev;){if(Wg(e.x,e.y,t.x,t.y,i.x,i.y,r.x,r.y)&&Wi(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Fve(n,e,t,i){const r=n.prev,o=n,s=n.next;if(Wi(r,o,s)>=0)return!1;const a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,u=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,d=OR(a,l,e,t,i),m=OR(u,c,e,t,i);let v=n.prevZ,y=n.nextZ;for(;v&&v.z>=d&&y&&y.z<=m;){if(v!==n.prev&&v!==n.next&&Wg(r.x,r.y,o.x,o.y,s.x,s.y,v.x,v.y)&&Wi(v.prev,v,v.next)>=0||(v=v.prevZ,y!==n.prev&&y!==n.next&&Wg(r.x,r.y,o.x,o.y,s.x,s.y,y.x,y.y)&&Wi(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;v&&v.z>=d;){if(v!==n.prev&&v!==n.next&&Wg(r.x,r.y,o.x,o.y,s.x,s.y,v.x,v.y)&&Wi(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;y&&y.z<=m;){if(y!==n.prev&&y!==n.next&&Wg(r.x,r.y,o.x,o.y,s.x,s.y,y.x,y.y)&&Wi(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function Dve(n,e,t){let i=n;do{const r=i.prev,o=i.next.next;!Pb(r,o)&&FG(r,i,i.next,o)&&p1(r,o)&&p1(o,r)&&(e.push(r.i/t),e.push(i.i/t),e.push(o.i/t),m1(i),m1(i.next),i=n=o),i=i.next}while(i!==n);return Kf(i)}function Pve(n,e,t,i,r,o){let s=n;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Kve(s,a)){let l=DG(s,a);s=Kf(s,s.next),l=Kf(l,l.next),h1(s,e,t,i,r,o),h1(l,e,t,i,r,o);return}a=a.next}s=s.next}while(s!==n)}function Nve(n,e,t,i){const r=[];let o,s,a,l,u;for(o=0,s=e.length;o<s;o++)a=e[o]*i,l=o<s-1?e[o+1]*i:n.length,u=LG(n,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(Vve(u));for(r.sort(Ove),o=0;o<r.length;o++)zve(r[o],t),t=Kf(t,t.next);return t}function Ove(n,e){return n.x-e.x}function zve(n,e){if(e=Uve(n,e),e){const t=DG(e,n);Kf(e,e.next),Kf(t,t.next)}}function Uve(n,e){let t=e;const i=n.x,r=n.y;let o=-1/0,s;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const m=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=i&&m>o){if(o=m,m===i){if(r===t.y)return t;if(r===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(i===o)return s;const a=s,l=s.x,u=s.y;let c=1/0,d;t=s;do i>=t.x&&t.x>=l&&i!==t.x&&Wg(r<u?i:o,r,l,u,r<u?o:i,r,t.x,t.y)&&(d=Math.abs(r-t.y)/(i-t.x),p1(t,n)&&(d<c||d===c&&(t.x>s.x||t.x===s.x&&Hve(s,t)))&&(s=t,c=d)),t=t.next;while(t!==a);return s}function Hve(n,e){return Wi(n.prev,n,e.prev)<0&&Wi(e.next,n,n.next)<0}function Gve(n,e,t,i){let r=n;do r.z===null&&(r.z=OR(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,Wve(r)}function Wve(n){let e,t,i,r,o,s,a,l,u=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,i=t,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:n=r,r.prevZ=o,o=r;t=i}o.nextZ=null,u*=2}while(s>1);return n}function OR(n,e,t,i,r){return n=32767*(n-t)*r,e=32767*(e-i)*r,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Vve(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Wg(n,e,t,i,r,o,s,a){return(r-s)*(e-a)-(n-s)*(o-a)>=0&&(n-s)*(i-a)-(t-s)*(e-a)>=0&&(t-s)*(o-a)-(r-s)*(i-a)>=0}function Kve(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!$ve(n,e)&&(p1(n,e)&&p1(e,n)&&Jve(n,e)&&(Wi(n.prev,n,e.prev)||Wi(n,e.prev,e))||Pb(n,e)&&Wi(n.prev,n,n.next)>0&&Wi(e.prev,e,e.next)>0)}function Wi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Pb(n,e){return n.x===e.x&&n.y===e.y}function FG(n,e,t,i){const r=Cw(Wi(n,e,t)),o=Cw(Wi(n,e,i)),s=Cw(Wi(t,i,n)),a=Cw(Wi(t,i,e));return!!(r!==o&&s!==a||r===0&&ww(n,t,e)||o===0&&ww(n,i,e)||s===0&&ww(t,n,i)||a===0&&ww(t,e,i))}function ww(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Cw(n){return n>0?1:n<0?-1:0}function $ve(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&FG(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function p1(n,e){return Wi(n.prev,n,n.next)<0?Wi(n,e,n.next)>=0&&Wi(n,n.prev,e)>=0:Wi(n,e,n.prev)<0||Wi(n,n.next,e)<0}function Jve(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function DG(n,e){const t=new zR(n.i,n.x,n.y),i=new zR(e.i,e.x,e.y),r=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,o.next=i,i.prev=o,i}function nN(n,e,t,i){const r=new zR(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function m1(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function zR(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qve(n,e,t,i){let r=0;for(let o=e,s=t-i;o<t;o+=i)r+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return r}class Zu{static area(e){const t=e.length;let i=0;for(let r=t-1,o=0;o<t;r=o++)i+=e[r].x*e[o].y-e[o].x*e[r].y;return i*.5}static isClockWise(e){return Zu.area(e)<0}static triangulateShape(e,t){const i=[],r=[],o=[];iN(e),rN(i,e);let s=e.length;t.forEach(iN);for(let l=0;l<t.length;l++)r.push(s),s+=t[l].length,rN(i,t[l]);const a=kve.triangulate(i,r);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function iN(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function rN(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class kv extends cn{constructor(e=new Bp([new Qe(.5,.5),new Qe(-.5,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];s(u)}this.setAttribute("position",new Lt(r,3)),this.setAttribute("uv",new Lt(o,2)),this.computeVertexNormals();function s(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1;let d=t.depth!==void 0?t.depth:1,m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:v-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,S=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:jve;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let b,M=!1,B,k,F,R;x&&(b=x.getSpacedPoints(c),M=!0,m=!1,B=x.computeFrenetFrames(c,!1),k=new X,F=new X,R=new X),m||(S=0,v=0,y=0,_=0);const N=a.extractPoints(u);let U=N.shape;const G=N.holes;if(!Zu.isClockWise(U)){U=U.reverse();for(let De=0,Ae=G.length;De<Ae;De++){const je=G[De];Zu.isClockWise(je)&&(G[De]=je.reverse())}}const me=Zu.triangulateShape(U,G),j=U;for(let De=0,Ae=G.length;De<Ae;De++){const je=G[De];U=U.concat(je)}function ne(De,Ae,je){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ae.clone().multiplyScalar(je).add(De)}const te=U.length,de=me.length;function O(De,Ae,je){let Ye,rt,St;const It=De.x-Ae.x,Rt=De.y-Ae.y,qt=je.x-De.x,Kt=je.y-De.y,Z=It*It+Rt*Rt,q=It*Kt-Rt*qt;if(Math.abs(q)>Number.EPSILON){const Me=Math.sqrt(Z),Je=Math.sqrt(qt*qt+Kt*Kt),it=Ae.x-Rt/Me,ot=Ae.y+It/Me,Nt=je.x-Kt/Je,Te=je.y+qt/Je,Mt=((Nt-it)*Kt-(Te-ot)*qt)/(It*Kt-Rt*qt);Ye=it+It*Mt-De.x,rt=ot+Rt*Mt-De.y;const gt=Ye*Ye+rt*rt;if(gt<=2)return new Qe(Ye,rt);St=Math.sqrt(gt/2)}else{let Me=!1;It>Number.EPSILON?qt>Number.EPSILON&&(Me=!0):It<-Number.EPSILON?qt<-Number.EPSILON&&(Me=!0):Math.sign(Rt)===Math.sign(Kt)&&(Me=!0),Me?(Ye=-Rt,rt=It,St=Math.sqrt(Z)):(Ye=It,rt=Rt,St=Math.sqrt(Z/2))}return new Qe(Ye/St,rt/St)}const V=[];for(let De=0,Ae=j.length,je=Ae-1,Ye=De+1;De<Ae;De++,je++,Ye++)je===Ae&&(je=0),Ye===Ae&&(Ye=0),V[De]=O(j[De],j[je],j[Ye]);const $=[];let ie,ae=V.concat();for(let De=0,Ae=G.length;De<Ae;De++){const je=G[De];ie=[];for(let Ye=0,rt=je.length,St=rt-1,It=Ye+1;Ye<rt;Ye++,St++,It++)St===rt&&(St=0),It===rt&&(It=0),ie[Ye]=O(je[Ye],je[St],je[It]);$.push(ie),ae=ae.concat(ie)}for(let De=0;De<S;De++){const Ae=De/S,je=v*Math.cos(Ae*Math.PI/2),Ye=y*Math.sin(Ae*Math.PI/2)+_;for(let rt=0,St=j.length;rt<St;rt++){const It=ne(j[rt],V[rt],Ye);mt(It.x,It.y,-je)}for(let rt=0,St=G.length;rt<St;rt++){const It=G[rt];ie=$[rt];for(let Rt=0,qt=It.length;Rt<qt;Rt++){const Kt=ne(It[Rt],ie[Rt],Ye);mt(Kt.x,Kt.y,-je)}}}const Ce=y+_;for(let De=0;De<te;De++){const Ae=m?ne(U[De],ae[De],Ce):U[De];M?(F.copy(B.normals[0]).multiplyScalar(Ae.x),k.copy(B.binormals[0]).multiplyScalar(Ae.y),R.copy(b[0]).add(F).add(k),mt(R.x,R.y,R.z)):mt(Ae.x,Ae.y,0)}for(let De=1;De<=c;De++)for(let Ae=0;Ae<te;Ae++){const je=m?ne(U[Ae],ae[Ae],Ce):U[Ae];M?(F.copy(B.normals[De]).multiplyScalar(je.x),k.copy(B.binormals[De]).multiplyScalar(je.y),R.copy(b[De]).add(F).add(k),mt(R.x,R.y,R.z)):mt(je.x,je.y,d/c*De)}for(let De=S-1;De>=0;De--){const Ae=De/S,je=v*Math.cos(Ae*Math.PI/2),Ye=y*Math.sin(Ae*Math.PI/2)+_;for(let rt=0,St=j.length;rt<St;rt++){const It=ne(j[rt],V[rt],Ye);mt(It.x,It.y,d+je)}for(let rt=0,St=G.length;rt<St;rt++){const It=G[rt];ie=$[rt];for(let Rt=0,qt=It.length;Rt<qt;Rt++){const Kt=ne(It[Rt],ie[Rt],Ye);M?mt(Kt.x,Kt.y+b[c-1].y,b[c-1].x+je):mt(Kt.x,Kt.y,d+je)}}}Fe(),Ne();function Fe(){const De=r.length/3;if(m){let Ae=0,je=te*Ae;for(let Ye=0;Ye<de;Ye++){const rt=me[Ye];ft(rt[2]+je,rt[1]+je,rt[0]+je)}Ae=c+S*2,je=te*Ae;for(let Ye=0;Ye<de;Ye++){const rt=me[Ye];ft(rt[0]+je,rt[1]+je,rt[2]+je)}}else{for(let Ae=0;Ae<de;Ae++){const je=me[Ae];ft(je[2],je[1],je[0])}for(let Ae=0;Ae<de;Ae++){const je=me[Ae];ft(je[0]+te*c,je[1]+te*c,je[2]+te*c)}}i.addGroup(De,r.length/3-De,0)}function Ne(){const De=r.length/3;let Ae=0;he(j,Ae),Ae+=j.length;for(let je=0,Ye=G.length;je<Ye;je++){const rt=G[je];he(rt,Ae),Ae+=rt.length}i.addGroup(De,r.length/3-De,1)}function he(De,Ae){let je=De.length;for(;--je>=0;){const Ye=je;let rt=je-1;rt<0&&(rt=De.length-1);for(let St=0,It=c+S*2;St<It;St++){const Rt=te*St,qt=te*(St+1),Kt=Ae+Ye+Rt,Z=Ae+rt+Rt,q=Ae+rt+qt,Me=Ae+Ye+qt;_t(Kt,Z,q,Me)}}}function mt(De,Ae,je){l.push(De),l.push(Ae),l.push(je)}function ft(De,Ae,je){Ke(De),Ke(Ae),Ke(je);const Ye=r.length/3,rt=C.generateTopUV(i,r,Ye-3,Ye-2,Ye-1);ct(rt[0]),ct(rt[1]),ct(rt[2])}function _t(De,Ae,je,Ye){Ke(De),Ke(Ae),Ke(Ye),Ke(Ae),Ke(je),Ke(Ye);const rt=r.length/3,St=C.generateSideWallUV(i,r,rt-6,rt-3,rt-2,rt-1);ct(St[0]),ct(St[1]),ct(St[3]),ct(St[1]),ct(St[2]),ct(St[3])}function Ke(De){r.push(l[De*3+0]),r.push(l[De*3+1]),r.push(l[De*3+2])}function ct(De){o.push(De.x),o.push(De.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Xve(t,i,e)}static fromJSON(e,t){const i=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=t[e.shapes[o]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Nk[r.type]().fromJSON(r)),new kv(i,e.options)}}const jve={generateTopUV:function(n,e,t,i,r){const o=e[t*3],s=e[t*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],c=e[r*3+1];return[new Qe(o,s),new Qe(a,l),new Qe(u,c)]},generateSideWallUV:function(n,e,t,i,r,o){const s=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[i*3],c=e[i*3+1],d=e[i*3+2],m=e[r*3],v=e[r*3+1],y=e[r*3+2],_=e[o*3],S=e[o*3+1],x=e[o*3+2];return Math.abs(a-c)<Math.abs(s-u)?[new Qe(s,1-l),new Qe(u,1-d),new Qe(m,1-y),new Qe(_,1-x)]:[new Qe(a,1-l),new Qe(c,1-d),new Qe(v,1-y),new Qe(S,1-x)]}};function Xve(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const o=n[i];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Jp extends oc{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jp(e.radius,e.detail)}}class qp extends oc{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qp(e.radius,e.detail)}}class Lv extends cn{constructor(e=.5,t=1,i=8,r=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],c=[];let d=e;const m=(t-e)/r,v=new X,y=new Qe;for(let _=0;_<=r;_++){for(let S=0;S<=i;S++){const x=o+S/i*s;v.x=d*Math.cos(x),v.y=d*Math.sin(x),l.push(v.x,v.y,v.z),u.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,c.push(y.x,y.y)}d+=m}for(let _=0;_<r;_++){const S=_*(i+1);for(let x=0;x<i;x++){const C=x+S,b=C,M=C+i+1,B=C+i+2,k=C+1;a.push(b,M,k),a.push(M,B,k)}}this.setIndex(a),this.setAttribute("position",new Lt(l,3)),this.setAttribute("normal",new Lt(u,3)),this.setAttribute("uv",new Lt(c,2))}static fromJSON(e){return new Lv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Fv extends cn{constructor(e=new Bp([new Qe(0,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Lt(r,3)),this.setAttribute("normal",new Lt(o,3)),this.setAttribute("uv",new Lt(s,2));function u(c){const d=r.length/3,m=c.extractPoints(t);let v=m.shape;const y=m.holes;Zu.isClockWise(v)===!1&&(v=v.reverse());for(let S=0,x=y.length;S<x;S++){const C=y[S];Zu.isClockWise(C)===!0&&(y[S]=C.reverse())}const _=Zu.triangulateShape(v,y);for(let S=0,x=y.length;S<x;S++){const C=y[S];v=v.concat(C)}for(let S=0,x=v.length;S<x;S++){const C=v[S];r.push(C.x,C.y,0),o.push(0,0,1),s.push(C.x,C.y)}for(let S=0,x=_.length;S<x;S++){const C=_[S],b=C[0]+d,M=C[1]+d,B=C[2]+d;i.push(b,M,B),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Qve(t,e)}static fromJSON(e,t){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const s=t[e.shapes[r]];i.push(s)}return new Fv(i,e.curveSegments)}}function Qve(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class jp extends cn{constructor(e=1,t=32,i=16,r=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(s+a,Math.PI);let u=0;const c=[],d=new X,m=new X,v=[],y=[],_=[],S=[];for(let x=0;x<=i;x++){const C=[],b=x/i;let M=0;x==0&&s==0?M=.5/t:x==i&&l==Math.PI&&(M=-.5/t);for(let B=0;B<=t;B++){const k=B/t;d.x=-e*Math.cos(r+k*o)*Math.sin(s+b*a),d.y=e*Math.cos(s+b*a),d.z=e*Math.sin(r+k*o)*Math.sin(s+b*a),y.push(d.x,d.y,d.z),m.copy(d).normalize(),_.push(m.x,m.y,m.z),S.push(k+M,1-b),C.push(u++)}c.push(C)}for(let x=0;x<i;x++)for(let C=0;C<t;C++){const b=c[x][C+1],M=c[x][C],B=c[x+1][C],k=c[x+1][C+1];(x!==0||s>0)&&v.push(b,M,k),(x!==i-1||l<Math.PI)&&v.push(M,B,k)}this.setIndex(v),this.setAttribute("position",new Lt(y,3)),this.setAttribute("normal",new Lt(_,3)),this.setAttribute("uv",new Lt(S,2))}static fromJSON(e){return new jp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Dv extends oc{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Dv(e.radius,e.detail)}}class Pv extends cn{constructor(e=1,t=.4,i=8,r=6,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:o},i=Math.floor(i),r=Math.floor(r);const s=[],a=[],l=[],u=[],c=new X,d=new X,m=new X;for(let v=0;v<=i;v++)for(let y=0;y<=r;y++){const _=y/r*o,S=v/i*Math.PI*2;d.x=(e+t*Math.cos(S))*Math.cos(_),d.y=(e+t*Math.cos(S))*Math.sin(_),d.z=t*Math.sin(S),a.push(d.x,d.y,d.z),c.x=e*Math.cos(_),c.y=e*Math.sin(_),m.subVectors(d,c).normalize(),l.push(m.x,m.y,m.z),u.push(y/r),u.push(v/i)}for(let v=1;v<=i;v++)for(let y=1;y<=r;y++){const _=(r+1)*v+y-1,S=(r+1)*(v-1)+y-1,x=(r+1)*(v-1)+y,C=(r+1)*v+y;s.push(_,S,C),s.push(S,x,C)}this.setIndex(s),this.setAttribute("position",new Lt(a,3)),this.setAttribute("normal",new Lt(l,3)),this.setAttribute("uv",new Lt(u,2))}static fromJSON(e){return new Pv(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Nv extends cn{constructor(e=1,t=.4,i=64,r=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:o,q:s},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],c=[],d=new X,m=new X,v=new X,y=new X,_=new X,S=new X,x=new X;for(let b=0;b<=i;++b){const M=b/i*o*Math.PI*2;C(M,o,s,e,v),C(M+.01,o,s,e,y),S.subVectors(y,v),x.addVectors(y,v),_.crossVectors(S,x),x.crossVectors(_,S),_.normalize(),x.normalize();for(let B=0;B<=r;++B){const k=B/r*Math.PI*2,F=-t*Math.cos(k),R=t*Math.sin(k);d.x=v.x+(F*x.x+R*_.x),d.y=v.y+(F*x.y+R*_.y),d.z=v.z+(F*x.z+R*_.z),l.push(d.x,d.y,d.z),m.subVectors(d,v).normalize(),u.push(m.x,m.y,m.z),c.push(b/i),c.push(B/r)}}for(let b=1;b<=i;b++)for(let M=1;M<=r;M++){const B=(r+1)*(b-1)+(M-1),k=(r+1)*b+(M-1),F=(r+1)*b+M,R=(r+1)*(b-1)+M;a.push(B,k,R),a.push(k,F,R)}this.setIndex(a),this.setAttribute("position",new Lt(l,3)),this.setAttribute("normal",new Lt(u,3)),this.setAttribute("uv",new Lt(c,2));function C(b,M,B,k,F){const R=Math.cos(b),N=Math.sin(b),U=B/M*b,G=Math.cos(U);F.x=k*(2+G)*.5*R,F.y=k*(2+G)*N*.5,F.z=k*Math.sin(U)*.5}}static fromJSON(e){return new Nv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Ov extends cn{constructor(e=new Dk(new X(-1,-1,0),new X(-1,1,0),new X(1,1,0)),t=64,i=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:o};const s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new X,l=new X,u=new Qe;let c=new X;const d=[],m=[],v=[],y=[];_(),this.setIndex(y),this.setAttribute("position",new Lt(d,3)),this.setAttribute("normal",new Lt(m,3)),this.setAttribute("uv",new Lt(v,2));function _(){for(let b=0;b<t;b++)S(b);S(o===!1?t:0),C(),x()}function S(b){c=e.getPointAt(b/t,c);const M=s.normals[b],B=s.binormals[b];for(let k=0;k<=r;k++){const F=k/r*Math.PI*2,R=Math.sin(F),N=-Math.cos(F);l.x=N*M.x+R*B.x,l.y=N*M.y+R*B.y,l.z=N*M.z+R*B.z,l.normalize(),m.push(l.x,l.y,l.z),a.x=c.x+i*l.x,a.y=c.y+i*l.y,a.z=c.z+i*l.z,d.push(a.x,a.y,a.z)}}function x(){for(let b=1;b<=t;b++)for(let M=1;M<=r;M++){const B=(r+1)*(b-1)+(M-1),k=(r+1)*b+(M-1),F=(r+1)*b+M,R=(r+1)*(b-1)+M;y.push(B,k,R),y.push(k,F,R)}}function C(){for(let b=0;b<=t;b++)for(let M=0;M<=r;M++)u.x=b/t,u.y=M/r,v.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Ov(new Nk[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class PG extends cn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new X,o=new X;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const d=l[u],m=d.start,v=d.count;for(let y=m,_=m+v;y<_;y+=3)for(let S=0;S<3;S++){const x=a.getX(y+S),C=a.getX(y+(S+1)%3);r.fromBufferAttribute(s,x),o.fromBufferAttribute(s,C),oN(r,o,i)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,d=3*a+(u+1)%3;r.fromBufferAttribute(s,c),o.fromBufferAttribute(s,d),oN(r,o,i)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new Lt(t,3))}}}function oN(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var sN=Object.freeze({__proto__:null,BoxGeometry:od,BoxBufferGeometry:od,CapsuleGeometry:Tv,CapsuleBufferGeometry:Tv,CircleGeometry:Bv,CircleBufferGeometry:Bv,ConeGeometry:Rv,ConeBufferGeometry:Rv,CylinderGeometry:Vf,CylinderBufferGeometry:Vf,DodecahedronGeometry:Iv,DodecahedronBufferGeometry:Iv,EdgesGeometry:kG,ExtrudeGeometry:kv,ExtrudeBufferGeometry:kv,IcosahedronGeometry:Jp,IcosahedronBufferGeometry:Jp,LatheGeometry:$p,LatheBufferGeometry:$p,OctahedronGeometry:qp,OctahedronBufferGeometry:qp,PlaneGeometry:Gf,PlaneBufferGeometry:Gf,PolyhedronGeometry:oc,PolyhedronBufferGeometry:oc,RingGeometry:Lv,RingBufferGeometry:Lv,ShapeGeometry:Fv,ShapeBufferGeometry:Fv,SphereGeometry:jp,SphereBufferGeometry:jp,TetrahedronGeometry:Dv,TetrahedronBufferGeometry:Dv,TorusGeometry:Pv,TorusBufferGeometry:Pv,TorusKnotGeometry:Nv,TorusKnotBufferGeometry:Nv,TubeGeometry:Ov,TubeBufferGeometry:Ov,WireframeGeometry:PG});class NG extends kr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new vt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class OG extends hu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class G1 extends kr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nm,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ac extends G1{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new vt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class hS extends kr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new vt(16777215),this.specular=new vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nm,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=P1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zG extends kr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new vt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nm,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class UG extends kr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nm,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Ok extends kr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=P1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class HG extends kr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new vt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nm,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GG extends Bo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const bi={arraySlice:function(n,e,t){return bi.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(r,o){return n[r]-n[o]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i},sortedArray:function(n,e,t){const i=n.length,r=new n.constructor(i);for(let o=0,s=0;s!==i;++o){const a=t[o]*e;for(let l=0;l!==e;++l)r[s++]=n[a+l]}return r},flattenJSON:function(n,e,t,i){let r=1,o=n[0];for(;o!==void 0&&o[i]===void 0;)o=n[r++];if(o===void 0)return;let s=o[i];if(s!==void 0)if(Array.isArray(s))do s=o[i],s!==void 0&&(e.push(o.time),t.push.apply(t,s)),o=n[r++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[i],s!==void 0&&(e.push(o.time),s.toArray(t,t.length)),o=n[r++];while(o!==void 0);else do s=o[i],s!==void 0&&(e.push(o.time),t.push(s)),o=n[r++];while(o!==void 0)},subclip:function(n,e,t,i,r=30){const o=n.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),d=[],m=[];for(let v=0;v<u.times.length;++v){const y=u.times[v]*r;if(!(y<t||y>=i)){d.push(u.times[v]);for(let _=0;_<c;++_)m.push(u.values[v*c+_])}}d.length!==0&&(u.times=bi.convertArray(d,u.times.constructor),u.values=bi.convertArray(m,u.values.constructor),s.push(u))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,o=e/i;for(let s=0;s<r;++s){const a=t.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const y=a.times.length-1;let _;if(o<=a.times[0]){const x=c,C=d-c;_=bi.arraySlice(a.values,x,C)}else if(o>=a.times[y]){const x=y*d+c,C=x+d-c;_=bi.arraySlice(a.values,x,C)}else{const x=a.createInterpolant(),C=c,b=d-c;x.evaluate(o),_=bi.arraySlice(x.resultBuffer,C,b)}l==="quaternion"&&new Ir().fromArray(_).normalize().conjugate().toArray(_);const S=u.times.length;for(let x=0;x<S;++x){const C=x*v+m;if(l==="quaternion")Ir.multiplyQuaternionsFlat(u.values,C,_,0,u.values,C);else{const b=v-m*2;for(let M=0;M<b;++M)u.values[C+M]-=_[M]}}}return n.blendMode=vk,n}};class t0{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],o=t[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<o)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(o=r,r=t[++i],e<r)break t}s=t.length;break n}if(!(e>=o)){const a=t[1];e<a&&(i=2,o=a);for(let l=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=o,o=t[--i-1],e>=o)break t}s=i,i=0;break n}break e}for(;i<s;){const a=i+s>>>1;e<t[a]?s=a:i=a+1}if(r=t[i],o=t[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,r)}return this.interpolate_(i,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r;for(let s=0;s!==r;++s)t[s]=i[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class WG extends t0{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:mp,endingEnd:mp}}intervalChanged_(e,t,i){const r=this.parameterPositions;let o=e-2,s=e+1,a=r[o],l=r[s];if(a===void 0)switch(this.getSettings_().endingStart){case gp:o=e,a=2*t-i;break;case l1:o=r.length-2,a=t+r[o]-r[o+1];break;default:o=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case gp:s=e,l=2*i-t;break;case l1:s=1,l=i+r[1]-r[0];break;default:s=e-1,l=t}const u=(i-t)*.5,c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-i),this._offsetPrev=o*c,this._offsetNext=s*c}interpolate_(e,t,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,d=this._offsetNext,m=this._weightPrev,v=this._weightNext,y=(i-t)/(r-t),_=y*y,S=_*y,x=-m*S+2*m*_-m*y,C=(1+m)*S+(-1.5-2*m)*_+(-.5+m)*y+1,b=(-1-v)*S+(1.5+v)*_+.5*y,M=v*S-v*_;for(let B=0;B!==a;++B)o[B]=x*s[c+B]+C*s[u+B]+b*s[l+B]+M*s[d+B];return o}}class zk extends t0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(i-t)/(r-t),d=1-c;for(let m=0;m!==a;++m)o[m]=s[u+m]*d+s[l+m]*c;return o}}class VG extends t0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class gu{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=bi.convertArray(t,this.TimeBufferType),this.values=bi.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:bi.convertArray(e.times,Array),values:bi.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new VG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zk(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new WG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ev:t=this.InterpolantFactoryMethodDiscrete;break;case Kp:t=this.InterpolantFactoryMethodLinear;break;case yC:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ev;case this.InterpolantFactoryMethodLinear:return Kp;case this.InterpolantFactoryMethodSmooth:return yC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let o=0,s=r-1;for(;o!==r&&i[o]<e;)++o;for(;s!==-1&&i[s]>t;)--s;if(++s,o!==0||s!==r){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=bi.arraySlice(i,o,s),this.values=bi.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,o=i.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(r!==void 0&&bi.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=bi.arraySlice(this.times),t=bi.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===yC,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(r)l=!0;else{const d=a*i,m=d-i,v=d+i;for(let y=0;y!==i;++y){const _=t[d+y];if(_!==t[m+y]||_!==t[v+y]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const d=a*i,m=s*i;for(let v=0;v!==i;++v)t[m+v]=t[d+v]}++s}}if(o>0){e[s]=e[o];for(let a=o*i,l=s*i,u=0;u!==i;++u)t[l+u]=t[a+u];++s}return s!==e.length?(this.times=bi.arraySlice(e,0,s),this.values=bi.arraySlice(t,0,s*i)):(this.times=e,this.values=t),this}clone(){const e=bi.arraySlice(this.times,0),t=bi.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}gu.prototype.TimeBufferType=Float32Array;gu.prototype.ValueBufferType=Float32Array;gu.prototype.DefaultInterpolation=Kp;class rm extends gu{}rm.prototype.ValueTypeName="bool";rm.prototype.ValueBufferType=Array;rm.prototype.DefaultInterpolation=Ev;rm.prototype.InterpolantFactoryMethodLinear=void 0;rm.prototype.InterpolantFactoryMethodSmooth=void 0;class Uk extends gu{}Uk.prototype.ValueTypeName="color";class $f extends gu{}$f.prototype.ValueTypeName="number";class KG extends t0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let u=e*a;for(let c=u+a;u!==c;u+=4)Ir.slerpFlat(o,0,s,u-a,s,u,l);return o}}class sd extends gu{InterpolantFactoryMethodLinear(e){return new KG(this.times,this.values,this.getValueSize(),e)}}sd.prototype.ValueTypeName="quaternion";sd.prototype.DefaultInterpolation=Kp;sd.prototype.InterpolantFactoryMethodSmooth=void 0;class om extends gu{}om.prototype.ValueTypeName="string";om.prototype.ValueBufferType=Array;om.prototype.DefaultInterpolation=Ev;om.prototype.InterpolantFactoryMethodLinear=void 0;om.prototype.InterpolantFactoryMethodSmooth=void 0;class Xp extends gu{}Xp.prototype.ValueTypeName="vector";class Jf{constructor(e,t=-1,i,r=bb){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Da(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,a=i.length;s!==a;++s)t.push(Zve(i[s]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=i.length;o!==s;++o)t.push(gu.toJSON(i[o]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const o=t.length,s=[];for(let a=0;a<o;a++){let l=[],u=[];l.push((a+o-1)%o,a,(a+1)%o),u.push(0,1,0);const c=bi.getKeyframeOrder(l);l=bi.sortedArray(l,1,c),u=bi.sortedArray(u,1,c),!r&&l[0]===0&&(l.push(o),u.push(u[0])),s.push(new $f(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/i))}return new this(e,-1,s)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(o);if(c&&c.length>1){const d=c[1];let m=r[d];m||(r[d]=m=[]),m.push(u)}}const s=[];for(const a in r)s.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,m,v,y,_){if(v.length!==0){const S=[],x=[];bi.flattenJSON(v,S,x,y),S.length!==0&&_.push(new d(m,S,x))}},r=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const m=u[d].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let y;for(y=0;y<m.length;y++)if(m[y].morphTargets)for(let _=0;_<m[y].morphTargets.length;_++)v[m[y].morphTargets[_]]=-1;for(const _ in v){const S=[],x=[];for(let C=0;C!==m[y].morphTargets.length;++C){const b=m[y];S.push(b.time),x.push(b.morphTarget===_?1:0)}r.push(new $f(".morphTargetInfluence["+_+"]",S,x))}l=v.length*s}else{const v=".bones["+t[d].name+"]";i(Xp,v+".position",m,"pos",r),i(sd,v+".quaternion",m,"rot",r),i(Xp,v+".scale",m,"scl",r)}}return r.length===0?null:new this(o,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const o=this.tracks[i];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Yve(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return $f;case"vector":case"vector2":case"vector3":case"vector4":return Xp;case"color":return Uk;case"quaternion":return sd;case"bool":case"boolean":return rm;case"string":return om}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Zve(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Yve(n.type);if(n.times===void 0){const t=[],i=[];bi.flattenJSON(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Qp={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Hk{constructor(e,t,i){const r=this;let o=!1,s=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(c){a++,o===!1&&r.onStart!==void 0&&r.onStart(c,s,a),o=!0},this.itemEnd=function(c){s++,r.onProgress!==void 0&&r.onProgress(c,s,a),s===a&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,d){return u.push(c,d),this},this.removeHandler=function(c){const d=u.indexOf(c);return d!==-1&&u.splice(d,2),this},this.getHandler=function(c){for(let d=0,m=u.length;d<m;d+=2){const v=u[d],y=u[d+1];if(v.global&&(v.lastIndex=0),v.test(c))return y}return null}}}const Vg=new Hk;let jo=class{constructor(e){this.manager=e!==void 0?e:Vg,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,o){i.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const Ic={};class js extends jo{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Qp.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Ic[e]!==void 0){Ic[e].push({onLoad:t,onProgress:i,onError:r});return}Ic[e]=[],Ic[e].push({onLoad:t,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Ic[e],d=u.body.getReader(),m=u.headers.get("Content-Length"),v=m?parseInt(m):0,y=v!==0;let _=0;const S=new ReadableStream({start(x){C();function C(){d.read().then(({done:b,value:M})=>{if(b)x.close();else{_+=M.byteLength;const B=new ProgressEvent("progress",{lengthComputable:y,loaded:_,total:v});for(let k=0,F=c.length;k<F;k++){const R=c[k];R.onProgress&&R.onProgress(B)}x.enqueue(M),C()}})}}});return new Response(S)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),m=d&&d[1]?d[1].toLowerCase():void 0,v=new TextDecoder(m);return u.arrayBuffer().then(y=>v.decode(y))}}}).then(u=>{Qp.add(e,u);const c=Ic[e];delete Ic[e];for(let d=0,m=c.length;d<m;d++){const v=c[d];v.onLoad&&v.onLoad(u)}}).catch(u=>{const c=Ic[e];if(c===void 0)throw this.manager.itemError(e),u;delete Ic[e];for(let d=0,m=c.length;d<m;d++){const v=c[d];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class e0e extends jo{constructor(e){super(e)}load(e,t,i,r){const o=this,s=new js(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Jf.parse(e[i]);t.push(r)}return t}}class t0e extends jo{constructor(e){super(e)}load(e,t,i,r){const o=this,s=[],a=new AG,l=new js(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let u=0;function c(d){l.load(e[d],function(m){const v=o.parse(m,!0);s[d]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(a.minFilter=oi),a.image=s,a.format=v.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,m=e.length;d<m;++d)c(d);else l.load(e,function(d){const m=o.parse(d,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let y=0;y<v;y++){s[y]={mipmaps:[]};for(let _=0;_<m.mipmapCount;_++)s[y].mipmaps.push(m.mipmaps[y*m.mipmapCount+_]),s[y].format=m.format,s[y].width=m.width,s[y].height=m.height}a.image=s}else a.image.width=m.width,a.image.height=m.height,a.mipmaps=m.mipmaps;m.mipmapCount===1&&(a.minFilter=oi),a.format=m.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class g1 extends jo{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Qp.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a=c1("img");function l(){c(),Qp.add(e,this),t&&t(this),o.manager.itemEnd(e)}function u(d){c(),r&&r(d),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class $G extends jo{constructor(e){super(e)}load(e,t,i,r){const o=new U1,s=new g1(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(u){s.load(e[u],function(c){o.images[u]=c,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return o}}class Gk extends jo{constructor(e){super(e)}load(e,t,i,r){const o=this,s=new rv,a=new js(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){const u=o.parse(l);u&&(u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:lo,s.wrapT=u.wrapT!==void 0?u.wrapT:lo,s.magFilter=u.magFilter!==void 0?u.magFilter:oi,s.minFilter=u.minFilter!==void 0?u.minFilter:oi,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(s.encoding=u.encoding),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=cd),u.mipmapCount===1&&(s.minFilter=oi),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,t&&t(s,u))},i,r),s}}class n0 extends jo{constructor(e){super(e)}load(e,t,i,r){const o=new Ri,s=new g1(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},i,r),o}}class ih extends Dn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new vt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class JG extends ih{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Dn.DefaultUp),this.updateMatrix(),this.groundColor=new vt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const aN=new Pt,lN=new X,uN=new X;class Wk{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Qe(512,512),this.map=null,this.mapPass=null,this.matrix=new Pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Tb,this._frameExtents=new Qe(1,1),this._viewportCount=1,this._viewports=[new Kn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;lN.setFromMatrixPosition(e.matrixWorld),t.position.copy(lN),uN.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(uN),t.updateMatrixWorld(),aN.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aN),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class n0e extends Wk{constructor(){super(new Br(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=u1*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(i!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=i,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Nb extends ih{constructor(e,t,i=0,r=Math.PI/3,o=0,s=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Dn.DefaultUp),this.updateMatrix(),this.target=new Dn,this.distance=i,this.angle=r,this.penumbra=o,this.decay=s,this.shadow=new n0e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const cN=new Pt,_y=new X,GM=new X;class i0e extends Wk{constructor(){super(new Br(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Qe(4,2),this._viewportCount=6,this._viewports=[new Kn(2,1,1,1),new Kn(0,1,1,1),new Kn(3,1,1,1),new Kn(1,1,1,1),new Kn(3,0,1,1),new Kn(1,0,1,1)],this._cubeDirections=[new X(1,0,0),new X(-1,0,0),new X(0,0,1),new X(0,0,-1),new X(0,1,0),new X(0,-1,0)],this._cubeUps=[new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,0,1),new X(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,o=e.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),_y.setFromMatrixPosition(e.matrixWorld),i.position.copy(_y),GM.copy(i.position),GM.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(GM),i.updateMatrixWorld(),r.makeTranslation(-_y.x,-_y.y,-_y.z),cN.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cN)}}class v1 extends ih{constructor(e,t,i=0,r=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new i0e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class r0e extends Wk{constructor(){super(new im(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ob extends ih{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Dn.DefaultUp),this.updateMatrix(),this.target=new Dn,this.shadow=new r0e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Vk extends ih{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class qG extends ih{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class jG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*o),t.addScaledVector(s[3],.488603*i),t.addScaledVector(s[4],1.092548*(i*r)),t.addScaledVector(s[5],1.092548*(r*o)),t.addScaledVector(s[6],.315392*(3*o*o-1)),t.addScaledVector(s[7],1.092548*(i*o)),t.addScaledVector(s[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*o),t.addScaledVector(s[3],2*.511664*i),t.addScaledVector(s[4],2*.429043*i*r),t.addScaledVector(s[5],2*.429043*r*o),t.addScaledVector(s[6],.743125*o*o-.247708),t.addScaledVector(s[7],2*.429043*i*o),t.addScaledVector(s[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*i*o,t[8]=.546274*(i*i-r*r)}}class zb extends ih{constructor(e=new jG,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Ub extends jo{constructor(e){super(e),this.textures={}}load(e,t,i,r){const o=this,s=new js(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=Ub.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new vt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(r.uniforms[o]={},s.type){case"t":r.uniforms[o].value=i(s.value);break;case"c":r.uniforms[o].value=new vt().setHex(s.value);break;case"v2":r.uniforms[o].value=new Qe().fromArray(s.value);break;case"v3":r.uniforms[o].value=new X().fromArray(s.value);break;case"v4":r.uniforms[o].value=new Kn().fromArray(s.value);break;case"m3":r.uniforms[o].value=new ps().fromArray(s.value);break;case"m4":r.uniforms[o].value=new Pt().fromArray(s.value);break;default:r.uniforms[o].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new Qe().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:NG,SpriteMaterial:Tk,RawShaderMaterial:OG,ShaderMaterial:hu,PointsMaterial:Lb,MeshPhysicalMaterial:ac,MeshStandardMaterial:G1,MeshPhongMaterial:hS,MeshToonMaterial:zG,MeshNormalMaterial:UG,MeshLambertMaterial:Ok,MeshDepthMaterial:Ek,MeshDistanceMaterial:bk,MeshBasicMaterial:ka,MeshMatcapMaterial:HG,LineDashedMaterial:GG,LineBasicMaterial:Bo,Material:kr};return new t[e]}}class Pa{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class XG extends cn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class QG extends jo{constructor(e){super(e)}load(e,t,i,r){const o=this,s=new js(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,y){if(t[y]!==void 0)return t[y];const S=v.interleavedBuffers[y],x=o(v,S.buffer),C=Hg(S.type,x),b=new H1(C,S.stride);return b.uuid=S.uuid,t[y]=b,b}function o(v,y){if(i[y]!==void 0)return i[y];const S=v.arrayBuffers[y],x=new Uint32Array(S).buffer;return i[y]=x,x}const s=e.isInstancedBufferGeometry?new XG:new cn,a=e.data.index;if(a!==void 0){const v=Hg(a.type,a.array);s.setIndex(new jn(v,1))}const l=e.data.attributes;for(const v in l){const y=l[v];let _;if(y.isInterleavedBufferAttribute){const S=r(e.data,y.data);_=new Wf(S,y.itemSize,y.offset,y.normalized)}else{const S=Hg(y.type,y.array),x=y.isInstancedBufferAttribute?Mv:jn;_=new x(S,y.itemSize,y.normalized)}y.name!==void 0&&(_.name=y.name),y.usage!==void 0&&_.setUsage(y.usage),y.updateRange!==void 0&&(_.updateRange.offset=y.updateRange.offset,_.updateRange.count=y.updateRange.count),s.setAttribute(v,_)}const u=e.data.morphAttributes;if(u)for(const v in u){const y=u[v],_=[];for(let S=0,x=y.length;S<x;S++){const C=y[S];let b;if(C.isInterleavedBufferAttribute){const M=r(e.data,C.data);b=new Wf(M,C.itemSize,C.offset,C.normalized)}else{const M=Hg(C.type,C.array);b=new jn(M,C.itemSize,C.normalized)}C.name!==void 0&&(b.name=C.name),_.push(b)}s.morphAttributes[v]=_}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let v=0,y=d.length;v!==y;++v){const _=d[v];s.addGroup(_.start,_.count,_.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const v=new X;m.center!==void 0&&v.fromArray(m.center),s.boundingSphere=new nh(v,m.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class o0e extends jo{constructor(e){super(e)}load(e,t,i,r){const o=this,s=this.path===""?Pa.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new js(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Pa.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new js(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,t),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,o,l,a,i),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let d=!1;for(const m in s)if(s[m].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,a,s,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const o=new Bp().fromJSON(e[i]);t[o.uuid]=o}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new e0().fromJSON(e[o],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new QG;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in sN?a=sN[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const o=new Ub;o.setTextures(t);for(let s=0,a=e.length;s<a;s++){const l=e[s];if(l.type==="MultiMaterial"){const u=[];for(let c=0;c<l.materials.length;c++){const d=l.materials[c];i[d.uuid]===void 0&&(i[d.uuid]=o.parse(d)),u.push(i[d.uuid])}r[l.uuid]=u}else i[l.uuid]===void 0&&(i[l.uuid]=o.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],o=Jf.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const i=this,r={};let o;function s(l){return i.manager.itemStart(l),o.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return s(c)}else return l.data?{data:Hg(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Hk(t);o=new g1(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const d=e[u],m=d.url;if(Array.isArray(m)){const v=[];for(let y=0,_=m.length;y<_;y++){const S=m[y],x=a(S);x!==null&&(x instanceof HTMLImageElement?v.push(x):v.push(new rv(x.data,x.width,x.height)))}r[d.uuid]=new vp(v)}else{const v=a(d.url);r[d.uuid]=new vp(v)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return s.data?{data:Hg(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new g1(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],u=l.url;if(Array.isArray(u)){const c=[];for(let d=0,m=u.length;d<m;d++){const v=u[d],y=await o(v);y!==null&&(y instanceof HTMLImageElement?c.push(y):c.push(new rv(y.data,y.width,y.height)))}i[l.uuid]=new vp(c)}else{const c=await o(l.url);i[l.uuid]=new vp(c)}}}return i}parseTextures(e,t){function i(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const r={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let c;Array.isArray(u)?(c=new U1,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new rv:c=new Ri,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=i(a.mapping,s0e)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=i(a.wrap[0],dN),c.wrapT=i(a.wrap[1],dN)),a.format!==void 0&&(c.format=a.format),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=i(a.minFilter,fN)),a.magFilter!==void 0&&(c.magFilter=i(a.magFilter,fN)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),r[a.uuid]=c}return r}parseObject(e,t,i,r,o){let s;function a(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let y=0,_=m.length;y<_;y++){const S=m[y];i[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),v.push(i[S])}return v}return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),i[m]}}function u(m){return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),r[m]}let c,d;switch(e.type){case"Scene":s=new d1,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new vt(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Ib(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Rb(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new Br(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new im(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Vk(e.color,e.intensity);break;case"DirectionalLight":s=new Ob(e.color,e.intensity);break;case"PointLight":s=new v1(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new qG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Nb(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new JG(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new zb().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),d=l(e.material),s=new kb(c,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),d=l(e.material),s=new _r(c,d);break;case"InstancedMesh":c=a(e.geometry),d=l(e.material);const m=e.count,v=e.instanceMatrix,y=e.instanceColor;s=new Bk(c,d,m),s.instanceMatrix=new Mv(new Float32Array(v.array),16),y!==void 0&&(s.instanceColor=new Mv(new Float32Array(y.array),y.itemSize));break;case"LOD":s=new bG;break;case"Line":s=new rc(a(e.geometry),l(e.material));break;case"LineLoop":s=new Rk(a(e.geometry),l(e.material));break;case"LineSegments":s=new mu(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new Ik(a(e.geometry),l(e.material));break;case"Sprite":s=new EG(l(e.material));break;case"Group":s=new ou;break;case"Bone":s=new Av;break;default:s=new Dn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)s.add(this.parseObject(m[v],t,i,r,o))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const y=m[v];s.animations.push(o[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const y=m[v],_=s.getObjectByProperty("uuid",y.object);_!==void 0&&s.addLevel(_,y.distance)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const s0e={UVMapping:Cb,CubeReflectionMapping:id,CubeRefractionMapping:Uf,EquirectangularReflectionMapping:Wp,EquirectangularRefractionMapping:o1,CubeUVReflectionMapping:Yv},dN={RepeatWrapping:ic,ClampToEdgeWrapping:lo,MirroredRepeatWrapping:Cv},fN={NearestFilter:yr,NearestMipmapNearestFilter:s1,NearestMipmapLinearFilter:a1,LinearFilter:oi,LinearMipmapNearestFilter:Eb,LinearMipmapLinearFilter:cd};class YG extends jo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Qp.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){Qp.add(e,l),t&&t(l),o.manager.itemEnd(e)}).catch(function(l){r&&r(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}let Ew;const Kk={getContext:function(){return Ew===void 0&&(Ew=new(window.AudioContext||window.webkitAudioContext)),Ew},setContext:function(n){Ew=n}};class a0e extends jo{constructor(e){super(e)}load(e,t,i,r){const o=this,s=new js(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{const l=a.slice(0);Kk.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}}class l0e extends zb{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new vt().set(e),o=new vt().set(t),s=new X(r.r,r.g,r.b),a=new X(o.r,o.g,o.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(u)}}class u0e extends zb{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new vt().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const hN=new Pt,pN=new Pt,Vh=new Pt;class c0e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Br,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Br,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Vh.copy(e.projectionMatrix);const r=t.eyeSep/2,o=r*t.near/t.focus,s=t.near*Math.tan(Ap*t.fov*.5)/t.zoom;let a,l;pN.elements[12]=-r,hN.elements[12]=r,a=-s*t.aspect+o,l=s*t.aspect+o,Vh.elements[0]=2*t.near/(l-a),Vh.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Vh),a=-s*t.aspect-o,l=s*t.aspect-o,Vh.elements[0]=2*t.near/(l-a),Vh.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Vh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(pN),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(hN)}}class $k{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=mN(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=mN();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function mN(){return(typeof performance>"u"?Date:performance).now()}const Kh=new X,gN=new Ir,d0e=new X,$h=new X;class f0e extends Dn{constructor(){super(),this.type="AudioListener",this.context=Kk.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $k}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Kh,gN,d0e),$h.set(0,0,-1).applyQuaternion(gN),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Kh.x,r),t.positionY.linearRampToValueAtTime(Kh.y,r),t.positionZ.linearRampToValueAtTime(Kh.z,r),t.forwardX.linearRampToValueAtTime($h.x,r),t.forwardY.linearRampToValueAtTime($h.y,r),t.forwardZ.linearRampToValueAtTime($h.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Kh.x,Kh.y,Kh.z),t.setOrientation($h.x,$h.y,$h.z,i.x,i.y,i.z)}}let ZG=class extends Dn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Jh=new X,vN=new Ir,h0e=new X,qh=new X;class p0e extends ZG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Jh,vN,h0e),qh.set(0,0,1).applyQuaternion(vN);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Jh.x,i),t.positionY.linearRampToValueAtTime(Jh.y,i),t.positionZ.linearRampToValueAtTime(Jh.z,i),t.orientationX.linearRampToValueAtTime(qh.x,i),t.orientationY.linearRampToValueAtTime(qh.y,i),t.orientationZ.linearRampToValueAtTime(qh.z,i)}else t.setPosition(Jh.x,Jh.y,Jh.z),t.setOrientation(qh.x,qh.y,qh.z)}}class m0e{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class e7{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,o,s;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,o=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==r;++a)i[o+a]=i[a];s=t}else{s+=t;const a=t/s;this._mixBufferRegion(i,o,0,a,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-o,t)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let o=i,s=r;o!==s;++o)t[o]=t[r+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,o){if(r>=.5)for(let s=0;s!==o;++s)e[t+s]=e[i+s]}_slerp(e,t,i,r){Ir.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,o){const s=this._workIndex*o;Ir.multiplyQuaternionsFlat(e,s,e,t,e,i),Ir.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,i,r,o){const s=1-r;for(let a=0;a!==o;++a){const l=t+a;e[l]=e[l]*s+e[i+a]*r}}_lerpAdditive(e,t,i,r,o){for(let s=0;s!==o;++s){const a=t+s;e[a]=e[a]+e[i+s]*r}}}const Jk="\\[\\]\\.:\\/",g0e=new RegExp("["+Jk+"]","g"),qk="[^"+Jk+"]",v0e="[^"+Jk.replace("\\.","")+"]",y0e=/((?:WC+[\/:])*)/.source.replace("WC",qk),S0e=/(WCOD+)?/.source.replace("WCOD",v0e),_0e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",qk),x0e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",qk),w0e=new RegExp("^"+y0e+S0e+_0e+x0e+"$"),C0e=["material","materials","bones"];class E0e{constructor(e,t,i){const r=i||Rn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=i.length;r!==o;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Rn{constructor(e,t,i){this.path=t,this.parsedPath=i||Rn.parseTrackName(t),this.node=Rn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Rn.Composite(e,t,i):new Rn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(g0e,"")}static parseTrackName(e){const t=w0e.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=i.nodeName.substring(r+1);C0e.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=Rn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[r];if(s===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rn.Composite=E0e;Rn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rn.prototype.GetterByBindingType=[Rn.prototype._getValue_direct,Rn.prototype._getValue_array,Rn.prototype._getValue_arrayElement,Rn.prototype._getValue_toArray];Rn.prototype.SetterByBindingTypeAndVersioning=[[Rn.prototype._setValue_direct,Rn.prototype._setValue_direct_setNeedsUpdate,Rn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_array,Rn.prototype._setValue_array_setNeedsUpdate,Rn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_arrayElement,Rn.prototype._setValue_arrayElement_setNeedsUpdate,Rn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_fromArray,Rn.prototype._setValue_fromArray_setNeedsUpdate,Rn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class b0e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Da(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,d=arguments.length;c!==d;++c){const m=arguments[c],v=m.uuid;let y=t[v];if(y===void 0){y=l++,t[v]=y,e.push(m);for(let _=0,S=s;_!==S;++_)o[_].push(new Rn(m,i[_],r[_]))}else if(y<u){a=e[y];const _=--u,S=e[_];t[S.uuid]=y,e[y]=S,t[v]=_,e[_]=m;for(let x=0,C=s;x!==C;++x){const b=o[x],M=b[_];let B=b[y];b[y]=M,B===void 0&&(B=new Rn(m,i[x],r[x])),b[_]=B}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],u=l.uuid,c=t[u];if(c!==void 0&&c>=o){const d=o++,m=e[d];t[m.uuid]=c,e[c]=m,t[u]=d,e[d]=l;for(let v=0,y=r;v!==y;++v){const _=i[v],S=_[d],x=_[c];_[c]=S,_[d]=x}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,d=t[c];if(d!==void 0)if(delete t[c],d<o){const m=--o,v=e[m],y=--s,_=e[y];t[v.uuid]=d,e[d]=v,t[_.uuid]=m,e[m]=_,e.pop();for(let S=0,x=r;S!==x;++S){const C=i[S],b=C[m],M=C[y];C[d]=b,C[m]=M,C.pop()}}else{const m=--s,v=e[m];m>0&&(t[v.uuid]=d),e[d]=v,e.pop();for(let y=0,_=r;y!==_;++y){const S=i[y];S[d]=S[m],S.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const o=this._bindings;if(r!==void 0)return o[r];const s=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,d=new Array(u);r=o.length,i[e]=r,s.push(e),a.push(t),o.push(d);for(let m=c,v=l.length;m!==v;++m){const y=l[m];d[m]=new Rn(y,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],u=e[a];t[u]=i,s[i]=l,s.pop(),o[i]=o[a],o.pop(),r[i]=r[a],r.pop()}}}class A0e{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const o=t.tracks,s=o.length,a=new Array(s),l={endingStart:mp,endingEnd:mp};for(let u=0;u!==s;++u){const c=o[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,o=e._clip.duration,s=o/r,a=r/o;e.warp(1,s,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,o=r.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=o,l[1]=o+i,u[0]=e/s,u[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*i;if(l<0||i===0)return;this._startTime=null,t=i*l}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case vk:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(s),u[c].accumulateAdditive(a);break;case bb:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(s),u[c].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,o=this._loopCount;const s=i===iG;if(e===0)return o===-1?r:s&&(o&1)===1?t-r:r;if(i===gk){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(s&&(o&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=gp,r.endingEnd=gp):(e?r.endingStart=this.zeroSlopeAtStart?gp:mp:r.endingStart=l1,t?r.endingEnd=this.zeroSlopeAtEnd?gp:mp:r.endingEnd=l1)}_scheduleFading(e,t,i){const r=this._mixer,o=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=t,a[1]=o+e,l[1]=i,this}}const M0e=new Float32Array(1);class jk extends eh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,o=r.length,s=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let d=0;d!==o;++d){const m=r[d],v=m.name;let y=c[v];if(y!==void 0)++y.referenceCount,s[d]=y;else{if(y=s[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,v));continue}const _=t&&t._propertyBindings[d].binding.parsedPath;y=new e7(Rn.create(i,v,_),m.ValueTypeName,m.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,v),s[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const o=t[i];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const o=t[i];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,o=this._actionsByClip;let s=o[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,m=(e._localRoot||this._root).uuid;delete d[m],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const o=t[i];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,o=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[i]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,o=i.path,s=this._bindingsByRootAndName,a=s[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[o],Object.keys(a).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new zk(new Float32Array(2),new Float32Array(2),1,M0e),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=i,t[i]=o}clipAction(e,t,i){const r=t||this._root,o=r.uuid;let s=typeof e=="string"?Jf.findByName(r,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(s!==null?i=s.blendMode:i=bb),l!==void 0){const d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===i)return d;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const c=new A0e(this,s,t,i);return this._bindAction(c,u),this._addInactiveAction(c,a,o),c}existingAction(e,t){const i=t||this._root,r=i.uuid,o=typeof e=="string"?Jf.findByName(i,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,o=r[i];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const u=s[a];this._deactivateAction(u);const c=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,t[c]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const s in i){const a=i[s].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Xk{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Xk(this.value.clone===void 0?this.value:this.value.clone())}}class T0e extends H1{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class B0e{constructor(e,t,i,r,o){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Qk{constructor(e,t,i=0,r=1/0){this.ray=new O1(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Tp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return UR(e,this,i,t),i.sort(yN),i}intersectObjects(e,t=!0,i=[]){for(let r=0,o=e.length;r<o;r++)UR(e[r],this,i,t);return i.sort(yN),i}}function yN(n,e){return n.distance-e.distance}function UR(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let o=0,s=r.length;o<s;o++)UR(r[o],e,t,!0)}}class R0e{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Sr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class I0e{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const SN=new Qe;class k0e{constructor(e=new Qe(1/0,1/0),t=new Qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=SN.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return SN.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _N=new X,bw=new X;class L0e{constructor(e=new X,t=new X){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){_N.subVectors(e,this.start),bw.subVectors(this.end,this.start);const i=bw.dot(bw);let o=bw.dot(_N)/i;return t&&(o=Sr(o,0,1)),o}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const xN=new X;class F0e extends Dn{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const i=new cn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const u=s/l*Math.PI*2,c=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new Lt(r,3));const o=new Bo({fog:!1,toneMapped:!1});this.cone=new mu(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),xN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(xN),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Zd=new X,Aw=new Pt,WM=new Pt;class D0e extends mu{constructor(e){const t=t7(e),i=new cn,r=[],o=[],s=new vt(0,0,1),a=new vt(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}i.setAttribute("position",new Lt(r,3)),i.setAttribute("color",new Lt(o,3));const l=new Bo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");WM.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<t.length;o++){const a=t[o];a.parent&&a.parent.isBone&&(Aw.multiplyMatrices(WM,a.matrixWorld),Zd.setFromMatrixPosition(Aw),r.setXYZ(s,Zd.x,Zd.y,Zd.z),Aw.multiplyMatrices(WM,a.parent.matrixWorld),Zd.setFromMatrixPosition(Aw),r.setXYZ(s+1,Zd.x,Zd.y,Zd.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function t7(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,t7(n.children[t]));return e}class P0e extends _r{constructor(e,t,i){const r=new jp(t,4,2),o=new ka({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const N0e=new X,wN=new vt,CN=new vt;class O0e extends Dn{constructor(e,t,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const r=new qp(t);r.rotateY(Math.PI*.5),this.material=new ka({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),s=new Float32Array(o.count*3);r.setAttribute("color",new jn(s,3)),this.add(new _r(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");wN.copy(this.light.color),CN.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const o=i<r/2?wN:CN;t.setXYZ(i,o.r,o.g,o.b)}t.needsUpdate=!0}e.lookAt(N0e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class z0e extends mu{constructor(e=10,t=10,i=4473924,r=8947848){i=new vt(i),r=new vt(r);const o=t/2,s=e/t,a=e/2,l=[],u=[];for(let m=0,v=0,y=-a;m<=t;m++,y+=s){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const _=m===o?i:r;_.toArray(u,v),v+=3,_.toArray(u,v),v+=3,_.toArray(u,v),v+=3,_.toArray(u,v),v+=3}const c=new cn;c.setAttribute("position",new Lt(l,3)),c.setAttribute("color",new Lt(u,3));const d=new Bo({vertexColors:!0,toneMapped:!1});super(c,d),this.type="GridHelper"}}class U0e extends mu{constructor(e=10,t=16,i=8,r=64,o=4473924,s=8947848){o=new vt(o),s=new vt(s);const a=[],l=[];for(let d=0;d<=t;d++){const m=d/t*(Math.PI*2),v=Math.sin(m)*e,y=Math.cos(m)*e;a.push(0,0,0),a.push(v,0,y);const _=d&1?o:s;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let d=0;d<=i;d++){const m=d&1?o:s,v=e-e/i*d;for(let y=0;y<r;y++){let _=y/r*(Math.PI*2),S=Math.sin(_)*v,x=Math.cos(_)*v;a.push(S,0,x),l.push(m.r,m.g,m.b),_=(y+1)/r*(Math.PI*2),S=Math.sin(_)*v,x=Math.cos(_)*v,a.push(S,0,x),l.push(m.r,m.g,m.b)}}const u=new cn;u.setAttribute("position",new Lt(a,3)),u.setAttribute("color",new Lt(l,3));const c=new Bo({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}}const EN=new X,Mw=new X,bN=new X;class H0e extends Dn{constructor(e,t,i){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,t===void 0&&(t=1);let r=new cn;r.setAttribute("position",new Lt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Bo({fog:!1,toneMapped:!1});this.lightPlane=new rc(r,o),this.add(this.lightPlane),r=new cn,r.setAttribute("position",new Lt([0,0,0,0,0,1],3)),this.targetLine=new rc(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){EN.setFromMatrixPosition(this.light.matrixWorld),Mw.setFromMatrixPosition(this.light.target.matrixWorld),bN.subVectors(Mw,EN),this.lightPlane.lookAt(Mw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Mw),this.targetLine.scale.z=bN.length()}}const Tw=new X,ir=new z1;class G0e extends mu{constructor(e){const t=new cn,i=new Bo({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,_){l(y),l(_)}function l(y){r.push(0,0,0),o.push(0,0,0),s[y]===void 0&&(s[y]=[]),s[y].push(r.length/3-1)}t.setAttribute("position",new Lt(r,3)),t.setAttribute("color",new Lt(o,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const u=new vt(16755200),c=new vt(16711680),d=new vt(43775),m=new vt(16777215),v=new vt(3355443);this.setColors(u,c,d,m,v)}setColors(e,t,i,r,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;ir.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),mr("c",t,e,ir,0,0,-1),mr("t",t,e,ir,0,0,1),mr("n1",t,e,ir,-i,-r,-1),mr("n2",t,e,ir,i,-r,-1),mr("n3",t,e,ir,-i,r,-1),mr("n4",t,e,ir,i,r,-1),mr("f1",t,e,ir,-i,-r,1),mr("f2",t,e,ir,i,-r,1),mr("f3",t,e,ir,-i,r,1),mr("f4",t,e,ir,i,r,1),mr("u1",t,e,ir,i*.7,r*1.1,-1),mr("u2",t,e,ir,-i*.7,r*1.1,-1),mr("u3",t,e,ir,0,r*2,-1),mr("cf1",t,e,ir,-i,0,1),mr("cf2",t,e,ir,i,0,1),mr("cf3",t,e,ir,0,-r,1),mr("cf4",t,e,ir,0,r,1),mr("cn1",t,e,ir,-i,0,-1),mr("cn2",t,e,ir,i,0,-1),mr("cn3",t,e,ir,0,-r,-1),mr("cn4",t,e,ir,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function mr(n,e,t,i,r,o,s){Tw.set(r,o,s).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],Tw.x,Tw.y,Tw.z)}}const Bw=new th;class W0e extends mu{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new cn;o.setIndex(new jn(i,1)),o.setAttribute("position",new jn(r,3)),super(o,new Bo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Bw.setFromObject(this.object),Bw.isEmpty())return;const t=Bw.min,i=Bw.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=t.x,o[4]=i.y,o[5]=i.z,o[6]=t.x,o[7]=t.y,o[8]=i.z,o[9]=i.x,o[10]=t.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=t.z,o[15]=t.x,o[16]=i.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=i.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}}class V0e extends mu{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new cn;o.setIndex(new jn(i,1)),o.setAttribute("position",new Lt(r,3)),super(o,new Bo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class K0e extends rc{constructor(e,t=1,i=16776960){const r=i,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new cn;s.setAttribute("position",new Lt(o,3)),s.computeBoundingSphere(),super(s,new Bo({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new cn;l.setAttribute("position",new Lt(a,3)),l.computeBoundingSphere(),this.add(new _r(l,new ka({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Fa:zf,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const AN=new X;let Rw,VM;class $0e extends Dn{constructor(e=new X(0,0,1),t=new X(0,0,0),i=1,r=16776960,o=i*.2,s=o*.2){super(),this.type="ArrowHelper",Rw===void 0&&(Rw=new cn,Rw.setAttribute("position",new Lt([0,0,0,0,1,0],3)),VM=new Vf(0,.5,1,5,1),VM.translate(0,-.5,0)),this.position.copy(t),this.line=new rc(Rw,new Bo({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new _r(VM,new ka({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{AN.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(AN,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class J0e extends mu{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new cn;r.setAttribute("position",new Lt(t,3)),r.setAttribute("color",new Lt(i,3));const o=new Bo({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,i){const r=new vt,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(i),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class q0e{constructor(){this.type="ShapePath",this.color=new vt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new f1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,o,s){return this.currentPath.bezierCurveTo(e,t,i,r,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function i(C){const b=[];for(let M=0,B=C.length;M<B;M++){const k=C[M],F=new Bp;F.curves=k.curves,b.push(F)}return b}function r(C,b){const M=b.length;let B=!1;for(let k=M-1,F=0;F<M;k=F++){let R=b[k],N=b[F],U=N.x-R.x,G=N.y-R.y;if(Math.abs(G)>Number.EPSILON){if(G<0&&(R=b[F],U=-U,N=b[k],G=-G),C.y<R.y||C.y>N.y)continue;if(C.y===R.y){if(C.x===R.x)return!0}else{const oe=G*(C.x-R.x)-U*(C.y-R.y);if(oe===0)return!0;if(oe<0)continue;B=!B}}else{if(C.y!==R.y)continue;if(N.x<=C.x&&C.x<=R.x||R.x<=C.x&&C.x<=N.x)return!0}}return B}const o=Zu.isClockWise,s=this.subPaths;if(s.length===0)return[];if(t===!0)return i(s);let a,l,u;const c=[];if(s.length===1)return l=s[0],u=new Bp,u.curves=l.curves,c.push(u),c;let d=!o(s[0].getPoints());d=e?!d:d;const m=[],v=[];let y=[],_=0,S;v[_]=void 0,y[_]=[];for(let C=0,b=s.length;C<b;C++)l=s[C],S=l.getPoints(),a=o(S),a=e?!a:a,a?(!d&&v[_]&&_++,v[_]={s:new Bp,p:S},v[_].s.curves=l.curves,d&&_++,y[_]=[]):y[_].push({h:l,p:S[0]});if(!v[0])return i(s);if(v.length>1){let C=!1,b=0;for(let M=0,B=v.length;M<B;M++)m[M]=[];for(let M=0,B=v.length;M<B;M++){const k=y[M];for(let F=0;F<k.length;F++){const R=k[F];let N=!0;for(let U=0;U<v.length;U++)r(R.p,v[U].p)&&(M!==U&&b++,N?(N=!1,m[U].push(R)):C=!0);N&&m[M].push(R)}}b>0&&C===!1&&(y=m)}let x;for(let C=0,b=v.length;C<b;C++){u=v[C].s,c.push(u),x=y[C];for(let M=0,B=x.length;M<B;M++)u.holes.push(x[M].h)}return c}}const{floatView:n7,uint32View:i7,baseTable:j0e,shiftTable:X0e,mantissaTable:Q0e,exponentTable:Y0e,offsetTable:Z0e}=eye();function eye(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,o[l]=u|c}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:s,offsetTable:a}}function tye(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Sr(n,-65504,65504),n7[0]=n;const e=i7[0],t=e>>23&511;return j0e[t]+((e&8388607)>>X0e[t])}function nye(n){const e=n>>10;return i7[0]=Q0e[Z0e[e]+(n&1023)]+Y0e[e],n7[0]}var yp=Object.freeze({__proto__:null,toHalfFloat:tye,fromHalfFloat:nye});class iye extends cn{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class rye extends cn{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function oye(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function sye(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function aye(){console.error("THREE.ImmediateRenderObject has been removed.")}class lye extends Oa{constructor(e,t,i){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,i),this.samples=4}}class uye extends N1{constructor(e,t,i,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,i,r)}}class cye extends Ab{constructor(e,t,i,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:D1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=D1);const dye=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:hk,AddEquation:op,AddOperation:NH,AdditiveAnimationBlendMode:vk,AdditiveBlending:aR,AlphaFormat:JH,AlwaysDepth:RH,AlwaysStencilFunc:lG,AmbientLight:Vk,AmbientLightProbe:u0e,AnimationClip:Jf,AnimationLoader:e0e,AnimationMixer:jk,AnimationObjectGroup:b0e,AnimationUtils:bi,ArcCurve:MG,ArrayCamera:xG,ArrowHelper:$0e,Audio:ZG,AudioAnalyser:m0e,AudioContext:Kk,AudioListener:f0e,AudioLoader:a0e,AxesHelper:J0e,BackSide:Fa,BasicDepthPacking:oG,BasicShadowMap:mH,Bone:Av,BooleanKeyframeTrack:rm,Box2:k0e,Box3:th,Box3Helper:V0e,BoxBufferGeometry:od,BoxGeometry:od,BoxHelper:W0e,BufferAttribute:jn,BufferGeometry:cn,BufferGeometryLoader:QG,ByteType:GH,Cache:Qp,Camera:z1,CameraHelper:G0e,CanvasTexture:Eve,CapsuleBufferGeometry:Tv,CapsuleGeometry:Tv,CatmullRomCurve3:TG,CineonToneMapping:UH,CircleBufferGeometry:Bv,CircleGeometry:Bv,ClampToEdgeWrapping:lo,Clock:$k,Color:vt,ColorKeyframeTrack:Uk,ColorManagement:il,CompressedTexture:AG,CompressedTextureLoader:t0e,ConeBufferGeometry:Rv,ConeGeometry:Rv,CubeCamera:hG,CubeReflectionMapping:id,CubeRefractionMapping:Uf,CubeTexture:U1,CubeTextureLoader:$G,CubeUVReflectionMapping:Yv,CubicBezierCurve:Lk,CubicBezierCurve3:BG,CubicInterpolant:WG,CullFaceBack:sR,CullFaceFront:pH,CullFaceFrontBack:Lde,CullFaceNone:hH,Curve:Al,CurvePath:IG,CustomBlending:vH,CustomToneMapping:HH,CylinderBufferGeometry:Vf,CylinderGeometry:Vf,Cylindrical:I0e,Data3DTexture:Ab,DataArrayTexture:N1,DataTexture:rv,DataTexture2DArray:uye,DataTexture3D:cye,DataTextureLoader:Gk,DataUtils:yp,DecrementStencilOp:Wde,DecrementWrapStencilOp:Kde,DefaultLoadingManager:Vg,DepthFormat:Pf,DepthStencilFormat:Vp,DepthTexture:Ak,DirectionalLight:Ob,DirectionalLightHelper:H0e,DiscreteInterpolant:VG,DodecahedronBufferGeometry:Iv,DodecahedronGeometry:Iv,DoubleSide:nd,DstAlphaFactor:EH,DstColorFactor:AH,DynamicCopyUsage:sfe,DynamicDrawUsage:efe,DynamicReadUsage:ife,EdgesGeometry:kG,EllipseCurve:Fb,EqualDepth:kH,EqualStencilFunc:jde,EquirectangularReflectionMapping:Wp,EquirectangularRefractionMapping:o1,Euler:ru,EventDispatcher:eh,ExtrudeBufferGeometry:kv,ExtrudeGeometry:kv,FileLoader:js,FlatShading:gH,Float16BufferAttribute:Gfe,Float32BufferAttribute:Lt,Float64BufferAttribute:Wfe,FloatType:Vo,Fog:Ib,FogExp2:Rb,Font:sye,FontLoader:oye,FramebufferTexture:Cve,FrontSide:zf,Frustum:Tb,GLBufferAttribute:B0e,GLSL1:lfe,GLSL3:LR,GreaterDepth:FH,GreaterEqualDepth:LH,GreaterEqualStencilFunc:Zde,GreaterStencilFunc:Qde,GridHelper:z0e,Group:ou,HalfFloatType:Ko,HemisphereLight:JG,HemisphereLightHelper:O0e,HemisphereLightProbe:l0e,IcosahedronBufferGeometry:Jp,IcosahedronGeometry:Jp,ImageBitmapLoader:YG,ImageLoader:g1,ImageUtils:_k,ImmediateRenderObject:aye,IncrementStencilOp:Gde,IncrementWrapStencilOp:Vde,InstancedBufferAttribute:Mv,InstancedBufferGeometry:XG,InstancedInterleavedBuffer:T0e,InstancedMesh:Bk,Int16BufferAttribute:Ufe,Int32BufferAttribute:Hfe,Int8BufferAttribute:Nfe,IntType:VH,InterleavedBuffer:H1,InterleavedBufferAttribute:Wf,Interpolant:t0,InterpolateDiscrete:Ev,InterpolateLinear:Kp,InterpolateSmooth:yC,InvertStencilOp:$de,KeepStencilOp:SC,KeyframeTrack:gu,LOD:bG,LatheBufferGeometry:$p,LatheGeometry:$p,Layers:Tp,LessDepth:IH,LessEqualDepth:AE,LessEqualStencilFunc:Xde,LessStencilFunc:qde,Light:ih,LightProbe:zb,Line:rc,Line3:L0e,LineBasicMaterial:Bo,LineCurve:Db,LineCurve3:RG,LineDashedMaterial:GG,LineLoop:Rk,LineSegments:mu,LinearEncoding:Hf,LinearFilter:oi,LinearInterpolant:zk,LinearMipMapLinearFilter:Ode,LinearMipMapNearestFilter:Nde,LinearMipmapLinearFilter:cd,LinearMipmapNearestFilter:Eb,LinearSRGBColorSpace:Ef,LinearToneMapping:OH,Loader:jo,LoaderUtils:Pa,LoadingManager:Hk,LoopOnce:gk,LoopPingPong:iG,LoopRepeat:nG,LuminanceAlphaFormat:XH,LuminanceFormat:jH,MOUSE:Ide,Material:kr,MaterialLoader:Ub,MathUtils:dl,Matrix3:ps,Matrix4:Pt,MaxEquation:dR,Mesh:_r,MeshBasicMaterial:ka,MeshDepthMaterial:Ek,MeshDistanceMaterial:bk,MeshLambertMaterial:Ok,MeshMatcapMaterial:HG,MeshNormalMaterial:UG,MeshPhongMaterial:hS,MeshPhysicalMaterial:ac,MeshStandardMaterial:G1,MeshToonMaterial:zG,MinEquation:cR,MirroredRepeatWrapping:Cv,MixOperation:PH,MultiplyBlending:uR,MultiplyOperation:P1,NearestFilter:yr,NearestMipMapLinearFilter:Pde,NearestMipMapNearestFilter:Dde,NearestMipmapLinearFilter:a1,NearestMipmapNearestFilter:s1,NeverDepth:BH,NeverStencilFunc:Jde,NoBlending:$c,NoColorSpace:zde,NoToneMapping:uu,NormalAnimationBlendMode:bb,NormalBlending:Ep,NotEqualDepth:DH,NotEqualStencilFunc:Yde,NumberKeyframeTrack:$f,Object3D:Dn,ObjectLoader:o0e,ObjectSpaceNormalMap:aG,OctahedronBufferGeometry:qp,OctahedronGeometry:qp,OneFactor:xH,OneMinusDstAlphaFactor:bH,OneMinusDstColorFactor:MH,OneMinusSrcAlphaFactor:fk,OneMinusSrcColorFactor:CH,OrthographicCamera:im,PCFShadowMap:wb,PCFSoftShadowMap:uS,PMREMGenerator:DR,ParametricGeometry:iye,Path:f1,PerspectiveCamera:Br,Plane:cf,PlaneBufferGeometry:Gf,PlaneGeometry:Gf,PlaneHelper:K0e,PointLight:v1,PointLightHelper:P0e,Points:Ik,PointsMaterial:Lb,PolarGridHelper:U0e,PolyhedronBufferGeometry:oc,PolyhedronGeometry:oc,PositionalAudio:p0e,PropertyBinding:Rn,PropertyMixer:e7,QuadraticBezierCurve:Fk,QuadraticBezierCurve3:Dk,Quaternion:Ir,QuaternionKeyframeTrack:sd,QuaternionLinearInterpolant:KG,REVISION:D1,RGBADepthPacking:sG,RGBAFormat:Vs,RGBAIntegerFormat:eG,RGBA_ASTC_10x10_Format:BR,RGBA_ASTC_10x5_Format:AR,RGBA_ASTC_10x6_Format:MR,RGBA_ASTC_10x8_Format:TR,RGBA_ASTC_12x10_Format:RR,RGBA_ASTC_12x12_Format:IR,RGBA_ASTC_4x4_Format:yR,RGBA_ASTC_5x4_Format:SR,RGBA_ASTC_5x5_Format:_R,RGBA_ASTC_6x5_Format:xR,RGBA_ASTC_6x6_Format:wR,RGBA_ASTC_8x5_Format:CR,RGBA_ASTC_8x6_Format:ER,RGBA_ASTC_8x8_Format:bR,RGBA_BPTC_Format:kR,RGBA_ETC2_EAC_Format:vR,RGBA_PVRTC_2BPPV1_Format:mR,RGBA_PVRTC_4BPPV1_Format:pR,RGBA_S3TC_DXT1_Format:mC,RGBA_S3TC_DXT3_Format:gC,RGBA_S3TC_DXT5_Format:vC,RGBFormat:qH,RGB_ETC1_Format:tG,RGB_ETC2_Format:gR,RGB_PVRTC_2BPPV1_Format:hR,RGB_PVRTC_4BPPV1_Format:fR,RGB_S3TC_DXT1_Format:pC,RGFormat:YH,RGIntegerFormat:ZH,RawShaderMaterial:OG,Ray:O1,Raycaster:Qk,RectAreaLight:qG,RedFormat:mk,RedIntegerFormat:QH,ReinhardToneMapping:zH,RepeatWrapping:ic,ReplaceStencilOp:Hde,ReverseSubtractEquation:SH,RingBufferGeometry:Lv,RingGeometry:Lv,SRGBColorSpace:Wu,Scene:d1,ShaderChunk:Bn,ShaderLib:nu,ShaderMaterial:hu,ShadowMaterial:NG,Shape:Bp,ShapeBufferGeometry:Fv,ShapeGeometry:Fv,ShapePath:q0e,ShapeUtils:Zu,ShortType:WH,Skeleton:e0,SkeletonHelper:D0e,SkinnedMesh:kb,SmoothShading:Fde,Source:vp,Sphere:nh,SphereBufferGeometry:jp,SphereGeometry:jp,Spherical:R0e,SphericalHarmonics3:jG,SplineCurve:Pk,SpotLight:Nb,SpotLightHelper:F0e,Sprite:EG,SpriteMaterial:Tk,SrcAlphaFactor:dk,SrcAlphaSaturateFactor:TH,SrcColorFactor:wH,StaticCopyUsage:ofe,StaticDrawUsage:TE,StaticReadUsage:nfe,StereoCamera:c0e,StreamCopyUsage:afe,StreamDrawUsage:tfe,StreamReadUsage:rfe,StringKeyframeTrack:om,SubtractEquation:yH,SubtractiveBlending:lR,TOUCH:kde,TangentSpaceNormalMap:nm,TetrahedronBufferGeometry:Dv,TetrahedronGeometry:Dv,TextGeometry:rye,Texture:Ri,TextureLoader:n0,TorusBufferGeometry:Pv,TorusGeometry:Pv,TorusKnotBufferGeometry:Nv,TorusKnotGeometry:Nv,Triangle:fl,TriangleFanDrawMode:ME,TriangleStripDrawMode:yk,TrianglesDrawMode:rG,TubeBufferGeometry:Ov,TubeGeometry:Ov,UVMapping:Cb,Uint16BufferAttribute:Mb,Uint32BufferAttribute:xk,Uint8BufferAttribute:Ofe,Uint8ClampedBufferAttribute:zfe,Uniform:Xk,UniformsLib:Ct,UniformsUtils:fG,UnsignedByteType:rd,UnsignedInt248Type:bp,UnsignedIntType:Cf,UnsignedShort4444Type:KH,UnsignedShort5551Type:$H,UnsignedShortType:pk,VSMShadowMap:pp,Vector2:Qe,Vector3:X,Vector4:Kn,VectorKeyframeTrack:Xp,VideoTexture:wve,WebGL1Renderer:wG,WebGL3DRenderTarget:Mfe,WebGLArrayRenderTarget:Afe,WebGLCubeRenderTarget:wk,WebGLMultipleRenderTargets:Tfe,WebGLMultisampleRenderTarget:lye,WebGLRenderTarget:Oa,WebGLRenderer:Mk,WebGLUtils:_G,WireframeGeometry:PG,WrapAroundEnding:l1,ZeroCurvatureEnding:mp,ZeroFactor:_H,ZeroSlopeEnding:gp,ZeroStencilOp:Ude,_SRGBAFormat:BE,sRGBEncoding:Ui},Symbol.toStringTag,{value:"Module"}));var r7={exports:{}},sm={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */sm.ConcurrentRoot=1;sm.ContinuousEventPriority=4;sm.DefaultEventPriority=16;sm.DiscreteEventPriority=1;sm.IdleEventPriority=536870912;sm.LegacyRoot=0;r7.exports=sm;var Kg=r7.exports;function fye(n){let e;const t=new Set,i=(u,c)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const m=e;e=c?d:Object.assign({},e,d),t.forEach(v=>v(e,m))}},r=()=>e,o=(u,c=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=c(e);function v(){const y=c(e);if(!d(m,y)){const _=m;u(m=y,_)}}return t.add(v),()=>t.delete(v)},l={setState:i,getState:r,subscribe:(u,c,d)=>c||d?o(u,c,d):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const hye=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),MN=hye?T.useEffect:T.useLayoutEffect;function Yk(n){const e=typeof n=="function"?fye(n):n,t=(i=e.getState,r=Object.is)=>{const[,o]=T.useReducer(S=>S+1,0),s=e.getState(),a=T.useRef(s),l=T.useRef(i),u=T.useRef(r),c=T.useRef(!1),d=T.useRef();d.current===void 0&&(d.current=i(s));let m,v=!1;(a.current!==s||l.current!==i||u.current!==r||c.current)&&(m=i(s),v=!r(d.current,m)),MN(()=>{v&&(d.current=m),a.current=s,l.current=i,u.current=r,c.current=!1});const y=T.useRef(s);MN(()=>{const S=()=>{try{const C=e.getState(),b=l.current(C);u.current(d.current,b)||(a.current=C,d.current=b,o())}catch{c.current=!0,o()}},x=e.subscribe(S);return e.getState()!==y.current&&S(),x},[]);const _=v?m:d.current;return T.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var o7={exports:{}},KM={exports:{}},$M={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TN;function pye(){return TN||(TN=1,function(n){function e(O,V){var $=O.length;O.push(V);e:for(;0<$;){var ie=$-1>>>1,ae=O[ie];if(0<r(ae,V))O[ie]=V,O[$]=ae,$=ie;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var V=O[0],$=O.pop();if($!==V){O[0]=$;e:for(var ie=0,ae=O.length,Ce=ae>>>1;ie<Ce;){var Fe=2*(ie+1)-1,Ne=O[Fe],he=Fe+1,mt=O[he];if(0>r(Ne,$))he<ae&&0>r(mt,Ne)?(O[ie]=mt,O[he]=$,ie=he):(O[ie]=Ne,O[Fe]=$,ie=Fe);else if(he<ae&&0>r(mt,$))O[ie]=mt,O[he]=$,ie=he;else break e}}return V}function r(O,V){var $=O.sortIndex-V.sortIndex;return $!==0?$:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,m=3,v=!1,y=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var V=t(u);V!==null;){if(V.callback===null)i(u);else if(V.startTime<=O)i(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(u)}}function M(O){if(_=!1,b(O),!y)if(t(l)!==null)y=!0,te(B);else{var V=t(u);V!==null&&de(M,V.startTime-O)}}function B(O,V){y=!1,_&&(_=!1,x(R),R=-1),v=!0;var $=m;try{for(b(V),d=t(l);d!==null&&(!(d.expirationTime>V)||O&&!G());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,m=d.priorityLevel;var ae=ie(d.expirationTime<=V);V=n.unstable_now(),typeof ae=="function"?d.callback=ae:d===t(l)&&i(l),b(V)}else i(l);d=t(l)}if(d!==null)var Ce=!0;else{var Fe=t(u);Fe!==null&&de(M,Fe.startTime-V),Ce=!1}return Ce}finally{d=null,m=$,v=!1}}var k=!1,F=null,R=-1,N=5,U=-1;function G(){return!(n.unstable_now()-U<N)}function oe(){if(F!==null){var O=n.unstable_now();U=O;var V=!0;try{V=F(!0,O)}finally{V?me():(k=!1,F=null)}}else k=!1}var me;if(typeof C=="function")me=function(){C(oe)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ne=j.port2;j.port1.onmessage=oe,me=function(){ne.postMessage(null)}}else me=function(){S(oe,0)};function te(O){F=O,k||(k=!0,me())}function de(O,V){R=S(function(){O(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,te(B))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var $=m;m=V;try{return O()}finally{m=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=m;m=O;try{return V()}finally{m=$}},n.unstable_scheduleCallback=function(O,V,$){var ie=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ie+$:ie):$=ie,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=$+ae,O={id:c++,callback:V,priorityLevel:O,startTime:$,expirationTime:ae,sortIndex:-1},$>ie?(O.sortIndex=$,e(u,O),t(l)===null&&O===t(u)&&(_?(x(R),R=-1):_=!0,de(M,$-ie))):(O.sortIndex=ae,e(l,O),y||v||(y=!0,te(B))),O},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(O){var V=m;return function(){var $=m;m=V;try{return O.apply(this,arguments)}finally{m=$}}}}($M)),$M}var BN;function mye(){return BN||(BN=1,KM.exports=pye()),KM.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gye=function(e){var t={},i=T,r=mye(),o=Object.assign;function s(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),B=Symbol.iterator;function k(h){return h===null||typeof h!="object"?null:(h=B&&h[B]||h["@@iterator"],typeof h=="function"?h:null)}function F(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case m:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case y:return(h.displayName||"Context")+".Consumer";case v:return(h._context.displayName||"Context")+".Provider";case _:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case C:return p=h.displayName||null,p!==null?p:F(h.type)||"Memo";case b:p=h._payload,h=h._init;try{return F(h(p))}catch{}}return null}function R(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(p);case 8:return p===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function N(h){var p=h,w=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(w=p.return),h=p.return;while(h)}return p.tag===3?w:null}function U(h){if(N(h)!==h)throw Error(s(188))}function G(h){var p=h.alternate;if(!p){if(p=N(h),p===null)throw Error(s(188));return p!==h?null:h}for(var w=h,A=p;;){var I=w.return;if(I===null)break;var P=I.alternate;if(P===null){if(A=I.return,A!==null){w=A;continue}break}if(I.child===P.child){for(P=I.child;P;){if(P===w)return U(I),h;if(P===A)return U(I),p;P=P.sibling}throw Error(s(188))}if(w.return!==A.return)w=I,A=P;else{for(var ee=!1,Se=I.child;Se;){if(Se===w){ee=!0,w=I,A=P;break}if(Se===A){ee=!0,A=I,w=P;break}Se=Se.sibling}if(!ee){for(Se=P.child;Se;){if(Se===w){ee=!0,w=P,A=I;break}if(Se===A){ee=!0,A=P,w=I;break}Se=Se.sibling}if(!ee)throw Error(s(189))}}if(w.alternate!==A)throw Error(s(190))}if(w.tag!==3)throw Error(s(188));return w.stateNode.current===w?h:p}function oe(h){return h=G(h),h!==null?me(h):null}function me(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=me(h);if(p!==null)return p;h=h.sibling}return null}function j(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=j(h);if(p!==null)return p}h=h.sibling}return null}var ne=Array.isArray,te=e.getPublicInstance,de=e.getRootHostContext,O=e.getChildHostContext,V=e.prepareForCommit,$=e.resetAfterCommit,ie=e.createInstance,ae=e.appendInitialChild,Ce=e.finalizeInitialChildren,Fe=e.prepareUpdate,Ne=e.shouldSetTextContent,he=e.createTextInstance,mt=e.scheduleTimeout,ft=e.cancelTimeout,_t=e.noTimeout,Ke=e.isPrimaryRenderer,ct=e.supportsMutation,De=e.supportsPersistence,Ae=e.supportsHydration,je=e.getInstanceFromNode,Ye=e.preparePortalMount,rt=e.getCurrentEventPriority,St=e.detachDeletedInstance,It=e.supportsMicrotasks,Rt=e.scheduleMicrotask,qt=e.supportsTestSelectors,Kt=e.findFiberRoot,Z=e.getBoundingRect,q=e.getTextContent,Me=e.isHiddenSubtree,Je=e.matchAccessibilityRole,it=e.setFocusIfFocusable,ot=e.setupIntersectionObserver,Nt=e.appendChild,Te=e.appendChildToContainer,Mt=e.commitTextUpdate,gt=e.commitMount,pt=e.commitUpdate,re=e.insertBefore,Be=e.insertInContainerBefore,et=e.removeChild,Ve=e.removeChildFromContainer,Re=e.resetTextContent,st=e.hideInstance,Ze=e.hideTextInstance,He=e.unhideInstance,Ot=e.unhideTextInstance,tn=e.clearContainer,ai=e.cloneInstance,ji=e.createContainerChildSet,Ro=e.appendChildToContainerChildSet,Fr=e.finalizeContainerChildren,fo=e.replaceContainerChildren,Qs=e.cloneHiddenInstance,ho=e.cloneHiddenTextInstance,bs=e.canHydrateInstance,As=e.canHydrateTextInstance,Dr=e.canHydrateSuspenseInstance,lr=e.isSuspenseInstancePending,Q=e.isSuspenseInstanceFallback,Ee=e.registerSuspenseInstanceRetry,Ie=e.getNextHydratableSibling,_e=e.getFirstHydratableChild,ge=e.getFirstHydratableChildWithinContainer,at=e.getFirstHydratableChildWithinSuspenseInstance,D=e.hydrateInstance,H=e.hydrateTextInstance,Y=e.hydrateSuspenseInstance,ve=e.getNextHydratableInstanceAfterSuspenseInstance,se=e.commitHydratedContainer,W=e.commitHydratedSuspenseInstance,ce=e.clearSuspenseBoundary,ye=e.clearSuspenseBoundaryFromContainer,ze=e.shouldDeleteUnhydratedTailInstances,We=e.didNotMatchHydratedContainerTextInstance,Xe=e.didNotMatchHydratedTextInstance,ke;function Ut(h){if(ke===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);ke=p&&p[1]||""}return`
`+ke+h}var tt=!1;function xt(h,p){if(!h||tt)return"";tt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(lt){var A=lt}Reflect.construct(h,[],p)}else{try{p.call()}catch(lt){A=lt}h.call(p.prototype)}else{try{throw Error()}catch(lt){A=lt}h()}}catch(lt){if(lt&&A&&typeof lt.stack=="string"){for(var I=lt.stack.split(`
`),P=A.stack.split(`
`),ee=I.length-1,Se=P.length-1;1<=ee&&0<=Se&&I[ee]!==P[Se];)Se--;for(;1<=ee&&0<=Se;ee--,Se--)if(I[ee]!==P[Se]){if(ee!==1||Se!==1)do if(ee--,Se--,0>Se||I[ee]!==P[Se]){var Oe=`
`+I[ee].replace(" at new "," at ");return h.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",h.displayName)),Oe}while(1<=ee&&0<=Se);break}}}finally{tt=!1,Error.prepareStackTrace=w}return(h=h?h.displayName||h.name:"")?Ut(h):""}var zt=Object.prototype.hasOwnProperty,jt=[],mn=-1;function Yt(h){return{current:h}}function Zt(h){0>mn||(h.current=jt[mn],jt[mn]=null,mn--)}function ln(h,p){mn++,jt[mn]=h.current,h.current=p}var un={},Qn=Yt(un),gn=Yt(!1),ni=un;function wr(h,p){var w=h.type.contextTypes;if(!w)return un;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var I={},P;for(P in w)I[P]=p[P];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=I),I}function Xi(h){return h=h.childContextTypes,h!=null}function Cr(){Zt(gn),Zt(Qn)}function Nn(h,p,w){if(Qn.current!==un)throw Error(s(168));ln(Qn,p),ln(gn,w)}function Qi(h,p,w){var A=h.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var I in A)if(!(I in p))throw Error(s(108,R(h)||"Unknown",I));return o({},w,A)}function Xn(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||un,ni=Qn.current,ln(Qn,h),ln(gn,gn.current),!0}function On(h,p,w){var A=h.stateNode;if(!A)throw Error(s(169));w?(h=Qi(h,p,ni),A.__reactInternalMemoizedMergedChildContext=h,Zt(gn),Zt(Qn),ln(Qn,h)):Zt(gn),ln(gn,w)}var ci=Math.clz32?Math.clz32:Zs,Ys=Math.log,po=Math.LN2;function Zs(h){return h>>>=0,h===0?32:31-(Ys(h)/po|0)|0}var dd=64,fd=4194304;function Ha(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function rh(h,p){var w=h.pendingLanes;if(w===0)return 0;var A=0,I=h.suspendedLanes,P=h.pingedLanes,ee=w&268435455;if(ee!==0){var Se=ee&~I;Se!==0?A=Ha(Se):(P&=ee,P!==0&&(A=Ha(P)))}else ee=w&~I,ee!==0?A=Ha(ee):P!==0&&(A=Ha(P));if(A===0)return 0;if(p!==0&&p!==A&&!(p&I)&&(I=A&-A,P=p&-p,I>=P||I===16&&(P&4194240)!==0))return p;if(A&4&&(A|=w&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=A;0<p;)w=31-ci(p),I=1<<w,A|=h[w],p&=~I;return A}function K1(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gb(h,p){for(var w=h.suspendedLanes,A=h.pingedLanes,I=h.expirationTimes,P=h.pendingLanes;0<P;){var ee=31-ci(P),Se=1<<ee,Oe=I[ee];Oe===-1?(!(Se&w)||Se&A)&&(I[ee]=K1(Se,p)):Oe<=p&&(h.expiredLanes|=Se),P&=~Se}}function am(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function lm(h){for(var p=[],w=0;31>w;w++)p.push(h);return p}function hd(h,p,w){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-ci(p),h[p]=w}function $1(h,p){var w=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<w;){var I=31-ci(w),P=1<<I;p[I]=0,A[I]=-1,h[I]=-1,w&=~P}}function i0(h,p){var w=h.entangledLanes|=p;for(h=h.entanglements;w;){var A=31-ci(w),I=1<<A;I&p|h[A]&p&&(h[A]|=p),w&=~I}}var Wn=0;function J1(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var um=r.unstable_scheduleCallback,q1=r.unstable_cancelCallback,Wb=r.unstable_shouldYield,Vb=r.unstable_requestPaint,Er=r.unstable_now,oh=r.unstable_ImmediatePriority,Kb=r.unstable_UserBlockingPriority,r0=r.unstable_NormalPriority,$b=r.unstable_IdlePriority,cm=null,Ga=null;function di(h){if(Ga&&typeof Ga.onCommitFiberRoot=="function")try{Ga.onCommitFiberRoot(cm,h,void 0,(h.current.flags&128)===128)}catch{}}function li(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Wa=typeof Object.is=="function"?Object.is:li,Tl=null,dm=!1,o0=!1;function j1(h){Tl===null?Tl=[h]:Tl.push(h)}function Jb(h){dm=!0,j1(h)}function ea(){if(!o0&&Tl!==null){o0=!0;var h=0,p=Wn;try{var w=Tl;for(Wn=1;h<w.length;h++){var A=w[h];do A=A(!0);while(A!==null)}Tl=null,dm=!1}catch(I){throw Tl!==null&&(Tl=Tl.slice(h+1)),um(oh,ea),I}finally{Wn=p,o0=!1}}return null}var qb=a.ReactCurrentBatchConfig;function Yi(h,p){if(Wa(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var w=Object.keys(h),A=Object.keys(p);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var I=w[A];if(!zt.call(p,I)||!Wa(h[I],p[I]))return!1}return!0}function s0(h){switch(h.tag){case 5:return Ut(h.type);case 16:return Ut("Lazy");case 13:return Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 2:case 15:return h=xt(h.type,!1),h;case 11:return h=xt(h.type.render,!1),h;case 1:return h=xt(h.type,!0),h;default:return""}}function Pr(h,p){if(h&&h.defaultProps){p=o({},p),h=h.defaultProps;for(var w in h)p[w]===void 0&&(p[w]=h[w]);return p}return p}var sh=Yt(null),pd=null,Nr=null,fm=null;function hm(){fm=Nr=pd=null}function a0(h,p,w){Ke?(ln(sh,p._currentValue),p._currentValue=w):(ln(sh,p._currentValue2),p._currentValue2=w)}function pm(h){var p=sh.current;Zt(sh),Ke?h._currentValue=p:h._currentValue2=p}function mm(h,p,w){for(;h!==null;){var A=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),h===w)break;h=h.return}}function lc(h,p){pd=h,fm=Nr=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(Qo=!0),h.firstContext=null)}function gi(h){var p=Ke?h._currentValue:h._currentValue2;if(fm!==h)if(h={context:h,memoizedValue:p,next:null},Nr===null){if(pd===null)throw Error(s(308));Nr=h,pd.dependencies={lanes:0,firstContext:h}}else Nr=Nr.next=h;return p}var Va=null,ur=!1;function l0(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u0(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Kr(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function ta(h,p){var w=h.updateQueue;w!==null&&(w=w.shared,Zi!==null&&h.mode&1&&!(Sn&2)?(h=w.interleaved,h===null?(p.next=p,Va===null?Va=[w]:Va.push(w)):(p.next=h.next,h.next=p),w.interleaved=p):(h=w.pending,h===null?p.next=p:(p.next=h.next,h.next=p),w.pending=p))}function md(h,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var A=p.lanes;A&=h.pendingLanes,w|=A,p.lanes=w,i0(h,w)}}function fi(h,p){var w=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var I=null,P=null;if(w=w.firstBaseUpdate,w!==null){do{var ee={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};P===null?I=P=ee:P=P.next=ee,w=w.next}while(w!==null);P===null?I=P=p:P=P.next=p}else I=P=p;w={baseState:A.baseState,firstBaseUpdate:I,lastBaseUpdate:P,shared:A.shared,effects:A.effects},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=p:h.next=p,w.lastBaseUpdate=p}function na(h,p,w,A){var I=h.updateQueue;ur=!1;var P=I.firstBaseUpdate,ee=I.lastBaseUpdate,Se=I.shared.pending;if(Se!==null){I.shared.pending=null;var Oe=Se,lt=Oe.next;Oe.next=null,ee===null?P=lt:ee.next=lt,ee=Oe;var kt=h.alternate;kt!==null&&(kt=kt.updateQueue,Se=kt.lastBaseUpdate,Se!==ee&&(Se===null?kt.firstBaseUpdate=lt:Se.next=lt,kt.lastBaseUpdate=Oe))}if(P!==null){var dn=I.baseState;ee=0,kt=lt=Oe=null,Se=P;do{var $t=Se.lane,Yn=Se.eventTime;if((A&$t)===$t){kt!==null&&(kt=kt.next={eventTime:Yn,lane:0,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null});e:{var Ht=h,Zr=Se;switch($t=p,Yn=w,Zr.tag){case 1:if(Ht=Zr.payload,typeof Ht=="function"){dn=Ht.call(Yn,dn,$t);break e}dn=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Zr.payload,$t=typeof Ht=="function"?Ht.call(Yn,dn,$t):Ht,$t==null)break e;dn=o({},dn,$t);break e;case 2:ur=!0}}Se.callback!==null&&Se.lane!==0&&(h.flags|=64,$t=I.effects,$t===null?I.effects=[Se]:$t.push(Se))}else Yn={eventTime:Yn,lane:$t,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},kt===null?(lt=kt=Yn,Oe=dn):kt=kt.next=Yn,ee|=$t;if(Se=Se.next,Se===null){if(Se=I.shared.pending,Se===null)break;$t=Se,Se=$t.next,$t.next=null,I.lastBaseUpdate=$t,I.shared.pending=null}}while(1);if(kt===null&&(Oe=dn),I.baseState=Oe,I.firstBaseUpdate=lt,I.lastBaseUpdate=kt,p=I.shared.interleaved,p!==null){I=p;do ee|=I.lane,I=I.next;while(I!==p)}else P===null&&(I.shared.lanes=0);Pd|=ee,h.lanes=ee,h.memoizedState=dn}}function gm(h,p,w){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var A=h[p],I=A.callback;if(I!==null){if(A.callback=null,A=w,typeof I!="function")throw Error(s(191,I));I.call(A)}}}var X1=new i.Component().refs;function ah(h,p,w,A){p=h.memoizedState,w=w(A,p),w=w==null?p:o({},p,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var vm={isMounted:function(h){return(h=h._reactInternals)?N(h)===h:!1},enqueueSetState:function(h,p,w){h=h._reactInternals;var A=jr(),I=Qa(h),P=Kr(A,I);P.payload=p,w!=null&&(P.callback=w),ta(h,P),p=Ts(h,I,A),p!==null&&md(p,h,I)},enqueueReplaceState:function(h,p,w){h=h._reactInternals;var A=jr(),I=Qa(h),P=Kr(A,I);P.tag=1,P.payload=p,w!=null&&(P.callback=w),ta(h,P),p=Ts(h,I,A),p!==null&&md(p,h,I)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var w=jr(),A=Qa(h),I=Kr(w,A);I.tag=2,p!=null&&(I.callback=p),ta(h,I),p=Ts(h,A,w),p!==null&&md(p,h,A)}};function Q1(h,p,w,A,I,P,ee){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,P,ee):p.prototype&&p.prototype.isPureReactComponent?!Yi(w,A)||!Yi(I,P):!0}function Y1(h,p,w){var A=!1,I=un,P=p.contextType;return typeof P=="object"&&P!==null?P=gi(P):(I=Xi(p)?ni:Qn.current,A=p.contextTypes,P=(A=A!=null)?wr(h,I):un),p=new p(w,P),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=vm,h.stateNode=p,p._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=I,h.__reactInternalMemoizedMaskedChildContext=P),p}function c0(h,p,w,A){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,A),p.state!==h&&vm.enqueueReplaceState(p,p.state,null)}function gd(h,p,w,A){var I=h.stateNode;I.props=w,I.state=h.memoizedState,I.refs=X1,l0(h);var P=p.contextType;typeof P=="object"&&P!==null?I.context=gi(P):(P=Xi(p)?ni:Qn.current,I.context=wr(h,P)),I.state=h.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(ah(h,p,P,w),I.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(p=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),p!==I.state&&vm.enqueueReplaceState(I,I.state,null),na(h,w,I,A),I.state=h.memoizedState),typeof I.componentDidMount=="function"&&(h.flags|=4194308)}var ia=[],vd=0,lh=null,uh=0,Io=[],ko=0,vu=null,Bl=1,ra="";function Rl(h,p){ia[vd++]=uh,ia[vd++]=lh,lh=h,uh=p}function Z1(h,p,w){Io[ko++]=Bl,Io[ko++]=ra,Io[ko++]=vu,vu=h;var A=Bl;h=ra;var I=32-ci(A)-1;A&=~(1<<I),w+=1;var P=32-ci(p)+I;if(30<P){var ee=I-I%5;P=(A&(1<<ee)-1).toString(32),A>>=ee,I-=ee,Bl=1<<32-ci(p)+I|w<<I|A,ra=P+h}else Bl=1<<P|w<<I|A,ra=h}function ym(h){h.return!==null&&(Rl(h,1),Z1(h,1,0))}function mo(h){for(;h===lh;)lh=ia[--vd],ia[vd]=null,uh=ia[--vd],ia[vd]=null;for(;h===vu;)vu=Io[--ko],Io[ko]=null,ra=Io[--ko],Io[ko]=null,Bl=Io[--ko],Io[ko]=null}var go=null,Or=null,hi=!1,yd=!1,oa=null;function e_(h,p){var w=Bs(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=h,p=h.deletions,p===null?(h.deletions=[w],h.flags|=16):p.push(w)}function t_(h,p){switch(h.tag){case 5:return p=bs(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,go=h,Or=_e(p),!0):!1;case 6:return p=As(p,h.pendingProps),p!==null?(h.stateNode=p,go=h,Or=null,!0):!1;case 13:if(p=Dr(p),p!==null){var w=vu!==null?{id:Bl,overflow:ra}:null;return h.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=Bs(18,null,null,0),w.stateNode=p,w.return=h,h.child=w,go=h,Or=null,!0}return!1;default:return!1}}function d0(h){return(h.mode&1)!==0&&(h.flags&128)===0}function f0(h){if(hi){var p=Or;if(p){var w=p;if(!t_(h,p)){if(d0(h))throw Error(s(418));p=Ie(w);var A=go;p&&t_(h,p)?e_(A,w):(h.flags=h.flags&-4097|2,hi=!1,go=h)}}else{if(d0(h))throw Error(s(418));h.flags=h.flags&-4097|2,hi=!1,go=h}}}function uc(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;go=h}function ch(h){if(!Ae||h!==go)return!1;if(!hi)return uc(h),hi=!0,!1;if(h.tag!==3&&(h.tag!==5||ze(h.type)&&!Ne(h.type,h.memoizedProps))){var p=Or;if(p){if(d0(h)){for(h=Or;h;)h=Ie(h);throw Error(s(418))}for(;p;)e_(h,p),p=Ie(p)}}if(uc(h),h.tag===13){if(!Ae)throw Error(s(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));Or=ve(h)}else Or=go?Ie(h.stateNode):null;return!0}function Sd(){Ae&&(Or=go=null,yd=hi=!1)}function dh(h){oa===null?oa=[h]:oa.push(h)}function _d(h,p,w){if(h=w.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(s(309));var A=w.stateNode}if(!A)throw Error(s(147,h));var I=A,P=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===P?p.ref:(p=function(ee){var Se=I.refs;Se===X1&&(Se=I.refs={}),ee===null?delete Se[P]:Se[P]=ee},p._stringRef=P,p)}if(typeof h!="string")throw Error(s(284));if(!w._owner)throw Error(s(290,h))}return h}function sa(h,p){throw h=Object.prototype.toString.call(p),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function fh(h){var p=h._init;return p(h._payload)}function n_(h){function p(be,xe){if(h){var Pe=be.deletions;Pe===null?(be.deletions=[xe],be.flags|=16):Pe.push(xe)}}function w(be,xe){if(!h)return null;for(;xe!==null;)p(be,xe),xe=xe.sibling;return null}function A(be,xe){for(be=new Map;xe!==null;)xe.key!==null?be.set(xe.key,xe):be.set(xe.index,xe),xe=xe.sibling;return be}function I(be,xe){return be=Dl(be,xe),be.index=0,be.sibling=null,be}function P(be,xe,Pe){return be.index=Pe,h?(Pe=be.alternate,Pe!==null?(Pe=Pe.index,Pe<xe?(be.flags|=2,xe):Pe):(be.flags|=2,xe)):(be.flags|=1048576,xe)}function ee(be){return h&&be.alternate===null&&(be.flags|=2),be}function Se(be,xe,Pe,bt){return xe===null||xe.tag!==6?(xe=Yr(Pe,be.mode,bt),xe.return=be,xe):(xe=I(xe,Pe),xe.return=be,xe)}function Oe(be,xe,Pe,bt){var Gt=Pe.type;return Gt===c?kt(be,xe,Pe.props.children,bt,Pe.key):xe!==null&&(xe.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===b&&fh(Gt)===xe.type)?(bt=I(xe,Pe.props),bt.ref=_d(be,xe,Pe),bt.return=be,bt):(bt=Om(Pe.type,Pe.key,Pe.props,null,be.mode,bt),bt.ref=_d(be,xe,Pe),bt.return=be,bt)}function lt(be,xe,Pe,bt){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Pe.containerInfo||xe.stateNode.implementation!==Pe.implementation?(xe=Rs(Pe,be.mode,bt),xe.return=be,xe):(xe=I(xe,Pe.children||[]),xe.return=be,xe)}function kt(be,xe,Pe,bt,Gt){return xe===null||xe.tag!==7?(xe=Iu(Pe,be.mode,bt,Gt),xe.return=be,xe):(xe=I(xe,Pe),xe.return=be,xe)}function dn(be,xe,Pe){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=Yr(""+xe,be.mode,Pe),xe.return=be,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return Pe=Om(xe.type,xe.key,xe.props,null,be.mode,Pe),Pe.ref=_d(be,null,xe),Pe.return=be,Pe;case u:return xe=Rs(xe,be.mode,Pe),xe.return=be,xe;case b:var bt=xe._init;return dn(be,bt(xe._payload),Pe)}if(ne(xe)||k(xe))return xe=Iu(xe,be.mode,Pe,null),xe.return=be,xe;sa(be,xe)}return null}function $t(be,xe,Pe,bt){var Gt=xe!==null?xe.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Gt!==null?null:Se(be,xe,""+Pe,bt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case l:return Pe.key===Gt?Oe(be,xe,Pe,bt):null;case u:return Pe.key===Gt?lt(be,xe,Pe,bt):null;case b:return Gt=Pe._init,$t(be,xe,Gt(Pe._payload),bt)}if(ne(Pe)||k(Pe))return Gt!==null?null:kt(be,xe,Pe,bt,null);sa(be,Pe)}return null}function Yn(be,xe,Pe,bt,Gt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return be=be.get(Pe)||null,Se(xe,be,""+bt,Gt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case l:return be=be.get(bt.key===null?Pe:bt.key)||null,Oe(xe,be,bt,Gt);case u:return be=be.get(bt.key===null?Pe:bt.key)||null,lt(xe,be,bt,Gt);case b:var _n=bt._init;return Yn(be,xe,Pe,_n(bt._payload),Gt)}if(ne(bt)||k(bt))return be=be.get(Pe)||null,kt(xe,be,bt,Gt,null);sa(xe,bt)}return null}function Ht(be,xe,Pe,bt){for(var Gt=null,_n=null,hn=xe,xn=xe=0,tr=null;hn!==null&&xn<Pe.length;xn++){hn.index>xn?(tr=hn,hn=null):tr=hn.sibling;var Fn=$t(be,hn,Pe[xn],bt);if(Fn===null){hn===null&&(hn=tr);break}h&&hn&&Fn.alternate===null&&p(be,hn),xe=P(Fn,xe,xn),_n===null?Gt=Fn:_n.sibling=Fn,_n=Fn,hn=tr}if(xn===Pe.length)return w(be,hn),hi&&Rl(be,xn),Gt;if(hn===null){for(;xn<Pe.length;xn++)hn=dn(be,Pe[xn],bt),hn!==null&&(xe=P(hn,xe,xn),_n===null?Gt=hn:_n.sibling=hn,_n=hn);return hi&&Rl(be,xn),Gt}for(hn=A(be,hn);xn<Pe.length;xn++)tr=Yn(hn,be,xn,Pe[xn],bt),tr!==null&&(h&&tr.alternate!==null&&hn.delete(tr.key===null?xn:tr.key),xe=P(tr,xe,xn),_n===null?Gt=tr:_n.sibling=tr,_n=tr);return h&&hn.forEach(function(Za){return p(be,Za)}),hi&&Rl(be,xn),Gt}function Zr(be,xe,Pe,bt){var Gt=k(Pe);if(typeof Gt!="function")throw Error(s(150));if(Pe=Gt.call(Pe),Pe==null)throw Error(s(151));for(var _n=Gt=null,hn=xe,xn=xe=0,tr=null,Fn=Pe.next();hn!==null&&!Fn.done;xn++,Fn=Pe.next()){hn.index>xn?(tr=hn,hn=null):tr=hn.sibling;var Za=$t(be,hn,Fn.value,bt);if(Za===null){hn===null&&(hn=tr);break}h&&hn&&Za.alternate===null&&p(be,hn),xe=P(Za,xe,xn),_n===null?Gt=Za:_n.sibling=Za,_n=Za,hn=tr}if(Fn.done)return w(be,hn),hi&&Rl(be,xn),Gt;if(hn===null){for(;!Fn.done;xn++,Fn=Pe.next())Fn=dn(be,Fn.value,bt),Fn!==null&&(xe=P(Fn,xe,xn),_n===null?Gt=Fn:_n.sibling=Fn,_n=Fn);return hi&&Rl(be,xn),Gt}for(hn=A(be,hn);!Fn.done;xn++,Fn=Pe.next())Fn=Yn(hn,be,xn,Fn.value,bt),Fn!==null&&(h&&Fn.alternate!==null&&hn.delete(Fn.key===null?xn:Fn.key),xe=P(Fn,xe,xn),_n===null?Gt=Fn:_n.sibling=Fn,_n=Fn);return h&&hn.forEach(function(Um){return p(be,Um)}),hi&&Rl(be,xn),Gt}function ns(be,xe,Pe,bt){if(typeof Pe=="object"&&Pe!==null&&Pe.type===c&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case l:e:{for(var Gt=Pe.key,_n=xe;_n!==null;){if(_n.key===Gt){if(Gt=Pe.type,Gt===c){if(_n.tag===7){w(be,_n.sibling),xe=I(_n,Pe.props.children),xe.return=be,be=xe;break e}}else if(_n.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===b&&fh(Gt)===_n.type){w(be,_n.sibling),xe=I(_n,Pe.props),xe.ref=_d(be,_n,Pe),xe.return=be,be=xe;break e}w(be,_n);break}else p(be,_n);_n=_n.sibling}Pe.type===c?(xe=Iu(Pe.props.children,be.mode,bt,Pe.key),xe.return=be,be=xe):(bt=Om(Pe.type,Pe.key,Pe.props,null,be.mode,bt),bt.ref=_d(be,xe,Pe),bt.return=be,be=bt)}return ee(be);case u:e:{for(_n=Pe.key;xe!==null;){if(xe.key===_n)if(xe.tag===4&&xe.stateNode.containerInfo===Pe.containerInfo&&xe.stateNode.implementation===Pe.implementation){w(be,xe.sibling),xe=I(xe,Pe.children||[]),xe.return=be,be=xe;break e}else{w(be,xe);break}else p(be,xe);xe=xe.sibling}xe=Rs(Pe,be.mode,bt),xe.return=be,be=xe}return ee(be);case b:return _n=Pe._init,ns(be,xe,_n(Pe._payload),bt)}if(ne(Pe))return Ht(be,xe,Pe,bt);if(k(Pe))return Zr(be,xe,Pe,bt);sa(be,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,xe!==null&&xe.tag===6?(w(be,xe.sibling),xe=I(xe,Pe),xe.return=be,be=xe):(w(be,xe),xe=Yr(Pe,be.mode,bt),xe.return=be,be=xe),ee(be)):w(be,xe)}return ns}var xd=n_(!0),i_=n_(!1),Ka={},Ii=Yt(Ka),wd=Yt(Ka),Cd=Yt(Ka);function $a(h){if(h===Ka)throw Error(s(174));return h}function h0(h,p){ln(Cd,p),ln(wd,h),ln(Ii,Ka),h=de(p),Zt(Ii),ln(Ii,h)}function Ed(){Zt(Ii),Zt(wd),Zt(Cd)}function r_(h){var p=$a(Cd.current),w=$a(Ii.current);p=O(w,h.type,p),w!==p&&(ln(wd,h),ln(Ii,p))}function yu(h){wd.current===h&&(Zt(Ii),Zt(wd))}var pe=Yt(0);function Ue(h){for(var p=h;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||lr(w)||Q(w)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Le=[];function Tt(){for(var h=0;h<Le.length;h++){var p=Le[h];Ke?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}Le.length=0}var an=a.ReactCurrentDispatcher,pn=a.ReactCurrentBatchConfig,vi=0,rn=null,br=null,Ar=null,vo=!1,Su=!1,hh=0,bd=0;function cr(){throw Error(s(321))}function Ad(h,p){if(p===null)return!1;for(var w=0;w<p.length&&w<h.length;w++)if(!Wa(h[w],p[w]))return!1;return!0}function $n(h,p,w,A,I,P){if(vi=P,rn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,an.current=h===null||h.memoizedState===null?xh:_0,h=w(A,I),Su){P=0;do{if(Su=!1,hh=0,25<=P)throw Error(s(301));P+=1,Ar=br=null,p.updateQueue=null,an.current=Bd,h=w(A,I)}while(Su)}if(an.current=Td,p=br!==null&&br.next!==null,vi=0,Ar=br=rn=null,vo=!1,p)throw Error(s(300));return h}function p0(){var h=hh!==0;return hh=0,h}function Ja(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?rn.memoizedState=Ar=h:Ar=Ar.next=h,Ar}function Xo(){if(br===null){var h=rn.alternate;h=h!==null?h.memoizedState:null}else h=br.next;var p=Ar===null?rn.memoizedState:Ar.next;if(p!==null)Ar=p,br=h;else{if(h===null)throw Error(s(310));br=h,h={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},Ar===null?rn.memoizedState=Ar=h:Ar=Ar.next=h}return Ar}function cc(h,p){return typeof p=="function"?p(h):p}function Sm(h){var p=Xo(),w=p.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=h;var A=br,I=A.baseQueue,P=w.pending;if(P!==null){if(I!==null){var ee=I.next;I.next=P.next,P.next=ee}A.baseQueue=I=P,w.pending=null}if(I!==null){P=I.next,A=A.baseState;var Se=ee=null,Oe=null,lt=P;do{var kt=lt.lane;if((vi&kt)===kt)Oe!==null&&(Oe=Oe.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),A=lt.hasEagerState?lt.eagerState:h(A,lt.action);else{var dn={lane:kt,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};Oe===null?(Se=Oe=dn,ee=A):Oe=Oe.next=dn,rn.lanes|=kt,Pd|=kt}lt=lt.next}while(lt!==null&&lt!==P);Oe===null?ee=A:Oe.next=Se,Wa(A,p.memoizedState)||(Qo=!0),p.memoizedState=A,p.baseState=ee,p.baseQueue=Oe,w.lastRenderedState=A}if(h=w.interleaved,h!==null){I=h;do P=I.lane,rn.lanes|=P,Pd|=P,I=I.next;while(I!==h)}else I===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function _m(h){var p=Xo(),w=p.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=h;var A=w.dispatch,I=w.pending,P=p.memoizedState;if(I!==null){w.pending=null;var ee=I=I.next;do P=h(P,ee.action),ee=ee.next;while(ee!==I);Wa(P,p.memoizedState)||(Qo=!0),p.memoizedState=P,p.baseQueue===null&&(p.baseState=P),w.lastRenderedState=P}return[P,A]}function ph(){}function Il(h,p){var w=rn,A=Xo(),I=p(),P=!Wa(A.memoizedState,I);if(P&&(A.memoizedState=I,Qo=!0),A=A.queue,vh(gh.bind(null,w,A,h),[h]),A.getSnapshot!==p||P||Ar!==null&&Ar.memoizedState.tag&1){if(w.flags|=2048,_u(9,m0.bind(null,w,A,I,p),void 0,null),Zi===null)throw Error(s(349));vi&30||mh(w,p,I)}return I}function mh(h,p,w){h.flags|=16384,h={getSnapshot:p,value:w},p=rn.updateQueue,p===null?(p={lastEffect:null,stores:null},rn.updateQueue=p,p.stores=[h]):(w=p.stores,w===null?p.stores=[h]:w.push(h))}function m0(h,p,w,A){p.value=w,p.getSnapshot=A,g0(p)&&Ts(h,1,-1)}function gh(h,p,w){return w(function(){g0(p)&&Ts(h,1,-1)})}function g0(h){var p=h.getSnapshot;h=h.value;try{var w=p();return!Wa(h,w)}catch{return!0}}function xm(h){var p=Ja();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:h},p.queue=h,h=h.dispatch=$r.bind(null,rn,h),[p.memoizedState,h]}function _u(h,p,w,A){return h={tag:h,create:p,destroy:w,deps:A,next:null},p=rn.updateQueue,p===null?(p={lastEffect:null,stores:null},rn.updateQueue=p,p.lastEffect=h.next=h):(w=p.lastEffect,w===null?p.lastEffect=h.next=h:(A=w.next,w.next=h,h.next=A,p.lastEffect=h)),h}function v0(){return Xo().memoizedState}function xu(h,p,w,A){var I=Ja();rn.flags|=h,I.memoizedState=_u(1|p,w,void 0,A===void 0?null:A)}function qa(h,p,w,A){var I=Xo();A=A===void 0?null:A;var P=void 0;if(br!==null){var ee=br.memoizedState;if(P=ee.destroy,A!==null&&Ad(A,ee.deps)){I.memoizedState=_u(p,w,P,A);return}}rn.flags|=h,I.memoizedState=_u(1|p,w,P,A)}function Md(h,p){return xu(8390656,8,h,p)}function vh(h,p){return qa(2048,8,h,p)}function o_(h,p){return qa(4,2,h,p)}function s_(h,p){return qa(4,4,h,p)}function yh(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function Sh(h,p,w){return w=w!=null?w.concat([h]):null,qa(4,4,yh.bind(null,p,h),w)}function _h(){}function a_(h,p){var w=Xo();p=p===void 0?null:p;var A=w.memoizedState;return A!==null&&p!==null&&Ad(p,A[1])?A[0]:(w.memoizedState=[h,p],h)}function y0(h,p){var w=Xo();p=p===void 0?null:p;var A=w.memoizedState;return A!==null&&p!==null&&Ad(p,A[1])?A[0]:(h=h(),w.memoizedState=[h,p],h)}function jb(h,p){var w=Wn;Wn=w!==0&&4>w?w:4,h(!0);var A=pn.transition;pn.transition={};try{h(!1),p()}finally{Wn=w,pn.transition=A}}function l_(){return Xo().memoizedState}function dr(h,p,w){var A=Qa(h);w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},u_(h)?c_(p,w):(S0(h,p,w),w=jr(),h=Ts(h,A,w),h!==null&&d_(h,p,A))}function $r(h,p,w){var A=Qa(h),I={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(u_(h))c_(p,I);else{S0(h,p,I);var P=h.alternate;if(h.lanes===0&&(P===null||P.lanes===0)&&(P=p.lastRenderedReducer,P!==null))try{var ee=p.lastRenderedState,Se=P(ee,w);if(I.hasEagerState=!0,I.eagerState=Se,Wa(Se,ee))return}catch{}finally{}w=jr(),h=Ts(h,A,w),h!==null&&d_(h,p,A)}}function u_(h){var p=h.alternate;return h===rn||p!==null&&p===rn}function c_(h,p){Su=vo=!0;var w=h.pending;w===null?p.next=p:(p.next=w.next,w.next=p),h.pending=p}function S0(h,p,w){Zi!==null&&h.mode&1&&!(Sn&2)?(h=p.interleaved,h===null?(w.next=w,Va===null?Va=[p]:Va.push(p)):(w.next=h.next,h.next=w),p.interleaved=w):(h=p.pending,h===null?w.next=w:(w.next=h.next,h.next=w),p.pending=w)}function d_(h,p,w){if(w&4194240){var A=p.lanes;A&=h.pendingLanes,w|=A,p.lanes=w,i0(h,w)}}var Td={readContext:gi,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},xh={readContext:gi,useCallback:function(h,p){return Ja().memoizedState=[h,p===void 0?null:p],h},useContext:gi,useEffect:Md,useImperativeHandle:function(h,p,w){return w=w!=null?w.concat([h]):null,xu(4194308,4,yh.bind(null,p,h),w)},useLayoutEffect:function(h,p){return xu(4194308,4,h,p)},useInsertionEffect:function(h,p){return xu(4,2,h,p)},useMemo:function(h,p){var w=Ja();return p=p===void 0?null:p,h=h(),w.memoizedState=[h,p],h},useReducer:function(h,p,w){var A=Ja();return p=w!==void 0?w(p):p,A.memoizedState=A.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},A.queue=h,h=h.dispatch=dr.bind(null,rn,h),[A.memoizedState,h]},useRef:function(h){var p=Ja();return h={current:h},p.memoizedState=h},useState:xm,useDebugValue:_h,useDeferredValue:function(h){var p=xm(h),w=p[0],A=p[1];return Md(function(){var I=pn.transition;pn.transition={};try{A(h)}finally{pn.transition=I}},[h]),w},useTransition:function(){var h=xm(!1),p=h[0];return h=jb.bind(null,h[1]),Ja().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,w){var A=rn,I=Ja();if(hi){if(w===void 0)throw Error(s(407));w=w()}else{if(w=p(),Zi===null)throw Error(s(349));vi&30||mh(A,p,w)}I.memoizedState=w;var P={value:w,getSnapshot:p};return I.queue=P,Md(gh.bind(null,A,P,h),[h]),A.flags|=2048,_u(9,m0.bind(null,A,P,w,p),void 0,null),w},useId:function(){var h=Ja(),p=Zi.identifierPrefix;if(hi){var w=ra,A=Bl;w=(A&~(1<<32-ci(A)-1)).toString(32)+w,p=":"+p+"R"+w,w=hh++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=bd++,p=":"+p+"r"+w.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},_0={readContext:gi,useCallback:a_,useContext:gi,useEffect:vh,useImperativeHandle:Sh,useInsertionEffect:o_,useLayoutEffect:s_,useMemo:y0,useReducer:Sm,useRef:v0,useState:function(){return Sm(cc)},useDebugValue:_h,useDeferredValue:function(h){var p=Sm(cc),w=p[0],A=p[1];return vh(function(){var I=pn.transition;pn.transition={};try{A(h)}finally{pn.transition=I}},[h]),w},useTransition:function(){var h=Sm(cc)[0],p=Xo().memoizedState;return[h,p]},useMutableSource:ph,useSyncExternalStore:Il,useId:l_,unstable_isNewReconciler:!1},Bd={readContext:gi,useCallback:a_,useContext:gi,useEffect:vh,useImperativeHandle:Sh,useInsertionEffect:o_,useLayoutEffect:s_,useMemo:y0,useReducer:_m,useRef:v0,useState:function(){return _m(cc)},useDebugValue:_h,useDeferredValue:function(h){var p=_m(cc),w=p[0],A=p[1];return vh(function(){var I=pn.transition;pn.transition={};try{A(h)}finally{pn.transition=I}},[h]),w},useTransition:function(){var h=_m(cc)[0],p=Xo().memoizedState;return[h,p]},useMutableSource:ph,useSyncExternalStore:Il,useId:l_,unstable_isNewReconciler:!1};function dc(h,p){try{var w="",A=p;do w+=s0(A),A=A.return;while(A);var I=w}catch(P){I=`
Error generating stack: `+P.message+`
`+P.stack}return{value:h,source:p,stack:I}}function fc(h,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var wm=typeof WeakMap=="function"?WeakMap:Map;function hc(h,p,w){w=Kr(-1,w),w.tag=3,w.payload={element:null};var A=p.value;return w.callback=function(){Bh||(Bh=!0,Rm=A),fc(h,p)},w}function f_(h,p,w){w=Kr(-1,w),w.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var I=p.value;w.payload=function(){return A(I)},w.callback=function(){fc(h,p)}}var P=h.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(w.callback=function(){fc(h,p),typeof A!="function"&&(da===null?da=new Set([this]):da.add(this));var ee=p.stack;this.componentDidCatch(p.value,{componentStack:ee!==null?ee:""})}),w}function h_(h,p,w){var A=h.pingCache;if(A===null){A=h.pingCache=new wm;var I=new Set;A.set(p,I)}else I=A.get(p),I===void 0&&(I=new Set,A.set(p,I));I.has(w)||(I.add(w),h=Bu.bind(null,h,p,w),p.then(h,h))}function p_(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function m_(h,p,w,A,I){return h.mode&1?(h.flags|=65536,h.lanes=I,h):(h===p?h.flags|=65536:(h.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Kr(-1,1),p.tag=2,ta(w,p))),w.lanes|=1),h)}function ja(h){h.flags|=4}function wh(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var kl,Rd,K,Ll;if(ct)kl=function(h,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)ae(h,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Rd=function(){},K=function(h,p,w,A,I){if(h=h.memoizedProps,h!==A){var P=p.stateNode,ee=$a(Ii.current);w=Fe(P,w,h,A,I,ee),(p.updateQueue=w)&&ja(p)}},Ll=function(h,p,w,A){w!==A&&ja(p)};else if(De){kl=function(h,p,w,A){for(var I=p.child;I!==null;){if(I.tag===5){var P=I.stateNode;w&&A&&(P=Qs(P,I.type,I.memoizedProps,I)),ae(h,P)}else if(I.tag===6)P=I.stateNode,w&&A&&(P=ho(P,I.memoizedProps,I)),ae(h,P);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)P=I.child,P!==null&&(P.return=I),kl(h,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===p)break;for(;I.sibling===null;){if(I.return===null||I.return===p)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var Ch=function(h,p,w,A){for(var I=p.child;I!==null;){if(I.tag===5){var P=I.stateNode;w&&A&&(P=Qs(P,I.type,I.memoizedProps,I)),Ro(h,P)}else if(I.tag===6)P=I.stateNode,w&&A&&(P=ho(P,I.memoizedProps,I)),Ro(h,P);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)P=I.child,P!==null&&(P.return=I),Ch(h,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===p)break;for(;I.sibling===null;){if(I.return===null||I.return===p)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};Rd=function(h,p){var w=p.stateNode;if(!wh(h,p)){h=w.containerInfo;var A=ji(h);Ch(A,p,!1,!1),w.pendingChildren=A,ja(p),Fr(h,A)}},K=function(h,p,w,A,I){var P=h.stateNode,ee=h.memoizedProps;if((h=wh(h,p))&&ee===A)p.stateNode=P;else{var Se=p.stateNode,Oe=$a(Ii.current),lt=null;ee!==A&&(lt=Fe(Se,w,ee,A,I,Oe)),h&&lt===null?p.stateNode=P:(P=ai(P,lt,w,ee,A,p,h,Se),Ce(P,w,A,I,Oe)&&ja(p),p.stateNode=P,h?ja(p):kl(P,p,!1,!1))}},Ll=function(h,p,w,A){w!==A?(h=$a(Cd.current),w=$a(Ii.current),p.stateNode=he(A,h,w,p),ja(p)):p.stateNode=h.stateNode}}else Rd=function(){},K=function(){},Ll=function(){};function Jr(h,p){if(!hi)switch(h.tailMode){case"hidden":p=h.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function en(h){var p=h.alternate!==null&&h.alternate.child===h.child,w=0,A=0;if(p)for(var I=h.child;I!==null;)w|=I.lanes|I.childLanes,A|=I.subtreeFlags&14680064,A|=I.flags&14680064,I.return=h,I=I.sibling;else for(I=h.child;I!==null;)w|=I.lanes|I.childLanes,A|=I.subtreeFlags,A|=I.flags,I.return=h,I=I.sibling;return h.subtreeFlags|=A,h.childLanes=w,p}function Xb(h,p,w){var A=p.pendingProps;switch(mo(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(p),null;case 1:return Xi(p.type)&&Cr(),en(p),null;case 3:return A=p.stateNode,Ed(),Zt(gn),Zt(Qn),Tt(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(ch(p)?ja(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,oa!==null&&(yc(oa),oa=null))),Rd(h,p),en(p),null;case 5:yu(p),w=$a(Cd.current);var I=p.type;if(h!==null&&p.stateNode!=null)K(h,p,I,A,w),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(s(166));return en(p),null}if(h=$a(Ii.current),ch(p)){if(!Ae)throw Error(s(175));h=D(p.stateNode,p.type,p.memoizedProps,w,h,p,!yd),p.updateQueue=h,h!==null&&ja(p)}else{var P=ie(I,A,w,h,p);kl(P,p,!1,!1),p.stateNode=P,Ce(P,I,A,w,h)&&ja(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return en(p),null;case 6:if(h&&p.stateNode!=null)Ll(h,p,h.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(s(166));if(h=$a(Cd.current),w=$a(Ii.current),ch(p)){if(!Ae)throw Error(s(176));if(h=p.stateNode,A=p.memoizedProps,(w=H(h,A,p,!yd))&&(I=go,I!==null))switch(P=(I.mode&1)!==0,I.tag){case 3:We(I.stateNode.containerInfo,h,A,P);break;case 5:Xe(I.type,I.memoizedProps,I.stateNode,h,A,P)}w&&ja(p)}else p.stateNode=he(A,h,w,p)}return en(p),null;case 13:if(Zt(pe),A=p.memoizedState,hi&&Or!==null&&p.mode&1&&!(p.flags&128)){for(h=Or;h;)h=Ie(h);return Sd(),p.flags|=98560,p}if(A!==null&&A.dehydrated!==null){if(A=ch(p),h===null){if(!A)throw Error(s(318));if(!Ae)throw Error(s(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));Y(h,p)}else Sd(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return en(p),null}return oa!==null&&(yc(oa),oa=null),p.flags&128?(p.lanes=w,p):(A=A!==null,w=!1,h===null?ch(p):w=h.memoizedState!==null,A&&!w&&(p.child.flags|=8192,p.mode&1&&(h===null||pe.current&1?Ni===0&&(Ni=3):Dm())),p.updateQueue!==null&&(p.flags|=4),en(p),null);case 4:return Ed(),Rd(h,p),h===null&&Ye(p.stateNode.containerInfo),en(p),null;case 10:return pm(p.type._context),en(p),null;case 17:return Xi(p.type)&&Cr(),en(p),null;case 19:if(Zt(pe),I=p.memoizedState,I===null)return en(p),null;if(A=(p.flags&128)!==0,P=I.rendering,P===null)if(A)Jr(I,!1);else{if(Ni!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(P=Ue(h),P!==null){for(p.flags|=128,Jr(I,!1),h=P.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=w,A=p.child;A!==null;)w=A,I=h,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=I,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,I=P.dependencies,w.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),A=A.sibling;return ln(pe,pe.current&1|2),p.child}h=h.sibling}I.tail!==null&&Er()>Th&&(p.flags|=128,A=!0,Jr(I,!1),p.lanes=4194304)}else{if(!A)if(h=Ue(P),h!==null){if(p.flags|=128,A=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),Jr(I,!0),I.tail===null&&I.tailMode==="hidden"&&!P.alternate&&!hi)return en(p),null}else 2*Er()-I.renderingStartTime>Th&&w!==1073741824&&(p.flags|=128,A=!0,Jr(I,!1),p.lanes=4194304);I.isBackwards?(P.sibling=p.child,p.child=P):(h=I.last,h!==null?h.sibling=P:p.child=P,I.last=P)}return I.tail!==null?(p=I.tail,I.rendering=p,I.tail=p.sibling,I.renderingStartTime=Er(),p.sibling=null,h=pe.current,ln(pe,A?h&1|2:h&1),p):(en(p),null);case 22:case 23:return P0(),A=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(p.flags|=8192),A&&p.mode&1?es&1073741824&&(en(p),ct&&p.subtreeFlags&6&&(p.flags|=8192)):en(p),null;case 24:return null;case 25:return null}throw Error(s(156,p.tag))}var Qb=a.ReactCurrentOwner,Qo=!1;function Di(h,p,w,A){p.child=h===null?i_(p,null,w,A):xd(p,h.child,w,A)}function g_(h,p,w,A,I){w=w.render;var P=p.ref;return lc(p,I),A=$n(h,p,w,A,P,I),w=p0(),h!==null&&!Qo?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~I,fr(h,p,I)):(hi&&w&&ym(p),p.flags|=1,Di(h,p,A,I),p.child)}function v_(h,p,w,A,I){if(h===null){var P=w.type;return typeof P=="function"&&!G0(P)&&P.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=P,y_(h,p,P,A,I)):(h=Om(w.type,null,A,p,p.mode,I),h.ref=p.ref,h.return=p,p.child=h)}if(P=h.child,!(h.lanes&I)){var ee=P.memoizedProps;if(w=w.compare,w=w!==null?w:Yi,w(ee,A)&&h.ref===p.ref)return fr(h,p,I)}return p.flags|=1,h=Dl(P,A),h.ref=p.ref,h.return=p,p.child=h}function y_(h,p,w,A,I){if(h!==null&&Yi(h.memoizedProps,A)&&h.ref===p.ref)if(Qo=!1,(h.lanes&I)!==0)h.flags&131072&&(Qo=!0);else return p.lanes=h.lanes,fr(h,p,I);return aa(h,p,w,A,I)}function S_(h,p,w){var A=p.pendingProps,I=A.children,P=h!==null?h.memoizedState:null;if(A.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},ln(Fd,es),es|=w;else if(w&1073741824)p.memoizedState={baseLanes:0,cachePool:null},A=P!==null?P.baseLanes:w,ln(Fd,es),es|=A;else return h=P!==null?P.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,ln(Fd,es),es|=h,null;else P!==null?(A=P.baseLanes|w,p.memoizedState=null):A=w,ln(Fd,es),es|=A;return Di(h,p,I,w),p.child}function __(h,p){var w=p.ref;(h===null&&w!==null||h!==null&&h.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function aa(h,p,w,A,I){var P=Xi(w)?ni:Qn.current;return P=wr(p,P),lc(p,I),w=$n(h,p,w,A,P,I),A=p0(),h!==null&&!Qo?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~I,fr(h,p,I)):(hi&&A&&ym(p),p.flags|=1,Di(h,p,w,I),p.child)}function x_(h,p,w,A,I){if(Xi(w)){var P=!0;Xn(p)}else P=!1;if(lc(p,I),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),Y1(p,w,A),gd(p,w,A,I),A=!0;else if(h===null){var ee=p.stateNode,Se=p.memoizedProps;ee.props=Se;var Oe=ee.context,lt=w.contextType;typeof lt=="object"&&lt!==null?lt=gi(lt):(lt=Xi(w)?ni:Qn.current,lt=wr(p,lt));var kt=w.getDerivedStateFromProps,dn=typeof kt=="function"||typeof ee.getSnapshotBeforeUpdate=="function";dn||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(Se!==A||Oe!==lt)&&c0(p,ee,A,lt),ur=!1;var $t=p.memoizedState;ee.state=$t,na(p,A,ee,I),Oe=p.memoizedState,Se!==A||$t!==Oe||gn.current||ur?(typeof kt=="function"&&(ah(p,w,kt,A),Oe=p.memoizedState),(Se=ur||Q1(p,w,Se,A,$t,Oe,lt))?(dn||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=Oe),ee.props=A,ee.state=Oe,ee.context=lt,A=Se):(typeof ee.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{ee=p.stateNode,u0(h,p),Se=p.memoizedProps,lt=p.type===p.elementType?Se:Pr(p.type,Se),ee.props=lt,dn=p.pendingProps,$t=ee.context,Oe=w.contextType,typeof Oe=="object"&&Oe!==null?Oe=gi(Oe):(Oe=Xi(w)?ni:Qn.current,Oe=wr(p,Oe));var Yn=w.getDerivedStateFromProps;(kt=typeof Yn=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(Se!==dn||$t!==Oe)&&c0(p,ee,A,Oe),ur=!1,$t=p.memoizedState,ee.state=$t,na(p,A,ee,I);var Ht=p.memoizedState;Se!==dn||$t!==Ht||gn.current||ur?(typeof Yn=="function"&&(ah(p,w,Yn,A),Ht=p.memoizedState),(lt=ur||Q1(p,w,lt,A,$t,Ht,Oe)||!1)?(kt||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(A,Ht,Oe),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(A,Ht,Oe)),typeof ee.componentDidUpdate=="function"&&(p.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ee.componentDidUpdate!="function"||Se===h.memoizedProps&&$t===h.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||Se===h.memoizedProps&&$t===h.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=Ht),ee.props=A,ee.state=Ht,ee.context=Oe,A=lt):(typeof ee.componentDidUpdate!="function"||Se===h.memoizedProps&&$t===h.memoizedState||(p.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||Se===h.memoizedProps&&$t===h.memoizedState||(p.flags|=1024),A=!1)}return x0(h,p,w,A,P,I)}function x0(h,p,w,A,I,P){__(h,p);var ee=(p.flags&128)!==0;if(!A&&!ee)return I&&On(p,w,!1),fr(h,p,P);A=p.stateNode,Qb.current=p;var Se=ee&&typeof w.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,h!==null&&ee?(p.child=xd(p,h.child,null,P),p.child=xd(p,null,Se,P)):Di(h,p,Se,P),p.memoizedState=A.state,I&&On(p,w,!0),p.child}function w_(h){var p=h.stateNode;p.pendingContext?Nn(h,p.pendingContext,p.pendingContext!==p.context):p.context&&Nn(h,p.context,!1),h0(h,p.containerInfo)}function C_(h,p,w,A,I){return Sd(),dh(I),p.flags|=256,Di(h,p,w,A),p.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function Ms(h){return{baseLanes:h,cachePool:null}}function E_(h,p,w){var A=p.pendingProps,I=pe.current,P=!1,ee=(p.flags&128)!==0,Se;if((Se=ee)||(Se=h!==null&&h.memoizedState===null?!1:(I&2)!==0),Se?(P=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(I|=1),ln(pe,I&1),h===null)return f0(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?Q(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(I=A.children,h=A.fallback,P?(A=p.mode,P=p.child,I={mode:"hidden",children:I},!(A&1)&&P!==null?(P.childLanes=0,P.pendingProps=I):P=Lh(I,A,0,null),h=Iu(h,A,w,null),P.return=p,h.return=p,P.sibling=h,p.child=P,p.child.memoizedState=Ms(w),p.memoizedState=Cm,h):w0(p,I));if(I=h.memoizedState,I!==null){if(Se=I.dehydrated,Se!==null){if(ee)return p.flags&256?(p.flags&=-257,Em(h,p,w,Error(s(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(P=A.fallback,I=p.mode,A=Lh({mode:"visible",children:A.children},I,0,null),P=Iu(P,I,w,null),P.flags|=2,A.return=p,P.return=p,A.sibling=P,p.child=A,p.mode&1&&xd(p,h.child,null,w),p.child.memoizedState=Ms(w),p.memoizedState=Cm,P);if(!(p.mode&1))p=Em(h,p,w,null);else if(Q(Se))p=Em(h,p,w,Error(s(419)));else if(A=(w&h.childLanes)!==0,Qo||A){if(A=Zi,A!==null){switch(w&-w){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}A=P&(A.suspendedLanes|w)?0:P,A!==0&&A!==I.retryLane&&(I.retryLane=A,Ts(h,A,-1))}Dm(),p=Em(h,p,w,Error(s(421)))}else lr(Se)?(p.flags|=128,p.child=h.child,p=Ru.bind(null,h),Ee(Se,p),p=null):(w=I.treeContext,Ae&&(Or=at(Se),go=p,hi=!0,oa=null,yd=!1,w!==null&&(Io[ko++]=Bl,Io[ko++]=ra,Io[ko++]=vu,Bl=w.id,ra=w.overflow,vu=p)),p=w0(p,p.pendingProps.children),p.flags|=4096);return p}return P?(A=A_(h,p,A.children,A.fallback,w),P=p.child,I=h.child.memoizedState,P.memoizedState=I===null?Ms(w):{baseLanes:I.baseLanes|w,cachePool:null},P.childLanes=h.childLanes&~w,p.memoizedState=Cm,A):(w=b_(h,p,A.children,w),p.memoizedState=null,w)}return P?(A=A_(h,p,A.children,A.fallback,w),P=p.child,I=h.child.memoizedState,P.memoizedState=I===null?Ms(w):{baseLanes:I.baseLanes|w,cachePool:null},P.childLanes=h.childLanes&~w,p.memoizedState=Cm,A):(w=b_(h,p,A.children,w),p.memoizedState=null,w)}function w0(h,p){return p=Lh({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function b_(h,p,w,A){var I=h.child;return h=I.sibling,w=Dl(I,{mode:"visible",children:w}),!(p.mode&1)&&(w.lanes=A),w.return=p,w.sibling=null,h!==null&&(A=p.deletions,A===null?(p.deletions=[h],p.flags|=16):A.push(h)),p.child=w}function A_(h,p,w,A,I){var P=p.mode;h=h.child;var ee=h.sibling,Se={mode:"hidden",children:w};return!(P&1)&&p.child!==h?(w=p.child,w.childLanes=0,w.pendingProps=Se,p.deletions=null):(w=Dl(h,Se),w.subtreeFlags=h.subtreeFlags&14680064),ee!==null?A=Dl(ee,A):(A=Iu(A,P,I,null),A.flags|=2),A.return=p,w.return=p,w.sibling=A,p.child=w,A}function Em(h,p,w,A){return A!==null&&dh(A),xd(p,h.child,null,w),h=w0(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function wu(h,p,w){h.lanes|=p;var A=h.alternate;A!==null&&(A.lanes|=p),mm(h.return,p,w)}function C0(h,p,w,A,I){var P=h.memoizedState;P===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:I}:(P.isBackwards=p,P.rendering=null,P.renderingStartTime=0,P.last=A,P.tail=w,P.tailMode=I)}function M_(h,p,w){var A=p.pendingProps,I=A.revealOrder,P=A.tail;if(Di(h,p,A.children,w),A=pe.current,A&2)A=A&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&wu(h,w,p);else if(h.tag===19)wu(h,w,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(ln(pe,A),!(p.mode&1))p.memoizedState=null;else switch(I){case"forwards":for(w=p.child,I=null;w!==null;)h=w.alternate,h!==null&&Ue(h)===null&&(I=w),w=w.sibling;w=I,w===null?(I=p.child,p.child=null):(I=w.sibling,w.sibling=null),C0(p,!1,I,w,P);break;case"backwards":for(w=null,I=p.child,p.child=null;I!==null;){if(h=I.alternate,h!==null&&Ue(h)===null){p.child=I;break}h=I.sibling,I.sibling=w,w=I,I=h}C0(p,!0,w,null,P);break;case"together":C0(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function fr(h,p,w){if(h!==null&&(p.dependencies=h.dependencies),Pd|=p.lanes,!(w&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(s(153));if(p.child!==null){for(h=p.child,w=Dl(h,h.pendingProps),p.child=w,w.return=p;h.sibling!==null;)h=h.sibling,w=w.sibling=Dl(h,h.pendingProps),w.return=p;w.sibling=null}return p.child}function Yb(h,p,w){switch(p.tag){case 3:w_(p),Sd();break;case 5:r_(p);break;case 1:Xi(p.type)&&Xn(p);break;case 4:h0(p,p.stateNode.containerInfo);break;case 10:a0(p,p.type._context,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(ln(pe,pe.current&1),p.flags|=128,null):w&p.child.childLanes?E_(h,p,w):(ln(pe,pe.current&1),h=fr(h,p,w),h!==null?h.sibling:null);ln(pe,pe.current&1);break;case 19:if(A=(w&p.childLanes)!==0,h.flags&128){if(A)return M_(h,p,w);p.flags|=128}var I=p.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),ln(pe,pe.current),A)break;return null;case 22:case 23:return p.lanes=0,S_(h,p,w)}return fr(h,p,w)}function Zb(h,p){switch(mo(p),p.tag){case 1:return Xi(p.type)&&Cr(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Ed(),Zt(gn),Zt(Qn),Tt(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return yu(p),null;case 13:if(Zt(pe),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(s(340));Sd()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return Zt(pe),null;case 4:return Ed(),null;case 10:return pm(p.type._context),null;case 22:case 23:return P0(),null;case 24:return null;default:return null}}var bm=!1,pc=!1,eA=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Eh(h,p){var w=h.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){Qr(h,p,A)}else w.current=null}function E0(h,p,w){try{w()}catch(A){Qr(h,p,A)}}var T_=!1;function b0(h,p){for(V(h.containerInfo),wt=p;wt!==null;)if(h=wt,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,wt=p;else for(;wt!==null;){h=wt;try{var w=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,I=w.memoizedState,P=h.stateNode,ee=P.getSnapshotBeforeUpdate(h.elementType===h.type?A:Pr(h.type,A),I);P.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:ct&&tn(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Se){Qr(h,h.return,Se)}if(p=h.sibling,p!==null){p.return=h.return,wt=p;break}wt=h.return}return w=T_,T_=!1,w}function la(h,p,w){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var I=A=A.next;do{if((I.tag&h)===h){var P=I.destroy;I.destroy=void 0,P!==void 0&&E0(p,w,P)}I=I.next}while(I!==A)}}function Cu(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&h)===h){var A=w.create;w.destroy=A()}w=w.next}while(w!==p)}}function A0(h){var p=h.ref;if(p!==null){var w=h.stateNode;switch(h.tag){case 5:h=te(w);break;default:h=w}typeof p=="function"?p(h):p.current=h}}function M0(h,p,w){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(cm,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var A=h=h.next;do{var I=A,P=I.destroy;I=I.tag,P!==void 0&&(I&2||I&4)&&E0(p,w,P),A=A.next}while(A!==h)}break;case 1:if(Eh(p,w),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(ee){Qr(p,w,ee)}break;case 5:Eh(p,w);break;case 4:ct?B0(h,p,w):De&&De&&(p=p.stateNode.containerInfo,w=ji(p),fo(p,w))}}function B_(h,p,w){for(var A=p;;)if(M0(h,A,w),A.child===null||ct&&A.tag===4){if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function Xa(h){var p=h.alternate;p!==null&&(h.alternate=null,Xa(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&St(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Am(h){return h.tag===5||h.tag===3||h.tag===4}function Eu(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Am(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Yo(h){if(ct){e:{for(var p=h.return;p!==null;){if(Am(p))break e;p=p.return}throw Error(s(160))}var w=p;switch(w.tag){case 5:p=w.stateNode,w.flags&32&&(Re(p),w.flags&=-33),w=Eu(h),Mm(h,w,p);break;case 3:case 4:p=w.stateNode.containerInfo,w=Eu(h),T0(h,w,p);break;default:throw Error(s(161))}}}function T0(h,p,w){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?Be(w,h,p):Te(w,h);else if(A!==4&&(h=h.child,h!==null))for(T0(h,p,w),h=h.sibling;h!==null;)T0(h,p,w),h=h.sibling}function Mm(h,p,w){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?re(w,h,p):Nt(w,h);else if(A!==4&&(h=h.child,h!==null))for(Mm(h,p,w),h=h.sibling;h!==null;)Mm(h,p,w),h=h.sibling}function B0(h,p,w){for(var A=p,I=!1,P,ee;;){if(!I){I=A.return;e:for(;;){if(I===null)throw Error(s(160));switch(P=I.stateNode,I.tag){case 5:ee=!1;break e;case 3:P=P.containerInfo,ee=!0;break e;case 4:P=P.containerInfo,ee=!0;break e}I=I.return}I=!0}if(A.tag===5||A.tag===6)B_(h,A,w),ee?Ve(P,A.stateNode):et(P,A.stateNode);else if(A.tag===18)ee?ye(P,A.stateNode):ce(P,A.stateNode);else if(A.tag===4){if(A.child!==null){P=A.stateNode.containerInfo,ee=!0,A.child.return=A,A=A.child;continue}}else if(M0(h,A,w),A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return,A.tag===4&&(I=!1)}A.sibling.return=A.return,A=A.sibling}}function mc(h,p){if(ct){switch(p.tag){case 0:case 11:case 14:case 15:la(3,p,p.return),Cu(3,p),la(5,p,p.return);return;case 1:return;case 5:var w=p.stateNode;if(w!=null){var A=p.memoizedProps;h=h!==null?h.memoizedProps:A;var I=p.type,P=p.updateQueue;p.updateQueue=null,P!==null&&pt(w,P,I,h,A,p)}return;case 6:if(p.stateNode===null)throw Error(s(162));w=p.memoizedProps,Mt(p.stateNode,h!==null?h.memoizedProps:w,w);return;case 3:Ae&&h!==null&&h.memoizedState.isDehydrated&&se(p.stateNode.containerInfo);return;case 12:return;case 13:ua(p);return;case 19:ua(p);return;case 17:return}throw Error(s(163))}switch(p.tag){case 0:case 11:case 14:case 15:la(3,p,p.return),Cu(3,p),la(5,p,p.return);return;case 12:return;case 13:ua(p);return;case 19:ua(p);return;case 3:Ae&&h!==null&&h.memoizedState.isDehydrated&&se(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(De){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,fo(p.containerInfo,p.pendingChildren);break e}throw Error(s(163))}}function ua(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var w=h.stateNode;w===null&&(w=h.stateNode=new eA),p.forEach(function(A){var I=N_.bind(null,h,A);w.has(A)||(w.add(A),A.then(I,I))})}}function R_(h,p){for(wt=p;wt!==null;){p=wt;var w=p.deletions;if(w!==null)for(var A=0;A<w.length;A++){var I=w[A];try{var P=h;ct?B0(P,I,p):B_(P,I,p);var ee=I.alternate;ee!==null&&(ee.return=null),I.return=null}catch(Gt){Qr(I,p,Gt)}}if(w=p.child,p.subtreeFlags&12854&&w!==null)w.return=p,wt=w;else for(;wt!==null;){p=wt;try{var Se=p.flags;if(Se&32&&ct&&Re(p.stateNode),Se&512){var Oe=p.alternate;if(Oe!==null){var lt=Oe.ref;lt!==null&&(typeof lt=="function"?lt(null):lt.current=null)}}if(Se&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var kt=p.alternate;(kt===null||kt.memoizedState===null)&&(F0=Er())}break;case 22:var dn=p.memoizedState!==null,$t=p.alternate,Yn=$t!==null&&$t.memoizedState!==null;if(w=p,ct){e:if(A=w,I=dn,P=null,ct)for(var Ht=A;;){if(Ht.tag===5){if(P===null){P=Ht;var Zr=Ht.stateNode;I?st(Zr):He(Ht.stateNode,Ht.memoizedProps)}}else if(Ht.tag===6){if(P===null){var ns=Ht.stateNode;I?Ze(ns):Ot(ns,Ht.memoizedProps)}}else if((Ht.tag!==22&&Ht.tag!==23||Ht.memoizedState===null||Ht===A)&&Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}if(Ht===A)break;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===A)break e;P===Ht&&(P=null),Ht=Ht.return}P===Ht&&(P=null),Ht.sibling.return=Ht.return,Ht=Ht.sibling}}if(dn&&!Yn&&w.mode&1){wt=w;for(var be=w.child;be!==null;){for(w=wt=be;wt!==null;){A=wt;var xe=A.child;switch(A.tag){case 0:case 11:case 14:case 15:la(4,A,A.return);break;case 1:Eh(A,A.return);var Pe=A.stateNode;if(typeof Pe.componentWillUnmount=="function"){var bt=A.return;try{Pe.props=A.memoizedProps,Pe.state=A.memoizedState,Pe.componentWillUnmount()}catch(Gt){Qr(A,bt,Gt)}}break;case 5:Eh(A,A.return);break;case 22:if(A.memoizedState!==null){R0(w);continue}}xe!==null?(xe.return=A,wt=xe):R0(w)}be=be.sibling}}}switch(Se&4102){case 2:Yo(p),p.flags&=-3;break;case 6:Yo(p),p.flags&=-3,mc(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,mc(p.alternate,p);break;case 4:mc(p.alternate,p)}}catch(Gt){Qr(p,p.return,Gt)}if(w=p.sibling,w!==null){w.return=p.return,wt=w;break}wt=p.return}}}function tA(h,p,w){wt=h,bh(h)}function bh(h,p,w){for(var A=(h.mode&1)!==0;wt!==null;){var I=wt,P=I.child;if(I.tag===22&&A){var ee=I.memoizedState!==null||bm;if(!ee){var Se=I.alternate,Oe=Se!==null&&Se.memoizedState!==null||pc;Se=bm;var lt=pc;if(bm=ee,(pc=Oe)&&!lt)for(wt=I;wt!==null;)ee=wt,Oe=ee.child,ee.tag===22&&ee.memoizedState!==null?Mr(I):Oe!==null?(Oe.return=ee,wt=Oe):Mr(I);for(;P!==null;)wt=P,bh(P),P=P.sibling;wt=I,bm=Se,pc=lt}I_(h)}else I.subtreeFlags&8772&&P!==null?(P.return=I,wt=P):I_(h)}}function I_(h){for(;wt!==null;){var p=wt;if(p.flags&8772){var w=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:pc||Cu(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!pc)if(w===null)A.componentDidMount();else{var I=p.elementType===p.type?w.memoizedProps:Pr(p.type,w.memoizedProps);A.componentDidUpdate(I,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var P=p.updateQueue;P!==null&&gm(p,P,A);break;case 3:var ee=p.updateQueue;if(ee!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=te(p.child.stateNode);break;case 1:w=p.child.stateNode}gm(p,ee,w)}break;case 5:var Se=p.stateNode;w===null&&p.flags&4&&gt(Se,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&p.memoizedState===null){var Oe=p.alternate;if(Oe!==null){var lt=Oe.memoizedState;if(lt!==null){var kt=lt.dehydrated;kt!==null&&W(kt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}pc||p.flags&512&&A0(p)}catch(dn){Qr(p,p.return,dn)}}if(p===h){wt=null;break}if(w=p.sibling,w!==null){w.return=p.return,wt=w;break}wt=p.return}}function R0(h){for(;wt!==null;){var p=wt;if(p===h){wt=null;break}var w=p.sibling;if(w!==null){w.return=p.return,wt=w;break}wt=p.return}}function Mr(h){for(;wt!==null;){var p=wt;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{Cu(4,p)}catch(Oe){Qr(p,w,Oe)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var I=p.return;try{A.componentDidMount()}catch(Oe){Qr(p,I,Oe)}}var P=p.return;try{A0(p)}catch(Oe){Qr(p,P,Oe)}break;case 5:var ee=p.return;try{A0(p)}catch(Oe){Qr(p,ee,Oe)}}}catch(Oe){Qr(p,p.return,Oe)}if(p===h){wt=null;break}var Se=p.sibling;if(Se!==null){Se.return=p.return,wt=Se;break}wt=p.return}}var Id=0,Ah=1,Zo=2,kd=3,gc=4;if(typeof Symbol=="function"&&Symbol.for){var ca=Symbol.for;Id=ca("selector.component"),Ah=ca("selector.has_pseudo_class"),Zo=ca("selector.role"),kd=ca("selector.test_id"),gc=ca("selector.text")}function Tm(h){var p=je(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(s(364));return p}if(h=Kt(h),h===null)throw Error(s(362));return h.stateNode.current}function zr(h,p){switch(p.$$typeof){case Id:if(h.type===p.value)return!0;break;case Ah:e:{p=p.value,h=[h,0];for(var w=0;w<h.length;){var A=h[w++],I=h[w++],P=p[I];if(A.tag!==5||!Me(A)){for(;P!=null&&zr(A,P);)I++,P=p[I];if(I===p.length){p=!0;break e}else for(A=A.child;A!==null;)h.push(A,I),A=A.sibling}}p=!1}return p;case Zo:if(h.tag===5&&Je(h.stateNode,p.value))return!0;break;case gc:if((h.tag===5||h.tag===6)&&(h=q(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case kd:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Mh(h){switch(h.$$typeof){case Id:return"<"+(F(h.value)||"Unknown")+">";case Ah:return":has("+(Mh(h)||"")+")";case Zo:return'[role="'+h.value+'"]';case gc:return'"'+h.value+'"';case kd:return'[data-testname="'+h.value+'"]';default:throw Error(s(365))}}function k_(h,p){var w=[];h=[h,0];for(var A=0;A<h.length;){var I=h[A++],P=h[A++],ee=p[P];if(I.tag!==5||!Me(I)){for(;ee!=null&&zr(I,ee);)P++,ee=p[P];if(P===p.length)w.push(I);else for(I=I.child;I!==null;)h.push(I,P),I=I.sibling}}return w}function I0(h,p){if(!qt)throw Error(s(363));h=Tm(h),h=k_(h,p),p=[],h=Array.from(h);for(var w=0;w<h.length;){var A=h[w++];if(A.tag===5)Me(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)h.push(A),A=A.sibling}return p}var nA=Math.ceil,Ld=a.ReactCurrentDispatcher,k0=a.ReactCurrentOwner,pi=a.ReactCurrentBatchConfig,Sn=0,Zi=null,er=null,Pi=0,es=0,Fd=Yt(0),Ni=0,Dd=null,Pd=0,Bm=0,L0=0,Nd=null,qr=null,F0=0,Th=1/0;function vc(){Th=Er()+500}var Bh=!1,Rm=null,da=null,Im=!1,Fl=null,Rh=0,Ih=0,km=null,Lm=-1,Od=0;function jr(){return Sn&6?Er():Lm!==-1?Lm:Lm=Er()}function Qa(h){return h.mode&1?Sn&2&&Pi!==0?Pi&-Pi:qb.transition!==null?(Od===0&&(h=dd,dd<<=1,!(dd&4194240)&&(dd=64),Od=h),Od):(h=Wn,h!==0?h:rt()):1}function Ts(h,p,w){if(50<Ih)throw Ih=0,km=null,Error(s(185));var A=zd(h,p);return A===null?null:(hd(A,p,w),(!(Sn&2)||A!==Zi)&&(A===Zi&&(!(Sn&2)&&(Bm|=p),Ni===4&&bu(A,Pi)),Xt(A,w),p===1&&Sn===0&&!(h.mode&1)&&(vc(),dm&&ea())),A)}function zd(h,p){h.lanes|=p;var w=h.alternate;for(w!==null&&(w.lanes|=p),w=h,h=h.return;h!==null;)h.childLanes|=p,w=h.alternate,w!==null&&(w.childLanes|=p),w=h,h=h.return;return w.tag===3?w.stateNode:null}function Xt(h,p){var w=h.callbackNode;Gb(h,p);var A=rh(h,h===Zi?Pi:0);if(A===0)w!==null&&q1(w),h.callbackNode=null,h.callbackPriority=0;else if(p=A&-A,h.callbackPriority!==p){if(w!=null&&q1(w),p===1)h.tag===0?Jb(D_.bind(null,h)):j1(D_.bind(null,h)),It?Rt(function(){Sn===0&&ea()}):um(oh,ea),w=null;else{switch(J1(A)){case 1:w=oh;break;case 4:w=Kb;break;case 16:w=r0;break;case 536870912:w=$b;break;default:w=r0}w=Nm(w,L_.bind(null,h))}h.callbackPriority=p,h.callbackNode=w}}function L_(h,p){if(Lm=-1,Od=0,Sn&6)throw Error(s(327));var w=h.callbackNode;if(Tu()&&h.callbackNode!==w)return null;var A=rh(h,h===Zi?Pi:0);if(A===0)return null;if(A&30||A&h.expiredLanes||p)p=Xr(h,A);else{p=A;var I=Sn;Sn|=2;var P=N0();(Zi!==h||Pi!==p)&&(vc(),Ya(h,p));do try{O0();break}catch(Se){Fm(h,Se)}while(1);hm(),Ld.current=P,Sn=I,er!==null?p=0:(Zi=null,Pi=0,p=Ni)}if(p!==0){if(p===2&&(I=am(h),I!==0&&(A=I,p=D0(h,I))),p===1)throw w=Dd,Ya(h,0),bu(h,A),Xt(h,Er()),w;if(p===6)bu(h,A);else{if(I=h.current.alternate,!(A&30)&&!F_(I)&&(p=Xr(h,A),p===2&&(P=am(h),P!==0&&(A=P,p=D0(h,P))),p===1))throw w=Dd,Ya(h,0),bu(h,A),Xt(h,Er()),w;switch(h.finishedWork=I,h.finishedLanes=A,p){case 0:case 1:throw Error(s(345));case 2:Mu(h,qr);break;case 3:if(bu(h,A),(A&130023424)===A&&(p=F0+500-Er(),10<p)){if(rh(h,0)!==0)break;if(I=h.suspendedLanes,(I&A)!==A){jr(),h.pingedLanes|=h.suspendedLanes&I;break}h.timeoutHandle=mt(Mu.bind(null,h,qr),p);break}Mu(h,qr);break;case 4:if(bu(h,A),(A&4194240)===A)break;for(p=h.eventTimes,I=-1;0<A;){var ee=31-ci(A);P=1<<ee,ee=p[ee],ee>I&&(I=ee),A&=~P}if(A=I,A=Er()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*nA(A/1960))-A,10<A){h.timeoutHandle=mt(Mu.bind(null,h,qr),A);break}Mu(h,qr);break;case 5:Mu(h,qr);break;default:throw Error(s(329))}}}return Xt(h,Er()),h.callbackNode===w?L_.bind(null,h):null}function D0(h,p){var w=Nd;return h.current.memoizedState.isDehydrated&&(Ya(h,p).flags|=256),h=Xr(h,p),h!==2&&(p=qr,qr=w,p!==null&&yc(p)),h}function yc(h){qr===null?qr=h:qr.push.apply(qr,h)}function F_(h){for(var p=h;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var I=w[A],P=I.getSnapshot;I=I.value;try{if(!Wa(P(),I))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function bu(h,p){for(p&=~L0,p&=~Bm,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var w=31-ci(p),A=1<<w;h[w]=-1,p&=~A}}function D_(h){if(Sn&6)throw Error(s(327));Tu();var p=rh(h,0);if(!(p&1))return Xt(h,Er()),null;var w=Xr(h,p);if(h.tag!==0&&w===2){var A=am(h);A!==0&&(p=A,w=D0(h,A))}if(w===1)throw w=Dd,Ya(h,0),bu(h,p),Xt(h,Er()),w;if(w===6)throw Error(s(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,Mu(h,qr),Xt(h,Er()),null}function ts(h){Fl!==null&&Fl.tag===0&&!(Sn&6)&&Tu();var p=Sn;Sn|=1;var w=pi.transition,A=Wn;try{if(pi.transition=null,Wn=1,h)return h()}finally{Wn=A,pi.transition=w,Sn=p,!(Sn&6)&&ea()}}function P0(){es=Fd.current,Zt(Fd)}function Ya(h,p){h.finishedWork=null,h.finishedLanes=0;var w=h.timeoutHandle;if(w!==_t&&(h.timeoutHandle=_t,ft(w)),er!==null)for(w=er.return;w!==null;){var A=w;switch(mo(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Cr();break;case 3:Ed(),Zt(gn),Zt(Qn),Tt();break;case 5:yu(A);break;case 4:Ed();break;case 13:Zt(pe);break;case 19:Zt(pe);break;case 10:pm(A.type._context);break;case 22:case 23:P0()}w=w.return}if(Zi=h,er=h=Dl(h.current,null),Pi=es=p,Ni=0,Dd=null,L0=Bm=Pd=0,qr=Nd=null,Va!==null){for(p=0;p<Va.length;p++)if(w=Va[p],A=w.interleaved,A!==null){w.interleaved=null;var I=A.next,P=w.pending;if(P!==null){var ee=P.next;P.next=I,A.next=ee}w.pending=A}Va=null}return h}function Fm(h,p){do{var w=er;try{if(hm(),an.current=Td,vo){for(var A=rn.memoizedState;A!==null;){var I=A.queue;I!==null&&(I.pending=null),A=A.next}vo=!1}if(vi=0,Ar=br=rn=null,Su=!1,hh=0,k0.current=null,w===null||w.return===null){Ni=1,Dd=p,er=null;break}e:{var P=h,ee=w.return,Se=w,Oe=p;if(p=Pi,Se.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var lt=Oe,kt=Se,dn=kt.tag;if(!(kt.mode&1)&&(dn===0||dn===11||dn===15)){var $t=kt.alternate;$t?(kt.updateQueue=$t.updateQueue,kt.memoizedState=$t.memoizedState,kt.lanes=$t.lanes):(kt.updateQueue=null,kt.memoizedState=null)}var Yn=p_(ee);if(Yn!==null){Yn.flags&=-257,m_(Yn,ee,Se,P,p),Yn.mode&1&&h_(P,lt,p),p=Yn,Oe=lt;var Ht=p.updateQueue;if(Ht===null){var Zr=new Set;Zr.add(Oe),p.updateQueue=Zr}else Ht.add(Oe);break e}else{if(!(p&1)){h_(P,lt,p),Dm();break e}Oe=Error(s(426))}}else if(hi&&Se.mode&1){var ns=p_(ee);if(ns!==null){!(ns.flags&65536)&&(ns.flags|=256),m_(ns,ee,Se,P,p),dh(Oe);break e}}P=Oe,Ni!==4&&(Ni=2),Nd===null?Nd=[P]:Nd.push(P),Oe=dc(Oe,Se),Se=ee;do{switch(Se.tag){case 3:Se.flags|=65536,p&=-p,Se.lanes|=p;var be=hc(Se,Oe,p);fi(Se,be);break e;case 1:P=Oe;var xe=Se.type,Pe=Se.stateNode;if(!(Se.flags&128)&&(typeof xe.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(da===null||!da.has(Pe)))){Se.flags|=65536,p&=-p,Se.lanes|=p;var bt=f_(Se,P,p);fi(Se,bt);break e}}Se=Se.return}while(Se!==null)}kh(w)}catch(Gt){p=Gt,er===w&&w!==null&&(er=w=w.return);continue}break}while(1)}function N0(){var h=Ld.current;return Ld.current=Td,h===null?Td:h}function Dm(){(Ni===0||Ni===3||Ni===2)&&(Ni=4),Zi===null||!(Pd&268435455)&&!(Bm&268435455)||bu(Zi,Pi)}function Xr(h,p){var w=Sn;Sn|=2;var A=N0();Zi===h&&Pi===p||Ya(h,p);do try{Au();break}catch(I){Fm(h,I)}while(1);if(hm(),Sn=w,Ld.current=A,er!==null)throw Error(s(261));return Zi=null,Pi=0,Ni}function Au(){for(;er!==null;)z0(er)}function O0(){for(;er!==null&&!Wb();)z0(er)}function z0(h){var p=H0(h.alternate,h,es);h.memoizedProps=h.pendingProps,p===null?kh(h):er=p,k0.current=null}function kh(h){var p=h;do{var w=p.alternate;if(h=p.return,p.flags&32768){if(w=Zb(w,p),w!==null){w.flags&=32767,er=w;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Ni=6,er=null;return}}else if(w=Xb(w,p,es),w!==null){er=w;return}if(p=p.sibling,p!==null){er=p;return}er=p=h}while(p!==null);Ni===0&&(Ni=5)}function Mu(h,p){var w=Wn,A=pi.transition;try{pi.transition=null,Wn=1,U0(h,p,w)}finally{pi.transition=A,Wn=w}return null}function U0(h,p,w){do Tu();while(Fl!==null);if(Sn&6)throw Error(s(327));var A=h.finishedWork,I=h.finishedLanes;if(A===null)return null;if(h.finishedWork=null,h.finishedLanes=0,A===h.current)throw Error(s(177));h.callbackNode=null,h.callbackPriority=0;var P=A.lanes|A.childLanes;if($1(h,P),h===Zi&&(er=Zi=null,Pi=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Im||(Im=!0,Nm(r0,function(){return Tu(),null})),P=(A.flags&15990)!==0,A.subtreeFlags&15990||P){P=pi.transition,pi.transition=null;var ee=Wn;Wn=1;var Se=Sn;Sn|=4,k0.current=null,b0(h,A),R_(h,A),$(h.containerInfo),h.current=A,tA(A),Vb(),Sn=Se,Wn=ee,pi.transition=P}else h.current=A;if(Im&&(Im=!1,Fl=h,Rh=I),P=h.pendingLanes,P===0&&(da=null),di(A.stateNode),Xt(h,Er()),p!==null)for(w=h.onRecoverableError,A=0;A<p.length;A++)w(p[A]);if(Bh)throw Bh=!1,h=Rm,Rm=null,h;return Rh&1&&h.tag!==0&&Tu(),P=h.pendingLanes,P&1?h===km?Ih++:(Ih=0,km=h):Ih=0,ea(),null}function Tu(){if(Fl!==null){var h=J1(Rh),p=pi.transition,w=Wn;try{if(pi.transition=null,Wn=16>h?16:h,Fl===null)var A=!1;else{if(h=Fl,Fl=null,Rh=0,Sn&6)throw Error(s(331));var I=Sn;for(Sn|=4,wt=h.current;wt!==null;){var P=wt,ee=P.child;if(wt.flags&16){var Se=P.deletions;if(Se!==null){for(var Oe=0;Oe<Se.length;Oe++){var lt=Se[Oe];for(wt=lt;wt!==null;){var kt=wt;switch(kt.tag){case 0:case 11:case 15:la(8,kt,P)}var dn=kt.child;if(dn!==null)dn.return=kt,wt=dn;else for(;wt!==null;){kt=wt;var $t=kt.sibling,Yn=kt.return;if(Xa(kt),kt===lt){wt=null;break}if($t!==null){$t.return=Yn,wt=$t;break}wt=Yn}}}var Ht=P.alternate;if(Ht!==null){var Zr=Ht.child;if(Zr!==null){Ht.child=null;do{var ns=Zr.sibling;Zr.sibling=null,Zr=ns}while(Zr!==null)}}wt=P}}if(P.subtreeFlags&2064&&ee!==null)ee.return=P,wt=ee;else e:for(;wt!==null;){if(P=wt,P.flags&2048)switch(P.tag){case 0:case 11:case 15:la(9,P,P.return)}var be=P.sibling;if(be!==null){be.return=P.return,wt=be;break e}wt=P.return}}var xe=h.current;for(wt=xe;wt!==null;){ee=wt;var Pe=ee.child;if(ee.subtreeFlags&2064&&Pe!==null)Pe.return=ee,wt=Pe;else e:for(ee=xe;wt!==null;){if(Se=wt,Se.flags&2048)try{switch(Se.tag){case 0:case 11:case 15:Cu(9,Se)}}catch(Gt){Qr(Se,Se.return,Gt)}if(Se===ee){wt=null;break e}var bt=Se.sibling;if(bt!==null){bt.return=Se.return,wt=bt;break e}wt=Se.return}}if(Sn=I,ea(),Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(cm,h)}catch{}A=!0}return A}finally{Wn=w,pi.transition=p}}return!1}function Pm(h,p,w){p=dc(w,p),p=hc(h,p,1),ta(h,p),p=jr(),h=zd(h,1),h!==null&&(hd(h,1,p),Xt(h,p))}function Qr(h,p,w){if(h.tag===3)Pm(h,h,w);else for(;p!==null;){if(p.tag===3){Pm(p,h,w);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(da===null||!da.has(A))){h=dc(w,h),h=f_(p,h,1),ta(p,h),h=jr(),p=zd(p,1),p!==null&&(hd(p,1,h),Xt(p,h));break}}p=p.return}}function Bu(h,p,w){var A=h.pingCache;A!==null&&A.delete(p),p=jr(),h.pingedLanes|=h.suspendedLanes&w,Zi===h&&(Pi&w)===w&&(Ni===4||Ni===3&&(Pi&130023424)===Pi&&500>Er()-F0?Ya(h,0):L0|=w),Xt(h,p)}function P_(h,p){p===0&&(h.mode&1?(p=fd,fd<<=1,!(fd&130023424)&&(fd=4194304)):p=1);var w=jr();h=zd(h,p),h!==null&&(hd(h,p,w),Xt(h,w))}function Ru(h){var p=h.memoizedState,w=0;p!==null&&(w=p.retryLane),P_(h,w)}function N_(h,p){var w=0;switch(h.tag){case 13:var A=h.stateNode,I=h.memoizedState;I!==null&&(w=I.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(s(314))}A!==null&&A.delete(p),P_(h,w)}var H0;H0=function(h,p,w){if(h!==null)if(h.memoizedProps!==p.pendingProps||gn.current)Qo=!0;else{if(!(h.lanes&w)&&!(p.flags&128))return Qo=!1,Yb(h,p,w);Qo=!!(h.flags&131072)}else Qo=!1,hi&&p.flags&1048576&&Z1(p,uh,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var I=wr(p,Qn.current);lc(p,w),I=$n(null,p,A,h,I,w);var P=p0();return p.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Xi(A)?(P=!0,Xn(p)):P=!1,p.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,l0(p),I.updater=vm,p.stateNode=I,I._reactInternals=p,gd(p,A,h,w),p=x0(null,p,A,!0,P,w)):(p.tag=0,hi&&P&&ym(p),Di(null,p,I,w),p=p.child),p;case 16:A=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,I=A._init,A=I(A._payload),p.type=A,I=p.tag=O_(A),h=Pr(A,h),I){case 0:p=aa(null,p,A,h,w);break e;case 1:p=x_(null,p,A,h,w);break e;case 11:p=g_(null,p,A,h,w);break e;case 14:p=v_(null,p,A,Pr(A.type,h),w);break e}throw Error(s(306,A,""))}return p;case 0:return A=p.type,I=p.pendingProps,I=p.elementType===A?I:Pr(A,I),aa(h,p,A,I,w);case 1:return A=p.type,I=p.pendingProps,I=p.elementType===A?I:Pr(A,I),x_(h,p,A,I,w);case 3:e:{if(w_(p),h===null)throw Error(s(387));A=p.pendingProps,P=p.memoizedState,I=P.element,u0(h,p),na(p,A,null,w);var ee=p.memoizedState;if(A=ee.element,Ae&&P.isDehydrated)if(P={element:A,isDehydrated:!1,cache:ee.cache,transitions:ee.transitions},p.updateQueue.baseState=P,p.memoizedState=P,p.flags&256){I=Error(s(423)),p=C_(h,p,A,w,I);break e}else if(A!==I){I=Error(s(424)),p=C_(h,p,A,w,I);break e}else for(Ae&&(Or=ge(p.stateNode.containerInfo),go=p,hi=!0,oa=null,yd=!1),w=i_(p,null,A,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Sd(),A===I){p=fr(h,p,w);break e}Di(h,p,A,w)}p=p.child}return p;case 5:return r_(p),h===null&&f0(p),A=p.type,I=p.pendingProps,P=h!==null?h.memoizedProps:null,ee=I.children,Ne(A,I)?ee=null:P!==null&&Ne(A,P)&&(p.flags|=32),__(h,p),Di(h,p,ee,w),p.child;case 6:return h===null&&f0(p),null;case 13:return E_(h,p,w);case 4:return h0(p,p.stateNode.containerInfo),A=p.pendingProps,h===null?p.child=xd(p,null,A,w):Di(h,p,A,w),p.child;case 11:return A=p.type,I=p.pendingProps,I=p.elementType===A?I:Pr(A,I),g_(h,p,A,I,w);case 7:return Di(h,p,p.pendingProps,w),p.child;case 8:return Di(h,p,p.pendingProps.children,w),p.child;case 12:return Di(h,p,p.pendingProps.children,w),p.child;case 10:e:{if(A=p.type._context,I=p.pendingProps,P=p.memoizedProps,ee=I.value,a0(p,A,ee),P!==null)if(Wa(P.value,ee)){if(P.children===I.children&&!gn.current){p=fr(h,p,w);break e}}else for(P=p.child,P!==null&&(P.return=p);P!==null;){var Se=P.dependencies;if(Se!==null){ee=P.child;for(var Oe=Se.firstContext;Oe!==null;){if(Oe.context===A){if(P.tag===1){Oe=Kr(-1,w&-w),Oe.tag=2;var lt=P.updateQueue;if(lt!==null){lt=lt.shared;var kt=lt.pending;kt===null?Oe.next=Oe:(Oe.next=kt.next,kt.next=Oe),lt.pending=Oe}}P.lanes|=w,Oe=P.alternate,Oe!==null&&(Oe.lanes|=w),mm(P.return,w,p),Se.lanes|=w;break}Oe=Oe.next}}else if(P.tag===10)ee=P.type===p.type?null:P.child;else if(P.tag===18){if(ee=P.return,ee===null)throw Error(s(341));ee.lanes|=w,Se=ee.alternate,Se!==null&&(Se.lanes|=w),mm(ee,w,p),ee=P.sibling}else ee=P.child;if(ee!==null)ee.return=P;else for(ee=P;ee!==null;){if(ee===p){ee=null;break}if(P=ee.sibling,P!==null){P.return=ee.return,ee=P;break}ee=ee.return}P=ee}Di(h,p,I.children,w),p=p.child}return p;case 9:return I=p.type,A=p.pendingProps.children,lc(p,w),I=gi(I),A=A(I),p.flags|=1,Di(h,p,A,w),p.child;case 14:return A=p.type,I=Pr(A,p.pendingProps),I=Pr(A.type,I),v_(h,p,A,I,w);case 15:return y_(h,p,p.type,p.pendingProps,w);case 17:return A=p.type,I=p.pendingProps,I=p.elementType===A?I:Pr(A,I),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Xi(A)?(h=!0,Xn(p)):h=!1,lc(p,w),Y1(p,A,I),gd(p,A,I,w),x0(null,p,A,!0,h,w);case 19:return M_(h,p,w);case 22:return S_(h,p,w)}throw Error(s(156,p.tag))};function Nm(h,p){return um(h,p)}function iA(h,p,w,A){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(h,p,w,A){return new iA(h,p,w,A)}function G0(h){return h=h.prototype,!(!h||!h.isReactComponent)}function O_(h){if(typeof h=="function")return G0(h)?1:0;if(h!=null){if(h=h.$$typeof,h===_)return 11;if(h===C)return 14}return 2}function Dl(h,p){var w=h.alternate;return w===null?(w=Bs(h.tag,p,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=p,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&14680064,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,p=h.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w}function Om(h,p,w,A,I,P){var ee=2;if(A=h,typeof h=="function")G0(h)&&(ee=1);else if(typeof h=="string")ee=5;else e:switch(h){case c:return Iu(w.children,I,P,p);case d:ee=8,I|=8;break;case m:return h=Bs(12,w,p,I|2),h.elementType=m,h.lanes=P,h;case S:return h=Bs(13,w,p,I),h.elementType=S,h.lanes=P,h;case x:return h=Bs(19,w,p,I),h.elementType=x,h.lanes=P,h;case M:return Lh(w,I,P,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case v:ee=10;break e;case y:ee=9;break e;case _:ee=11;break e;case C:ee=14;break e;case b:ee=16,A=null;break e}throw Error(s(130,h==null?h:typeof h,""))}return p=Bs(ee,w,p,I),p.elementType=h,p.type=A,p.lanes=P,p}function Iu(h,p,w,A){return h=Bs(7,h,A,p),h.lanes=w,h}function Lh(h,p,w,A){return h=Bs(22,h,A,p),h.elementType=M,h.lanes=w,h.stateNode={},h}function Yr(h,p,w){return h=Bs(6,h,null,p),h.lanes=w,h}function Rs(h,p,w){return p=Bs(4,h.children!==null?h.children:[],h.key,p),p.lanes=w,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function rA(h,p,w,A,I){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_t,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lm(0),this.expirationTimes=lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lm(0),this.identifierPrefix=A,this.onRecoverableError=I,Ae&&(this.mutableSourceEagerHydrationData=null)}function z_(h,p,w,A,I,P,ee,Se,Oe){return h=new rA(h,p,w,Se,Oe),p===1?(p=1,P===!0&&(p|=8)):p=0,P=Bs(3,null,null,p),h.current=P,P.stateNode=h,P.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null},l0(P),h}function Fh(h){if(!h)return un;h=h._reactInternals;e:{if(N(h)!==h||h.tag!==1)throw Error(s(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Xi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(s(171))}if(h.tag===1){var w=h.type;if(Xi(w))return Qi(h,w,p)}return p}function Sc(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return h=oe(p),h===null?null:h.stateNode}function W0(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<p?w:p}}function zm(h,p){W0(h,p),(h=h.alternate)&&W0(h,p)}function oA(h){return h=oe(h),h===null?null:h.stateNode}function U_(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var p=jr();Ts(h,134217728,p),zm(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=jr(),w=Qa(h);Ts(h,w,p),zm(h,w)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var w=Ha(p.pendingLanes);w!==0&&(i0(p,w|1),Xt(p,Er()),!(Sn&6)&&(vc(),ea()))}break;case 13:var A=jr();ts(function(){return Ts(h,1,A)}),zm(h,1)}},t.batchedUpdates=function(h,p){var w=Sn;Sn|=1;try{return h(p)}finally{Sn=w,Sn===0&&(vc(),dm&&ea())}},t.createComponentSelector=function(h){return{$$typeof:Id,value:h}},t.createContainer=function(h,p,w,A,I,P,ee){return z_(h,p,!1,null,w,A,I,P,ee)},t.createHasPseudoClassSelector=function(h){return{$$typeof:Ah,value:h}},t.createHydrationContainer=function(h,p,w,A,I,P,ee,Se,Oe){return h=z_(w,A,!0,h,I,P,ee,Se,Oe),h.context=Fh(null),w=h.current,A=jr(),I=Qa(w),P=Kr(A,I),P.callback=p??null,ta(w,P),h.current.lanes=I,hd(h,I,A),Xt(h,A),h},t.createPortal=function(h,p,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:A==null?null:""+A,children:h,containerInfo:p,implementation:w}},t.createRoleSelector=function(h){return{$$typeof:Zo,value:h}},t.createTestNameSelector=function(h){return{$$typeof:kd,value:h}},t.createTextSelector=function(h){return{$$typeof:gc,value:h}},t.deferredUpdates=function(h){var p=Wn,w=pi.transition;try{return pi.transition=null,Wn=16,h()}finally{Wn=p,pi.transition=w}},t.discreteUpdates=function(h,p,w,A,I){var P=Wn,ee=pi.transition;try{return pi.transition=null,Wn=1,h(p,w,A,I)}finally{Wn=P,pi.transition=ee,Sn===0&&vc()}},t.findAllNodes=I0,t.findBoundingRects=function(h,p){if(!qt)throw Error(s(363));p=I0(h,p),h=[];for(var w=0;w<p.length;w++)h.push(Z(p[w]));for(p=h.length-1;0<p;p--){w=h[p];for(var A=w.x,I=A+w.width,P=w.y,ee=P+w.height,Se=p-1;0<=Se;Se--)if(p!==Se){var Oe=h[Se],lt=Oe.x,kt=lt+Oe.width,dn=Oe.y,$t=dn+Oe.height;if(A>=lt&&P>=dn&&I<=kt&&ee<=$t){h.splice(p,1);break}else if(A!==lt||w.width!==Oe.width||$t<P||dn>ee){if(!(P!==dn||w.height!==Oe.height||kt<A||lt>I)){lt>A&&(Oe.width+=lt-A,Oe.x=A),kt<I&&(Oe.width=I-lt),h.splice(p,1);break}}else{dn>P&&(Oe.height+=dn-P,Oe.y=P),$t<ee&&(Oe.height=ee-dn),h.splice(p,1);break}}}return h},t.findHostInstance=Sc,t.findHostInstanceWithNoPortals=function(h){return h=G(h),h=h!==null?j(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return Sc(h)},t.flushControlled=function(h){var p=Sn;Sn|=1;var w=pi.transition,A=Wn;try{pi.transition=null,Wn=1,h()}finally{Wn=A,pi.transition=w,Sn=p,Sn===0&&(vc(),ea())}},t.flushPassiveEffects=Tu,t.flushSync=ts,t.focusWithin=function(h,p){if(!qt)throw Error(s(363));for(h=Tm(h),p=k_(h,p),p=Array.from(p),h=0;h<p.length;){var w=p[h++];if(!Me(w)){if(w.tag===5&&it(w.stateNode))return!0;for(w=w.child;w!==null;)p.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Wn},t.getFindAllNodesFailureDescription=function(h,p){if(!qt)throw Error(s(363));var w=0,A=[];h=[Tm(h),0];for(var I=0;I<h.length;){var P=h[I++],ee=h[I++],Se=p[ee];if((P.tag!==5||!Me(P))&&(zr(P,Se)&&(A.push(Mh(Se)),ee++,ee>w&&(w=ee)),ee<p.length))for(P=P.child;P!==null;)h.push(P,ee),P=P.sibling}if(w<p.length){for(h=[];w<p.length;w++)h.push(Mh(p[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return te(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:oA,findFiberByHostInstance:h.findFiberByHostInstance||U_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{cm=p.inject(h),Ga=p}catch{}h=!!p.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,p,w,A){if(!qt)throw Error(s(363));h=I0(h,p);var I=ot(h,w,A).disconnect;return{disconnect:function(){I()}}},t.registerMutableSourceForHydration=function(h,p){var w=p._getVersion;w=w(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,w]:h.mutableSourceEagerHydrationData.push(p,w)},t.runWithPriority=function(h,p){var w=Wn;try{return Wn=h,p()}finally{Wn=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,p,w,A){var I=p.current,P=jr(),ee=Qa(I);return w=Fh(w),p.context===null?p.context=w:p.pendingContext=w,p=Kr(P,ee),p.payload={element:h},A=A===void 0?null:A,A!==null&&(p.callback=A),ta(I,p),h=Ts(I,ee,P),h!==null&&md(h,I,ee),ee},t};o7.exports=gye;var vye=o7.exports;const yye=kE(vye);var s7={exports:{}},a7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,V){var $=O.length;O.push(V);e:for(;0<$;){var ie=$-1>>>1,ae=O[ie];if(0<r(ae,V))O[ie]=V,O[$]=ae,$=ie;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var V=O[0],$=O.pop();if($!==V){O[0]=$;e:for(var ie=0,ae=O.length,Ce=ae>>>1;ie<Ce;){var Fe=2*(ie+1)-1,Ne=O[Fe],he=Fe+1,mt=O[he];if(0>r(Ne,$))he<ae&&0>r(mt,Ne)?(O[ie]=mt,O[he]=$,ie=he):(O[ie]=Ne,O[Fe]=$,ie=Fe);else if(he<ae&&0>r(mt,$))O[ie]=mt,O[he]=$,ie=he;else break e}}return V}function r(O,V){var $=O.sortIndex-V.sortIndex;return $!==0?$:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,m=3,v=!1,y=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var V=t(u);V!==null;){if(V.callback===null)i(u);else if(V.startTime<=O)i(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(u)}}function M(O){if(_=!1,b(O),!y)if(t(l)!==null)y=!0,te(B);else{var V=t(u);V!==null&&de(M,V.startTime-O)}}function B(O,V){y=!1,_&&(_=!1,x(R),R=-1),v=!0;var $=m;try{for(b(V),d=t(l);d!==null&&(!(d.expirationTime>V)||O&&!G());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,m=d.priorityLevel;var ae=ie(d.expirationTime<=V);V=n.unstable_now(),typeof ae=="function"?d.callback=ae:d===t(l)&&i(l),b(V)}else i(l);d=t(l)}if(d!==null)var Ce=!0;else{var Fe=t(u);Fe!==null&&de(M,Fe.startTime-V),Ce=!1}return Ce}finally{d=null,m=$,v=!1}}var k=!1,F=null,R=-1,N=5,U=-1;function G(){return!(n.unstable_now()-U<N)}function oe(){if(F!==null){var O=n.unstable_now();U=O;var V=!0;try{V=F(!0,O)}finally{V?me():(k=!1,F=null)}}else k=!1}var me;if(typeof C=="function")me=function(){C(oe)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ne=j.port2;j.port1.onmessage=oe,me=function(){ne.postMessage(null)}}else me=function(){S(oe,0)};function te(O){F=O,k||(k=!0,me())}function de(O,V){R=S(function(){O(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,te(B))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var $=m;m=V;try{return O()}finally{m=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=m;m=O;try{return V()}finally{m=$}},n.unstable_scheduleCallback=function(O,V,$){var ie=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ie+$:ie):$=ie,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=$+ae,O={id:c++,callback:V,priorityLevel:O,startTime:$,expirationTime:ae,sortIndex:-1},$>ie?(O.sortIndex=$,e(u,O),t(l)===null&&O===t(u)&&(_?(x(R),R=-1):_=!0,de(M,$-ie))):(O.sortIndex=ae,e(l,O),y||v||(y=!0,te(B))),O},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(O){var V=m;return function(){var $=m;m=V;try{return O.apply(this,arguments)}finally{m=$}}}})(a7);s7.exports=a7;var RN=s7.exports;const Sye=n=>typeof n=="object"&&typeof n.then=="function",Sp=[];function l7(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function u7(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const o of Sp)if(l7(e,o.keys,o.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return i.lifespan&&i.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,i.lifespan)),o.response;if(!t)throw o.promise}const r={keys:e,equal:i.equal,remove:()=>{const o=Sp.indexOf(r);o!==-1&&Sp.splice(o,1)},promise:(Sye(n)?n:n(...e)).then(o=>{r.response=o,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(o=>r.error=o)};if(Sp.push(r),!t)throw r.promise}const _ye=(n,e,t)=>u7(n,e,!1,t),xye=(n,e,t)=>void u7(n,e,!0,t),wye=n=>{if(n===void 0||n.length===0)Sp.splice(0,Sp.length);else{const e=Sp.find(t=>l7(n,t.keys,t.equal));e&&e.remove()}},Zk={},eL=n=>void Object.assign(Zk,n);function Cye(n,e){function t(c,{args:d=[],attach:m,...v},y){let _=`${c[0].toUpperCase()}${c.slice(1)}`,S;if(c==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=v.object;S=Cg(x,{type:c,root:y,attach:m,primitive:!0})}else{const x=Zk[_];if(!x)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");S=Cg(new x(...d),{type:c,root:y,attach:m,memoizedProps:{args:d}})}return S.__r3f.attach===void 0&&(S instanceof cn?S.__r3f.attach="geometry":S instanceof kr&&(S.__r3f.attach="material")),_!=="inject"&&jM(S,v),S}function i(c,d){let m=!1;if(d){var v,y;(v=d.__r3f)!=null&&v.attach?qM(c,d,d.__r3f.attach):d.isObject3D&&c.isObject3D&&(c.add(d),m=!0),m||(y=c.__r3f)==null||y.objects.push(d),d.__r3f||Cg(d,{}),d.__r3f.parent=c,GR(d),Eg(d)}}function r(c,d,m){let v=!1;if(d){var y,_;if((y=d.__r3f)!=null&&y.attach)qM(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){d.parent=c,d.dispatchEvent({type:"added"});const S=c.children.filter(C=>C!==d),x=S.indexOf(m);c.children=[...S.slice(0,x),d,...S.slice(x)],v=!0}v||(_=c.__r3f)==null||_.objects.push(d),d.__r3f||Cg(d,{}),d.__r3f.parent=c,GR(d),Eg(d)}}function o(c,d,m=!1){c&&[...c].forEach(v=>s(d,v,m))}function s(c,d,m){if(d){var v,y,_;if(d.__r3f&&(d.__r3f.parent=null),(v=c.__r3f)!=null&&v.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==d)),(y=d.__r3f)!=null&&y.attach)DN(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){var S;c.remove(d),(S=d.__r3f)!=null&&S.root&&Rye(d.__r3f.root,d)}const C=(_=d.__r3f)==null?void 0:_.primitive,b=m===void 0?d.dispose!==null&&!C:m;if(!C){var x;o((x=d.__r3f)==null?void 0:x.objects,d,b),o(d.children,d,b)}delete d.__r3f,b&&d.dispose&&d.type!=="Scene"&&RN.unstable_scheduleCallback(RN.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Eg(c)}}function a(c,d,m,v){var y;const _=(y=c.__r3f)==null?void 0:y.parent;if(!_)return;const S=t(d,m,c.__r3f.root);if(c.children){for(const x of c.children)x.__r3f&&i(S,x);c.children=c.children.filter(x=>!x.__r3f)}c.__r3f.objects.forEach(x=>i(S,x)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||s(_,c),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),i(_,S),S.raycast&&S.__r3f.eventCount&&S.__r3f.root.getState().internal.interaction.push(S),[v,v.alternate].forEach(x=>{x!==null&&(x.stateNode=S,x.ref&&(typeof x.ref=="function"?x.ref(S):x.ref.current=S))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:yye({createInstance:t,removeChild:s,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,d)=>{if(!d)return;const m=c.getState().scene;m.__r3f&&(m.__r3f.root=c,i(m,d))},removeChildFromContainer:(c,d)=>{d&&s(c.getState().scene,d)},insertInContainerBefore:(c,d,m)=>{if(!d||!m)return;const v=c.getState().scene;v.__r3f&&r(v,d,m)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var d;return!!((d=c==null?void 0:c.__r3f)!=null?d:{}).handlers},prepareUpdate(c,d,m,v){var y;if(((y=c==null?void 0:c.__r3f)!=null?y:{}).primitive&&v.object&&v.object!==c)return[!0];{const{args:S=[],children:x,...C}=v,{args:b=[],children:M,...B}=m;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((F,R)=>F!==b[R]))return[!0];const k=g7(c,C,B,!0);return k.changes.length?[!1,k]:null}},commitUpdate(c,[d,m],v,y,_,S){d?a(c,v,_,S):jM(c,m)},commitMount(c,d,m,v){var y;const _=(y=c.__r3f)!=null?y:{};c.raycast&&_.handlers&&_.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Cg(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var d;const{attach:m,parent:v}=(d=c.__r3f)!=null?d:{};m&&v&&DN(v,c,m),c.isObject3D&&(c.visible=!1),Eg(c)},unhideInstance(c,d){var m;const{attach:v,parent:y}=(m=c.__r3f)!=null?m:{};v&&y&&qM(y,c,v),(c.isObject3D&&d.visible==null||d.visible)&&(c.visible=!0),Eg(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Kg.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Ai.fun(performance.now)?performance.now:Ai.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Ai.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ai.fun(clearTimeout)?clearTimeout:void 0}),applyProps:jM}}var IN,kN;const JM=n=>"colorSpace"in n||"outputColorSpace"in n,c7=()=>{var n;return(n=Zk.ColorManagement)!=null?n:null},d7=n=>n&&n.isOrthographicCamera,Eye=n=>n&&n.hasOwnProperty("current"),W1=typeof window<"u"&&((IN=window.document)!=null&&IN.createElement||((kN=window.navigator)==null?void 0:kN.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function f7(n){const e=T.useRef(n);return W1(()=>void(e.current=n),[n]),e}function bye({set:n}){return W1(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class h7 extends T.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}h7.getDerivedStateFromError=()=>({error:!0});const p7="__default",LN=new Map,Aye=n=>n&&!!n.memoized&&!!n.changes;function m7(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const xy=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Ai={obj:n=>n===Object(n)&&!Ai.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ai.str(n)||Ai.num(n))return n===e;const o=Ai.obj(n);if(o&&i==="reference")return n===e;const s=Ai.arr(n);if(s&&t==="reference")return n===e;if((s||o)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(o&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Ai.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Ai.und(a)){if(s&&n.length===0&&e.length===0||o&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Mye(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Tye(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Cg(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function HR(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((o,s)=>o[s],n),{target:t,key:r}}else return{target:t,key:e}}const FN=/-\d+$/;function qM(n,e,t){if(Ai.str(t)){if(FN.test(t)){const o=t.replace(FN,""),{target:s,key:a}=HR(n,o);Array.isArray(s[a])||(s[a]=[])}const{target:i,key:r}=HR(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function DN(n,e,t){var i,r;if(Ai.str(t)){const{target:o,key:s}=HR(n,t),a=e.__r3f.previousAttach;a===void 0?delete o[s]:o[s]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function g7(n,{children:e,key:t,ref:i,...r},{children:o,key:s,ref:a,...l}={},u=!1){var c;const d=(c=n==null?void 0:n.__r3f)!=null?c:{},m=Object.entries(r),v=[];if(u){const _=Object.keys(l);for(let S=0;S<_.length;S++)r.hasOwnProperty(_[S])||m.unshift([_[S],p7+"remove"])}m.forEach(([_,S])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&_==="object"||Ai.equ(S,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return v.push([_,S,!0,[]]);let C=[];_.includes("-")&&(C=_.split("-")),v.push([_,S,!1,C]);for(const b in r){const M=r[b];b.startsWith(`${_}-`)&&v.push([b,M,!1,b.split("-")])}});const y={...r};return d.memoizedProps&&d.memoizedProps.args&&(y.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(y.attach=d.memoizedProps.attach),{memoized:y,changes:v}}function jM(n,e){var t,i,r;const o=(t=n.__r3f)!=null?t:{},s=o.root,a=(i=s==null||s.getState==null?void 0:s.getState())!=null?i:{},{memoized:l,changes:u}=Aye(e)?e:g7(n,e),c=o.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let m=0;m<u.length;m++){let[v,y,_,S]=u[m];if(JM(n)){const M="srgb",B="srgb-linear";v==="encoding"?(v="colorSpace",y=y===3001?M:B):v==="outputEncoding"&&(v="outputColorSpace",y=y===3001?M:B)}let x=n,C=x[v];if(S.length&&(C=S.reduce((b,M)=>b[M],n),!(C&&C.set))){const[b,...M]=S.reverse();x=M.reverse().reduce((B,k)=>B[k],n),v=b}if(y===p7+"remove")if(x.constructor){let b=LN.get(x.constructor);b||(b=new x.constructor,LN.set(x.constructor,b)),y=b[v]}else y=0;if(_)y?o.handlers[v]=y:delete o.handlers[v],o.eventCount=Object.keys(o.handlers).length;else if(C&&C.set&&(C.copy||C instanceof Tp)){if(Array.isArray(y))C.fromArray?C.fromArray(y):C.set(...y);else if(C.copy&&y&&y.constructor&&C.constructor===y.constructor)C.copy(y);else if(y!==void 0){const b=C instanceof vt;!b&&C.setScalar?C.setScalar(y):C instanceof Tp&&y instanceof Tp?C.mask=y.mask:C.set(y),!c7()&&!a.linear&&b&&C.convertSRGBToLinear()}}else if(x[v]=y,x[v]instanceof Ri&&x[v].format===Vs&&x[v].type===rd){const b=x[v];JM(b)&&JM(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}Eg(n)}if(o.parent&&a.internal&&n.raycast&&c!==o.eventCount){const m=a.internal.interaction.indexOf(n);m>-1&&a.internal.interaction.splice(m,1),o.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(r=n.__r3f)!=null&&r.parent&&GR(n),n}function Eg(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function GR(n){n.onUpdate==null||n.onUpdate(n)}function v7(n,e){n.manual||(d7(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Iw(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Bye(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Kg.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Kg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Kg.ContinuousEventPriority;default:return Kg.DefaultEventPriority}}function y7(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Rye(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{y7(t.capturedMap,e,i,r)})}function Iye(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+d*d))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+c]}))}function i(l,u){const c=n.getState(),d=new Set,m=[],v=u?u(c.internal.interaction):c.internal.interaction;for(let x=0;x<v.length;x++){const C=xy(v[x]);C&&(C.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function y(x){const C=xy(x);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var b;C.events.compute==null||C.events.compute(l,C,(b=C.previousRoot)==null?void 0:b.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(x,!0):[]}let _=v.flatMap(y).sort((x,C)=>{const b=xy(x.object),M=xy(C.object);return!b||!M?x.distance-C.distance:M.events.priority-b.events.priority||x.distance-C.distance}).filter(x=>{const C=Iw(x);return d.has(C)?!1:(d.add(C),!0)});c.events.filter&&(_=c.events.filter(_,c));for(const x of _){let C=x.object;for(;C;){var S;(S=C.__r3f)!=null&&S.eventCount&&m.push({...x,eventObject:C}),C=C.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let x of c.internal.capturedMap.get(l.pointerId).values())d.has(Iw(x.intersection))||m.push(x.intersection);return m}function r(l,u,c,d){const m=n.getState();if(l.length){const v={stopped:!1};for(const y of l){const _=xy(y.object)||m,{raycaster:S,pointer:x,camera:C,internal:b}=_,M=new X(x.x,x.y,0).unproject(C),B=U=>{var G,oe;return(G=(oe=b.capturedMap.get(U))==null?void 0:oe.has(y.eventObject))!=null?G:!1},k=U=>{const G={intersection:y,target:u.target};b.capturedMap.has(U)?b.capturedMap.get(U).set(y.eventObject,G):b.capturedMap.set(U,new Map([[y.eventObject,G]])),u.target.setPointerCapture(U)},F=U=>{const G=b.capturedMap.get(U);G&&y7(b.capturedMap,y.eventObject,G,U)};let R={};for(let U in u){let G=u[U];typeof G!="function"&&(R[U]=G)}let N={...y,...R,pointer:x,intersections:l,stopped:v.stopped,delta:c,unprojectedPoint:M,ray:S.ray,camera:C,stopPropagation(){const U="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!U||U.has(y.eventObject))&&(N.stopped=v.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(G=>G.eventObject===y.eventObject))){const G=l.slice(0,l.indexOf(y));o([...G,y])}},target:{hasPointerCapture:B,setPointerCapture:k,releasePointerCapture:F},currentTarget:{hasPointerCapture:B,setPointerCapture:k,releasePointerCapture:F},nativeEvent:u};if(d(N),v.stopped===!0)break}}return l}function o(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(d=>d.object===c.object&&d.index===c.index&&d.instanceId===c.instanceId)){const m=c.eventObject.__r3f,v=m==null?void 0:m.handlers;if(u.hovered.delete(Iw(c)),m!=null&&m.eventCount){const y={...c,intersections:l};v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}}function s(l,u){for(let c=0;c<u.length;c++){const d=u[c].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),o([]))})}}return function(c){const{onPointerMissed:d,internal:m}=n.getState();m.lastEvent.current=c;const v=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",S=i(c,v?t:void 0),x=y?e(c):0;l==="onPointerDown"&&(m.initialClick=[c.offsetX,c.offsetY],m.initialHits=S.map(b=>b.eventObject)),y&&!S.length&&x<=2&&(s(c,m.interaction),d&&d(c)),v&&o(S);function C(b){const M=b.eventObject,B=M.__r3f,k=B==null?void 0:B.handlers;if(B!=null&&B.eventCount)if(v){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const F=Iw(b),R=m.hovered.get(F);R?R.stopped&&b.stopPropagation():(m.hovered.set(F,b),k.onPointerOver==null||k.onPointerOver(b),k.onPointerEnter==null||k.onPointerEnter(b))}k.onPointerMove==null||k.onPointerMove(b)}else{const F=k[l];F?(!y||m.initialHits.includes(M))&&(s(c,m.interaction.filter(R=>!m.initialHits.includes(R))),F(b)):y&&m.initialHits.includes(M)&&s(c,m.interaction.filter(R=>!m.initialHits.includes(R)))}}r(S,c,x,C)}}return{handlePointer:a}}const kye=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],S7=n=>!!(n!=null&&n.render),tL=T.createContext(null),Lye=(n,e)=>{const t=Yk((a,l)=>{const u=new X,c=new X,d=new X;function m(x=l().camera,C=c,b=l().size){const{width:M,height:B,top:k,left:F}=b,R=M/B;C instanceof X?d.copy(C):d.set(...C);const N=x.getWorldPosition(u).distanceTo(d);if(d7(x))return{width:M/x.zoom,height:B/x.zoom,top:k,left:F,factor:1,distance:N,aspect:R};{const U=x.fov*Math.PI/180,G=2*Math.tan(U/2)*N,oe=G*(M/B);return{width:oe,height:G,top:k,left:F,factor:M/oe,distance:N,aspect:R}}}let v;const y=x=>a(C=>({performance:{...C.performance,current:x}})),_=new Qe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,C)=>e(x,C,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $k,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();v&&clearTimeout(v),x.performance.current!==x.performance.min&&y(x.performance.min),v=setTimeout(()=>y(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:x=>a(C=>({...C,events:{...C.events,...x}})),setSize:(x,C,b,M,B)=>{const k=l().camera,F={width:x,height:C,top:M||0,left:B||0,updateStyle:b};a(R=>({size:F,viewport:{...R.viewport,...m(k,c,F)}}))},setDpr:x=>a(C=>{const b=m7(x);return{viewport:{...C.viewport,dpr:b,initialDpr:C.viewport.initialDpr||b}}}),setFrameloop:(x="always")=>{const C=l().clock;C.stop(),C.elapsedTime=0,x!=="never"&&(C.start(),C.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:T.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,C,b)=>{const M=l().internal;return M.priority=M.priority+(C>0?1:0),M.subscribers.push({ref:x,priority:C,store:b}),M.subscribers=M.subscribers.sort((B,k)=>B.priority-k.priority),()=>{const B=l().internal;B!=null&&B.subscribers&&(B.priority=B.priority-(C>0?1:0),B.subscribers=B.subscribers.filter(k=>k.ref!==x))}}}}}),i=t.getState();let r=i.size,o=i.viewport.dpr,s=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:d}=t.getState();if(l!==r||u.dpr!==o){var m;r=l,o=u.dpr,v7(a,l),c.setPixelRatio(u.dpr);const v=(m=l.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,v)}a!==s&&(s=a,d(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let kw,Fye=new Set,Dye=new Set,Pye=new Set;function XM(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function wy(n,e){switch(n){case"before":return XM(Fye,e);case"after":return XM(Dye,e);case"tail":return XM(Pye,e)}}let QM,YM;function ZM(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),QM=e.internal.subscribers,kw=0;kw<QM.length;kw++)YM=QM[kw],YM.ref.current(YM.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Nye(n){let e=!1,t,i,r;function o(l){i=requestAnimationFrame(o),e=!0,t=0,wy("before",l);for(const c of n.values()){var u;r=c.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((u=r.gl.xr)!=null&&u.isPresenting)&&(t+=ZM(l,r))}if(wy("after",l),t===0)return wy("tail",l),e=!1,cancelAnimationFrame(i)}function s(l,u=1){var c;if(!l)return n.forEach(d=>s(d.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(o)))}function a(l,u=!0,c,d){if(u&&wy("before",l),c)ZM(l,c,d);else for(const m of n.values())ZM(l,m.store.getState());u&&wy("after",l)}return{loop:o,invalidate:s,advance:a}}function nL(){const n=T.useContext(tL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ec(n=t=>t,e){return nL()(n,e)}function Hb(n,e=0){const t=nL(),i=t.getState().internal.subscribe,r=f7(n);return W1(()=>i(r,e,t),[e,i,t]),null}function _7(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(o=>new Promise((s,a)=>r.load(o,l=>{l.scene&&Object.assign(l,Mye(l.scene)),s(l)},e,l=>a(new Error(`Could not load ${o}: ${l.message})`))))))}}function Ml(n,e,t,i){const r=Array.isArray(e)?e:[e],o=_ye(_7(t,i),[n,...r],{equal:Ai.equ});return Array.isArray(e)?o:o[0]}Ml.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return xye(_7(t),[n,...i])};Ml.clear=function(n,e){const t=Array.isArray(e)?e:[e];return wye([n,...t])};const zv=new Map,{invalidate:PN,advance:NN}=Nye(zv),{reconciler:y1,applyProps:yg}=Cye(zv,Bye),Sg={objects:"shallow",strict:!1},Oye=(n,e)=>{const t=typeof n=="function"?n(e):n;return S7(t)?t:new Mk({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function zye(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:o}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:o}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Uye(n){const e=zv.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,o=i||Lye(PN,NN),s=t||y1.createContainer(o,Kg.ConcurrentRoot,null,!1,null,"",r,null);e||zv.set(n,{fiber:s,store:o});let a,l=!1,u;return{configure(c={}){let{gl:d,size:m,scene:v,events:y,onCreated:_,shadows:S=!1,linear:x=!1,flat:C=!1,legacy:b=!1,orthographic:M=!1,frameloop:B="always",dpr:k=[1,2],performance:F,raycaster:R,camera:N,onPointerMissed:U}=c,G=o.getState(),oe=G.gl;G.gl||G.set({gl:oe=Oye(d,n)});let me=G.raycaster;me||G.set({raycaster:me=new Qk});const{params:j,...ne}=R||{};if(Ai.equ(ne,me,Sg)||yg(me,{...ne}),Ai.equ(j,me.params,Sg)||yg(me,{params:{...me.params,...j}}),!G.camera||G.camera===u&&!Ai.equ(u,N,Sg)){u=N;const ie=N instanceof z1,ae=ie?N:M?new im(0,0,0,0,.1,1e3):new Br(75,0,.1,1e3);ie||(ae.position.z=5,N&&yg(ae,N),!G.camera&&!(N!=null&&N.rotation)&&ae.lookAt(0,0,0)),G.set({camera:ae})}if(!G.scene){let ie;v instanceof d1?ie=v:(ie=new d1,v&&yg(ie,v)),G.set({scene:Cg(ie)})}if(!G.xr){const ie=(Fe,Ne)=>{const he=o.getState();he.frameloop!=="never"&&NN(Fe,!0,he,Ne)},ae=()=>{const Fe=o.getState();Fe.gl.xr.enabled=Fe.gl.xr.isPresenting,Fe.gl.xr.setAnimationLoop(Fe.gl.xr.isPresenting?ie:null),Fe.gl.xr.isPresenting||PN(Fe)},Ce={connect(){const Fe=o.getState().gl;Fe.xr.addEventListener("sessionstart",ae),Fe.xr.addEventListener("sessionend",ae)},disconnect(){const Fe=o.getState().gl;Fe.xr.removeEventListener("sessionstart",ae),Fe.xr.removeEventListener("sessionend",ae)}};oe.xr&&Ce.connect(),G.set({xr:Ce})}if(oe.shadowMap){const ie=oe.shadowMap.enabled,ae=oe.shadowMap.type;if(oe.shadowMap.enabled=!!S,Ai.boo(S))oe.shadowMap.type=uS;else if(Ai.str(S)){var te;const Ce={basic:mH,percentage:wb,soft:uS,variance:pp};oe.shadowMap.type=(te=Ce[S])!=null?te:uS}else Ai.obj(S)&&Object.assign(oe.shadowMap,S);(ie!==oe.shadowMap.enabled||ae!==oe.shadowMap.type)&&(oe.shadowMap.needsUpdate=!0)}const de=c7();de&&("enabled"in de?de.enabled=!b:"legacyMode"in de&&(de.legacyMode=b)),yg(oe,{outputEncoding:x?3e3:3001,toneMapping:C?uu:hk}),G.legacy!==b&&G.set(()=>({legacy:b})),G.linear!==x&&G.set(()=>({linear:x})),G.flat!==C&&G.set(()=>({flat:C})),d&&!Ai.fun(d)&&!S7(d)&&!Ai.equ(d,oe,Sg)&&yg(oe,d),y&&!G.events.handlers&&G.set({events:y(o)});const $=zye(n,m);return Ai.equ($,G.size,Sg)||G.setSize($.width,$.height,$.updateStyle,$.top,$.left),k&&G.viewport.dpr!==m7(k)&&G.setDpr(k),G.frameloop!==B&&G.setFrameloop(B),G.onPointerMissed||G.set({onPointerMissed:U}),F&&!Ai.equ(F,G.performance,Sg)&&G.set(ie=>({performance:{...ie.performance,...F}})),a=_,l=!0,this},render(c){return l||this.configure(),y1.updateContainer(T.createElement(Hye,{store:o,children:c,onCreated:a,rootElement:n}),s,null,()=>{}),o},unmount(){x7(n)}}}function Hye({store:n,children:e,onCreated:t,rootElement:i}){return W1(()=>{const r=n.getState();r.set(o=>({internal:{...o.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),T.createElement(tL.Provider,{value:n},e)}function x7(n,e){const t=zv.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),y1.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var o,s,a,l;r.events.disconnect==null||r.events.disconnect(),(o=r.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Tye(r),zv.delete(n),e&&e(n)}catch{}},500)})}}function Gye(n,e,t){return T.createElement(Wye,{key:e.uuid,children:n,container:e,state:t})}function Wye({state:n={},children:e,container:t}){const{events:i,size:r,...o}=n,s=nL(),[a]=T.useState(()=>new Qk),[l]=T.useState(()=>new Qe),u=T.useCallback((d,m)=>{const v={...d};Object.keys(d).forEach(_=>{(kye.includes(_)||d[_]!==m[_]&&m[_])&&delete v[_]});let y;if(m&&r){const _=m.camera;y=d.viewport.getCurrentViewport(_,new X,r),_!==d.camera&&v7(_,r)}return{...v,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:s,events:{...d.events,...m==null?void 0:m.events,...i},size:{...d.size,...r},viewport:{...d.viewport,...y},...o}},[n]),[c]=T.useState(()=>{const d=s.getState();return Yk((v,y)=>({...d,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:s,events:{...d.events,...i},size:{...d.size,...r},...o,set:v,get:y,setEvents:_=>v(S=>({...S,events:{...S.events,..._}}))}))});return T.useEffect(()=>{const d=s.subscribe(m=>c.setState(v=>u(m,v)));return()=>{d(),c.destroy()}},[]),T.useEffect(()=>{c.setState(d=>u(s.getState(),d))},[u]),T.createElement(T.Fragment,null,y1.createPortal(T.createElement(tL.Provider,{value:c},e),c,null))}y1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:T.version});function Uv(){return Uv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Uv.apply(this,arguments)}function WR(n,e,t){var i,r,o,s,a;e==null&&(e=100);function l(){var c=Date.now()-s;c<e&&c>=0?i=setTimeout(l,e-c):(i=null,t||(a=n.apply(o,r),o=r=null))}var u=function(){o=this,r=arguments,s=Date.now();var c=t&&!i;return i||(i=setTimeout(l,e)),c&&(a=n.apply(o,r),o=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=n.apply(o,r),o=r=null,clearTimeout(i),i=null)},u}WR.debounce=WR;var Vye=WR;const ON=kE(Vye);function Kye(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const o=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,d=T.useRef(!1);T.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[m,v,y]=T.useMemo(()=>{const C=()=>{if(!l.current.element)return;const{left:b,top:M,width:B,height:k,bottom:F,right:R,x:N,y:U}=l.current.element.getBoundingClientRect(),G={left:b,top:M,width:B,height:k,bottom:F,right:R,x:N,y:U};l.current.element instanceof HTMLElement&&r&&(G.height=l.current.element.offsetHeight,G.width=l.current.element.offsetWidth),Object.freeze(G),d.current&&!jye(l.current.lastBounds,G)&&a(l.current.lastBounds=G)};return[C,c?ON(C,c):C,u?ON(C,u):C]},[a,r,u,c]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(C=>C.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function S(){l.current.element&&(l.current.resizeObserver=new o(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(C=>C.addEventListener("scroll",y,{capture:!0,passive:!0})))}const x=C=>{!C||C===l.current.element||(_(),l.current.element=C,l.current.scrollContainers=w7(C),S())};return Jye(y,!!t),$ye(v),T.useEffect(()=>{_(),S()},[t,y,v]),T.useEffect(()=>_,[]),[x,s,m]}function $ye(n){T.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Jye(n,e){T.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function w7(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...w7(n.parentElement)]}const qye=["x","y","top","bottom","left","right","width","height"],jye=(n,e)=>qye.every(t=>n[t]===e[t]);var Xye=Object.defineProperty,Qye=Object.defineProperties,Yye=Object.getOwnPropertyDescriptors,zN=Object.getOwnPropertySymbols,Zye=Object.prototype.hasOwnProperty,eSe=Object.prototype.propertyIsEnumerable,UN=(n,e,t)=>e in n?Xye(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,HN=(n,e)=>{for(var t in e||(e={}))Zye.call(e,t)&&UN(n,t,e[t]);if(zN)for(var t of zN(e))eSe.call(e,t)&&UN(n,t,e[t]);return n},tSe=(n,e)=>Qye(n,Yye(e));function C7(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=C7(i,e,t);if(r)return r;i=e?null:i.sibling}}function E7(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const iL=E7(T.createContext(null));class b7 extends T.Component{render(){return T.createElement(iL.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:GN,ReactCurrentDispatcher:WN}=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function nSe(){const n=T.useContext(iL);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=T.useId();return T.useMemo(()=>{for(const i of[GN==null?void 0:GN.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=C7(i,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[n,e])}function iSe(){var n,e;const t=nSe(),[i]=T.useState(()=>new Map);i.clear();let r=t;for(;r;){const o=(n=r.type)==null?void 0:n._context;o&&o!==iL&&!i.has(o)&&i.set(o,(e=WN==null?void 0:WN.current)==null?void 0:e.readContext(E7(o))),r=r.return}return i}function rSe(){const n=iSe();return T.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>T.createElement(e,null,T.createElement(t.Provider,tSe(HN({},i),{value:n.get(t)}))),e=>T.createElement(b7,HN({},e))),[n])}const eT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function oSe(n){const{handlePointer:e}=Iye(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(eT).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:o}=n.getState();o.disconnect==null||o.disconnect(),r(s=>({events:{...s.events,connected:t}})),Object.entries((i=o.handlers)!=null?i:[]).forEach(([s,a])=>{const[l,u]=eT[s];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([o,s])=>{if(i&&i.connected instanceof HTMLElement){const[a]=eT[o];i.connected.removeEventListener(a,s)}}),t(o=>({events:{...o.events,connected:void 0}}))}}}}const sSe=T.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:o,events:s=oSe,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:d,legacy:m,orthographic:v,frameloop:y,dpr:_,performance:S,raycaster:x,camera:C,onPointerMissed:b,onCreated:M,...B},k){T.useMemo(()=>eL(dye),[]);const F=rSe(),[R,N]=Kye({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=T.useRef(null),G=T.useRef(null);T.useImperativeHandle(k,()=>U.current);const oe=f7(b),[me,j]=T.useState(!1),[ne,te]=T.useState(!1);if(me)throw me;if(ne)throw ne;const de=T.useRef(null);W1(()=>{const V=U.current;N.width>0&&N.height>0&&V&&(de.current||(de.current=Uye(V)),de.current.configure({gl:o,events:s,shadows:u,linear:c,flat:d,legacy:m,orthographic:v,frameloop:y,dpr:_,performance:S,raycaster:x,camera:C,size:N,onPointerMissed:(...$)=>oe.current==null?void 0:oe.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(a?Eye(a)?a.current:a:G.current),l&&$.setEvents({compute:(ie,ae)=>{const Ce=ie[l+"X"],Fe=ie[l+"Y"];ae.pointer.set(Ce/ae.size.width*2-1,-(Fe/ae.size.height)*2+1),ae.raycaster.setFromCamera(ae.pointer,ae.camera)}}),M==null||M($)}}),de.current.render(T.createElement(F,null,T.createElement(h7,{set:te},T.createElement(T.Suspense,{fallback:T.createElement(bye,{set:j})},e)))))}),T.useEffect(()=>{const V=U.current;if(V)return()=>x7(V)},[]);const O=a?"none":"auto";return T.createElement("div",Uv({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:O,...r}},B),T.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},T.createElement("canvas",{ref:U,style:{display:"block"}},t)))}),aSe=T.forwardRef(function(e,t){return T.createElement(b7,null,T.createElement(sSe,Uv({},e,{ref:t})))});let Cy=0;const lSe=Yk(n=>(Vg.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Cy)/(i-Cy)*100})},Vg.onLoad=()=>{n({active:!1})},Vg.onError=e=>n(t=>({errors:[...t.errors,e]})),Vg.onProgress=(e,t,i)=>{t===i&&(Cy=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Cy)/(i-Cy)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),uSe=n=>`Loading ${n.toFixed(2)}%`;function cSe({containerStyles:n,innerStyles:e,barStyles:t,dataStyles:i,dataInterpolation:r=uSe,initialState:o=s=>s}){const{active:s,progress:a}=lSe(),l=T.useRef(0),u=T.useRef(0),c=T.useRef(null),[d,m]=T.useState(o(s));T.useEffect(()=>{let y;return s!==d&&(y=setTimeout(()=>m(s),300)),()=>clearTimeout(y)},[d,s]);const v=T.useCallback(()=>{c.current&&(l.current+=(a-l.current)/2,(l.current>.95*a||a===100)&&(l.current=a),c.current.innerText=r(l.current),l.current<a&&(u.current=requestAnimationFrame(v)))},[r,a]);return T.useEffect(()=>(v(),()=>cancelAnimationFrame(u.current)),[v]),d?T.createElement("div",{style:{...Lw.container,opacity:s?1:0,...n}},T.createElement("div",null,T.createElement("div",{style:{...Lw.inner,...e}},T.createElement("div",{style:{...Lw.bar,transform:`scaleX(${a/100})`,...t}}),T.createElement("span",{ref:c,style:{...Lw.data,...i}})))):null}const Lw={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};function dSe(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function VN(n,e){if(e===rG)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===ME||e===yk){let t=n.getIndex();if(t===null){const s=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)s.push(l);n.setIndex(s),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===ME)for(let s=1;s<=i;s++)r.push(t.getX(0)),r.push(t.getX(s)),r.push(t.getX(s+1));else for(let s=0;s<i;s++)s%2===0?(r.push(t.getX(s)),r.push(t.getX(s+1)),r.push(t.getX(s+2))):(r.push(t.getX(s+2)),r.push(t.getX(s+1)),r.push(t.getX(s)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=n.clone();return o.setIndex(r),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var hl=Uint8Array,bf=Uint16Array,VR=Uint32Array,A7=new hl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M7=new hl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fSe=new hl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T7=function(n,e){for(var t=new bf(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new VR(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)r[o]=o-t[i]<<5|i;return[t,r]},B7=T7(A7,2),R7=B7[0],hSe=B7[1];R7[28]=258,hSe[258]=28;var pSe=T7(M7,0),mSe=pSe[0],KR=new bf(32768);for(var Ti=0;Ti<32768;++Ti){var ef=(Ti&43690)>>>1|(Ti&21845)<<1;ef=(ef&52428)>>>2|(ef&13107)<<2,ef=(ef&61680)>>>4|(ef&3855)<<4,KR[Ti]=((ef&65280)>>>8|(ef&255)<<8)>>>1}var pS=function(n,e,t){for(var i=n.length,r=0,o=new bf(e);r<i;++r)++o[n[r]-1];var s=new bf(e);for(r=0;r<e;++r)s[r]=s[r-1]+o[r-1]<<1;var a;if(t){a=new bf(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var u=r<<4|n[r],c=e-n[r],d=s[n[r]-1]++<<c,m=d|(1<<c)-1;d<=m;++d)a[KR[d]>>>l]=u}else for(a=new bf(i),r=0;r<i;++r)n[r]&&(a[r]=KR[s[n[r]-1]++]>>>15-n[r]);return a},V1=new hl(288);for(var Ti=0;Ti<144;++Ti)V1[Ti]=8;for(var Ti=144;Ti<256;++Ti)V1[Ti]=9;for(var Ti=256;Ti<280;++Ti)V1[Ti]=7;for(var Ti=280;Ti<288;++Ti)V1[Ti]=8;var I7=new hl(32);for(var Ti=0;Ti<32;++Ti)I7[Ti]=5;var gSe=pS(V1,9,1),vSe=pS(I7,5,1),tT=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Kl=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},nT=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},ySe=function(n){return(n/8|0)+(n&7&&1)},SSe=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof bf?bf:n instanceof VR?VR:hl)(t-e);return i.set(n.subarray(e,t)),i},_Se=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new hl(0);var r=!e||t,o=!t||t.i;t||(t={}),e||(e=new hl(i*3));var s=function(he){var mt=e.length;if(he>mt){var ft=new hl(Math.max(mt*2,he));ft.set(e),e=ft}},a=t.f||0,l=t.p||0,u=t.b||0,c=t.l,d=t.d,m=t.m,v=t.n,y=i*8;do{if(!c){t.f=a=Kl(n,l,1);var _=Kl(n,l+1,3);if(l+=3,_)if(_==1)c=gSe,d=vSe,m=9,v=5;else if(_==2){var b=Kl(n,l,31)+257,M=Kl(n,l+10,15)+4,B=b+Kl(n,l+5,31)+1;l+=14;for(var k=new hl(B),F=new hl(19),R=0;R<M;++R)F[fSe[R]]=Kl(n,l+R*3,7);l+=M*3;for(var N=tT(F),U=(1<<N)-1,G=pS(F,N,1),R=0;R<B;){var oe=G[Kl(n,l,U)];l+=oe&15;var S=oe>>>4;if(S<16)k[R++]=S;else{var me=0,j=0;for(S==16?(j=3+Kl(n,l,3),l+=2,me=k[R-1]):S==17?(j=3+Kl(n,l,7),l+=3):S==18&&(j=11+Kl(n,l,127),l+=7);j--;)k[R++]=me}}var ne=k.subarray(0,b),te=k.subarray(b);m=tT(ne),v=tT(te),c=pS(ne,m,1),d=pS(te,v,1)}else throw"invalid block type";else{var S=ySe(l)+4,x=n[S-4]|n[S-3]<<8,C=S+x;if(C>i){if(o)throw"unexpected EOF";break}r&&s(u+x),e.set(n.subarray(S,C),u),t.b=u+=x,t.p=l=C*8;continue}if(l>y){if(o)throw"unexpected EOF";break}}r&&s(u+131072);for(var de=(1<<m)-1,O=(1<<v)-1,V=l;;V=l){var me=c[nT(n,l)&de],$=me>>>4;if(l+=me&15,l>y){if(o)throw"unexpected EOF";break}if(!me)throw"invalid length/literal";if($<256)e[u++]=$;else if($==256){V=l,c=null;break}else{var ie=$-254;if($>264){var R=$-257,ae=A7[R];ie=Kl(n,l,(1<<ae)-1)+R7[R],l+=ae}var Ce=d[nT(n,l)&O],Fe=Ce>>>4;if(!Ce)throw"invalid distance";l+=Ce&15;var te=mSe[Fe];if(Fe>3){var ae=M7[Fe];te+=nT(n,l)&(1<<ae)-1,l+=ae}if(l>y){if(o)throw"unexpected EOF";break}r&&s(u+131072);for(var Ne=u+ie;u<Ne;u+=4)e[u]=e[u-te],e[u+1]=e[u+1-te],e[u+2]=e[u+2-te],e[u+3]=e[u+3-te];u=Ne}}t.l=c,t.p=V,t.b=u,c&&(a=1,t.m=m,t.d=d,t.n=v)}while(!a);return u==e.length?e:SSe(e,0,u)},xSe=new hl(0),wSe=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zy(n,e){return _Se((wSe(n),n.subarray(2,-4)),e)}var CSe=typeof TextDecoder<"u"&&new TextDecoder,ESe=0;try{CSe.decode(xSe,{stream:!0}),ESe=1}catch{}const bSe=n=>n&&n.isCubeTexture;class ASe extends _r{constructor(e,t){var i,r;const o=bSe(e),a=((r=o?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),d=4*u,m=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],v=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=m.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,_={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},S=new Jp(1,16),x=new hu({uniforms:_,fragmentShader:y,vertexShader:v,side:nd});super(S,x)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class rL extends jo{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ISe(t)}),this.register(function(t){return new zSe(t)}),this.register(function(t){return new USe(t)}),this.register(function(t){return new HSe(t)}),this.register(function(t){return new LSe(t)}),this.register(function(t){return new FSe(t)}),this.register(function(t){return new DSe(t)}),this.register(function(t){return new PSe(t)}),this.register(function(t){return new RSe(t)}),this.register(function(t){return new NSe(t)}),this.register(function(t){return new kSe(t)}),this.register(function(t){return new OSe(t)}),this.register(function(t){return new TSe(t)}),this.register(function(t){return new GSe(t)}),this.register(function(t){return new WSe(t)})}load(e,t,i,r){const o=this;let s;this.resourcePath!==""?s=this.resourcePath:this.path!==""?s=this.path:s=Pa.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),o.manager.itemError(e),o.manager.itemEnd(e)},l=new js(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{o.parse(u,s,function(c){t(c),o.manager.itemEnd(e)},a)}catch(c){a(c)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let o;const s={},a={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Pa.decodeText(new Uint8Array(e.slice(0,4)))===k7){try{s[Hn.KHR_BINARY_GLTF]=new VSe(e)}catch(c){r&&r(c);return}o=JSON.parse(s[Hn.KHR_BINARY_GLTF].content)}else o=JSON.parse(Pa.decodeText(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new i1e(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);a[c.name]=c,s[c.name]=!0}if(o.extensionsUsed)for(let u=0;u<o.extensionsUsed.length;++u){const c=o.extensionsUsed[u],d=o.extensionsRequired||[];switch(c){case Hn.KHR_MATERIALS_UNLIT:s[c]=new BSe;break;case Hn.KHR_DRACO_MESH_COMPRESSION:s[c]=new KSe(o,this.dracoLoader);break;case Hn.KHR_TEXTURE_TRANSFORM:s[c]=new $Se;break;case Hn.KHR_MESH_QUANTIZATION:s[c]=new JSe;break;default:d.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(s),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,o){i.parse(e,t,r,o)})}}function MSe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Hn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class TSe{constructor(e){this.parser=e,this.name=Hn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const o=t[i];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const o=t.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let u;const c=new vt(16777215);l.color!==void 0&&c.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new Ob(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new v1(c),u.distance=d;break;case"spot":u=new Nb(c),u.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,df(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,o=i.json.nodes[e],a=(o.extensions&&o.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class BSe{constructor(){this.name=Hn.KHR_MATERIALS_UNLIT}getMaterialType(){return ka}extendParams(e,t,i){const r=[];e.color=new vt(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const s=o.baseColorFactor;e.color.fromArray(s),e.opacity=s[3]}o.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",o.baseColorTexture,3001))}return Promise.all(r)}}class RSe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class ISe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ac}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&o.push(i.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&o.push(i.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(o.push(i.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const a=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Qe(a,a)}return Promise.all(o)}}class kSe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ac}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&o.push(i.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&o.push(i.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(o)}}class LSe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ac}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new vt(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];return s.sheenColorFactor!==void 0&&t.sheenColor.fromArray(s.sheenColorFactor),s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&o.push(i.assignTexture(t,"sheenColorMap",s.sheenColorTexture,3001)),s.sheenRoughnessTexture!==void 0&&o.push(i.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}}class FSe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ac}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&o.push(i.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(o)}}class DSe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ac}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&o.push(i.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=new vt(a[0],a[1],a[2]),Promise.all(o)}}class PSe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ac}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class NSe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ac}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&o.push(i.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=new vt(a[0],a[1],a[2]),s.specularColorTexture!==void 0&&o.push(i.assignTexture(t,"specularColorMap",s.specularColorTexture,3001)),Promise.all(o)}}class OSe{constructor(e){this.parser=e,this.name=Hn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ac}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],s=r.extensions[this.name];return s.anisotropyStrength!==void 0&&(t.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(t.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&o.push(i.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(o)}}class zSe{constructor(e){this.parser=e,this.name=Hn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const o=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,s)}}class USe{constructor(e){this.parser=e,this.name=Hn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=r.images[s.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class HSe{constructor(e){this.parser=e,this.name=Hn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;const s=o.extensions[t],a=r.images[s.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class GSe{constructor(e){this.name=Hn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],o=this.parser.getDependency("buffer",r.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,c=r.count,d=r.byteStride,m=new Uint8Array(a,l,u);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(c,d,m,r.mode,r.filter).then(function(v){return v.buffer}):s.ready.then(function(){const v=new ArrayBuffer(c*d);return s.decodeGltfBuffer(new Uint8Array(v),c,d,m,r.mode,r.filter),v})})}else return null}}class WSe{constructor(e){this.name=Hn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const u of r.primitives)if(u.mode!==rl.TRIANGLES&&u.mode!==rl.TRIANGLE_STRIP&&u.mode!==rl.TRIANGLE_FAN&&u.mode!==void 0)return null;const s=i.extensions[this.name].attributes,a=[],l={};for(const u in s)a.push(this.parser.getDependency("accessor",s[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),d=c.isGroup?c.children:[c],m=u[0].count,v=[];for(const y of d){const _=new Pt,S=new X,x=new Ir,C=new X(1,1,1),b=new Bk(y.geometry,y.material,m);for(let M=0;M<m;M++)l.TRANSLATION&&S.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,M),l.SCALE&&C.fromBufferAttribute(l.SCALE,M),b.setMatrixAt(M,_.compose(S,x,C));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&y.geometry.setAttribute(M,l[M]);Dn.prototype.copy.call(b,y),this.parser.assignFinalMaterial(b),v.push(b)}return c.isGroup?(c.clear(),c.add(...v),c):v[0]}))}}const k7="glTF",Ey=12,KN={JSON:1313821514,BIN:5130562};class VSe{constructor(e){this.name=Hn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ey);if(this.header={magic:Pa.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==k7)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Ey,r=new DataView(e,Ey);let o=0;for(;o<i;){const s=r.getUint32(o,!0);o+=4;const a=r.getUint32(o,!0);if(o+=4,a===KN.JSON){const l=new Uint8Array(e,Ey+o,s);this.content=Pa.decodeText(l)}else if(a===KN.BIN){const l=Ey+o;this.body=e.slice(l,l+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class KSe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Hn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},l={},u={};for(const c in s){const d=$R[c]||c.toLowerCase();a[d]=s[c]}for(const c in e.attributes){const d=$R[c]||c.toLowerCase();if(s[c]!==void 0){const m=i.accessors[e.attributes[c]],v=ov[m.componentType];u[d]=v.name,l[d]=m.normalized===!0}}return t.getDependency("bufferView",o).then(function(c){return new Promise(function(d){r.decodeDracoFile(c,function(m){for(const v in m.attributes){const y=m.attributes[v],_=l[v];_!==void 0&&(y.normalized=_)}d(m)},a,u)})})}}class $Se{constructor(){this.name=Hn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class JSe{constructor(){this.name=Hn.KHR_MESH_QUANTIZATION}}class L7 extends t0{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r*3+r;for(let s=0;s!==r;s++)t[s]=i[o+s];return t}interpolate_(e,t,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=r-t,d=(i-t)/c,m=d*d,v=m*d,y=e*u,_=y-u,S=-2*v+3*m,x=v-m,C=1-S,b=x-m+d;for(let M=0;M!==a;M++){const B=s[_+M+a],k=s[_+M+l]*c,F=s[y+M+a],R=s[y+M]*c;o[M]=C*B+b*k+S*F+x*R}return o}}const qSe=new Ir;class jSe extends L7{interpolate_(e,t,i,r){const o=super.interpolate_(e,t,i,r);return qSe.fromArray(o).normalize().toArray(o),o}}const rl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},ov={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},$N={9728:yr,9729:oi,9984:s1,9985:Eb,9986:a1,9987:cd},JN={33071:lo,33648:Cv,10497:ic},iT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$R={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...D1.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},tf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},XSe={CUBICSPLINE:void 0,LINEAR:Kp,STEP:Ev},rT={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function QSe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new G1({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:zf})),n.DefaultMaterial}function jh(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function df(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function YSe(n,e,t){let i=!1,r=!1,o=!1;for(let u=0,c=e.length;u<c;u++){const d=e[u];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(o=!0),i&&r&&o)break}if(!i&&!r&&!o)return Promise.resolve(n);const s=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const d=e[u];if(i){const m=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;s.push(m)}if(r){const m=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(m)}if(o){const m=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(m)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],d=u[1],m=u[2];return i&&(n.morphAttributes.position=c),r&&(n.morphAttributes.normal=d),o&&(n.morphAttributes.color=m),n.morphTargetsRelative=!0,n})}function ZSe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function e1e(n){let e;const t=n.extensions&&n.extensions[Hn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+oT(t.attributes):e=n.indices+":"+oT(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+oT(n.targets[i]);return e}function oT(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function JR(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function t1e(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const n1e=new Pt;class i1e{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new MSe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,o=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&o<98?this.textureLoader=new n0(this.options.manager):this.textureLoader=new YG(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new js(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(s){const a={scene:s[0][r.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:r.asset,parser:i,userData:{}};jh(o,a,r),df(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,o=t.length;r<o;r++){const s=t[r].joints;for(let a=0,l=s.length;a<l;a++)e[s[a]].isBone=!0}for(let r=0,o=e.length;r<o;r++){const s=e[r];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(i[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),o=(s,a)=>{const l=this.associations.get(s);l!=null&&this.associations.set(a,l);for(const[u,c]of s.children.entries())o(c,a.children[u])};return o(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const o=e(t[r]);o&&i.push(o)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":r=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(o,s){return i.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Hn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(o,s){i.load(Pa.resolveURL(t.uri,r.path),o,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,o=t.byteOffset||0;return i.slice(o,o+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const s=iT[r.type],a=ov[r.componentType],l=r.normalized===!0,u=new a(r.count*s);return Promise.resolve(new jn(u,s,l))}const o=[];return r.bufferView!==void 0?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),r.sparse!==void 0&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then(function(s){const a=s[0],l=iT[r.type],u=ov[r.componentType],c=u.BYTES_PER_ELEMENT,d=c*l,m=r.byteOffset||0,v=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let _,S;if(v&&v!==d){const x=Math.floor(m/v),C="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+x+":"+r.count;let b=t.cache.get(C);b||(_=new u(a,x*v,r.count*v/c),b=new H1(_,v/c),t.cache.add(C,b)),S=new Wf(b,l,m%v/c,y)}else a===null?_=new u(r.count*l):_=new u(a,m,r.count*l),S=new jn(_,l,y);if(r.sparse!==void 0){const x=iT.SCALAR,C=ov[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,B=new C(s[1],b,r.sparse.count*x),k=new u(s[2],M,r.sparse.count*l);a!==null&&(S=new jn(S.array.slice(),S.itemSize,S.normalized));for(let F=0,R=B.length;F<R;F++){const N=B[F];if(S.setX(N,k[F*l]),l>=2&&S.setY(N,k[F*l+1]),l>=3&&S.setZ(N,k[F*l+2]),l>=4&&S.setW(N,k[F*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return S})}loadTexture(e){const t=this.json,i=this.options,o=t.textures[e].source,s=t.images[o];let a=this.textureLoader;if(s.uri){const l=i.manager.getHandler(s.uri);l!==null&&(a=l)}return this.loadTextureImage(e,o,a)}loadTextureImage(e,t,i){const r=this,o=this.json,s=o.textures[e],a=o.images[t],l=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,i).then(function(c){c.flipY=!1,c.name=s.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const m=(o.samplers||{})[s.sampler]||{};return c.magFilter=$N[m.magFilter]||oi,c.minFilter=$N[m.minFilter]||cd,c.wrapS=JN[m.wrapS]||ic,c.wrapT=JN[m.wrapT]||ic,r.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const i=this,r=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const s=r.images[e],a=self.URL||self.webkitURL;let l=s.uri||"",u=!1;if(s.bufferView!==void 0)l=i.getDependency("bufferView",s.bufferView).then(function(d){u=!0;const m=new Blob([d],{type:s.mimeType});return l=a.createObjectURL(m),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(d){return new Promise(function(m,v){let y=m;t.isImageBitmapLoader===!0&&(y=function(_){const S=new Ri(_);S.needsUpdate=!0,m(S)}),t.load(Pa.resolveURL(d,o.path),y,void 0,v)})}).then(function(d){return u===!0&&a.revokeObjectURL(l),d.userData.mimeType=s.mimeType||t1e(s.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=c,c}assignTexture(e,t,i,r){const o=this;return this.getDependency("texture",i.index).then(function(s){if(!s)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(s=s.clone(),s.channel=i.texCoord),o.extensions[Hn.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Hn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=o.associations.get(s);s=o.extensions[Hn.KHR_TEXTURE_TRANSFORM].extendTexture(s,a),o.associations.set(s,l)}}return r!==void 0&&("colorSpace"in s?s.colorSpace=r===3001?"srgb":"srgb-linear":s.encoding=r),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Lb,kr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Bo,kr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||o||s){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),o&&(a+="vertex-colors:"),s&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),o&&(l.vertexColors=!0),s&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return G1}loadMaterial(e){const t=this,i=this.json,r=this.extensions,o=i.materials[e];let s;const a={},l=o.extensions||{},u=[];if(l[Hn.KHR_MATERIALS_UNLIT]){const d=r[Hn.KHR_MATERIALS_UNLIT];s=d.getMaterialType(),u.push(d.extendParams(a,o,t))}else{const d=o.pbrMetallicRoughness||{};if(a.color=new vt(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const m=d.baseColorFactor;a.color.fromArray(m),a.opacity=m[3]}d.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),s=this._invokeOne(function(m){return m.getMaterialType&&m.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(m){return m.extendMaterialParams&&m.extendMaterialParams(e,a)})))}o.doubleSided===!0&&(a.side=nd);const c=o.alphaMode||rT.OPAQUE;if(c===rT.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===rT.MASK&&(a.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&s!==ka&&(u.push(t.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new Qe(1,1),o.normalTexture.scale!==void 0)){const d=o.normalTexture.scale;a.normalScale.set(d,d)}return o.occlusionTexture!==void 0&&s!==ka&&(u.push(t.assignTexture(a,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&s!==ka&&(a.emissive=new vt().fromArray(o.emissiveFactor)),o.emissiveTexture!==void 0&&s!==ka&&u.push(t.assignTexture(a,"emissiveMap",o.emissiveTexture,3001)),Promise.all(u).then(function(){const d=new s(a);return o.name&&(d.name=o.name),df(d,o),t.associations.set(d,{materials:e}),o.extensions&&jh(r,d,o),d})}createUniqueName(e){const t=Rn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function o(a){return i[Hn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return qN(l,a,t)})}const s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=e1e(u),d=r[c];if(d)s.push(d.promise);else{let m;u.extensions&&u.extensions[Hn.KHR_DRACO_MESH_COMPRESSION]?m=o(u):m=qN(new cn,u,t),r[c]={primitive:u,promise:m},s.push(m)}}return Promise.all(s)}loadMesh(e){const t=this,i=this.json,r=this.extensions,o=i.meshes[e],s=o.primitives,a=[];for(let l=0,u=s.length;l<u;l++){const c=s[l].material===void 0?QSe(this.cache):this.getDependency("material",s[l].material);a.push(c)}return a.push(t.loadGeometries(s)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],d=[];for(let v=0,y=c.length;v<y;v++){const _=c[v],S=s[v];let x;const C=u[v];if(S.mode===rl.TRIANGLES||S.mode===rl.TRIANGLE_STRIP||S.mode===rl.TRIANGLE_FAN||S.mode===void 0)x=o.isSkinnedMesh===!0?new kb(_,C):new _r(_,C),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),S.mode===rl.TRIANGLE_STRIP?x.geometry=VN(x.geometry,yk):S.mode===rl.TRIANGLE_FAN&&(x.geometry=VN(x.geometry,ME));else if(S.mode===rl.LINES)x=new mu(_,C);else if(S.mode===rl.LINE_STRIP)x=new rc(_,C);else if(S.mode===rl.LINE_LOOP)x=new Rk(_,C);else if(S.mode===rl.POINTS)x=new Ik(_,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(x.geometry.morphAttributes).length>0&&ZSe(x,o),x.name=t.createUniqueName(o.name||"mesh_"+e),df(x,o),S.extensions&&jh(r,x,S),t.assignFinalMaterial(x),d.push(x)}for(let v=0,y=d.length;v<y;v++)t.associations.set(d[v],{meshes:e,primitives:v});if(d.length===1)return o.extensions&&jh(r,d[0],o),d[0];const m=new ou;o.extensions&&jh(r,m,o),t.associations.set(m,{meshes:e});for(let v=0,y=d.length;v<y;v++)m.add(d[v]);return m})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Br(dl.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new im(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),df(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,o=t.joints.length;r<o;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const o=r.pop(),s=r,a=[],l=[];for(let u=0,c=s.length;u<c;u++){const d=s[u];if(d){a.push(d);const m=new Pt;o!==null&&m.fromArray(o.array,u*16),l.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new e0(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,o=[],s=[],a=[],l=[],u=[];for(let c=0,d=i.channels.length;c<d;c++){const m=i.channels[c],v=i.samplers[m.sampler],y=m.target,_=y.node,S=i.parameters!==void 0?i.parameters[v.input]:v.input,x=i.parameters!==void 0?i.parameters[v.output]:v.output;y.node!==void 0&&(o.push(this.getDependency("node",_)),s.push(this.getDependency("accessor",S)),a.push(this.getDependency("accessor",x)),l.push(v),u.push(y))}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(c){const d=c[0],m=c[1],v=c[2],y=c[3],_=c[4],S=[];for(let x=0,C=d.length;x<C;x++){const b=d[x],M=m[x],B=v[x],k=y[x],F=_[x];if(b===void 0)continue;b.updateMatrix();let R;switch(tf[F.path]){case tf.weights:R=$f;break;case tf.rotation:R=sd;break;case tf.position:case tf.scale:default:R=Xp;break}const N=b.name?b.name:b.uuid,U=k.interpolation!==void 0?XSe[k.interpolation]:Kp,G=[];tf[F.path]===tf.weights?b.traverse(function(me){me.morphTargetInfluences&&G.push(me.name?me.name:me.uuid)}):G.push(N);let oe=B.array;if(B.normalized){const me=JR(oe.constructor),j=new Float32Array(oe.length);for(let ne=0,te=oe.length;ne<te;ne++)j[ne]=oe[ne]*me;oe=j}for(let me=0,j=G.length;me<j;me++){const ne=new R(G[me]+"."+tf[F.path],M.array,oe,U);k.interpolation==="CUBICSPLINE"&&(ne.createInterpolant=function(de){const O=this instanceof sd?jSe:L7;return new O(this.times,this.values,this.getValueSize()/3,de)},ne.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),S.push(ne)}}return new Jf(r,void 0,S)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(o){const s=i._getNodeRef(i.meshCache,r.mesh,o);return r.weights!==void 0&&s.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),s})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],o=i._loadNodeShallow(e),s=[],a=r.children||[];for(let u=0,c=a.length;u<c;u++)s.push(i.getDependency("node",a[u]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([o,Promise.all(s),l]).then(function(u){const c=u[0],d=u[1],m=u[2];m!==null&&c.traverse(function(v){v.isSkinnedMesh&&v.bind(m,n1e)});for(let v=0,y=d.length;v<y;v++)c.add(d[v]);return c})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],s=o.name?r.createUniqueName(o.name):"",a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),o.camera!==void 0&&a.push(r.getDependency("camera",o.camera).then(function(u){return r._getNodeRef(r.cameraCache,o.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(o.isBone===!0?c=new Av:u.length>1?c=new ou:u.length===1?c=u[0]:c=new Dn,c!==u[0])for(let d=0,m=u.length;d<m;d++)c.add(u[d]);if(o.name&&(c.userData.name=o.name,c.name=s),df(c,o),o.extensions&&jh(i,c,o),o.matrix!==void 0){const d=new Pt;d.fromArray(o.matrix),c.applyMatrix4(d)}else o.translation!==void 0&&c.position.fromArray(o.translation),o.rotation!==void 0&&c.quaternion.fromArray(o.rotation),o.scale!==void 0&&c.scale.fromArray(o.scale);return r.associations.has(c)||r.associations.set(c,{}),r.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,o=new ou;i.name&&(o.name=r.createUniqueName(i.name)),df(o,i),i.extensions&&jh(t,o,i);const s=i.nodes||[],a=[];for(let l=0,u=s.length;l<u;l++)a.push(r.getDependency("node",s[l]));return Promise.all(a).then(function(l){for(let c=0,d=l.length;c<d;c++)o.add(l[c]);const u=c=>{const d=new Map;for(const[m,v]of r.associations)(m instanceof kr||m instanceof Ri)&&d.set(m,v);return c.traverse(m=>{const v=r.associations.get(m);v!=null&&d.set(m,v)}),d};return r.associations=u(o),o})}}function r1e(n,e,t){const i=e.attributes,r=new th;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new X(l[0],l[1],l[2]),new X(u[0],u[1],u[2])),a.normalized){const c=JR(ov[a.componentType]);r.min.multiplyScalar(c),r.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const a=new X,l=new X;for(let u=0,c=o.length;u<c;u++){const d=o[u];if(d.POSITION!==void 0){const m=t.json.accessors[d.POSITION],v=m.min,y=m.max;if(v!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(v[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(v[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(v[2]),Math.abs(y[2]))),m.normalized){const _=JR(ov[m.componentType]);l.multiplyScalar(_)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const s=new nh;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=s}function qN(n,e,t){const i=e.attributes,r=[];function o(s,a){return t.getDependency("accessor",s).then(function(l){n.setAttribute(a,l)})}for(const s in i){const a=$R[s]||s.toLowerCase();a in n.attributes||r.push(o(i[s],a))}if(e.indices!==void 0&&!n.index){const s=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(s)}return df(n,e),r1e(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?YSe(n,e.targets,t):n})}function F7(n,e,t){const i=t.length-n-1;if(e>=t[i])return i-1;if(e<=t[n])return n;let r=n,o=i,s=Math.floor((r+o)/2);for(;e<t[s]||e>=t[s+1];)e<t[s]?o=s:r=s,s=Math.floor((r+o)/2);return s}function o1e(n,e,t,i){const r=[],o=[],s=[];r[0]=1;for(let a=1;a<=t;++a){o[a]=e-i[n+1-a],s[a]=i[n+a]-e;let l=0;for(let u=0;u<a;++u){const c=s[u+1],d=o[a-u],m=r[u]/(c+d);r[u]=l+c*m,l=d*m}r[a]=l}return r}function s1e(n,e,t,i){const r=F7(n,i,e),o=o1e(r,i,n,e),s=new Kn(0,0,0,0);for(let a=0;a<=n;++a){const l=t[r-n+a],u=o[a],c=l.w*u;s.x+=l.x*c,s.y+=l.y*c,s.z+=l.z*c,s.w+=l.w*u}return s}function a1e(n,e,t,i,r){const o=[];for(let d=0;d<=t;++d)o[d]=0;const s=[];for(let d=0;d<=i;++d)s[d]=o.slice(0);const a=[];for(let d=0;d<=t;++d)a[d]=o.slice(0);a[0][0]=1;const l=o.slice(0),u=o.slice(0);for(let d=1;d<=t;++d){l[d]=e-r[n+1-d],u[d]=r[n+d]-e;let m=0;for(let v=0;v<d;++v){const y=u[v+1],_=l[d-v];a[d][v]=y+_;const S=a[v][d-1]/a[d][v];a[v][d]=m+y*S,m=_*S}a[d][d]=m}for(let d=0;d<=t;++d)s[0][d]=a[d][t];for(let d=0;d<=t;++d){let m=0,v=1;const y=[];for(let _=0;_<=t;++_)y[_]=o.slice(0);y[0][0]=1;for(let _=1;_<=i;++_){let S=0;const x=d-_,C=t-_;d>=_&&(y[v][0]=y[m][0]/a[C+1][x],S=y[v][0]*a[x][C]);const b=x>=-1?1:-x,M=d-1<=C?_-1:t-d;for(let k=b;k<=M;++k)y[v][k]=(y[m][k]-y[m][k-1])/a[C+1][x+k],S+=y[v][k]*a[x+k][C];d<=C&&(y[v][_]=-y[m][_-1]/a[C+1][d],S+=y[v][_]*a[d][C]),s[_][d]=S;const B=m;m=v,v=B}}let c=t;for(let d=1;d<=i;++d){for(let m=0;m<=t;++m)s[d][m]*=c;c*=t-d}return s}function l1e(n,e,t,i,r){const o=r<n?r:n,s=[],a=F7(n,i,e),l=a1e(a,i,n,o,e),u=[];for(let c=0;c<t.length;++c){const d=t[c].clone(),m=d.w;d.x*=m,d.y*=m,d.z*=m,u[c]=d}for(let c=0;c<=o;++c){const d=u[a-n].clone().multiplyScalar(l[c][0]);for(let m=1;m<=n;++m)d.add(u[a-n+m].clone().multiplyScalar(l[c][m]));s[c]=d}for(let c=o+1;c<=r+1;++c)s[c]=new Kn(0,0,0);return s}function u1e(n,e){let t=1;for(let r=2;r<=n;++r)t*=r;let i=1;for(let r=2;r<=e;++r)i*=r;for(let r=2;r<=n-e;++r)i*=r;return t/i}function c1e(n){const e=n.length,t=[],i=[];for(let o=0;o<e;++o){const s=n[o];t[o]=new X(s.x,s.y,s.z),i[o]=s.w}const r=[];for(let o=0;o<e;++o){const s=t[o].clone();for(let a=1;a<=o;++a)s.sub(r[o-a].clone().multiplyScalar(u1e(o,a)*i[a]));r[o]=s.divideScalar(i[0])}return r}function d1e(n,e,t,i,r){const o=l1e(n,e,t,i,r);return c1e(o)}class jN extends Al{constructor(e,t,i,r,o){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=o||this.knots.length-1;for(let s=0;s<i.length;++s){const a=i[s];this.controlPoints[s]=new Kn(a.x,a.y,a.z,a.w)}}getPoint(e,t){const i=t||new X,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),o=s1e(this.degree,this.knots,this.controlPoints,r);return o.w!=1&&o.divideScalar(o.w),i.set(o.x,o.y,o.z)}getTangent(e,t){const i=t||new X,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),o=d1e(this.degree,this.knots,this.controlPoints,r,1);return i.copy(o[1]).normalize(),i}}let Ln,gr,Ds;class oL extends jo{constructor(e){super(e)}load(e,t,i,r){const o=this,s=o.path===""?Pa.extractUrlBase(e):o.path,a=new js(this.manager);a.setPath(o.path),a.setResponseType("arraybuffer"),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(l){try{t(o.parse(l,s))}catch(u){r?r(u):console.error(u),o.manager.itemError(e)}},i,r)}parse(e,t){if(v1e(e))Ln=new g1e().parse(e);else{const r=O7(e);if(!y1e(r))throw new Error("THREE.FBXLoader: Unknown format.");if(QN(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+QN(r));Ln=new m1e().parse(r)}const i=new n0(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new f1e(i,this.manager).parse(Ln)}}class f1e{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){gr=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),i=this.parseMaterials(t),r=this.parseDeformers(),o=new h1e().parse(r);return this.parseScene(r,o,i),Ds}parseConnections(){const e=new Map;return"Connections"in Ln&&Ln.Connections.connections.forEach(function(i){const r=i[0],o=i[1],s=i[2];e.has(r)||e.set(r,{parents:[],children:[]});const a={ID:o,relationship:s};e.get(r).parents.push(a),e.has(o)||e.set(o,{parents:[],children:[]});const l={ID:r,relationship:s};e.get(o).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in Ln.Objects){const i=Ln.Objects.Video;for(const r in i){const o=i[r],s=parseInt(r);if(e[s]=o.RelativeFilename||o.Filename,"Content"in o){const a=o.Content instanceof ArrayBuffer&&o.Content.byteLength>0,l=typeof o.Content=="string"&&o.Content!=="";if(a||l){const u=this.parseImage(i[r]);t[o.RelativeFilename||o.Filename]=u}}}}for(const i in e){const r=e[i];t[r]!==void 0?e[i]=t[r]:e[i]=e[i].split("\\").pop()}return e}parseImage(e){const t=e.Content,i=e.RelativeFilename||e.Filename,r=i.slice(i.lastIndexOf(".")+1).toLowerCase();let o;switch(r){case"bmp":o="image/bmp";break;case"jpg":case"jpeg":o="image/jpeg";break;case"png":o="image/png";break;case"tif":o="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",i),o="image/tga";break;default:console.warn('FBXLoader: Image type "'+r+'" is not supported.');return}if(typeof t=="string")return"data:"+o+";base64,"+t;{const s=new Uint8Array(t);return window.URL.createObjectURL(new Blob([s],{type:o}))}}parseTextures(e){const t=new Map;if("Texture"in Ln.Objects){const i=Ln.Objects.Texture;for(const r in i){const o=this.parseTexture(i[r],e);t.set(parseInt(r),o)}}return t}parseTexture(e,t){const i=this.loadTexture(e,t);i.ID=e.id,i.name=e.attrName;const r=e.WrapModeU,o=e.WrapModeV,s=r!==void 0?r.value:0,a=o!==void 0?o.value:0;if(i.wrapS=s===0?ic:lo,i.wrapT=a===0?ic:lo,"Scaling"in e){const l=e.Scaling.value;i.repeat.x=l[0],i.repeat.y=l[1]}return i}loadTexture(e,t){let i;const r=this.textureLoader.path,o=gr.get(e.id).children;o!==void 0&&o.length>0&&t[o[0].ID]!==void 0&&(i=t[o[0].ID],(i.indexOf("blob:")===0||i.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let s;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),s=new Ri):(l.setPath(this.textureLoader.path),s=l.load(i))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),s=new Ri):s=this.textureLoader.load(i);return this.textureLoader.setPath(r),s}parseMaterials(e){const t=new Map;if("Material"in Ln.Objects){const i=Ln.Objects.Material;for(const r in i){const o=this.parseMaterial(i[r],e);o!==null&&t.set(parseInt(r),o)}}return t}parseMaterial(e,t){const i=e.id,r=e.attrName;let o=e.ShadingModel;if(typeof o=="object"&&(o=o.value),!gr.has(i))return null;const s=this.parseParameters(e,t,i);let a;switch(o.toLowerCase()){case"phong":a=new hS;break;case"lambert":a=new Ok;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),a=new hS;break}return a.setValues(s),a.name=r,a}parseParameters(e,t,i){const r={};e.BumpFactor&&(r.bumpScale=e.BumpFactor.value),e.Diffuse?r.color=new vt().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(r.color=new vt().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(r.displacementScale=e.DisplacementFactor.value),e.Emissive?r.emissive=new vt().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(r.emissive=new vt().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(r.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(r.opacity=parseFloat(e.Opacity.value)),r.opacity<1&&(r.transparent=!0),e.ReflectionFactor&&(r.reflectivity=e.ReflectionFactor.value),e.Shininess&&(r.shininess=e.Shininess.value),e.Specular?r.specular=new vt().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(r.specular=new vt().fromArray(e.SpecularColor.value));const o=this;return gr.get(i).children.forEach(function(s){const a=s.relationship;switch(a){case"Bump":r.bumpMap=o.getTexture(t,s.ID);break;case"Maya|TEX_ao_map":r.aoMap=o.getTexture(t,s.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=o.getTexture(t,s.ID),r.map!==void 0&&("colorSpace"in r.map?r.map.colorSpace="srgb":r.map.encoding=3001);break;case"DisplacementColor":r.displacementMap=o.getTexture(t,s.ID);break;case"EmissiveColor":r.emissiveMap=o.getTexture(t,s.ID),r.emissiveMap!==void 0&&("colorSpace"in r.emissiveMap?r.emissiveMap.colorSpace="srgb":r.emissiveMap.encoding=3001);break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=o.getTexture(t,s.ID);break;case"ReflectionColor":r.envMap=o.getTexture(t,s.ID),r.envMap!==void 0&&(r.envMap.mapping=Wp,"colorSpace"in r.envMap?r.envMap.colorSpace="srgb":r.envMap.encoding=3001);break;case"SpecularColor":r.specularMap=o.getTexture(t,s.ID),r.specularMap!==void 0&&("colorSpace"in r.specularMap?r.specularMap.colorSpace="srgb":r.specularMap.encoding=3001);break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=o.getTexture(t,s.ID),r.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),r}getTexture(e,t){return"LayeredTexture"in Ln.Objects&&t in Ln.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=gr.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Ln.Objects){const i=Ln.Objects.Deformer;for(const r in i){const o=i[r],s=gr.get(parseInt(r));if(o.attrType==="Skin"){const a=this.parseSkeleton(s,i);a.ID=r,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=s.parents[0].ID,e[r]=a}else if(o.attrType==="BlendShape"){const a={id:r};a.rawTargets=this.parseMorphTargets(s,i),a.id=r,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[r]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const i=[];return e.children.forEach(function(r){const o=t[r.ID];if(o.attrType!=="Cluster")return;const s={ID:r.ID,indices:[],weights:[],transformLink:new Pt().fromArray(o.TransformLink.a)};"Indexes"in o&&(s.indices=o.Indexes.a,s.weights=o.Weights.a),i.push(s)}),{rawBones:i,bones:[]}}parseMorphTargets(e,t){const i=[];for(let r=0;r<e.children.length;r++){const o=e.children[r],s=t[o.ID],a={name:s.attrName,initialWeight:s.DeformPercent,id:s.id,fullWeights:s.FullWeights.a};if(s.attrType!=="BlendShapeChannel")return;a.geoID=gr.get(parseInt(o.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,i.push(a)}return i}parseScene(e,t,i){Ds=new ou;const r=this.parseModels(e.skeletons,t,i),o=Ln.Objects.Model,s=this;r.forEach(function(l){const u=o[l.ID];s.setLookAtProperties(l,u),gr.get(l.ID).parents.forEach(function(d){const m=r.get(d.ID);m!==void 0&&m.add(l)}),l.parent===null&&Ds.add(l)}),this.bindSkeleton(e.skeletons,t,r),this.createAmbientLight(),Ds.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const u=P7(l.userData.transformData);l.applyMatrix4(u),l.updateWorldMatrix()}});const a=new p1e().parse();Ds.children.length===1&&Ds.children[0].isGroup&&(Ds.children[0].animations=a,Ds=Ds.children[0]),Ds.animations=a}parseModels(e,t,i){const r=new Map,o=Ln.Objects.Model;for(const s in o){const a=parseInt(s),l=o[s],u=gr.get(a);let c=this.buildSkeleton(u,e,a,l.attrName);if(!c){switch(l.attrType){case"Camera":c=this.createCamera(u);break;case"Light":c=this.createLight(u);break;case"Mesh":c=this.createMesh(u,t,i);break;case"NurbsCurve":c=this.createCurve(u,t);break;case"LimbNode":case"Root":c=new Av;break;case"Null":default:c=new ou;break}c.name=l.attrName?Rn.sanitizeNodeName(l.attrName):"",c.ID=a}this.getTransformData(c,l),r.set(a,c)}return r}buildSkeleton(e,t,i,r){let o=null;return e.parents.forEach(function(s){for(const a in t){const l=t[a];l.rawBones.forEach(function(u,c){if(u.ID===s.ID){const d=o;o=new Av,o.matrixWorld.copy(u.transformLink),o.name=r?Rn.sanitizeNodeName(r):"",o.ID=i,l.bones[c]=o,d!==null&&o.add(d)}})}}),o}createCamera(e){let t,i;if(e.children.forEach(function(r){const o=Ln.Objects.NodeAttribute[r.ID];o!==void 0&&(i=o)}),i===void 0)t=new Dn;else{let r=0;i.CameraProjectionType!==void 0&&i.CameraProjectionType.value===1&&(r=1);let o=1;i.NearPlane!==void 0&&(o=i.NearPlane.value/1e3);let s=1e3;i.FarPlane!==void 0&&(s=i.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;i.AspectWidth!==void 0&&i.AspectHeight!==void 0&&(a=i.AspectWidth.value,l=i.AspectHeight.value);const u=a/l;let c=45;i.FieldOfView!==void 0&&(c=i.FieldOfView.value);const d=i.FocalLength?i.FocalLength.value:null;switch(r){case 0:t=new Br(c,u,o,s),d!==null&&t.setFocalLength(d);break;case 1:t=new im(-a/2,a/2,l/2,-l/2,o,s);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+r+"."),t=new Dn;break}}return t}createLight(e){let t,i;if(e.children.forEach(function(r){const o=Ln.Objects.NodeAttribute[r.ID];o!==void 0&&(i=o)}),i===void 0)t=new Dn;else{let r;i.LightType===void 0?r=0:r=i.LightType.value;let o=16777215;i.Color!==void 0&&(o=new vt().fromArray(i.Color.value));let s=i.Intensity===void 0?1:i.Intensity.value/100;i.CastLightOnObject!==void 0&&i.CastLightOnObject.value===0&&(s=0);let a=0;i.FarAttenuationEnd!==void 0&&(i.EnableFarAttenuation!==void 0&&i.EnableFarAttenuation.value===0?a=0:a=i.FarAttenuationEnd.value);const l=1;switch(r){case 0:t=new v1(o,s,a,l);break;case 1:t=new Ob(o,s);break;case 2:let u=Math.PI/3;i.InnerAngle!==void 0&&(u=dl.degToRad(i.InnerAngle.value));let c=0;i.OuterAngle!==void 0&&(c=dl.degToRad(i.OuterAngle.value),c=Math.max(c,1)),t=new Nb(o,s,a,u,c,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+i.LightType.value+", defaulting to a PointLight."),t=new v1(o,s);break}i.CastShadows!==void 0&&i.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,i){let r,o=null,s=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(o=t.get(l.ID)),i.has(l.ID)&&a.push(i.get(l.ID))}),a.length>1?s=a:a.length>0?s=a[0]:(s=new hS({color:13421772}),a.push(s)),"color"in o.attributes&&a.forEach(function(l){l.vertexColors=!0}),o.FBX_Deformer?(r=new kb(o,s),r.normalizeSkinWeights()):r=new _r(o,s),r}createCurve(e,t){const i=e.children.reduce(function(o,s){return t.has(s.ID)&&(o=t.get(s.ID)),o},null),r=new Bo({color:3342591,linewidth:1});return new rc(i,r)}getTransformData(e,t){const i={};"InheritType"in t&&(i.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?i.eulerOrder=N7(t.RotationOrder.value):i.eulerOrder="ZYX","Lcl_Translation"in t&&(i.translation=t.Lcl_Translation.value),"PreRotation"in t&&(i.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(i.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(i.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(i.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(i.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(i.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(i.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(i.rotationPivot=t.RotationPivot.value),e.userData.transformData=i}setLookAtProperties(e,t){"LookAtProperty"in t&&gr.get(e.ID).children.forEach(function(r){if(r.relationship==="LookAtProperty"){const o=Ln.Objects.Model[r.ID];if("Lcl_Translation"in o){const s=o.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(s),Ds.add(e.target)):e.lookAt(new X().fromArray(s))}}})}bindSkeleton(e,t,i){const r=this.parsePoseNodes();for(const o in e){const s=e[o];gr.get(parseInt(s.ID)).parents.forEach(function(l){if(t.has(l.ID)){const u=l.ID;gr.get(u).parents.forEach(function(d){i.has(d.ID)&&i.get(d.ID).bind(new e0(s.bones),r[d.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Ln.Objects){const t=Ln.Objects.Pose;for(const i in t)if(t[i].attrType==="BindPose"&&t[i].NbPoseNodes>0){const r=t[i].PoseNode;Array.isArray(r)?r.forEach(function(o){e[o.Node]=new Pt().fromArray(o.Matrix.a)}):e[r.Node]=new Pt().fromArray(r.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Ln&&"AmbientColor"in Ln.GlobalSettings){const e=Ln.GlobalSettings.AmbientColor.value,t=e[0],i=e[1],r=e[2];if(t!==0||i!==0||r!==0){const o=new vt(t,i,r);Ds.add(new Vk(o,1))}}}}class h1e{parse(e){const t=new Map;if("Geometry"in Ln.Objects){const i=Ln.Objects.Geometry;for(const r in i){const o=gr.get(parseInt(r)),s=this.parseGeometry(o,i[r],e);t.set(parseInt(r),s)}}return t}parseGeometry(e,t,i){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,i);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,i){const r=i.skeletons,o=[],s=e.parents.map(function(d){return Ln.Objects.Model[d.ID]});if(s.length===0)return;const a=e.children.reduce(function(d,m){return r[m.ID]!==void 0&&(d=r[m.ID]),d},null);e.children.forEach(function(d){i.morphTargets[d.ID]!==void 0&&o.push(i.morphTargets[d.ID])});const l=s[0],u={};"RotationOrder"in l&&(u.eulerOrder=N7(l.RotationOrder.value)),"InheritType"in l&&(u.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(u.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(u.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(u.scale=l.GeometricScaling.value);const c=P7(u);return this.genGeometry(t,a,o,c)}genGeometry(e,t,i,r){const o=new cn;e.attrName&&(o.name=e.attrName);const s=this.parseGeoNode(e,t),a=this.genBuffers(s),l=new Lt(a.vertex,3);if(l.applyMatrix4(r),o.setAttribute("position",l),a.colors.length>0&&o.setAttribute("color",new Lt(a.colors,3)),t&&(o.setAttribute("skinIndex",new Mb(a.weightsIndices,4)),o.setAttribute("skinWeight",new Lt(a.vertexWeights,4)),o.FBX_Deformer=t),a.normal.length>0){const u=new ps().getNormalMatrix(r),c=new Lt(a.normal,3);c.applyNormalMatrix(u),o.setAttribute("normal",c)}if(a.uvs.forEach(function(u,c){let d="uv"+(c+1).toString();c===0&&(d="uv"),o.setAttribute(d,new Lt(a.uvs[c],2))}),s.material&&s.material.mappingType!=="AllSame"){let u=a.materialIndex[0],c=0;if(a.materialIndex.forEach(function(d,m){d!==u&&(o.addGroup(c,m-c,u),u=d,c=m)}),o.groups.length>0){const d=o.groups[o.groups.length-1],m=d.start+d.count;m!==a.materialIndex.length&&o.addGroup(m,a.materialIndex.length-m,u)}o.groups.length===0&&o.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(o,e,i,r),o}parseGeoNode(e,t){const i={};if(i.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],i.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(i.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(i.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(i.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){i.uv=[];let r=0;for(;e.LayerElementUV[r];)e.LayerElementUV[r].UV&&i.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return i.weightTable={},t!==null&&(i.skeleton=t,t.rawBones.forEach(function(r,o){r.indices.forEach(function(s,a){i.weightTable[s]===void 0&&(i.weightTable[s]=[]),i.weightTable[s].push({id:o,weight:r.weights[a]})})})),i}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let i=0,r=0,o=!1,s=[],a=[],l=[],u=[],c=[],d=[];const m=this;return e.vertexIndices.forEach(function(v,y){let _,S=!1;v<0&&(v=v^-1,S=!0);let x=[],C=[];if(s.push(v*3,v*3+1,v*3+2),e.color){const b=Fw(y,i,v,e.color);l.push(b[0],b[1],b[2])}if(e.skeleton){if(e.weightTable[v]!==void 0&&e.weightTable[v].forEach(function(b){C.push(b.weight),x.push(b.id)}),C.length>4){o||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),o=!0);const b=[0,0,0,0],M=[0,0,0,0];C.forEach(function(B,k){let F=B,R=x[k];M.forEach(function(N,U,G){if(F>N){G[U]=F,F=N;const oe=b[U];b[U]=R,R=oe}})}),x=b,C=M}for(;C.length<4;)C.push(0),x.push(0);for(let b=0;b<4;++b)c.push(C[b]),d.push(x[b])}if(e.normal){const b=Fw(y,i,v,e.normal);a.push(b[0],b[1],b[2])}e.material&&e.material.mappingType!=="AllSame"&&(_=Fw(y,i,v,e.material)[0]),e.uv&&e.uv.forEach(function(b,M){const B=Fw(y,i,v,b);u[M]===void 0&&(u[M]=[]),u[M].push(B[0]),u[M].push(B[1])}),r++,S&&(m.genFace(t,e,s,_,a,l,u,c,d,r),i++,r=0,s=[],a=[],l=[],u=[],c=[],d=[])}),t}genFace(e,t,i,r,o,s,a,l,u,c){for(let d=2;d<c;d++)e.vertex.push(t.vertexPositions[i[0]]),e.vertex.push(t.vertexPositions[i[1]]),e.vertex.push(t.vertexPositions[i[2]]),e.vertex.push(t.vertexPositions[i[(d-1)*3]]),e.vertex.push(t.vertexPositions[i[(d-1)*3+1]]),e.vertex.push(t.vertexPositions[i[(d-1)*3+2]]),e.vertex.push(t.vertexPositions[i[d*3]]),e.vertex.push(t.vertexPositions[i[d*3+1]]),e.vertex.push(t.vertexPositions[i[d*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(d-1)*4]),e.vertexWeights.push(l[(d-1)*4+1]),e.vertexWeights.push(l[(d-1)*4+2]),e.vertexWeights.push(l[(d-1)*4+3]),e.vertexWeights.push(l[d*4]),e.vertexWeights.push(l[d*4+1]),e.vertexWeights.push(l[d*4+2]),e.vertexWeights.push(l[d*4+3]),e.weightsIndices.push(u[0]),e.weightsIndices.push(u[1]),e.weightsIndices.push(u[2]),e.weightsIndices.push(u[3]),e.weightsIndices.push(u[(d-1)*4]),e.weightsIndices.push(u[(d-1)*4+1]),e.weightsIndices.push(u[(d-1)*4+2]),e.weightsIndices.push(u[(d-1)*4+3]),e.weightsIndices.push(u[d*4]),e.weightsIndices.push(u[d*4+1]),e.weightsIndices.push(u[d*4+2]),e.weightsIndices.push(u[d*4+3])),t.color&&(e.colors.push(s[0]),e.colors.push(s[1]),e.colors.push(s[2]),e.colors.push(s[(d-1)*3]),e.colors.push(s[(d-1)*3+1]),e.colors.push(s[(d-1)*3+2]),e.colors.push(s[d*3]),e.colors.push(s[d*3+1]),e.colors.push(s[d*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(o[0]),e.normal.push(o[1]),e.normal.push(o[2]),e.normal.push(o[(d-1)*3]),e.normal.push(o[(d-1)*3+1]),e.normal.push(o[(d-1)*3+2]),e.normal.push(o[d*3]),e.normal.push(o[d*3+1]),e.normal.push(o[d*3+2])),t.uv&&t.uv.forEach(function(m,v){e.uvs[v]===void 0&&(e.uvs[v]=[]),e.uvs[v].push(a[v][0]),e.uvs[v].push(a[v][1]),e.uvs[v].push(a[v][(d-1)*2]),e.uvs[v].push(a[v][(d-1)*2+1]),e.uvs[v].push(a[v][d*2]),e.uvs[v].push(a[v][d*2+1])})}addMorphTargets(e,t,i,r){if(i.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const o=this;i.forEach(function(s){s.rawTargets.forEach(function(a){const l=Ln.Objects.Geometry[a.geoID];l!==void 0&&o.genMorphGeometry(e,t,l,r,a.name)})})}genMorphGeometry(e,t,i,r,o){const s=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=i.Vertices!==void 0?i.Vertices.a:[],l=i.Indexes!==void 0?i.Indexes.a:[],u=e.attributes.position.count*3,c=new Float32Array(u);for(let y=0;y<l.length;y++){const _=l[y]*3;c[_]=a[y*3],c[_+1]=a[y*3+1],c[_+2]=a[y*3+2]}const d={vertexIndices:s,vertexPositions:c},m=this.genBuffers(d),v=new Lt(m.vertex,3);v.name=o||i.attrName,v.applyMatrix4(r),e.morphAttributes.position.push(v)}parseNormals(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,r=e.Normals.a;let o=[];return i==="IndexToDirect"&&("NormalIndex"in e?o=e.NormalIndex.a:"NormalsIndex"in e&&(o=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:o,mappingType:t,referenceType:i}}parseUVs(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,r=e.UV.a;let o=[];return i==="IndexToDirect"&&(o=e.UVIndex.a),{dataSize:2,buffer:r,indices:o,mappingType:t,referenceType:i}}parseVertexColors(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,r=e.Colors.a;let o=[];return i==="IndexToDirect"&&(o=e.ColorIndex.a),{dataSize:4,buffer:r,indices:o,mappingType:t,referenceType:i}}parseMaterialIndices(e){const t=e.MappingInformationType,i=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:i};const r=e.Materials.a,o=[];for(let s=0;s<r.length;++s)o.push(s);return{dataSize:1,buffer:r,indices:o,mappingType:t,referenceType:i}}parseNurbsGeometry(e){if(jN===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new cn;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new cn;const i=t-1,r=e.KnotVector.a,o=[],s=e.Points.a;for(let d=0,m=s.length;d<m;d+=4)o.push(new Kn().fromArray(s,d));let a,l;if(e.Form==="Closed")o.push(o[0]);else if(e.Form==="Periodic"){a=i,l=r.length-1-a;for(let d=0;d<i;++d)o.push(o[d])}const c=new jN(i,r,o,a,l).getPoints(o.length*12);return new cn().setFromPoints(c)}}class p1e{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const i in t){const r=t[i],o=this.addClip(r);e.push(o)}return e}parseClips(){if(Ln.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Ln.Objects.AnimationCurveNode,t=new Map;for(const i in e){const r=e[i];if(r.attrName.match(/S|R|T|DeformPercent/)!==null){const o={id:r.id,attr:r.attrName,curves:{}};t.set(o.id,o)}}return t}parseAnimationCurves(e){const t=Ln.Objects.AnimationCurve;for(const i in t){const r={id:t[i].id,times:t[i].KeyTime.a.map(S1e),values:t[i].KeyValueFloat.a},o=gr.get(r.id);if(o!==void 0){const s=o.parents[0].ID,a=o.parents[0].relationship;a.match(/X/)?e.get(s).curves.x=r:a.match(/Y/)?e.get(s).curves.y=r:a.match(/Z/)?e.get(s).curves.z=r:a.match(/d|DeformPercent/)&&e.has(s)&&(e.get(s).curves.morph=r)}}}parseAnimationLayers(e){const t=Ln.Objects.AnimationLayer,i=new Map;for(const r in t){const o=[],s=gr.get(parseInt(r));s!==void 0&&(s.children.forEach(function(l,u){if(e.has(l.ID)){const c=e.get(l.ID);if(c.curves.x!==void 0||c.curves.y!==void 0||c.curves.z!==void 0){if(o[u]===void 0){const d=gr.get(l.ID).parents.filter(function(m){return m.relationship!==void 0})[0].ID;if(d!==void 0){const m=Ln.Objects.Model[d.toString()];if(m===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const v={modelName:m.attrName?Rn.sanitizeNodeName(m.attrName):"",ID:m.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};Ds.traverse(function(y){y.ID===m.id&&(v.transform=y.matrix,y.userData.transformData&&(v.eulerOrder=y.userData.transformData.eulerOrder))}),v.transform||(v.transform=new Pt),"PreRotation"in m&&(v.preRotation=m.PreRotation.value),"PostRotation"in m&&(v.postRotation=m.PostRotation.value),o[u]=v}}o[u]&&(o[u][c.attr]=c)}else if(c.curves.morph!==void 0){if(o[u]===void 0){const d=gr.get(l.ID).parents.filter(function(x){return x.relationship!==void 0})[0].ID,m=gr.get(d).parents[0].ID,v=gr.get(m).parents[0].ID,y=gr.get(v).parents[0].ID,_=Ln.Objects.Model[y],S={modelName:_.attrName?Rn.sanitizeNodeName(_.attrName):"",morphName:Ln.Objects.Deformer[d].attrName};o[u]=S}o[u][c.attr]=c}}}),i.set(parseInt(r),o))}return i}parseAnimStacks(e){const t=Ln.Objects.AnimationStack,i={};for(const r in t){const o=gr.get(parseInt(r)).children;o.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const s=e.get(o[0].ID);i[r]={name:t[r].attrName,layer:s}}return i}addClip(e){let t=[];const i=this;return e.layer.forEach(function(r){t=t.concat(i.generateTracks(r))}),new Jf(e.name,-1,t)}generateTracks(e){const t=[];let i=new X,r=new Ir,o=new X;if(e.transform&&e.transform.decompose(i,r,o),i=i.toArray(),r=new ru().setFromQuaternion(r,e.eulerOrder).toArray(),o=o.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.T.curves,i,"position");s!==void 0&&t.push(s)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const s=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);s!==void 0&&t.push(s)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.S.curves,o,"scale");s!==void 0&&t.push(s)}if(e.DeformPercent!==void 0){const s=this.generateMorphTrack(e);s!==void 0&&t.push(s)}return t}generateVectorTrack(e,t,i,r){const o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,i);return new Xp(e+"."+r,o,s)}generateRotationTrack(e,t,i,r,o,s){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(dl.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(dl.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(dl.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,i);r!==void 0&&(r=r.map(dl.degToRad),r.push(s),r=new ru().fromArray(r),r=new Ir().setFromEuler(r)),o!==void 0&&(o=o.map(dl.degToRad),o.push(s),o=new ru().fromArray(o),o=new Ir().setFromEuler(o).invert());const u=new Ir,c=new ru,d=[];for(let m=0;m<l.length;m+=3)c.set(l[m],l[m+1],l[m+2],s),u.setFromEuler(c),r!==void 0&&u.premultiply(r),o!==void 0&&u.multiply(o),u.toArray(d,m/3*4);return new sd(e+".quaternion",a,d)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,i=t.values.map(function(o){return o/100}),r=Ds.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new $f(e.modelName+".morphTargetInfluences["+r+"]",t.times,i)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(i,r){return i-r}),t.length>1){let i=1,r=t[0];for(let o=1;o<t.length;o++){const s=t[o];s!==r&&(t[i]=s,r=s,i++)}t=t.slice(0,i)}return t}getKeyframeTrackValues(e,t,i){const r=i,o=[];let s=-1,a=-1,l=-1;return e.forEach(function(u){if(t.x&&(s=t.x.times.indexOf(u)),t.y&&(a=t.y.times.indexOf(u)),t.z&&(l=t.z.times.indexOf(u)),s!==-1){const c=t.x.values[s];o.push(c),r[0]=c}else o.push(r[0]);if(a!==-1){const c=t.y.values[a];o.push(c),r[1]=c}else o.push(r[1]);if(l!==-1){const c=t.z.values[l];o.push(c),r[2]=c}else o.push(r[2])}),o}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const i=e.values[t-1],r=e.values[t]-i,o=Math.abs(r);if(o>=180){const s=o/180,a=r/s;let l=i+a;const u=e.times[t-1],d=(e.times[t]-u)/s;let m=u+d;const v=[],y=[];for(;m<e.times[t];)v.push(m),m+=d,y.push(l),l+=a;e.times=YN(e.times,t,v),e.values=YN(e.values,t,y)}}}}class m1e{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new D7,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,i=e.split(/[\r\n]+/);return i.forEach(function(r,o){const s=r.match(/^[\s\t]*;/),a=r.match(/^[\s\t]*$/);if(s||a)return;const l=r.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),u=r.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=r.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(r,l):u?t.parseNodeProperty(r,u,i[++o]):c?t.popStack():r.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(r)}),this.allNodes}parseNodeBegin(e,t){const i=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),o={name:i},s=this.parseNodeAttr(r),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(i,o):i in a?(i==="PoseNode"?a.PoseNode.push(o):a[i].id!==void 0&&(a[i]={},a[i][a[i].id]=a[i]),s.id!==""&&(a[i][s.id]=o)):typeof s.id=="number"?(a[i]={},a[i][s.id]=o):i!=="Properties70"&&(i==="PoseNode"?a[i]=[o]:a[i]=o),typeof s.id=="number"&&(o.id=s.id),s.name!==""&&(o.attrName=s.name),s.type!==""&&(o.attrType=s.type),this.pushStack(o)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let i="",r="";return e.length>1&&(i=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:i,type:r}}parseNodeProperty(e,t,i){let r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),o=t[2].replace(/^"/,"").replace(/"$/,"").trim();r==="Content"&&o===","&&(o=i.replace(/"/g,"").replace(/,$/,"").trim());const s=this.getCurrentNode();if(s.name==="Properties70"){this.parseNodeSpecialProperty(e,r,o);return}if(r==="C"){const l=o.split(",").slice(1),u=parseInt(l[0]),c=parseInt(l[1]);let d=o.split(",").slice(3);d=d.map(function(m){return m.trim().replace(/^"/,"")}),r="connections",o=[u,c],x1e(o,d),s[r]===void 0&&(s[r]=[])}r==="Node"&&(s.id=o),r in s&&Array.isArray(s[r])?s[r].push(o):r!=="a"?s[r]=o:s.a=o,this.setCurrentProp(s,r),r==="a"&&o.slice(-1)!==","&&(s.a=aT(o))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=aT(t.a))}parseNodeSpecialProperty(e,t,i){const r=i.split('",').map(function(c){return c.trim().replace(/^\"/,"").replace(/\s/,"_")}),o=r[0],s=r[1],a=r[2],l=r[3];let u=r[4];switch(s){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":u=parseFloat(u);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":u=aT(u);break}this.getPrevNode()[o]={type:s,type2:a,flag:l,value:u},this.setCurrentProp(this.getPrevNode(),o)}}class g1e{parse(e){const t=new XN(e);t.skip(23);const i=t.getUint32();if(i<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+i);const r=new D7;for(;!this.endOfContent(t);){const o=this.parseNode(t,i);o!==null&&r.add(o.name,o)}return r}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const i={},r=t>=7500?e.getUint64():e.getUint32(),o=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const s=e.getUint8(),a=e.getString(s);if(r===0)return null;const l=[];for(let m=0;m<o;m++)l.push(this.parseProperty(e));const u=l.length>0?l[0]:"",c=l.length>1?l[1]:"",d=l.length>2?l[2]:"";for(i.singleProperty=o===1&&e.getOffset()===r;r>e.getOffset();){const m=this.parseNode(e,t);m!==null&&this.parseSubNode(a,i,m)}return i.propertyList=l,typeof u=="number"&&(i.id=u),c!==""&&(i.attrName=c),d!==""&&(i.attrType=d),a!==""&&(i.name=a),i}parseSubNode(e,t,i){if(i.singleProperty===!0){const r=i.propertyList[0];Array.isArray(r)?(t[i.name]=i,i.a=r):t[i.name]=r}else if(e==="Connections"&&i.name==="C"){const r=[];i.propertyList.forEach(function(o,s){s!==0&&r.push(o)}),t.connections===void 0&&(t.connections=[]),t.connections.push(r)}else if(i.name==="Properties70")Object.keys(i).forEach(function(o){t[o]=i[o]});else if(e==="Properties70"&&i.name==="P"){let r=i.propertyList[0],o=i.propertyList[1];const s=i.propertyList[2],a=i.propertyList[3];let l;r.indexOf("Lcl ")===0&&(r=r.replace("Lcl ","Lcl_")),o.indexOf("Lcl ")===0&&(o=o.replace("Lcl ","Lcl_")),o==="Color"||o==="ColorRGB"||o==="Vector"||o==="Vector3D"||o.indexOf("Lcl_")===0?l=[i.propertyList[4],i.propertyList[5],i.propertyList[6]]:l=i.propertyList[4],t[r]={type:o,type2:s,flag:a,value:l}}else t[i.name]===void 0?typeof i.id=="number"?(t[i.name]={},t[i.name][i.id]=i):t[i.name]=i:i.name==="PoseNode"?(Array.isArray(t[i.name])||(t[i.name]=[t[i.name]]),t[i.name].push(i)):t[i.name][i.id]===void 0&&(t[i.name][i.id]=i)}parseProperty(e){const t=e.getString(1);let i;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return i=e.getUint32(),e.getArrayBuffer(i);case"S":return i=e.getUint32(),e.getString(i);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const r=e.getUint32(),o=e.getUint32(),s=e.getUint32();if(o===0)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}const a=zy(new Uint8Array(e.getArrayBuffer(s))),l=new XN(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(r);case"d":return l.getFloat64Array(r);case"f":return l.getFloat32Array(r);case"i":return l.getInt32Array(r);case"l":return l.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class XN{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let i=0;i<e;i++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let r=0;r<e;r++)t[r]=this.getUint8();const i=t.indexOf(0);return i>=0&&(t=t.slice(0,i)),Pa.decodeText(new Uint8Array(t))}}class D7{add(e,t){this[e]=t}}function v1e(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===O7(n,0,e.length)}function y1e(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function i(r){const o=n[r-1];return n=n.slice(t+r),t++,o}for(let r=0;r<e.length;++r)if(i(1)===e[r])return!1;return!0}function QN(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function S1e(n){return n/46186158e3}const _1e=[];function Fw(n,e,t,i){let r;switch(i.mappingType){case"ByPolygonVertex":r=n;break;case"ByPolygon":r=e;break;case"ByVertice":r=t;break;case"AllSame":r=i.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+i.mappingType)}i.referenceType==="IndexToDirect"&&(r=i.indices[r]);const o=r*i.dataSize,s=o+i.dataSize;return w1e(_1e,i.buffer,o,s)}const sT=new ru,_g=new X;function P7(n){const e=new Pt,t=new Pt,i=new Pt,r=new Pt,o=new Pt,s=new Pt,a=new Pt,l=new Pt,u=new Pt,c=new Pt,d=new Pt,m=new Pt,v=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(_g.fromArray(n.translation)),n.preRotation){const U=n.preRotation.map(dl.degToRad);U.push(n.eulerOrder),t.makeRotationFromEuler(sT.fromArray(U))}if(n.rotation){const U=n.rotation.map(dl.degToRad);U.push(n.eulerOrder),i.makeRotationFromEuler(sT.fromArray(U))}if(n.postRotation){const U=n.postRotation.map(dl.degToRad);U.push(n.eulerOrder),r.makeRotationFromEuler(sT.fromArray(U)),r.invert()}n.scale&&o.scale(_g.fromArray(n.scale)),n.scalingOffset&&a.setPosition(_g.fromArray(n.scalingOffset)),n.scalingPivot&&s.setPosition(_g.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(_g.fromArray(n.rotationOffset)),n.rotationPivot&&u.setPosition(_g.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(d.copy(n.parentMatrix),c.copy(n.parentMatrixWorld));const y=t.clone().multiply(i).multiply(r),_=new Pt;_.extractRotation(c);const S=new Pt;S.copyPosition(c);const x=S.clone().invert().multiply(c),C=_.clone().invert().multiply(x),b=o,M=new Pt;if(v===0)M.copy(_).multiply(y).multiply(C).multiply(b);else if(v===1)M.copy(_).multiply(C).multiply(y).multiply(b);else{const G=new Pt().scale(new X().setFromMatrixScale(d)).clone().invert(),oe=C.clone().multiply(G);M.copy(_).multiply(y).multiply(oe).multiply(b)}const B=u.clone().invert(),k=s.clone().invert();let F=e.clone().multiply(l).multiply(u).multiply(t).multiply(i).multiply(r).multiply(B).multiply(a).multiply(s).multiply(o).multiply(k);const R=new Pt().copyPosition(F),N=c.clone().multiply(R);return m.copyPosition(N),F=m.clone().multiply(M),F.premultiply(c.invert()),F}function N7(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function aT(n){return n.split(",").map(function(t){return parseFloat(t)})}function O7(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),Pa.decodeText(new Uint8Array(n,e,t))}function x1e(n,e){for(let t=0,i=n.length,r=e.length;t<r;t++,i++)n[i]=e[t]}function w1e(n,e,t,i){for(let r=t,o=0;r<i;r++,o++)n[o]=e[r];return n}function YN(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}class C1e extends Gk{constructor(e){super(e),this.type=Ko}parse(e){const a=function(b,M){switch(b){case 1:console.error("THREE.RGBELoader Read Error: "+(M||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(M||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(M||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(M||""))}return-1},d=`
`,m=function(b,M,B){M=M||1024;let F=b.pos,R=-1,N=0,U="",G=String.fromCharCode.apply(null,new Uint16Array(b.subarray(F,F+128)));for(;0>(R=G.indexOf(d))&&N<M&&F<b.byteLength;)U+=G,N+=G.length,F+=128,G+=String.fromCharCode.apply(null,new Uint16Array(b.subarray(F,F+128)));return-1<R?(B!==!1&&(b.pos+=N+R+1),U+G.slice(0,R)):!1},v=function(b){const M=/^#\?(\S+)/,B=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,k=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,F=/^\s*FORMAT=(\S+)\s*$/,R=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,N={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let U,G;if(b.pos>=b.byteLength||!(U=m(b)))return a(1,"no header found");if(!(G=U.match(M)))return a(3,"bad initial token");for(N.valid|=1,N.programtype=G[1],N.string+=U+`
`;U=m(b),U!==!1;){if(N.string+=U+`
`,U.charAt(0)==="#"){N.comments+=U+`
`;continue}if((G=U.match(B))&&(N.gamma=parseFloat(G[1])),(G=U.match(k))&&(N.exposure=parseFloat(G[1])),(G=U.match(F))&&(N.valid|=2,N.format=G[1]),(G=U.match(R))&&(N.valid|=4,N.height=parseInt(G[1],10),N.width=parseInt(G[2],10)),N.valid&2&&N.valid&4)break}return N.valid&2?N.valid&4?N:a(3,"missing image size specifier"):a(3,"missing format specifier")},y=function(b,M,B){const k=M;if(k<8||k>32767||b[0]!==2||b[1]!==2||b[2]&128)return new Uint8Array(b);if(k!==(b[2]<<8|b[3]))return a(3,"wrong scanline width");const F=new Uint8Array(4*M*B);if(!F.length)return a(4,"unable to allocate buffer space");let R=0,N=0;const U=4*k,G=new Uint8Array(4),oe=new Uint8Array(U);let me=B;for(;me>0&&N<b.byteLength;){if(N+4>b.byteLength)return a(1);if(G[0]=b[N++],G[1]=b[N++],G[2]=b[N++],G[3]=b[N++],G[0]!=2||G[1]!=2||(G[2]<<8|G[3])!=k)return a(3,"bad rgbe scanline format");let j=0,ne;for(;j<U&&N<b.byteLength;){ne=b[N++];const de=ne>128;if(de&&(ne-=128),ne===0||j+ne>U)return a(3,"bad scanline data");if(de){const O=b[N++];for(let V=0;V<ne;V++)oe[j++]=O}else oe.set(b.subarray(N,N+ne),j),j+=ne,N+=ne}const te=k;for(let de=0;de<te;de++){let O=0;F[R]=oe[de+O],O+=k,F[R+1]=oe[de+O],O+=k,F[R+2]=oe[de+O],O+=k,F[R+3]=oe[de+O],R+=4}me--}return F},_=function(b,M,B,k){const F=b[M+3],R=Math.pow(2,F-128)/255;B[k+0]=b[M+0]*R,B[k+1]=b[M+1]*R,B[k+2]=b[M+2]*R,B[k+3]=1},S=function(b,M,B,k){const F=b[M+3],R=Math.pow(2,F-128)/255;B[k+0]=yp.toHalfFloat(Math.min(b[M+0]*R,65504)),B[k+1]=yp.toHalfFloat(Math.min(b[M+1]*R,65504)),B[k+2]=yp.toHalfFloat(Math.min(b[M+2]*R,65504)),B[k+3]=yp.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const C=v(x);if(C!==-1){const b=C.width,M=C.height,B=y(x.subarray(x.pos),b,M);if(B!==-1){let k,F,R;switch(this.type){case Vo:R=B.length/4;const N=new Float32Array(R*4);for(let G=0;G<R;G++)_(B,G*4,N,G*4);k=N,F=Vo;break;case Ko:R=B.length/4;const U=new Uint16Array(R*4);for(let G=0;G<R;G++)S(B,G*4,U,G*4);k=U,F=Ko;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:b,height:M,data:k,header:C.string,gamma:C.gamma,exposure:C.exposure,type:F}}}return null}setDataType(e){return this.type=e,this}load(e,t,i,r){function o(s,a){switch(s.type){case Vo:case Ko:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=oi,s.magFilter=oi,s.generateMipmaps=!1,s.flipY=!0;break}t&&t(s,a)}return super.load(e,o,i,r)}}const by="colorSpace"in new Ri;class E1e extends Gk{constructor(e){super(e),this.type=Ko}parse(e){const N=Math.pow(2.7182818,2.2);function U(D,H){for(var Y=0,ve=0;ve<65536;++ve)(ve==0||D[ve>>3]&1<<(ve&7))&&(H[Y++]=ve);for(var se=Y-1;Y<65536;)H[Y++]=0;return se}function G(D){for(var H=0;H<16384;H++)D[H]={},D[H].len=0,D[H].lit=0,D[H].p=null}const oe={l:0,c:0,lc:0};function me(D,H,Y,ve,se){for(;Y<D;)H=H<<8|et(ve,se),Y+=8;Y-=D,oe.l=H>>Y&(1<<D)-1,oe.c=H,oe.lc=Y}const j=new Array(59);function ne(D){for(var H=0;H<=58;++H)j[H]=0;for(var H=0;H<65537;++H)j[D[H]]+=1;for(var Y=0,H=58;H>0;--H){var ve=Y+j[H]>>1;j[H]=Y,Y=ve}for(var H=0;H<65537;++H){var se=D[H];se>0&&(D[H]=se|j[se]++<<6)}}function te(D,H,Y,ve,se,W,ce){for(var ye=Y,ze=0,We=0;se<=W;se++){if(ye.value-Y.value>ve)return!1;me(6,ze,We,D,ye);var Xe=oe.l;if(ze=oe.c,We=oe.lc,ce[se]=Xe,Xe==63){if(ye.value-Y.value>ve)throw"Something wrong with hufUnpackEncTable";me(8,ze,We,D,ye);var ke=oe.l+6;if(ze=oe.c,We=oe.lc,se+ke>W+1)throw"Something wrong with hufUnpackEncTable";for(;ke--;)ce[se++]=0;se--}else if(Xe>=59){var ke=Xe-59+2;if(se+ke>W+1)throw"Something wrong with hufUnpackEncTable";for(;ke--;)ce[se++]=0;se--}}ne(ce)}function de(D){return D&63}function O(D){return D>>6}function V(D,H,Y,ve){for(;H<=Y;H++){var se=O(D[H]),W=de(D[H]);if(se>>W)throw"Invalid table entry";if(W>14){var ce=ve[se>>W-14];if(ce.len)throw"Invalid table entry";if(ce.lit++,ce.p){var ye=ce.p;ce.p=new Array(ce.lit);for(var ze=0;ze<ce.lit-1;++ze)ce.p[ze]=ye[ze]}else ce.p=new Array(1);ce.p[ce.lit-1]=H}else if(W)for(var We=0,ze=1<<14-W;ze>0;ze--){var ce=ve[(se<<14-W)+We];if(ce.len||ce.p)throw"Invalid table entry";ce.len=W,ce.lit=H,We++}}return!0}const $={c:0,lc:0};function ie(D,H,Y,ve){D=D<<8|et(Y,ve),H+=8,$.c=D,$.lc=H}const ae={c:0,lc:0};function Ce(D,H,Y,ve,se,W,ce,ye,ze,We){if(D==H){ve<8&&(ie(Y,ve,se,ce),Y=$.c,ve=$.lc),ve-=8;var Xe=Y>>ve,Xe=new Uint8Array([Xe])[0];if(ze.value+Xe>We)return!1;for(var ke=ye[ze.value-1];Xe-- >0;)ye[ze.value++]=ke}else if(ze.value<We)ye[ze.value++]=D;else return!1;ae.c=Y,ae.lc=ve}function Fe(D){return D&65535}function Ne(D){var H=Fe(D);return H>32767?H-65536:H}const he={a:0,b:0};function mt(D,H){var Y=Ne(D),ve=Ne(H),se=ve,W=Y+(se&1)+(se>>1),ce=W,ye=W-se;he.a=ce,he.b=ye}function ft(D,H){var Y=Fe(D),ve=Fe(H),se=Y-(ve>>1)&65535,W=ve+se-32768&65535;he.a=W,he.b=se}function _t(D,H,Y,ve,se,W,ce){for(var ye=ce<16384,ze=Y>se?se:Y,We=1,Xe;We<=ze;)We<<=1;for(We>>=1,Xe=We,We>>=1;We>=1;){for(var ke=0,Ut=ke+W*(se-Xe),tt=W*We,xt=W*Xe,zt=ve*We,jt=ve*Xe,mn,Yt,Zt,ln;ke<=Ut;ke+=xt){for(var un=ke,Qn=ke+ve*(Y-Xe);un<=Qn;un+=jt){var gn=un+zt,ni=un+tt,wr=ni+zt;ye?(mt(D[un+H],D[ni+H]),mn=he.a,Zt=he.b,mt(D[gn+H],D[wr+H]),Yt=he.a,ln=he.b,mt(mn,Yt),D[un+H]=he.a,D[gn+H]=he.b,mt(Zt,ln),D[ni+H]=he.a,D[wr+H]=he.b):(ft(D[un+H],D[ni+H]),mn=he.a,Zt=he.b,ft(D[gn+H],D[wr+H]),Yt=he.a,ln=he.b,ft(mn,Yt),D[un+H]=he.a,D[gn+H]=he.b,ft(Zt,ln),D[ni+H]=he.a,D[wr+H]=he.b)}if(Y&We){var ni=un+tt;ye?mt(D[un+H],D[ni+H]):ft(D[un+H],D[ni+H]),mn=he.a,D[ni+H]=he.b,D[un+H]=mn}}if(se&We)for(var un=ke,Qn=ke+ve*(Y-Xe);un<=Qn;un+=jt){var gn=un+zt;ye?mt(D[un+H],D[gn+H]):ft(D[un+H],D[gn+H]),mn=he.a,D[gn+H]=he.b,D[un+H]=mn}Xe=We,We>>=1}return ke}function Ke(D,H,Y,ve,se,W,ce,ye,ze,We){for(var Xe=0,ke=0,Ut=ye,tt=Math.trunc(se.value+(W+7)/8);se.value<tt;)for(ie(Xe,ke,Y,se),Xe=$.c,ke=$.lc;ke>=14;){var xt=Xe>>ke-14&16383,zt=H[xt];if(zt.len)ke-=zt.len,Ce(zt.lit,ce,Xe,ke,Y,ve,se,ze,We,Ut),Xe=ae.c,ke=ae.lc;else{if(!zt.p)throw"hufDecode issues";var jt;for(jt=0;jt<zt.lit;jt++){for(var mn=de(D[zt.p[jt]]);ke<mn&&se.value<tt;)ie(Xe,ke,Y,se),Xe=$.c,ke=$.lc;if(ke>=mn&&O(D[zt.p[jt]])==(Xe>>ke-mn&(1<<mn)-1)){ke-=mn,Ce(zt.p[jt],ce,Xe,ke,Y,ve,se,ze,We,Ut),Xe=ae.c,ke=ae.lc;break}}if(jt==zt.lit)throw"hufDecode issues"}}var Yt=8-W&7;for(Xe>>=Yt,ke-=Yt;ke>0;){var zt=H[Xe<<14-ke&16383];if(zt.len)ke-=zt.len,Ce(zt.lit,ce,Xe,ke,Y,ve,se,ze,We,Ut),Xe=ae.c,ke=ae.lc;else throw"hufDecode issues"}return!0}function ct(D,H,Y,ve,se,W){var ce={value:0},ye=Y.value,ze=Be(H,Y),We=Be(H,Y);Y.value+=4;var Xe=Be(H,Y);if(Y.value+=4,ze<0||ze>=65537||We<0||We>=65537)throw"Something wrong with HUF_ENCSIZE";var ke=new Array(65537),Ut=new Array(16384);G(Ut);var tt=ve-(Y.value-ye);if(te(D,H,Y,tt,ze,We,ke),Xe>8*(ve-(Y.value-ye)))throw"Something wrong with hufUncompress";V(ke,ze,We,Ut),Ke(ke,Ut,D,H,Y,Xe,We,W,se,ce)}function De(D,H,Y){for(var ve=0;ve<Y;++ve)H[ve]=D[H[ve]]}function Ae(D){for(var H=1;H<D.length;H++){var Y=D[H-1]+D[H]-128;D[H]=Y}}function je(D,H){for(var Y=0,ve=Math.floor((D.length+1)/2),se=0,W=D.length-1;!(se>W||(H[se++]=D[Y++],se>W));)H[se++]=D[ve++]}function Ye(D){for(var H=D.byteLength,Y=new Array,ve=0,se=new DataView(D);H>0;){var W=se.getInt8(ve++);if(W<0){var ce=-W;H-=ce+1;for(var ye=0;ye<ce;ye++)Y.push(se.getUint8(ve++))}else{var ce=W;H-=2;for(var ze=se.getUint8(ve++),ye=0;ye<ce+1;ye++)Y.push(ze)}}return Y}function rt(D,H,Y,ve,se,W){var gn=new DataView(W.buffer),ce=Y[D.idx[0]].width,ye=Y[D.idx[0]].height,ze=3,We=Math.floor(ce/8),Xe=Math.ceil(ce/8),ke=Math.ceil(ye/8),Ut=ce-(Xe-1)*8,tt=ye-(ke-1)*8,xt={value:0},zt=new Array(ze),jt=new Array(ze),mn=new Array(ze),Yt=new Array(ze),Zt=new Array(ze);for(let Nn=0;Nn<ze;++Nn)Zt[Nn]=H[D.idx[Nn]],zt[Nn]=Nn<1?0:zt[Nn-1]+Xe*ke,jt[Nn]=new Float32Array(64),mn[Nn]=new Uint16Array(64),Yt[Nn]=new Uint16Array(Xe*64);for(let Nn=0;Nn<ke;++Nn){var ln=8;Nn==ke-1&&(ln=tt);var un=8;for(let Xn=0;Xn<Xe;++Xn){Xn==Xe-1&&(un=Ut);for(let On=0;On<ze;++On)mn[On].fill(0),mn[On][0]=se[zt[On]++],St(xt,ve,mn[On]),It(mn[On],jt[On]),Rt(jt[On]);qt(jt);for(let On=0;On<ze;++On)Kt(jt[On],Yt[On],Xn*64)}let Qi=0;for(let Xn=0;Xn<ze;++Xn){const On=Y[D.idx[Xn]].type;for(let ci=8*Nn;ci<8*Nn+ln;++ci){Qi=Zt[Xn][ci];for(let Ys=0;Ys<We;++Ys){const po=Ys*64+(ci&7)*8;gn.setUint16(Qi+0*2*On,Yt[Xn][po+0],!0),gn.setUint16(Qi+1*2*On,Yt[Xn][po+1],!0),gn.setUint16(Qi+2*2*On,Yt[Xn][po+2],!0),gn.setUint16(Qi+3*2*On,Yt[Xn][po+3],!0),gn.setUint16(Qi+4*2*On,Yt[Xn][po+4],!0),gn.setUint16(Qi+5*2*On,Yt[Xn][po+5],!0),gn.setUint16(Qi+6*2*On,Yt[Xn][po+6],!0),gn.setUint16(Qi+7*2*On,Yt[Xn][po+7],!0),Qi+=8*2*On}}if(We!=Xe)for(let ci=8*Nn;ci<8*Nn+ln;++ci){const Ys=Zt[Xn][ci]+8*We*2*On,po=We*64+(ci&7)*8;for(let Zs=0;Zs<un;++Zs)gn.setUint16(Ys+Zs*2*On,Yt[Xn][po+Zs],!0)}}}for(var Qn=new Uint16Array(ce),gn=new DataView(W.buffer),ni=0;ni<ze;++ni){Y[D.idx[ni]].decoded=!0;var wr=Y[D.idx[ni]].type;if(Y[ni].type==2)for(var Xi=0;Xi<ye;++Xi){const Nn=Zt[ni][Xi];for(var Cr=0;Cr<ce;++Cr)Qn[Cr]=gn.getUint16(Nn+Cr*2*wr,!0);for(var Cr=0;Cr<ce;++Cr)gn.setFloat32(Nn+Cr*2*wr,He(Qn[Cr]),!0)}}}function St(D,H,Y){for(var ve,se=1;se<64;)ve=H[D.value],ve==65280?se=64:ve>>8==255?se+=ve&255:(Y[se]=ve,se++),D.value++}function It(D,H){H[0]=He(D[0]),H[1]=He(D[1]),H[2]=He(D[5]),H[3]=He(D[6]),H[4]=He(D[14]),H[5]=He(D[15]),H[6]=He(D[27]),H[7]=He(D[28]),H[8]=He(D[2]),H[9]=He(D[4]),H[10]=He(D[7]),H[11]=He(D[13]),H[12]=He(D[16]),H[13]=He(D[26]),H[14]=He(D[29]),H[15]=He(D[42]),H[16]=He(D[3]),H[17]=He(D[8]),H[18]=He(D[12]),H[19]=He(D[17]),H[20]=He(D[25]),H[21]=He(D[30]),H[22]=He(D[41]),H[23]=He(D[43]),H[24]=He(D[9]),H[25]=He(D[11]),H[26]=He(D[18]),H[27]=He(D[24]),H[28]=He(D[31]),H[29]=He(D[40]),H[30]=He(D[44]),H[31]=He(D[53]),H[32]=He(D[10]),H[33]=He(D[19]),H[34]=He(D[23]),H[35]=He(D[32]),H[36]=He(D[39]),H[37]=He(D[45]),H[38]=He(D[52]),H[39]=He(D[54]),H[40]=He(D[20]),H[41]=He(D[22]),H[42]=He(D[33]),H[43]=He(D[38]),H[44]=He(D[46]),H[45]=He(D[51]),H[46]=He(D[55]),H[47]=He(D[60]),H[48]=He(D[21]),H[49]=He(D[34]),H[50]=He(D[37]),H[51]=He(D[47]),H[52]=He(D[50]),H[53]=He(D[56]),H[54]=He(D[59]),H[55]=He(D[61]),H[56]=He(D[35]),H[57]=He(D[36]),H[58]=He(D[48]),H[59]=He(D[49]),H[60]=He(D[57]),H[61]=He(D[58]),H[62]=He(D[62]),H[63]=He(D[63])}function Rt(D){const H=.5*Math.cos(.7853975),Y=.5*Math.cos(3.14159/16),ve=.5*Math.cos(3.14159/8),se=.5*Math.cos(3*3.14159/16),W=.5*Math.cos(5*3.14159/16),ce=.5*Math.cos(3*3.14159/8),ye=.5*Math.cos(7*3.14159/16);for(var ze=new Array(4),We=new Array(4),Xe=new Array(4),ke=new Array(4),Ut=0;Ut<8;++Ut){var tt=Ut*8;ze[0]=ve*D[tt+2],ze[1]=ce*D[tt+2],ze[2]=ve*D[tt+6],ze[3]=ce*D[tt+6],We[0]=Y*D[tt+1]+se*D[tt+3]+W*D[tt+5]+ye*D[tt+7],We[1]=se*D[tt+1]-ye*D[tt+3]-Y*D[tt+5]-W*D[tt+7],We[2]=W*D[tt+1]-Y*D[tt+3]+ye*D[tt+5]+se*D[tt+7],We[3]=ye*D[tt+1]-W*D[tt+3]+se*D[tt+5]-Y*D[tt+7],Xe[0]=H*(D[tt+0]+D[tt+4]),Xe[3]=H*(D[tt+0]-D[tt+4]),Xe[1]=ze[0]+ze[3],Xe[2]=ze[1]-ze[2],ke[0]=Xe[0]+Xe[1],ke[1]=Xe[3]+Xe[2],ke[2]=Xe[3]-Xe[2],ke[3]=Xe[0]-Xe[1],D[tt+0]=ke[0]+We[0],D[tt+1]=ke[1]+We[1],D[tt+2]=ke[2]+We[2],D[tt+3]=ke[3]+We[3],D[tt+4]=ke[3]-We[3],D[tt+5]=ke[2]-We[2],D[tt+6]=ke[1]-We[1],D[tt+7]=ke[0]-We[0]}for(var xt=0;xt<8;++xt)ze[0]=ve*D[16+xt],ze[1]=ce*D[16+xt],ze[2]=ve*D[48+xt],ze[3]=ce*D[48+xt],We[0]=Y*D[8+xt]+se*D[24+xt]+W*D[40+xt]+ye*D[56+xt],We[1]=se*D[8+xt]-ye*D[24+xt]-Y*D[40+xt]-W*D[56+xt],We[2]=W*D[8+xt]-Y*D[24+xt]+ye*D[40+xt]+se*D[56+xt],We[3]=ye*D[8+xt]-W*D[24+xt]+se*D[40+xt]-Y*D[56+xt],Xe[0]=H*(D[xt]+D[32+xt]),Xe[3]=H*(D[xt]-D[32+xt]),Xe[1]=ze[0]+ze[3],Xe[2]=ze[1]-ze[2],ke[0]=Xe[0]+Xe[1],ke[1]=Xe[3]+Xe[2],ke[2]=Xe[3]-Xe[2],ke[3]=Xe[0]-Xe[1],D[0+xt]=ke[0]+We[0],D[8+xt]=ke[1]+We[1],D[16+xt]=ke[2]+We[2],D[24+xt]=ke[3]+We[3],D[32+xt]=ke[3]-We[3],D[40+xt]=ke[2]-We[2],D[48+xt]=ke[1]-We[1],D[56+xt]=ke[0]-We[0]}function qt(D){for(var H=0;H<64;++H){var Y=D[0][H],ve=D[1][H],se=D[2][H];D[0][H]=Y+1.5747*se,D[1][H]=Y-.1873*ve-.4682*se,D[2][H]=Y+1.8556*ve}}function Kt(D,H,Y){for(var ve=0;ve<64;++ve)H[Y+ve]=yp.toHalfFloat(Z(D[ve]))}function Z(D){return D<=1?Math.sign(D)*Math.pow(Math.abs(D),2.2):Math.sign(D)*Math.pow(N,Math.abs(D)-1)}function q(D){return new DataView(D.array.buffer,D.offset.value,D.size)}function Me(D){var H=D.viewer.buffer.slice(D.offset.value,D.offset.value+D.size),Y=new Uint8Array(Ye(H)),ve=new Uint8Array(Y.length);return Ae(Y),je(Y,ve),new DataView(ve.buffer)}function Je(D){var H=D.array.slice(D.offset.value,D.offset.value+D.size),Y=zy(H),ve=new Uint8Array(Y.length);return Ae(Y),je(Y,ve),new DataView(ve.buffer)}function it(D){for(var H=D.viewer,Y={value:D.offset.value},ve=new Uint16Array(D.width*D.scanlineBlockSize*(D.channels*D.type)),se=new Uint8Array(8192),W=0,ce=new Array(D.channels),ye=0;ye<D.channels;ye++)ce[ye]={},ce[ye].start=W,ce[ye].end=ce[ye].start,ce[ye].nx=D.width,ce[ye].ny=D.lines,ce[ye].size=D.type,W+=ce[ye].nx*ce[ye].ny*ce[ye].size;var ze=Ot(H,Y),We=Ot(H,Y);if(We>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ze<=We)for(var ye=0;ye<We-ze+1;ye++)se[ye+ze]=Ve(H,Y);var Xe=new Uint16Array(65536),ke=U(se,Xe),Ut=Be(H,Y);ct(D.array,H,Y,Ut,ve,W);for(var ye=0;ye<D.channels;++ye)for(var tt=ce[ye],xt=0;xt<ce[ye].size;++xt)_t(ve,tt.start+xt,tt.nx,tt.size,tt.ny,tt.nx*tt.size,ke);De(Xe,ve,W);for(var zt=0,jt=new Uint8Array(ve.buffer.byteLength),mn=0;mn<D.lines;mn++)for(var Yt=0;Yt<D.channels;Yt++){var tt=ce[Yt],Zt=tt.nx*tt.size,ln=new Uint8Array(ve.buffer,tt.end*2,Zt*2);jt.set(ln,zt),zt+=Zt*2,tt.end+=Zt}return new DataView(jt.buffer)}function ot(D){var H=D.array.slice(D.offset.value,D.offset.value+D.size),Y=zy(H);const ve=D.lines*D.channels*D.width,se=D.type==1?new Uint16Array(ve):new Uint32Array(ve);let W=0,ce=0;const ye=new Array(4);for(let ze=0;ze<D.lines;ze++)for(let We=0;We<D.channels;We++){let Xe=0;switch(D.type){case 1:ye[0]=W,ye[1]=ye[0]+D.width,W=ye[1]+D.width;for(let ke=0;ke<D.width;++ke){const Ut=Y[ye[0]++]<<8|Y[ye[1]++];Xe+=Ut,se[ce]=Xe,ce++}break;case 2:ye[0]=W,ye[1]=ye[0]+D.width,ye[2]=ye[1]+D.width,W=ye[2]+D.width;for(let ke=0;ke<D.width;++ke){const Ut=Y[ye[0]++]<<24|Y[ye[1]++]<<16|Y[ye[2]++]<<8;Xe+=Ut,se[ce]=Xe,ce++}break}}return new DataView(se.buffer)}function Nt(D){var H=D.viewer,Y={value:D.offset.value},ve=new Uint8Array(D.width*D.lines*(D.channels*D.type*2)),se={version:Re(H,Y),unknownUncompressedSize:Re(H,Y),unknownCompressedSize:Re(H,Y),acCompressedSize:Re(H,Y),dcCompressedSize:Re(H,Y),rleCompressedSize:Re(H,Y),rleUncompressedSize:Re(H,Y),rleRawSize:Re(H,Y),totalAcUncompressedCount:Re(H,Y),totalDcUncompressedCount:Re(H,Y),acCompression:Re(H,Y)};if(se.version<2)throw"EXRLoader.parse: "+Ie.compression+" version "+se.version+" is unsupported";for(var W=new Array,ce=Ot(H,Y)-2;ce>0;){var ye=Te(H.buffer,Y),ze=Ve(H,Y),We=ze>>2&3,Xe=(ze>>4)-1,ke=new Int8Array([Xe])[0],Ut=Ve(H,Y);W.push({name:ye,index:ke,type:Ut,compression:We}),ce-=ye.length+3}for(var tt=Ie.channels,xt=new Array(D.channels),zt=0;zt<D.channels;++zt){var jt=xt[zt]={},mn=tt[zt];jt.name=mn.name,jt.compression=0,jt.decoded=!1,jt.type=mn.pixelType,jt.pLinear=mn.pLinear,jt.width=D.width,jt.height=D.lines}for(var Yt={idx:new Array(3)},Zt=0;Zt<D.channels;++Zt)for(var jt=xt[Zt],zt=0;zt<W.length;++zt){var ln=W[zt];jt.name==ln.name&&(jt.compression=ln.compression,ln.index>=0&&(Yt.idx[ln.index]=Zt),jt.offset=Zt)}if(se.acCompressedSize>0)switch(se.acCompression){case 0:var gn=new Uint16Array(se.totalAcUncompressedCount);ct(D.array,H,Y,se.acCompressedSize,gn,se.totalAcUncompressedCount);break;case 1:var un=D.array.slice(Y.value,Y.value+se.totalAcUncompressedCount),Qn=zy(un),gn=new Uint16Array(Qn.buffer);Y.value+=se.totalAcUncompressedCount;break}if(se.dcCompressedSize>0){var ni={array:D.array,offset:Y,size:se.dcCompressedSize},wr=new Uint16Array(Je(ni).buffer);Y.value+=se.dcCompressedSize}if(se.rleRawSize>0){var un=D.array.slice(Y.value,Y.value+se.rleCompressedSize),Qn=zy(un),Xi=Ye(Qn.buffer);Y.value+=se.rleCompressedSize}for(var Cr=0,Nn=new Array(xt.length),zt=0;zt<Nn.length;++zt)Nn[zt]=new Array;for(var Qi=0;Qi<D.lines;++Qi)for(var Xn=0;Xn<xt.length;++Xn)Nn[Xn].push(Cr),Cr+=xt[Xn].width*D.type*2;rt(Yt,Nn,xt,gn,wr,ve);for(var zt=0;zt<xt.length;++zt){var jt=xt[zt];if(!jt.decoded)switch(jt.compression){case 2:for(var On=0,ci=0,Qi=0;Qi<D.lines;++Qi){for(var Ys=Nn[zt][On],po=0;po<jt.width;++po){for(var Zs=0;Zs<2*jt.type;++Zs)ve[Ys++]=Xi[ci+Zs*jt.width*jt.height];ci++}On++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ve.buffer)}function Te(D,H){for(var Y=new Uint8Array(D),ve=0;Y[H.value+ve]!=0;)ve+=1;var se=new TextDecoder().decode(Y.slice(H.value,H.value+ve));return H.value=H.value+ve+1,se}function Mt(D,H,Y){var ve=new TextDecoder().decode(new Uint8Array(D).slice(H.value,H.value+Y));return H.value=H.value+Y,ve}function gt(D,H){var Y=re(D,H),ve=Be(D,H);return[Y,ve]}function pt(D,H){var Y=Be(D,H),ve=Be(D,H);return[Y,ve]}function re(D,H){var Y=D.getInt32(H.value,!0);return H.value=H.value+4,Y}function Be(D,H){var Y=D.getUint32(H.value,!0);return H.value=H.value+4,Y}function et(D,H){var Y=D[H.value];return H.value=H.value+1,Y}function Ve(D,H){var Y=D.getUint8(H.value);return H.value=H.value+1,Y}const Re=function(D,H){let Y;return"getBigInt64"in DataView.prototype?Y=Number(D.getBigInt64(H.value,!0)):Y=D.getUint32(H.value+4,!0)+Number(D.getUint32(H.value,!0)<<32),H.value+=8,Y};function st(D,H){var Y=D.getFloat32(H.value,!0);return H.value+=4,Y}function Ze(D,H){return yp.toHalfFloat(st(D,H))}function He(D){var H=(D&31744)>>10,Y=D&1023;return(D>>15?-1:1)*(H?H===31?Y?NaN:1/0:Math.pow(2,H-15)*(1+Y/1024):6103515625e-14*(Y/1024))}function Ot(D,H){var Y=D.getUint16(H.value,!0);return H.value+=2,Y}function tn(D,H){return He(Ot(D,H))}function ai(D,H,Y,ve){for(var se=Y.value,W=[];Y.value<se+ve-1;){var ce=Te(H,Y),ye=re(D,Y),ze=Ve(D,Y);Y.value+=3;var We=re(D,Y),Xe=re(D,Y);W.push({name:ce,pixelType:ye,pLinear:ze,xSampling:We,ySampling:Xe})}return Y.value+=1,W}function ji(D,H){var Y=st(D,H),ve=st(D,H),se=st(D,H),W=st(D,H),ce=st(D,H),ye=st(D,H),ze=st(D,H),We=st(D,H);return{redX:Y,redY:ve,greenX:se,greenY:W,blueX:ce,blueY:ye,whiteX:ze,whiteY:We}}function Ro(D,H){var Y=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ve=Ve(D,H);return Y[ve]}function Fr(D,H){var Y=Be(D,H),ve=Be(D,H),se=Be(D,H),W=Be(D,H);return{xMin:Y,yMin:ve,xMax:se,yMax:W}}function fo(D,H){var Y=["INCREASING_Y"],ve=Ve(D,H);return Y[ve]}function Qs(D,H){var Y=st(D,H),ve=st(D,H);return[Y,ve]}function ho(D,H){var Y=st(D,H),ve=st(D,H),se=st(D,H);return[Y,ve,se]}function bs(D,H,Y,ve,se){if(ve==="string"||ve==="stringvector"||ve==="iccProfile")return Mt(H,Y,se);if(ve==="chlist")return ai(D,H,Y,se);if(ve==="chromaticities")return ji(D,Y);if(ve==="compression")return Ro(D,Y);if(ve==="box2i")return Fr(D,Y);if(ve==="lineOrder")return fo(D,Y);if(ve==="float")return st(D,Y);if(ve==="v2f")return Qs(D,Y);if(ve==="v3f")return ho(D,Y);if(ve==="int")return re(D,Y);if(ve==="rational")return gt(D,Y);if(ve==="timecode")return pt(D,Y);if(ve==="preview")return Y.value+=se,"skipped";Y.value+=se}function As(D,H,Y){const ve={};if(D.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ve.version=D.getUint8(4);const se=D.getUint8(5);ve.spec={singleTile:!!(se&2),longName:!!(se&4),deepFormat:!!(se&8),multiPart:!!(se&16)},Y.value=8;for(var W=!0;W;){var ce=Te(H,Y);if(ce==0)W=!1;else{var ye=Te(H,Y),ze=Be(D,Y),We=bs(D,H,Y,ye,ze);We===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ye}'.`):ve[ce]=We}}if(se!=0)throw console.error("EXRHeader:",ve),"THREE.EXRLoader: provided file is currently unsupported.";return ve}function Dr(D,H,Y,ve,se){const W={size:0,viewer:H,array:Y,offset:ve,width:D.dataWindow.xMax-D.dataWindow.xMin+1,height:D.dataWindow.yMax-D.dataWindow.yMin+1,channels:D.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:D.channels[0].pixelType,uncompress:null,getter:null,format:null,[by?"colorSpace":"encoding"]:null};switch(D.compression){case"NO_COMPRESSION":W.lines=1,W.uncompress=q;break;case"RLE_COMPRESSION":W.lines=1,W.uncompress=Me;break;case"ZIPS_COMPRESSION":W.lines=1,W.uncompress=Je;break;case"ZIP_COMPRESSION":W.lines=16,W.uncompress=Je;break;case"PIZ_COMPRESSION":W.lines=32,W.uncompress=it;break;case"PXR24_COMPRESSION":W.lines=16,W.uncompress=ot;break;case"DWAA_COMPRESSION":W.lines=32,W.uncompress=Nt;break;case"DWAB_COMPRESSION":W.lines=256,W.uncompress=Nt;break;default:throw"EXRLoader.parse: "+D.compression+" is unsupported"}if(W.scanlineBlockSize=W.lines,W.type==1)switch(se){case Vo:W.getter=tn,W.inputSize=2;break;case Ko:W.getter=Ot,W.inputSize=2;break}else if(W.type==2)switch(se){case Vo:W.getter=st,W.inputSize=4;break;case Ko:W.getter=Ze,W.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+W.type+" for "+D.compression+".";W.blockCount=(D.dataWindow.yMax+1)/W.scanlineBlockSize;for(var ce=0;ce<W.blockCount;ce++)Re(H,ve);W.outputChannels=W.channels==3?4:W.channels;const ye=W.width*W.height*W.outputChannels;switch(se){case Vo:W.byteArray=new Float32Array(ye),W.channels<W.outputChannels&&W.byteArray.fill(1,0,ye);break;case Ko:W.byteArray=new Uint16Array(ye),W.channels<W.outputChannels&&W.byteArray.fill(15360,0,ye);break;default:console.error("THREE.EXRLoader: unsupported type: ",se);break}return W.bytesPerLine=W.width*W.inputSize*W.channels,W.outputChannels==4?W.format=Vs:W.format=mk,by?W.colorSpace="srgb-linear":W.encoding=3e3,W}const lr=new DataView(e),Q=new Uint8Array(e),Ee={value:0},Ie=As(lr,e,Ee),_e=Dr(Ie,lr,Q,Ee,this.type),ge={value:0},at={R:0,G:1,B:2,A:3,Y:0};for(let D=0;D<_e.height/_e.scanlineBlockSize;D++){const H=Be(lr,Ee);_e.size=Be(lr,Ee),_e.lines=H+_e.scanlineBlockSize>_e.height?_e.height-H:_e.scanlineBlockSize;const ve=_e.size<_e.lines*_e.bytesPerLine?_e.uncompress(_e):q(_e);Ee.value+=_e.size;for(let se=0;se<_e.scanlineBlockSize;se++){const W=se+D*_e.scanlineBlockSize;if(W>=_e.height)break;for(let ce=0;ce<_e.channels;ce++){const ye=at[Ie.channels[ce].name];for(let ze=0;ze<_e.width;ze++){ge.value=(se*(_e.channels*_e.width)+ce*_e.width+ze)*_e.inputSize;const We=(_e.height-1-W)*(_e.width*_e.outputChannels)+ze*_e.outputChannels+ye;_e.byteArray[We]=_e.getter(ve,ge)}}}}return{header:Ie,width:_e.width,height:_e.height,data:_e.byteArray,format:_e.format,[by?"colorSpace":"encoding"]:_e[by?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function o(s,a){by?s.colorSpace=a.colorSpace:s.encoding=a.encoding,s.minFilter=oi,s.magFilter=oi,s.generateMipmaps=!1,s.flipY=!1,t&&t(s,a)}return super.load(e,o,i,r)}}const lT=new WeakMap;class b1e extends jo{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const o=new js(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,s=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const o={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const i=JSON.stringify(t);if(lT.has(e)){const l=lT.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const o=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(o,s).then(l=>(r=l,new Promise((u,c)=>{r._callbacks[o]={resolve:u,reject:c},r.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&o&&this._releaseTask(r,o)}),lT.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new cn;e.index&&t.setIndex(new jn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],o=r.name,s=r.array,a=r.itemSize;t.setAttribute(o,new jn(s,a))}return t}_loadLibrary(e,t){const i=new js(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,o)=>{i.load(e,r,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const o=A1e.toString(),s=["/* draco decoder */",r,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(o){const s=o.data;switch(s.type){case"decode":r._callbacks[s.id].resolve(s);break;case"error":r._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,o){return r._taskLoad>o._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function A1e(){let n,e;onmessage=function(s){const a=s.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(c){n.onModuleLoaded=function(d){c({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const d=c.draco,m=new d.Decoder,v=new d.DecoderBuffer;v.Init(new Int8Array(l),l.byteLength);try{const y=t(d,m,v,u),_=y.attributes.map(S=>S.array.buffer);y.index&&_.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},_)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{d.destroy(v),d.destroy(m)}});break}};function t(s,a,l,u){const c=u.attributeIDs,d=u.attributeTypes;let m,v;const y=a.GetEncodedGeometryType(l);if(y===s.TRIANGULAR_MESH)m=new s.Mesh,v=a.DecodeBufferToMesh(l,m);else if(y===s.POINT_CLOUD)m=new s.PointCloud,v=a.DecodeBufferToPointCloud(l,m);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||m.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const _={index:null,attributes:[]};for(const S in c){const x=self[d[S]];let C,b;if(u.useUniqueIDs)b=c[S],C=a.GetAttributeByUniqueId(m,b);else{if(b=a.GetAttributeId(m,s[c[S]]),b===-1)continue;C=a.GetAttribute(m,b)}_.attributes.push(r(s,a,m,S,x,C))}return y===s.TRIANGULAR_MESH&&(_.index=i(s,a,m)),s.destroy(m),_}function i(s,a,l){const c=l.num_faces()*3,d=c*4,m=s._malloc(d);a.GetTrianglesUInt32Array(l,d,m);const v=new Uint32Array(s.HEAPF32.buffer,m,c).slice();return s._free(m),{array:v,itemSize:1}}function r(s,a,l,u,c,d){const m=d.num_components(),y=l.num_points()*m,_=y*c.BYTES_PER_ELEMENT,S=o(s,c),x=s._malloc(_);a.GetAttributeDataArrayForAllPoints(l,d,S,_,x);const C=new c(s.HEAPF32.buffer,x,y).slice();return s._free(x),{name:u,array:C,itemSize:m}}function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let Dw;const uT=()=>{if(Dw)return Dw;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let o;const s=WebAssembly.instantiate(a(r),{}).then(d=>{o=d.instance,o.exports.__wasm_call_ctors()});function a(d){const m=new Uint8Array(d.length);for(let y=0;y<d.length;++y){const _=d.charCodeAt(y);m[y]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let v=0;for(let y=0;y<d.length;++y)m[v++]=m[y]<60?i[m[y]]:(m[y]-60)*64+m[++y];return m.buffer.slice(0,v)}function l(d,m,v,y,_,S){const x=o.exports.sbrk,C=v+3&-4,b=x(C*y),M=x(_.length),B=new Uint8Array(o.exports.memory.buffer);B.set(_,M);const k=d(b,v,y,M,_.length);if(k===0&&S&&S(b,C,y),m.set(B.subarray(b,b+v*y)),x(b-x(0)),k!==0)throw new Error(`Malformed buffer data: ${k}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Dw={ready:s,supported:!0,decodeVertexBuffer(d,m,v,y,_){l(o.exports.meshopt_decodeVertexBuffer,d,m,v,y,o.exports[u[_]])},decodeIndexBuffer(d,m,v,y){l(o.exports.meshopt_decodeIndexBuffer,d,m,v,y)},decodeIndexSequence(d,m,v,y){l(o.exports.meshopt_decodeIndexSequence,d,m,v,y)},decodeGltfBuffer(d,m,v,y,_,S){l(o.exports[c[_]],d,m,v,y,o.exports[u[S]])}},Dw},ZN=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function sL(n,e){const t=ec(r=>r.gl),i=Ml(n0,ZN(n)?Object.values(n):n);if(T.useLayoutEffect(()=>{e==null||e(i)},[e]),T.useEffect(()=>{(Array.isArray(i)?i:[i]).forEach(t.initTexture)},[t,i]),ZN(n)){const r=Object.keys(n),o={};return r.forEach(s=>Object.assign(o,{[s]:i[r.indexOf(s)]})),o}else return i}sL.preload=n=>Ml.preload(n0,n);sL.clear=n=>Ml.clear(n0,n);let Pw=null;function z7(n,e,t){return i=>{t&&t(i),n&&(Pw||(Pw=new b1e),Pw.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader(Pw)),e&&i.setMeshoptDecoder(typeof uT=="function"?uT():uT)}}function aL(n,e=!0,t=!0,i){return Ml(rL,n,z7(e,t,i))}aL.preload=(n,e=!0,t=!0,i)=>Ml.preload(rL,n,z7(e,t,i));aL.clear=n=>Ml.clear(rL,n);function M1e(n,e,t){const i=ec(m=>m.size),r=ec(m=>m.viewport),o=typeof n=="number"?n:i.width*r.dpr,s=typeof e=="number"?e:i.height*r.dpr,a=(typeof n=="number"?t:n)||{},{samples:l=0,depth:u,...c}=a,d=T.useMemo(()=>{const m=new Oa(o,s,{minFilter:oi,magFilter:oi,type:Ko,...c});return u&&(m.depthTexture=new Ak(o,s,Vo)),m.samples=l,m},[]);return T.useLayoutEffect(()=>{d.setSize(o,s),l&&(d.samples=l)},[l,d,o,s]),T.useEffect(()=>()=>d.dispose(),[]),d}const T1e=n=>typeof n=="function",B1e=T.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:i,children:r,...o},s)=>{const a=ec(({set:S})=>S),l=ec(({camera:S})=>S),u=ec(({size:S})=>S),c=T.useRef(null),d=T.useRef(null),m=M1e(e);T.useLayoutEffect(()=>{o.manual||(c.current.aspect=u.width/u.height)},[u,o]),T.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let v=0,y=null;const _=T1e(r);return Hb(S=>{_&&(t===1/0||v<t)&&(d.current.visible=!1,S.gl.setRenderTarget(m),y=S.scene.background,n&&(S.scene.background=n),S.gl.render(S.scene,c.current),S.scene.background=y,S.gl.setRenderTarget(null),d.current.visible=!0,v++)}),T.useLayoutEffect(()=>{if(i){const S=l;return a(()=>({camera:c.current})),()=>a(()=>({camera:S}))}},[c,i,a]),T.createElement(T.Fragment,null,T.createElement("perspectiveCamera",Uv({ref:dSe([c,s])},o),!_&&r),T.createElement("group",{ref:d},_&&r(m.texture)))});function lL(n){return Ml(oL,n)}lL.preload=n=>Ml.preload(oL,n);lL.clear=n=>Ml.clear(oL,n);function R1e(n,e){const t=T.useRef(),[i]=T.useState(()=>e?e instanceof Dn?{current:e}:e:t),[r]=T.useState(()=>new jk(void 0));T.useLayoutEffect(()=>void(r._root=i.current),[r,e]);const o=T.useRef({}),[s]=T.useState(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(i.current)return o.current[l.name]||(o.current[l.name]=r.clipAction(l,i.current))},configurable:!0})),{ref:i,clips:n,actions:a,names:n.map(l=>l.name),mixer:r}});return Hb((a,l)=>r.update(l)),T.useEffect(()=>{const a=i.current;return()=>{o.current={},Object.values(s.actions).forEach(l=>{a&&r.uncacheAction(l,a)})}},[n]),T.useEffect(()=>()=>{r.stopAllAction()},[r]),s}const cT={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},I1e="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",eO=n=>Array.isArray(n);function U7({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:i=void 0,extensions:r}={}){var o;let s=null,a=!1,l;if(t){if(!(t in cT))throw new Error("Preset must be one of: "+Object.keys(cT).join(", "));n=cT[t],e=I1e}if(a=eO(n),l=eO(n)?"cube":n.startsWith("data:application/exr")?"exr":n.startsWith("data:application/hdr")?"hdr":(o=n.split(".").pop())==null?void 0:o.toLowerCase(),s=a?$G:l==="hdr"?C1e:l==="exr"?E1e:null,!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);const u=Ml(s,a?[n]:n,v=>{v.setPath==null||v.setPath(e),r&&r(v)}),c=a?u[0]:u;c.mapping=a?id:Wp;const d=3001,m=3e3;return"colorSpace"in c?c.colorSpace=i??a?"srgb":"srgb-linear":c.encoding=i??a?d:m,c}const k1e=n=>n.current&&n.current.isScene,L1e=n=>k1e(n)?n.current:n;function uL(n,e,t,i,r=0){const o=L1e(e||t),s=o.background,a=o.environment,l=o.backgroundBlurriness||0;return n!=="only"&&(o.environment=i),n&&(o.background=i),n&&o.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=r),()=>{n!=="only"&&(o.environment=a),n&&(o.background=s),n&&o.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=l)}}function cL({scene:n,background:e=!1,blur:t,map:i}){const r=ec(o=>o.scene);return T.useLayoutEffect(()=>{if(i)return uL(e,n,r,i,t)},[r,n,i,e,t]),null}function H7({background:n=!1,scene:e,blur:t,...i}){const r=U7(i),o=ec(s=>s.scene);return T.useLayoutEffect(()=>uL(n,e,o,r,t),[r,n,e,o,t]),null}function F1e({children:n,near:e=1,far:t=1e3,resolution:i=256,frames:r=1,map:o,background:s=!1,blur:a,scene:l,files:u,path:c,preset:d=void 0,extensions:m}){const v=ec(b=>b.gl),y=ec(b=>b.scene),_=T.useRef(null),[S]=T.useState(()=>new d1),x=T.useMemo(()=>{const b=new wk(i);return b.texture.type=Ko,b},[i]);T.useLayoutEffect(()=>(r===1&&_.current.update(v,S),uL(s,l,y,x.texture,a)),[n,S,x.texture,l,y,s,r,v]);let C=1;return Hb(()=>{(r===1/0||C<r)&&(_.current.update(v,S),C++)}),T.createElement(T.Fragment,null,Gye(T.createElement(T.Fragment,null,n,T.createElement("cubeCamera",{ref:_,args:[e,t,x]}),u||d?T.createElement(H7,{background:!0,files:u,preset:d,path:c,extensions:m}):o?T.createElement(cL,{background:!0,map:o,extensions:m}):null),S))}function D1e(n){var e,t,i,r;const o=U7(n),s=n.map||o;T.useMemo(()=>eL({GroundProjectedEnvImpl:ASe}),[]);const a=T.useMemo(()=>[s],[s]),l=(e=n.ground)==null?void 0:e.height,u=(t=n.ground)==null?void 0:t.radius,c=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return T.createElement(T.Fragment,null,T.createElement(cL,Uv({},n,{map:s})),T.createElement("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u}))}function P1e(n){return n.ground?T.createElement(D1e,n):n.map?T.createElement(cL,n):n.children?T.createElement(F1e,n):T.createElement(H7,n)}const G7={robot:{scale:.13,x:-.125,y:1.125,z:.03,r:.15,filename:"ROBOT_FINAL.glb",bg:"robot_bg.png",head_dic:"Head",head:"Head",teeth_dic:"Head",teeth:"Head"},cartoon:{scale:.8,x:-.125,y:.3,z:.1,r:.15,filename:"KitFixed_3.glb",bg:"innowing.jpeg",head_dic:"Head",head:"Wolf3D_Head",teeth_dic:"Teeth",teeth:"Wolf3D_Teeth"}};var N1e=60;function dT(n,e,t){if(n.length!=0){let i=[];for(let l=0;l<Object.keys(e).length;l++)i.push([]);let r=[],o=0;n.forEach((l,u)=>{Object.entries(l.blendshapes).forEach(([c,d])=>{c in e&&i[e[c]].push(d)}),r.push(o/N1e),o++});let s=[];return Object.entries(n[0].blendshapes).forEach(([l,u])=>{if(!(l in e))return;let c=e[l],d=new $f(`${t}.morphTargetInfluences[${c}]`,r,i[c]);s&&s.push(d)}),new Jf("animation",-1,s)}return null}const O1e=[{time:.7666666666666674,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.7833333333333341,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.8000000000000008,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.8166666666666675,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.8333333333333343,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.850000000000001,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.8666666666666677,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.8833333333333344,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.9000000000000011,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.9166666666666679,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.9333333333333346,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.9500000000000013,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.966666666666668,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:.9833333333333347,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.0000000000000013,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.016666666666668,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.0333333333333345,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.0500000000000012,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.0666666666666678,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.0833333333333344,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.100000000000001,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.1166666666666676,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.1333333333333342,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.1500000000000008,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.1666666666666674,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.183333333333334,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.2000000000000006,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.2166666666666672,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.2333333333333338,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.2500000000000004,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.266666666666667,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.2833333333333337,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.3000000000000003,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.3166666666666669,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.3333333333333335,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.35,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.3666666666666667,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.3833333333333333,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.4,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.4166666666666665,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.4333333333333331,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.4499999999999997,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.4666666666666663,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.483333333333333,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.4999999999999996,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.5166666666666662,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.5333333333333328,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.5499999999999994,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.566666666666666,blendshapes:{eyeBlinkLeft:.004,eyeBlinkRight:.004,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.5833333333333326,blendshapes:{eyeBlinkLeft:.174,eyeBlinkRight:.174,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.5999999999999992,blendshapes:{eyeBlinkLeft:.391,eyeBlinkRight:.391,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.6166666666666658,blendshapes:{eyeBlinkLeft:.581,eyeBlinkRight:.58,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.6333333333333324,blendshapes:{eyeBlinkLeft:.848,eyeBlinkRight:.848,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.649999999999999,blendshapes:{eyeBlinkLeft:.87,eyeBlinkRight:.869,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.6666666666666656,blendshapes:{eyeBlinkLeft:.628,eyeBlinkRight:.628,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.6833333333333322,blendshapes:{eyeBlinkLeft:.454,eyeBlinkRight:.454,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.6999999999999988,blendshapes:{eyeBlinkLeft:.339,eyeBlinkRight:.339,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.7166666666666655,blendshapes:{eyeBlinkLeft:.227,eyeBlinkRight:.227,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.733333333333332,blendshapes:{eyeBlinkLeft:.154,eyeBlinkRight:.154,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.7499999999999987,blendshapes:{eyeBlinkLeft:.104,eyeBlinkRight:.104,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.7666666666666653,blendshapes:{eyeBlinkLeft:.076,eyeBlinkRight:.076,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.7833333333333319,blendshapes:{eyeBlinkLeft:.039,eyeBlinkRight:.039,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.7999999999999985,blendshapes:{eyeBlinkLeft:.019,eyeBlinkRight:.019,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.816666666666665,blendshapes:{eyeBlinkLeft:.01,eyeBlinkRight:.01,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.8333333333333317,blendshapes:{eyeBlinkLeft:.005,eyeBlinkRight:.005,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.8499999999999983,blendshapes:{eyeBlinkLeft:.002,eyeBlinkRight:.002,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.866666666666665,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.8833333333333315,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.8999999999999981,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.9166666666666647,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.9333333333333313,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.949999999999998,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.9666666666666646,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.9833333333333312,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:1.9999999999999978,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.0166666666666644,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.033333333333331,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.0499999999999976,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.066666666666664,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.083333333333331,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.0999999999999974,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.116666666666664,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.1333333333333306,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.1499999999999972,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.166666666666664,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.1833333333333305,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.199999999999997,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.2166666666666637,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.2333333333333303,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.249999999999997,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.2666666666666635,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.28333333333333,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.2999999999999967,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.3166666666666633,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.33333333333333,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.3499999999999965,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.366666666666663,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.3833333333333298,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.3999999999999964,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.416666666666663,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.4333333333333296,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.449999999999996,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.466666666666663,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.4833333333333294,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.499999999999996,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.5166666666666626,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.533333333333329,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.549999999999996,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.5666666666666624,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.583333333333329,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.5999999999999956,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.6166666666666623,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.633333333333329,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.6499999999999955,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.666666666666662,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.6833333333333287,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.6999999999999953,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.716666666666662,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.7333333333333285,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.749999999999995,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.7666666666666617,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.7833333333333283,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.799999999999995,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.8166666666666615,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.833333333333328,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.8499999999999948,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.8666666666666614,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.883333333333328,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.8999999999999946,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.916666666666661,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.933333333333328,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.9499999999999944,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.966666666666661,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.9833333333333276,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:2.9999999999999942,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.016666666666661,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.0333333333333274,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.049999999999994,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.0666666666666607,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.0833333333333273,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.099999999999994,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.1166666666666605,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.133333333333327,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.1499999999999937,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.1666666666666603,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.183333333333327,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.1999999999999935,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.21666666666666,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.2333333333333267,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.2499999999999933,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.26666666666666,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.2833333333333266,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.299999999999993,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.3166666666666598,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.3333333333333264,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.349999999999993,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.3666666666666596,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.383333333333326,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.399999999999993,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.4166666666666594,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.433333333333326,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.4499999999999926,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.4666666666666592,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.483333333333326,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.4999999999999925,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.516666666666659,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.5333333333333257,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.5499999999999923,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.566666666666659,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.5833333333333255,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.599999999999992,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.6166666666666587,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.6333333333333253,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.649999999999992,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.6666666666666585,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.683333333333325,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.6999999999999917,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.7166666666666583,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.733333333333325,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.7499999999999916,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.766666666666658,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.7833333333333248,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.7999999999999914,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.816666666666658,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.8333333333333246,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.849999999999991,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.866666666666658,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.8833333333333244,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.899999999999991,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.9166666666666576,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.9333333333333242,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.949999999999991,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.9666666666666575,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.983333333333324,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:3.9999999999999907,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.016666666666658,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.033333333333324,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.049999999999991,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.0666666666666575,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.083333333333324,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.099999999999991,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.116666666666657,blendshapes:{eyeBlinkLeft:.119,eyeBlinkRight:.119,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.133333333333324,blendshapes:{eyeBlinkLeft:.283,eyeBlinkRight:.283,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.149999999999991,blendshapes:{eyeBlinkLeft:.423,eyeBlinkRight:.423,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.166666666666657,blendshapes:{eyeBlinkLeft:.502,eyeBlinkRight:.502,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.183333333333324,blendshapes:{eyeBlinkLeft:.464,eyeBlinkRight:.464,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.19999999999999,blendshapes:{eyeBlinkLeft:.35,eyeBlinkRight:.35,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.216666666666657,blendshapes:{eyeBlinkLeft:.229,eyeBlinkRight:.229,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.233333333333324,blendshapes:{eyeBlinkLeft:.142,eyeBlinkRight:.143,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.24999999999999,blendshapes:{eyeBlinkLeft:.103,eyeBlinkRight:.103,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.266666666666657,blendshapes:{eyeBlinkLeft:.072,eyeBlinkRight:.072,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.2833333333333234,blendshapes:{eyeBlinkLeft:.04,eyeBlinkRight:.04,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.29999999999999,blendshapes:{eyeBlinkLeft:.022,eyeBlinkRight:.022,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.316666666666657,blendshapes:{eyeBlinkLeft:.012,eyeBlinkRight:.012,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.333333333333323,blendshapes:{eyeBlinkLeft:.007,eyeBlinkRight:.007,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.34999999999999,blendshapes:{eyeBlinkLeft:.005,eyeBlinkRight:.005,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.3666666666666565,blendshapes:{eyeBlinkLeft:.003,eyeBlinkRight:.003,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.383333333333323,blendshapes:{eyeBlinkLeft:.002,eyeBlinkRight:.002,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.39999999999999,blendshapes:{eyeBlinkLeft:.002,eyeBlinkRight:.002,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.416666666666656,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.433333333333323,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.4499999999999895,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.466666666666656,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.483333333333323,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.499999999999989,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.516666666666656,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.533333333333323,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.549999999999989,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.566666666666656,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.583333333333322,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.599999999999989,blendshapes:{eyeBlinkLeft:.001,eyeBlinkRight:.001,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.616666666666656,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.633333333333322,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.649999999999989,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.666666666666655,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.683333333333322,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.699999999999989,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.716666666666655,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.733333333333322,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.7499999999999885,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.766666666666655,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.783333333333322,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.799999999999988,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.816666666666655,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.8333333333333215,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.849999999999988,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.866666666666655,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.883333333333321,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.899999999999988,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.9166666666666545,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.933333333333321,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.949999999999988,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.966666666666654,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.983333333333321,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:4.999999999999988,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.016666666666654,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.033333333333321,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.049999999999987,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.066666666666654,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.083333333333321,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.099999999999987,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.116666666666654,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.13333333333332,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.149999999999987,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.166666666666654,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.18333333333332,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.199999999999987,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.2166666666666535,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.23333333333332,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.249999999999987,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.266666666666653,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.28333333333332,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.2999999999999865,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.316666666666653,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.33333333333332,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.349999999999986,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.366666666666653,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.3833333333333195,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.399999999999986,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.416666666666653,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.433333333333319,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.449999999999986,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.466666666666653,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.483333333333319,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.499999999999986,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.516666666666652,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.533333333333319,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.549999999999986,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.566666666666652,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.583333333333319,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.599999999999985,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.616666666666652,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.633333333333319,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.649999999999985,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.666666666666652,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.6833333333333185,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.699999999999985,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.716666666666652,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.733333333333318,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.749999999999985,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.7666666666666515,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.783333333333318,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.799999999999985,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.816666666666651,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.833333333333318,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.8499999999999845,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.866666666666651,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.883333333333318,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.899999999999984,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.916666666666651,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.933333333333318,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.949999999999984,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.966666666666651,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.983333333333317,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:5.999999999999984,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.016666666666651,blendshapes:{eyeBlinkLeft:.002,eyeBlinkRight:.002,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.033333333333317,blendshapes:{eyeBlinkLeft:.158,eyeBlinkRight:.158,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.049999999999984,blendshapes:{eyeBlinkLeft:.313,eyeBlinkRight:.313,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.06666666666665,blendshapes:{eyeBlinkLeft:.461,eyeBlinkRight:.461,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.083333333333317,blendshapes:{eyeBlinkLeft:.517,eyeBlinkRight:.516,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.099999999999984,blendshapes:{eyeBlinkLeft:.441,eyeBlinkRight:.441,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.11666666666665,blendshapes:{eyeBlinkLeft:.343,eyeBlinkRight:.343,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.133333333333317,blendshapes:{eyeBlinkLeft:.246,eyeBlinkRight:.246,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.1499999999999835,blendshapes:{eyeBlinkLeft:.161,eyeBlinkRight:.161,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.16666666666665,blendshapes:{eyeBlinkLeft:.111,eyeBlinkRight:.11,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.183333333333317,blendshapes:{eyeBlinkLeft:.067,eyeBlinkRight:.066,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.199999999999983,blendshapes:{eyeBlinkLeft:.008,eyeBlinkRight:.009,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.21666666666665,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.2333333333333165,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.249999999999983,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.26666666666665,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.283333333333316,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.299999999999983,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.3166666666666496,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.333333333333316,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.349999999999983,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.366666666666649,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.383333333333316,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.399999999999983,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.416666666666649,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.433333333333316,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.449999999999982,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.466666666666649,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.483333333333316,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.499999999999982,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.516666666666649,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.5333333333333155,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.549999999999982,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.566666666666649,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.583333333333315,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.599999999999982,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.6166666666666485,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.633333333333315,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.649999999999982,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.666666666666648,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.683333333333315,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.6999999999999815,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.716666666666648,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.733333333333315,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.749999999999981,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.766666666666648,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.783333333333315,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.799999999999981,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.816666666666648,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.833333333333314,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.849999999999981,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.866666666666648,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.883333333333314,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}},{time:6.899999999999981,blendshapes:{eyeBlinkLeft:0,eyeBlinkRight:0,mouthSmileLeft:.3,mouthSmileRight:.3}}];var IE={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */IE.exports;(function(n,e){(function(){var t,i="4.17.21",r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,m=2,v=4,y=1,_=2,S=1,x=2,C=4,b=8,M=16,B=32,k=64,F=128,R=256,N=512,U=30,G="...",oe=800,me=16,j=1,ne=2,te=3,de=1/0,O=9007199254740991,V=17976931348623157e292,$=0/0,ie=4294967295,ae=ie-1,Ce=ie>>>1,Fe=[["ary",F],["bind",S],["bindKey",x],["curry",b],["curryRight",M],["flip",N],["partial",B],["partialRight",k],["rearg",R]],Ne="[object Arguments]",he="[object Array]",mt="[object AsyncFunction]",ft="[object Boolean]",_t="[object Date]",Ke="[object DOMException]",ct="[object Error]",De="[object Function]",Ae="[object GeneratorFunction]",je="[object Map]",Ye="[object Number]",rt="[object Null]",St="[object Object]",It="[object Promise]",Rt="[object Proxy]",qt="[object RegExp]",Kt="[object Set]",Z="[object String]",q="[object Symbol]",Me="[object Undefined]",Je="[object WeakMap]",it="[object WeakSet]",ot="[object ArrayBuffer]",Nt="[object DataView]",Te="[object Float32Array]",Mt="[object Float64Array]",gt="[object Int8Array]",pt="[object Int16Array]",re="[object Int32Array]",Be="[object Uint8Array]",et="[object Uint8ClampedArray]",Ve="[object Uint16Array]",Re="[object Uint32Array]",st=/\b__p \+= '';/g,Ze=/\b(__p \+=) '' \+/g,He=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/&(?:amp|lt|gt|quot|#39);/g,tn=/[&<>"']/g,ai=RegExp(Ot.source),ji=RegExp(tn.source),Ro=/<%-([\s\S]+?)%>/g,Fr=/<%([\s\S]+?)%>/g,fo=/<%=([\s\S]+?)%>/g,Qs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ho=/^\w*$/,bs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,As=/[\\^$.*+?()[\]{}|]/g,Dr=RegExp(As.source),lr=/^\s+/,Q=/\s/,Ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,_e=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,at=/[()=,{}\[\]\/\s]/,D=/\\(\\)?/g,H=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Y=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,W=/^\[object .+?Constructor\]$/,ce=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,We=/($^)/,Xe=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",Ut="\\u0300-\\u036f",tt="\\ufe20-\\ufe2f",xt="\\u20d0-\\u20ff",zt=Ut+tt+xt,jt="\\u2700-\\u27bf",mn="a-z\\xdf-\\xf6\\xf8-\\xff",Yt="\\xac\\xb1\\xd7\\xf7",Zt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ln="\\u2000-\\u206f",un=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qn="A-Z\\xc0-\\xd6\\xd8-\\xde",gn="\\ufe0e\\ufe0f",ni=Yt+Zt+ln+un,wr="['’]",Xi="["+ke+"]",Cr="["+ni+"]",Nn="["+zt+"]",Qi="\\d+",Xn="["+jt+"]",On="["+mn+"]",ci="[^"+ke+ni+Qi+jt+mn+Qn+"]",Ys="\\ud83c[\\udffb-\\udfff]",po="(?:"+Nn+"|"+Ys+")",Zs="[^"+ke+"]",dd="(?:\\ud83c[\\udde6-\\uddff]){2}",fd="[\\ud800-\\udbff][\\udc00-\\udfff]",Ha="["+Qn+"]",rh="\\u200d",K1="(?:"+On+"|"+ci+")",Gb="(?:"+Ha+"|"+ci+")",am="(?:"+wr+"(?:d|ll|m|re|s|t|ve))?",lm="(?:"+wr+"(?:D|LL|M|RE|S|T|VE))?",hd=po+"?",$1="["+gn+"]?",i0="(?:"+rh+"(?:"+[Zs,dd,fd].join("|")+")"+$1+hd+")*",Wn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",J1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",um=$1+hd+i0,q1="(?:"+[Xn,dd,fd].join("|")+")"+um,Wb="(?:"+[Zs+Nn+"?",Nn,dd,fd,Xi].join("|")+")",Vb=RegExp(wr,"g"),Er=RegExp(Nn,"g"),oh=RegExp(Ys+"(?="+Ys+")|"+Wb+um,"g"),Kb=RegExp([Ha+"?"+On+"+"+am+"(?="+[Cr,Ha,"$"].join("|")+")",Gb+"+"+lm+"(?="+[Cr,Ha+K1,"$"].join("|")+")",Ha+"?"+K1+"+"+am,Ha+"+"+lm,J1,Wn,Qi,q1].join("|"),"g"),r0=RegExp("["+rh+ke+zt+gn+"]"),$b=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ga=-1,di={};di[Te]=di[Mt]=di[gt]=di[pt]=di[re]=di[Be]=di[et]=di[Ve]=di[Re]=!0,di[Ne]=di[he]=di[ot]=di[ft]=di[Nt]=di[_t]=di[ct]=di[De]=di[je]=di[Ye]=di[St]=di[qt]=di[Kt]=di[Z]=di[Je]=!1;var li={};li[Ne]=li[he]=li[ot]=li[Nt]=li[ft]=li[_t]=li[Te]=li[Mt]=li[gt]=li[pt]=li[re]=li[je]=li[Ye]=li[St]=li[qt]=li[Kt]=li[Z]=li[q]=li[Be]=li[et]=li[Ve]=li[Re]=!0,li[ct]=li[De]=li[Je]=!1;var Wa={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Tl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},o0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},j1=parseFloat,Jb=parseInt,ea=typeof J0=="object"&&J0&&J0.Object===Object&&J0,qb=typeof self=="object"&&self&&self.Object===Object&&self,Yi=ea||qb||Function("return this")(),s0=e&&!e.nodeType&&e,Pr=s0&&!0&&n&&!n.nodeType&&n,sh=Pr&&Pr.exports===s0,pd=sh&&ea.process,Nr=function(){try{var pe=Pr&&Pr.require&&Pr.require("util").types;return pe||pd&&pd.binding&&pd.binding("util")}catch{}}(),fm=Nr&&Nr.isArrayBuffer,hm=Nr&&Nr.isDate,a0=Nr&&Nr.isMap,pm=Nr&&Nr.isRegExp,mm=Nr&&Nr.isSet,lc=Nr&&Nr.isTypedArray;function gi(pe,Ue,Le){switch(Le.length){case 0:return pe.call(Ue);case 1:return pe.call(Ue,Le[0]);case 2:return pe.call(Ue,Le[0],Le[1]);case 3:return pe.call(Ue,Le[0],Le[1],Le[2])}return pe.apply(Ue,Le)}function Va(pe,Ue,Le,Tt){for(var an=-1,pn=pe==null?0:pe.length;++an<pn;){var vi=pe[an];Ue(Tt,vi,Le(vi),pe)}return Tt}function ur(pe,Ue){for(var Le=-1,Tt=pe==null?0:pe.length;++Le<Tt&&Ue(pe[Le],Le,pe)!==!1;);return pe}function l0(pe,Ue){for(var Le=pe==null?0:pe.length;Le--&&Ue(pe[Le],Le,pe)!==!1;);return pe}function u0(pe,Ue){for(var Le=-1,Tt=pe==null?0:pe.length;++Le<Tt;)if(!Ue(pe[Le],Le,pe))return!1;return!0}function Kr(pe,Ue){for(var Le=-1,Tt=pe==null?0:pe.length,an=0,pn=[];++Le<Tt;){var vi=pe[Le];Ue(vi,Le,pe)&&(pn[an++]=vi)}return pn}function ta(pe,Ue){var Le=pe==null?0:pe.length;return!!Le&&ia(pe,Ue,0)>-1}function md(pe,Ue,Le){for(var Tt=-1,an=pe==null?0:pe.length;++Tt<an;)if(Le(Ue,pe[Tt]))return!0;return!1}function fi(pe,Ue){for(var Le=-1,Tt=pe==null?0:pe.length,an=Array(Tt);++Le<Tt;)an[Le]=Ue(pe[Le],Le,pe);return an}function na(pe,Ue){for(var Le=-1,Tt=Ue.length,an=pe.length;++Le<Tt;)pe[an+Le]=Ue[Le];return pe}function gm(pe,Ue,Le,Tt){var an=-1,pn=pe==null?0:pe.length;for(Tt&&pn&&(Le=pe[++an]);++an<pn;)Le=Ue(Le,pe[an],an,pe);return Le}function X1(pe,Ue,Le,Tt){var an=pe==null?0:pe.length;for(Tt&&an&&(Le=pe[--an]);an--;)Le=Ue(Le,pe[an],an,pe);return Le}function ah(pe,Ue){for(var Le=-1,Tt=pe==null?0:pe.length;++Le<Tt;)if(Ue(pe[Le],Le,pe))return!0;return!1}var vm=Io("length");function Q1(pe){return pe.split("")}function Y1(pe){return pe.match(ge)||[]}function c0(pe,Ue,Le){var Tt;return Le(pe,function(an,pn,vi){if(Ue(an,pn,vi))return Tt=pn,!1}),Tt}function gd(pe,Ue,Le,Tt){for(var an=pe.length,pn=Le+(Tt?1:-1);Tt?pn--:++pn<an;)if(Ue(pe[pn],pn,pe))return pn;return-1}function ia(pe,Ue,Le){return Ue===Ue?xd(pe,Ue,Le):gd(pe,lh,Le)}function vd(pe,Ue,Le,Tt){for(var an=Le-1,pn=pe.length;++an<pn;)if(Tt(pe[an],Ue))return an;return-1}function lh(pe){return pe!==pe}function uh(pe,Ue){var Le=pe==null?0:pe.length;return Le?ra(pe,Ue)/Le:$}function Io(pe){return function(Ue){return Ue==null?t:Ue[pe]}}function ko(pe){return function(Ue){return pe==null?t:pe[Ue]}}function vu(pe,Ue,Le,Tt,an){return an(pe,function(pn,vi,rn){Le=Tt?(Tt=!1,pn):Ue(Le,pn,vi,rn)}),Le}function Bl(pe,Ue){var Le=pe.length;for(pe.sort(Ue);Le--;)pe[Le]=pe[Le].value;return pe}function ra(pe,Ue){for(var Le,Tt=-1,an=pe.length;++Tt<an;){var pn=Ue(pe[Tt]);pn!==t&&(Le=Le===t?pn:Le+pn)}return Le}function Rl(pe,Ue){for(var Le=-1,Tt=Array(pe);++Le<pe;)Tt[Le]=Ue(Le);return Tt}function Z1(pe,Ue){return fi(Ue,function(Le){return[Le,pe[Le]]})}function ym(pe){return pe&&pe.slice(0,wd(pe)+1).replace(lr,"")}function mo(pe){return function(Ue){return pe(Ue)}}function go(pe,Ue){return fi(Ue,function(Le){return pe[Le]})}function Or(pe,Ue){return pe.has(Ue)}function hi(pe,Ue){for(var Le=-1,Tt=pe.length;++Le<Tt&&ia(Ue,pe[Le],0)>-1;);return Le}function yd(pe,Ue){for(var Le=pe.length;Le--&&ia(Ue,pe[Le],0)>-1;);return Le}function oa(pe,Ue){for(var Le=pe.length,Tt=0;Le--;)pe[Le]===Ue&&++Tt;return Tt}var e_=ko(Wa),t_=ko(Tl);function d0(pe){return"\\"+o0[pe]}function f0(pe,Ue){return pe==null?t:pe[Ue]}function uc(pe){return r0.test(pe)}function ch(pe){return $b.test(pe)}function Sd(pe){for(var Ue,Le=[];!(Ue=pe.next()).done;)Le.push(Ue.value);return Le}function dh(pe){var Ue=-1,Le=Array(pe.size);return pe.forEach(function(Tt,an){Le[++Ue]=[an,Tt]}),Le}function _d(pe,Ue){return function(Le){return pe(Ue(Le))}}function sa(pe,Ue){for(var Le=-1,Tt=pe.length,an=0,pn=[];++Le<Tt;){var vi=pe[Le];(vi===Ue||vi===c)&&(pe[Le]=c,pn[an++]=Le)}return pn}function fh(pe){var Ue=-1,Le=Array(pe.size);return pe.forEach(function(Tt){Le[++Ue]=Tt}),Le}function n_(pe){var Ue=-1,Le=Array(pe.size);return pe.forEach(function(Tt){Le[++Ue]=[Tt,Tt]}),Le}function xd(pe,Ue,Le){for(var Tt=Le-1,an=pe.length;++Tt<an;)if(pe[Tt]===Ue)return Tt;return-1}function i_(pe,Ue,Le){for(var Tt=Le+1;Tt--;)if(pe[Tt]===Ue)return Tt;return Tt}function Ka(pe){return uc(pe)?$a(pe):vm(pe)}function Ii(pe){return uc(pe)?h0(pe):Q1(pe)}function wd(pe){for(var Ue=pe.length;Ue--&&Q.test(pe.charAt(Ue)););return Ue}var Cd=ko(dm);function $a(pe){for(var Ue=oh.lastIndex=0;oh.test(pe);)++Ue;return Ue}function h0(pe){return pe.match(oh)||[]}function Ed(pe){return pe.match(Kb)||[]}var r_=function pe(Ue){Ue=Ue==null?Yi:yu.defaults(Yi.Object(),Ue,yu.pick(Yi,cm));var Le=Ue.Array,Tt=Ue.Date,an=Ue.Error,pn=Ue.Function,vi=Ue.Math,rn=Ue.Object,br=Ue.RegExp,Ar=Ue.String,vo=Ue.TypeError,Su=Le.prototype,hh=pn.prototype,bd=rn.prototype,cr=Ue["__core-js_shared__"],Ad=hh.toString,$n=bd.hasOwnProperty,p0=0,Ja=function(){var f=/[^.]+$/.exec(cr&&cr.keys&&cr.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Xo=bd.toString,cc=Ad.call(rn),Sm=Yi._,_m=br("^"+Ad.call($n).replace(As,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ph=sh?Ue.Buffer:t,Il=Ue.Symbol,mh=Ue.Uint8Array,m0=ph?ph.allocUnsafe:t,gh=_d(rn.getPrototypeOf,rn),g0=rn.create,xm=bd.propertyIsEnumerable,_u=Su.splice,v0=Il?Il.isConcatSpreadable:t,xu=Il?Il.iterator:t,qa=Il?Il.toStringTag:t,Md=function(){try{var f=Dh(rn,"defineProperty");return f({},"",{}),f}catch{}}(),vh=Ue.clearTimeout!==Yi.clearTimeout&&Ue.clearTimeout,o_=Tt&&Tt.now!==Yi.Date.now&&Tt.now,s_=Ue.setTimeout!==Yi.setTimeout&&Ue.setTimeout,yh=vi.ceil,Sh=vi.floor,_h=rn.getOwnPropertySymbols,a_=ph?ph.isBuffer:t,y0=Ue.isFinite,jb=Su.join,l_=_d(rn.keys,rn),dr=vi.max,$r=vi.min,u_=Tt.now,c_=Ue.parseInt,S0=vi.random,d_=Su.reverse,Td=Dh(Ue,"DataView"),xh=Dh(Ue,"Map"),_0=Dh(Ue,"Promise"),Bd=Dh(Ue,"Set"),dc=Dh(Ue,"WeakMap"),fc=Dh(rn,"create"),wm=dc&&new dc,hc={},f_=Ph(Td),h_=Ph(xh),p_=Ph(_0),m_=Ph(Bd),ja=Ph(dc),wh=Il?Il.prototype:t,kl=wh?wh.valueOf:t,Rd=wh?wh.toString:t;function K(f){if(nr(f)&&!vn(f)&&!(f instanceof en)){if(f instanceof Jr)return f;if($n.call(f,"__wrapped__"))return wL(f)}return new Jr(f)}var Ll=function(){function f(){}return function(g){if(!Oi(g))return{};if(g0)return g0(g);f.prototype=g;var E=new f;return f.prototype=t,E}}();function Ch(){}function Jr(f,g){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=t}K.templateSettings={escape:Ro,evaluate:Fr,interpolate:fo,variable:"",imports:{_:K}},K.prototype=Ch.prototype,K.prototype.constructor=K,Jr.prototype=Ll(Ch.prototype),Jr.prototype.constructor=Jr;function en(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function Xb(){var f=new en(this.__wrapped__);return f.__actions__=Yr(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Yr(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Yr(this.__views__),f}function Qb(){if(this.__filtered__){var f=new en(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function Qo(){var f=this.__wrapped__.value(),g=this.__dir__,E=vn(f),L=g<0,z=E?f.length:0,J=V7(0,z,this.__views__),ue=J.start,fe=J.end,we=fe-ue,$e=L?fe:ue-1,qe=this.__iteratees__,nt=qe.length,Et=0,Wt=$r(we,this.__takeCount__);if(!E||!L&&z==we&&Wt==we)return Mu(f,this.__actions__);var on=[];e:for(;we--&&Et<Wt;){$e+=g;for(var bn=-1,sn=f[$e];++bn<nt;){var kn=qe[bn],zn=kn.iteratee,ha=kn.type,rs=zn(sn);if(ha==ne)sn=rs;else if(!rs){if(ha==j)continue e;break e}}on[Et++]=sn}return on}en.prototype=Ll(Ch.prototype),en.prototype.constructor=en;function Di(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var L=f[g];this.set(L[0],L[1])}}function g_(){this.__data__=fc?fc(null):{},this.size=0}function v_(f){var g=this.has(f)&&delete this.__data__[f];return this.size-=g?1:0,g}function y_(f){var g=this.__data__;if(fc){var E=g[f];return E===l?t:E}return $n.call(g,f)?g[f]:t}function S_(f){var g=this.__data__;return fc?g[f]!==t:$n.call(g,f)}function __(f,g){var E=this.__data__;return this.size+=this.has(f)?0:1,E[f]=fc&&g===t?l:g,this}Di.prototype.clear=g_,Di.prototype.delete=v_,Di.prototype.get=y_,Di.prototype.has=S_,Di.prototype.set=__;function aa(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var L=f[g];this.set(L[0],L[1])}}function x_(){this.__data__=[],this.size=0}function x0(f){var g=this.__data__,E=Cu(g,f);if(E<0)return!1;var L=g.length-1;return E==L?g.pop():_u.call(g,E,1),--this.size,!0}function w_(f){var g=this.__data__,E=Cu(g,f);return E<0?t:g[E][1]}function C_(f){return Cu(this.__data__,f)>-1}function Cm(f,g){var E=this.__data__,L=Cu(E,f);return L<0?(++this.size,E.push([f,g])):E[L][1]=g,this}aa.prototype.clear=x_,aa.prototype.delete=x0,aa.prototype.get=w_,aa.prototype.has=C_,aa.prototype.set=Cm;function Ms(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var L=f[g];this.set(L[0],L[1])}}function E_(){this.size=0,this.__data__={hash:new Di,map:new(xh||aa),string:new Di}}function w0(f){var g=H_(this,f).delete(f);return this.size-=g?1:0,g}function b_(f){return H_(this,f).get(f)}function A_(f){return H_(this,f).has(f)}function Em(f,g){var E=H_(this,f),L=E.size;return E.set(f,g),this.size+=E.size==L?0:1,this}Ms.prototype.clear=E_,Ms.prototype.delete=w0,Ms.prototype.get=b_,Ms.prototype.has=A_,Ms.prototype.set=Em;function wu(f){var g=-1,E=f==null?0:f.length;for(this.__data__=new Ms;++g<E;)this.add(f[g])}function C0(f){return this.__data__.set(f,l),this}function M_(f){return this.__data__.has(f)}wu.prototype.add=wu.prototype.push=C0,wu.prototype.has=M_;function fr(f){var g=this.__data__=new aa(f);this.size=g.size}function Yb(){this.__data__=new aa,this.size=0}function Zb(f){var g=this.__data__,E=g.delete(f);return this.size=g.size,E}function bm(f){return this.__data__.get(f)}function pc(f){return this.__data__.has(f)}function eA(f,g){var E=this.__data__;if(E instanceof aa){var L=E.__data__;if(!xh||L.length<r-1)return L.push([f,g]),this.size=++E.size,this;E=this.__data__=new Ms(L)}return E.set(f,g),this.size=E.size,this}fr.prototype.clear=Yb,fr.prototype.delete=Zb,fr.prototype.get=bm,fr.prototype.has=pc,fr.prototype.set=eA;function wt(f,g){var E=vn(f),L=!E&&Nh(f),z=!E&&!L&&Ud(f),J=!E&&!L&&!z&&Gm(f),ue=E||L||z||J,fe=ue?Rl(f.length,Ar):[],we=fe.length;for(var $e in f)(g||$n.call(f,$e))&&!(ue&&($e=="length"||z&&($e=="offset"||$e=="parent")||J&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||_c($e,we)))&&fe.push($e);return fe}function Eh(f){var g=f.length;return g?f[Qa(0,g-1)]:t}function E0(f,g){return G_(Yr(f),Eu(g,0,f.length))}function T_(f){return G_(Yr(f))}function b0(f,g,E){(E!==t&&!Pl(f[g],E)||E===t&&!(g in f))&&Xa(f,g,E)}function la(f,g,E){var L=f[g];(!($n.call(f,g)&&Pl(L,E))||E===t&&!(g in f))&&Xa(f,g,E)}function Cu(f,g){for(var E=f.length;E--;)if(Pl(f[E][0],g))return E;return-1}function A0(f,g,E,L){return ua(f,function(z,J,ue){g(L,z,E(z),ue)}),L}function M0(f,g){return f&&Rs(g,eo(g),f)}function B_(f,g){return f&&Rs(g,ks(g),f)}function Xa(f,g,E){g=="__proto__"&&Md?Md(f,g,{configurable:!0,enumerable:!0,value:E,writable:!0}):f[g]=E}function Am(f,g){for(var E=-1,L=g.length,z=Le(L),J=f==null;++E<L;)z[E]=J?t:yA(f,g[E]);return z}function Eu(f,g,E){return f===f&&(E!==t&&(f=f<=E?f:E),g!==t&&(f=f>=g?f:g)),f}function Yo(f,g,E,L,z,J){var ue,fe=g&d,we=g&m,$e=g&v;if(E&&(ue=z?E(f,L,z,J):E(f)),ue!==t)return ue;if(!Oi(f))return f;var qe=vn(f);if(qe){if(ue=$7(f),!fe)return Yr(f,ue)}else{var nt=Lo(f),Et=nt==De||nt==Ae;if(Ud(f))return H0(f,fe);if(nt==St||nt==Ne||Et&&!z){if(ue=we||Et?{}:hL(f),!fe)return we?z_(f,B_(ue,f)):rA(f,M0(ue,f))}else{if(!li[nt])return z?f:{};ue=J7(f,nt,fe)}}J||(J=new fr);var Wt=J.get(f);if(Wt)return Wt;J.set(f,ue),GL(f)?f.forEach(function(sn){ue.add(Yo(sn,g,E,sn,f,J))}):UL(f)&&f.forEach(function(sn,kn){ue.set(kn,Yo(sn,g,E,kn,f,J))});var on=$e?we?Fn:tr:we?ks:eo,bn=qe?t:on(f);return ur(bn||f,function(sn,kn){bn&&(kn=sn,sn=f[kn]),la(ue,kn,Yo(sn,g,E,kn,f,J))}),ue}function T0(f){var g=eo(f);return function(E){return Mm(E,f,g)}}function Mm(f,g,E){var L=E.length;if(f==null)return!L;for(f=rn(f);L--;){var z=E[L],J=g[z],ue=f[z];if(ue===t&&!(z in f)||!J(ue))return!1}return!0}function B0(f,g,E){if(typeof f!="function")throw new vo(s);return K0(function(){f.apply(t,E)},g)}function mc(f,g,E,L){var z=-1,J=ta,ue=!0,fe=f.length,we=[],$e=g.length;if(!fe)return we;E&&(g=fi(g,mo(E))),L?(J=md,ue=!1):g.length>=r&&(J=Or,ue=!1,g=new wu(g));e:for(;++z<fe;){var qe=f[z],nt=E==null?qe:E(qe);if(qe=L||qe!==0?qe:0,ue&&nt===nt){for(var Et=$e;Et--;)if(g[Et]===nt)continue e;we.push(qe)}else J(g,nt,L)||we.push(qe)}return we}var ua=W0(Zo),R_=W0(kd,!0);function tA(f,g){var E=!0;return ua(f,function(L,z,J){return E=!!g(L,z,J),E}),E}function bh(f,g,E){for(var L=-1,z=f.length;++L<z;){var J=f[L],ue=g(J);if(ue!=null&&(fe===t?ue===ue&&!fa(ue):E(ue,fe)))var fe=ue,we=J}return we}function I_(f,g,E,L){var z=f.length;for(E=Cn(E),E<0&&(E=-E>z?0:z+E),L=L===t||L>z?z:Cn(L),L<0&&(L+=z),L=E>L?0:VL(L);E<L;)f[E++]=g;return f}function R0(f,g){var E=[];return ua(f,function(L,z,J){g(L,z,J)&&E.push(L)}),E}function Mr(f,g,E,L,z){var J=-1,ue=f.length;for(E||(E=j7),z||(z=[]);++J<ue;){var fe=f[J];g>0&&E(fe)?g>1?Mr(fe,g-1,E,L,z):na(z,fe):L||(z[z.length]=fe)}return z}var Id=zm(),Ah=zm(!0);function Zo(f,g){return f&&Id(f,g,eo)}function kd(f,g){return f&&Ah(f,g,eo)}function gc(f,g){return Kr(g,function(E){return xc(f[E])})}function ca(f,g){g=Bu(g,f);for(var E=0,L=g.length;f!=null&&E<L;)f=f[ku(g[E++])];return E&&E==L?f:t}function Tm(f,g,E){var L=g(f);return vn(f)?L:na(L,E(f))}function zr(f){return f==null?f===t?Me:rt:qa&&qa in rn(f)?W7(f):nW(f)}function Mh(f,g){return f>g}function k_(f,g){return f!=null&&$n.call(f,g)}function I0(f,g){return f!=null&&g in rn(f)}function nA(f,g,E){return f>=$r(g,E)&&f<dr(g,E)}function Ld(f,g,E){for(var L=E?md:ta,z=f[0].length,J=f.length,ue=J,fe=Le(J),we=1/0,$e=[];ue--;){var qe=f[ue];ue&&g&&(qe=fi(qe,mo(g))),we=$r(qe.length,we),fe[ue]=!E&&(g||z>=120&&qe.length>=120)?new wu(ue&&qe):t}qe=f[0];var nt=-1,Et=fe[0];e:for(;++nt<z&&$e.length<we;){var Wt=qe[nt],on=g?g(Wt):Wt;if(Wt=E||Wt!==0?Wt:0,!(Et?Or(Et,on):L($e,on,E))){for(ue=J;--ue;){var bn=fe[ue];if(!(bn?Or(bn,on):L(f[ue],on,E)))continue e}Et&&Et.push(on),$e.push(Wt)}}return $e}function k0(f,g,E,L){return Zo(f,function(z,J,ue){g(L,E(z),J,ue)}),L}function pi(f,g,E){g=Bu(g,f),f=vL(f,g);var L=f==null?f:f[ku(el(g))];return L==null?t:gi(L,f,E)}function Sn(f){return nr(f)&&zr(f)==Ne}function Zi(f){return nr(f)&&zr(f)==ot}function er(f){return nr(f)&&zr(f)==_t}function Pi(f,g,E,L,z){return f===g?!0:f==null||g==null||!nr(f)&&!nr(g)?f!==f&&g!==g:es(f,g,E,L,Pi,z)}function es(f,g,E,L,z,J){var ue=vn(f),fe=vn(g),we=ue?he:Lo(f),$e=fe?he:Lo(g);we=we==Ne?St:we,$e=$e==Ne?St:$e;var qe=we==St,nt=$e==St,Et=we==$e;if(Et&&Ud(f)){if(!Ud(g))return!1;ue=!0,qe=!1}if(Et&&!qe)return J||(J=new fr),ue||Gm(f)?Gt(f,g,E,L,z,J):_n(f,g,we,E,L,z,J);if(!(E&y)){var Wt=qe&&$n.call(f,"__wrapped__"),on=nt&&$n.call(g,"__wrapped__");if(Wt||on){var bn=Wt?f.value():f,sn=on?g.value():g;return J||(J=new fr),z(bn,sn,E,L,J)}}return Et?(J||(J=new fr),hn(f,g,E,L,z,J)):!1}function Fd(f){return nr(f)&&Lo(f)==je}function Ni(f,g,E,L){var z=E.length,J=z,ue=!L;if(f==null)return!J;for(f=rn(f);z--;){var fe=E[z];if(ue&&fe[2]?fe[1]!==f[fe[0]]:!(fe[0]in f))return!1}for(;++z<J;){fe=E[z];var we=fe[0],$e=f[we],qe=fe[1];if(ue&&fe[2]){if($e===t&&!(we in f))return!1}else{var nt=new fr;if(L)var Et=L($e,qe,we,f,g,nt);if(!(Et===t?Pi(qe,$e,y|_,L,nt):Et))return!1}}return!0}function Dd(f){if(!Oi(f)||Q7(f))return!1;var g=xc(f)?_m:W;return g.test(Ph(f))}function Pd(f){return nr(f)&&zr(f)==qt}function Bm(f){return nr(f)&&Lo(f)==Kt}function L0(f){return nr(f)&&q_(f.length)&&!!di[zr(f)]}function Nd(f){return typeof f=="function"?f:f==null?Ls:typeof f=="object"?vn(f)?Rm(f[0],f[1]):Bh(f):tF(f)}function qr(f){if(!V0(f))return l_(f);var g=[];for(var E in rn(f))$n.call(f,E)&&E!="constructor"&&g.push(E);return g}function F0(f){if(!Oi(f))return tW(f);var g=V0(f),E=[];for(var L in f)L=="constructor"&&(g||!$n.call(f,L))||E.push(L);return E}function Th(f,g){return f<g}function vc(f,g){var E=-1,L=Is(f)?Le(f.length):[];return ua(f,function(z,J,ue){L[++E]=g(z,J,ue)}),L}function Bh(f){var g=sA(f);return g.length==1&&g[0][2]?mL(g[0][0],g[0][1]):function(E){return E===f||Ni(E,f,g)}}function Rm(f,g){return lA(f)&&pL(g)?mL(ku(f),g):function(E){var L=yA(E,f);return L===t&&L===g?SA(E,f):Pi(g,L,y|_)}}function da(f,g,E,L,z){f!==g&&Id(g,function(J,ue){if(z||(z=new fr),Oi(J))Im(f,g,ue,E,da,L,z);else{var fe=L?L(cA(f,ue),J,ue+"",f,g,z):t;fe===t&&(fe=J),b0(f,ue,fe)}},ks)}function Im(f,g,E,L,z,J,ue){var fe=cA(f,E),we=cA(g,E),$e=ue.get(we);if($e){b0(f,E,$e);return}var qe=J?J(fe,we,E+"",f,g,ue):t,nt=qe===t;if(nt){var Et=vn(we),Wt=!Et&&Ud(we),on=!Et&&!Wt&&Gm(we);qe=we,Et||Wt||on?vn(fe)?qe=fe:hr(fe)?qe=Yr(fe):Wt?(nt=!1,qe=H0(we,!0)):on?(nt=!1,qe=O_(we,!0)):qe=[]:$0(we)||Nh(we)?(qe=fe,Nh(fe)?qe=KL(fe):(!Oi(fe)||xc(fe))&&(qe=hL(we))):nt=!1}nt&&(ue.set(we,qe),z(qe,we,L,J,ue),ue.delete(we)),b0(f,E,qe)}function Fl(f,g){var E=f.length;if(E)return g+=g<0?E:0,_c(g,E)?f[g]:t}function Rh(f,g,E){g.length?g=fi(g,function(J){return vn(J)?function(ue){return ca(ue,J.length===1?J[0]:J)}:J}):g=[Ls];var L=-1;g=fi(g,mo(nn()));var z=vc(f,function(J,ue,fe){var we=fi(g,function($e){return $e(J)});return{criteria:we,index:++L,value:J}});return Bl(z,function(J,ue){return Om(J,ue,E)})}function Ih(f,g){return km(f,g,function(E,L){return SA(f,L)})}function km(f,g,E){for(var L=-1,z=g.length,J={};++L<z;){var ue=g[L],fe=ca(f,ue);E(fe,ue)&&yc(J,Bu(ue,f),fe)}return J}function Lm(f){return function(g){return ca(g,f)}}function Od(f,g,E,L){var z=L?vd:ia,J=-1,ue=g.length,fe=f;for(f===g&&(g=Yr(g)),E&&(fe=fi(f,mo(E)));++J<ue;)for(var we=0,$e=g[J],qe=E?E($e):$e;(we=z(fe,qe,we,L))>-1;)fe!==f&&_u.call(fe,we,1),_u.call(f,we,1);return f}function jr(f,g){for(var E=f?g.length:0,L=E-1;E--;){var z=g[E];if(E==L||z!==J){var J=z;_c(z)?_u.call(f,z,1):O0(f,z)}}return f}function Qa(f,g){return f+Sh(S0()*(g-f+1))}function Ts(f,g,E,L){for(var z=-1,J=dr(yh((g-f)/(E||1)),0),ue=Le(J);J--;)ue[L?J:++z]=f,f+=E;return ue}function zd(f,g){var E="";if(!f||g<1||g>O)return E;do g%2&&(E+=f),g=Sh(g/2),g&&(f+=f);while(g);return E}function Xt(f,g){return dA(gL(f,g,Ls),f+"")}function L_(f){return Eh(Wm(f))}function D0(f,g){var E=Wm(f);return G_(E,Eu(g,0,E.length))}function yc(f,g,E,L){if(!Oi(f))return f;g=Bu(g,f);for(var z=-1,J=g.length,ue=J-1,fe=f;fe!=null&&++z<J;){var we=ku(g[z]),$e=E;if(we==="__proto__"||we==="constructor"||we==="prototype")return f;if(z!=ue){var qe=fe[we];$e=L?L(qe,we,fe):t,$e===t&&($e=Oi(qe)?qe:_c(g[z+1])?[]:{})}la(fe,we,$e),fe=fe[we]}return f}var F_=wm?function(f,g){return wm.set(f,g),f}:Ls,bu=Md?function(f,g){return Md(f,"toString",{configurable:!0,enumerable:!1,value:xA(g),writable:!0})}:Ls;function D_(f){return G_(Wm(f))}function ts(f,g,E){var L=-1,z=f.length;g<0&&(g=-g>z?0:z+g),E=E>z?z:E,E<0&&(E+=z),z=g>E?0:E-g>>>0,g>>>=0;for(var J=Le(z);++L<z;)J[L]=f[L+g];return J}function P0(f,g){var E;return ua(f,function(L,z,J){return E=g(L,z,J),!E}),!!E}function Ya(f,g,E){var L=0,z=f==null?L:f.length;if(typeof g=="number"&&g===g&&z<=Ce){for(;L<z;){var J=L+z>>>1,ue=f[J];ue!==null&&!fa(ue)&&(E?ue<=g:ue<g)?L=J+1:z=J}return z}return Fm(f,g,Ls,E)}function Fm(f,g,E,L){var z=0,J=f==null?0:f.length;if(J===0)return 0;g=E(g);for(var ue=g!==g,fe=g===null,we=fa(g),$e=g===t;z<J;){var qe=Sh((z+J)/2),nt=E(f[qe]),Et=nt!==t,Wt=nt===null,on=nt===nt,bn=fa(nt);if(ue)var sn=L||on;else $e?sn=on&&(L||Et):fe?sn=on&&Et&&(L||!Wt):we?sn=on&&Et&&!Wt&&(L||!bn):Wt||bn?sn=!1:sn=L?nt<=g:nt<g;sn?z=qe+1:J=qe}return $r(J,ae)}function N0(f,g){for(var E=-1,L=f.length,z=0,J=[];++E<L;){var ue=f[E],fe=g?g(ue):ue;if(!E||!Pl(fe,we)){var we=fe;J[z++]=ue===0?0:ue}}return J}function Dm(f){return typeof f=="number"?f:fa(f)?$:+f}function Xr(f){if(typeof f=="string")return f;if(vn(f))return fi(f,Xr)+"";if(fa(f))return Rd?Rd.call(f):"";var g=f+"";return g=="0"&&1/f==-de?"-0":g}function Au(f,g,E){var L=-1,z=ta,J=f.length,ue=!0,fe=[],we=fe;if(E)ue=!1,z=md;else if(J>=r){var $e=g?null:Zr(f);if($e)return fh($e);ue=!1,z=Or,we=new wu}else we=g?[]:fe;e:for(;++L<J;){var qe=f[L],nt=g?g(qe):qe;if(qe=E||qe!==0?qe:0,ue&&nt===nt){for(var Et=we.length;Et--;)if(we[Et]===nt)continue e;g&&we.push(nt),fe.push(qe)}else z(we,nt,E)||(we!==fe&&we.push(nt),fe.push(qe))}return fe}function O0(f,g){return g=Bu(g,f),f=vL(f,g),f==null||delete f[ku(el(g))]}function z0(f,g,E,L){return yc(f,g,E(ca(f,g)),L)}function kh(f,g,E,L){for(var z=f.length,J=L?z:-1;(L?J--:++J<z)&&g(f[J],J,f););return E?ts(f,L?0:J,L?J+1:z):ts(f,L?J+1:0,L?z:J)}function Mu(f,g){var E=f;return E instanceof en&&(E=E.value()),gm(g,function(L,z){return z.func.apply(z.thisArg,na([L],z.args))},E)}function U0(f,g,E){var L=f.length;if(L<2)return L?Au(f[0]):[];for(var z=-1,J=Le(L);++z<L;)for(var ue=f[z],fe=-1;++fe<L;)fe!=z&&(J[z]=mc(J[z]||ue,f[fe],g,E));return Au(Mr(J,1),g,E)}function Tu(f,g,E){for(var L=-1,z=f.length,J=g.length,ue={};++L<z;){var fe=L<J?g[L]:t;E(ue,f[L],fe)}return ue}function Pm(f){return hr(f)?f:[]}function Qr(f){return typeof f=="function"?f:Ls}function Bu(f,g){return vn(f)?f:lA(f,g)?[f]:xL(Zn(f))}var P_=Xt;function Ru(f,g,E){var L=f.length;return E=E===t?L:E,!g&&E>=L?f:ts(f,g,E)}var N_=vh||function(f){return Yi.clearTimeout(f)};function H0(f,g){if(g)return f.slice();var E=f.length,L=m0?m0(E):new f.constructor(E);return f.copy(L),L}function Nm(f){var g=new f.constructor(f.byteLength);return new mh(g).set(new mh(f)),g}function iA(f,g){var E=g?Nm(f.buffer):f.buffer;return new f.constructor(E,f.byteOffset,f.byteLength)}function Bs(f){var g=new f.constructor(f.source,Y.exec(f));return g.lastIndex=f.lastIndex,g}function G0(f){return kl?rn(kl.call(f)):{}}function O_(f,g){var E=g?Nm(f.buffer):f.buffer;return new f.constructor(E,f.byteOffset,f.length)}function Dl(f,g){if(f!==g){var E=f!==t,L=f===null,z=f===f,J=fa(f),ue=g!==t,fe=g===null,we=g===g,$e=fa(g);if(!fe&&!$e&&!J&&f>g||J&&ue&&we&&!fe&&!$e||L&&ue&&we||!E&&we||!z)return 1;if(!L&&!J&&!$e&&f<g||$e&&E&&z&&!L&&!J||fe&&E&&z||!ue&&z||!we)return-1}return 0}function Om(f,g,E){for(var L=-1,z=f.criteria,J=g.criteria,ue=z.length,fe=E.length;++L<ue;){var we=Dl(z[L],J[L]);if(we){if(L>=fe)return we;var $e=E[L];return we*($e=="desc"?-1:1)}}return f.index-g.index}function Iu(f,g,E,L){for(var z=-1,J=f.length,ue=E.length,fe=-1,we=g.length,$e=dr(J-ue,0),qe=Le(we+$e),nt=!L;++fe<we;)qe[fe]=g[fe];for(;++z<ue;)(nt||z<J)&&(qe[E[z]]=f[z]);for(;$e--;)qe[fe++]=f[z++];return qe}function Lh(f,g,E,L){for(var z=-1,J=f.length,ue=-1,fe=E.length,we=-1,$e=g.length,qe=dr(J-fe,0),nt=Le(qe+$e),Et=!L;++z<qe;)nt[z]=f[z];for(var Wt=z;++we<$e;)nt[Wt+we]=g[we];for(;++ue<fe;)(Et||z<J)&&(nt[Wt+E[ue]]=f[z++]);return nt}function Yr(f,g){var E=-1,L=f.length;for(g||(g=Le(L));++E<L;)g[E]=f[E];return g}function Rs(f,g,E,L){var z=!E;E||(E={});for(var J=-1,ue=g.length;++J<ue;){var fe=g[J],we=L?L(E[fe],f[fe],fe,E,f):t;we===t&&(we=f[fe]),z?Xa(E,fe,we):la(E,fe,we)}return E}function rA(f,g){return Rs(f,aA(f),g)}function z_(f,g){return Rs(f,dL(f),g)}function Fh(f,g){return function(E,L){var z=vn(E)?Va:A0,J=g?g():{};return z(E,f,nn(L,2),J)}}function Sc(f){return Xt(function(g,E){var L=-1,z=E.length,J=z>1?E[z-1]:t,ue=z>2?E[2]:t;for(J=f.length>3&&typeof J=="function"?(z--,J):t,ue&&is(E[0],E[1],ue)&&(J=z<3?t:J,z=1),g=rn(g);++L<z;){var fe=E[L];fe&&f(g,fe,L,J)}return g})}function W0(f,g){return function(E,L){if(E==null)return E;if(!Is(E))return f(E,L);for(var z=E.length,J=g?z:-1,ue=rn(E);(g?J--:++J<z)&&L(ue[J],J,ue)!==!1;);return E}}function zm(f){return function(g,E,L){for(var z=-1,J=rn(g),ue=L(g),fe=ue.length;fe--;){var we=ue[f?fe:++z];if(E(J[we],we,J)===!1)break}return g}}function oA(f,g,E){var L=g&S,z=p(f);function J(){var ue=this&&this!==Yi&&this instanceof J?z:f;return ue.apply(L?E:this,arguments)}return J}function U_(f){return function(g){g=Zn(g);var E=uc(g)?Ii(g):t,L=E?E[0]:g.charAt(0),z=E?Ru(E,1).join(""):g.slice(1);return L[f]()+z}}function h(f){return function(g){return gm(ZL(YL(g).replace(Vb,"")),f,"")}}function p(f){return function(){var g=arguments;switch(g.length){case 0:return new f;case 1:return new f(g[0]);case 2:return new f(g[0],g[1]);case 3:return new f(g[0],g[1],g[2]);case 4:return new f(g[0],g[1],g[2],g[3]);case 5:return new f(g[0],g[1],g[2],g[3],g[4]);case 6:return new f(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new f(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var E=Ll(f.prototype),L=f.apply(E,g);return Oi(L)?L:E}}function w(f,g,E){var L=p(f);function z(){for(var J=arguments.length,ue=Le(J),fe=J,we=Hm(z);fe--;)ue[fe]=arguments[fe];var $e=J<3&&ue[0]!==we&&ue[J-1]!==we?[]:sa(ue,we);if(J-=$e.length,J<E)return Yn(f,g,P,z.placeholder,t,ue,$e,t,t,E-J);var qe=this&&this!==Yi&&this instanceof z?L:f;return gi(qe,this,ue)}return z}function A(f){return function(g,E,L){var z=rn(g);if(!Is(g)){var J=nn(E,3);g=eo(g),E=function(fe){return J(z[fe],fe,z)}}var ue=f(g,E,L);return ue>-1?z[J?g[ue]:ue]:t}}function I(f){return xn(function(g){var E=g.length,L=E,z=Jr.prototype.thru;for(f&&g.reverse();L--;){var J=g[L];if(typeof J!="function")throw new vo(s);if(z&&!ue&&Um(J)=="wrapper")var ue=new Jr([],!0)}for(L=ue?L:E;++L<E;){J=g[L];var fe=Um(J),we=fe=="wrapper"?Za(J):t;we&&uA(we[0])&&we[1]==(F|b|B|R)&&!we[4].length&&we[9]==1?ue=ue[Um(we[0])].apply(ue,we[3]):ue=J.length==1&&uA(J)?ue[fe]():ue.thru(J)}return function(){var $e=arguments,qe=$e[0];if(ue&&$e.length==1&&vn(qe))return ue.plant(qe).value();for(var nt=0,Et=E?g[nt].apply(this,$e):qe;++nt<E;)Et=g[nt].call(this,Et);return Et}})}function P(f,g,E,L,z,J,ue,fe,we,$e){var qe=g&F,nt=g&S,Et=g&x,Wt=g&(b|M),on=g&N,bn=Et?t:p(f);function sn(){for(var kn=arguments.length,zn=Le(kn),ha=kn;ha--;)zn[ha]=arguments[ha];if(Wt)var rs=Hm(sn),pa=oa(zn,rs);if(L&&(zn=Iu(zn,L,z,Wt)),J&&(zn=Lh(zn,J,ue,Wt)),kn-=pa,Wt&&kn<$e){var pr=sa(zn,rs);return Yn(f,g,P,sn.placeholder,E,zn,pr,fe,we,$e-kn)}var Nl=nt?E:this,Cc=Et?Nl[f]:f;return kn=zn.length,fe?zn=iW(zn,fe):on&&kn>1&&zn.reverse(),qe&&we<kn&&(zn.length=we),this&&this!==Yi&&this instanceof sn&&(Cc=bn||p(Cc)),Cc.apply(Nl,zn)}return sn}function ee(f,g){return function(E,L){return k0(E,f,g(L),{})}}function Se(f,g){return function(E,L){var z;if(E===t&&L===t)return g;if(E!==t&&(z=E),L!==t){if(z===t)return L;typeof E=="string"||typeof L=="string"?(E=Xr(E),L=Xr(L)):(E=Dm(E),L=Dm(L)),z=f(E,L)}return z}}function Oe(f){return xn(function(g){return g=fi(g,mo(nn())),Xt(function(E){var L=this;return f(g,function(z){return gi(z,L,E)})})})}function lt(f,g){g=g===t?" ":Xr(g);var E=g.length;if(E<2)return E?zd(g,f):g;var L=zd(g,yh(f/Ka(g)));return uc(g)?Ru(Ii(L),0,f).join(""):L.slice(0,f)}function kt(f,g,E,L){var z=g&S,J=p(f);function ue(){for(var fe=-1,we=arguments.length,$e=-1,qe=L.length,nt=Le(qe+we),Et=this&&this!==Yi&&this instanceof ue?J:f;++$e<qe;)nt[$e]=L[$e];for(;we--;)nt[$e++]=arguments[++fe];return gi(Et,z?E:this,nt)}return ue}function dn(f){return function(g,E,L){return L&&typeof L!="number"&&is(g,E,L)&&(E=L=t),g=wc(g),E===t?(E=g,g=0):E=wc(E),L=L===t?g<E?1:-1:wc(L),Ts(g,E,L,f)}}function $t(f){return function(g,E){return typeof g=="string"&&typeof E=="string"||(g=tl(g),E=tl(E)),f(g,E)}}function Yn(f,g,E,L,z,J,ue,fe,we,$e){var qe=g&b,nt=qe?ue:t,Et=qe?t:ue,Wt=qe?J:t,on=qe?t:J;g|=qe?B:k,g&=~(qe?k:B),g&C||(g&=~(S|x));var bn=[f,g,z,Wt,nt,on,Et,fe,we,$e],sn=E.apply(t,bn);return uA(f)&&yL(sn,bn),sn.placeholder=L,SL(sn,f,g)}function Ht(f){var g=vi[f];return function(E,L){if(E=tl(E),L=L==null?0:$r(Cn(L),292),L&&y0(E)){var z=(Zn(E)+"e").split("e"),J=g(z[0]+"e"+(+z[1]+L));return z=(Zn(J)+"e").split("e"),+(z[0]+"e"+(+z[1]-L))}return g(E)}}var Zr=Bd&&1/fh(new Bd([,-0]))[1]==de?function(f){return new Bd(f)}:EA;function ns(f){return function(g){var E=Lo(g);return E==je?dh(g):E==Kt?n_(g):Z1(g,f(g))}}function be(f,g,E,L,z,J,ue,fe){var we=g&x;if(!we&&typeof f!="function")throw new vo(s);var $e=L?L.length:0;if($e||(g&=~(B|k),L=z=t),ue=ue===t?ue:dr(Cn(ue),0),fe=fe===t?fe:Cn(fe),$e-=z?z.length:0,g&k){var qe=L,nt=z;L=z=t}var Et=we?t:Za(f),Wt=[f,g,E,L,z,qe,nt,J,ue,fe];if(Et&&eW(Wt,Et),f=Wt[0],g=Wt[1],E=Wt[2],L=Wt[3],z=Wt[4],fe=Wt[9]=Wt[9]===t?we?0:f.length:dr(Wt[9]-$e,0),!fe&&g&(b|M)&&(g&=~(b|M)),!g||g==S)var on=oA(f,g,E);else g==b||g==M?on=w(f,g,fe):(g==B||g==(S|B))&&!z.length?on=kt(f,g,E,L):on=P.apply(t,Wt);var bn=Et?F_:yL;return SL(bn(on,Wt),f,g)}function xe(f,g,E,L){return f===t||Pl(f,bd[E])&&!$n.call(L,E)?g:f}function Pe(f,g,E,L,z,J){return Oi(f)&&Oi(g)&&(J.set(g,f),da(f,g,t,Pe,J),J.delete(g)),f}function bt(f){return $0(f)?t:f}function Gt(f,g,E,L,z,J){var ue=E&y,fe=f.length,we=g.length;if(fe!=we&&!(ue&&we>fe))return!1;var $e=J.get(f),qe=J.get(g);if($e&&qe)return $e==g&&qe==f;var nt=-1,Et=!0,Wt=E&_?new wu:t;for(J.set(f,g),J.set(g,f);++nt<fe;){var on=f[nt],bn=g[nt];if(L)var sn=ue?L(bn,on,nt,g,f,J):L(on,bn,nt,f,g,J);if(sn!==t){if(sn)continue;Et=!1;break}if(Wt){if(!ah(g,function(kn,zn){if(!Or(Wt,zn)&&(on===kn||z(on,kn,E,L,J)))return Wt.push(zn)})){Et=!1;break}}else if(!(on===bn||z(on,bn,E,L,J))){Et=!1;break}}return J.delete(f),J.delete(g),Et}function _n(f,g,E,L,z,J,ue){switch(E){case Nt:if(f.byteLength!=g.byteLength||f.byteOffset!=g.byteOffset)return!1;f=f.buffer,g=g.buffer;case ot:return!(f.byteLength!=g.byteLength||!J(new mh(f),new mh(g)));case ft:case _t:case Ye:return Pl(+f,+g);case ct:return f.name==g.name&&f.message==g.message;case qt:case Z:return f==g+"";case je:var fe=dh;case Kt:var we=L&y;if(fe||(fe=fh),f.size!=g.size&&!we)return!1;var $e=ue.get(f);if($e)return $e==g;L|=_,ue.set(f,g);var qe=Gt(fe(f),fe(g),L,z,J,ue);return ue.delete(f),qe;case q:if(kl)return kl.call(f)==kl.call(g)}return!1}function hn(f,g,E,L,z,J){var ue=E&y,fe=tr(f),we=fe.length,$e=tr(g),qe=$e.length;if(we!=qe&&!ue)return!1;for(var nt=we;nt--;){var Et=fe[nt];if(!(ue?Et in g:$n.call(g,Et)))return!1}var Wt=J.get(f),on=J.get(g);if(Wt&&on)return Wt==g&&on==f;var bn=!0;J.set(f,g),J.set(g,f);for(var sn=ue;++nt<we;){Et=fe[nt];var kn=f[Et],zn=g[Et];if(L)var ha=ue?L(zn,kn,Et,g,f,J):L(kn,zn,Et,f,g,J);if(!(ha===t?kn===zn||z(kn,zn,E,L,J):ha)){bn=!1;break}sn||(sn=Et=="constructor")}if(bn&&!sn){var rs=f.constructor,pa=g.constructor;rs!=pa&&"constructor"in f&&"constructor"in g&&!(typeof rs=="function"&&rs instanceof rs&&typeof pa=="function"&&pa instanceof pa)&&(bn=!1)}return J.delete(f),J.delete(g),bn}function xn(f){return dA(gL(f,t,bL),f+"")}function tr(f){return Tm(f,eo,aA)}function Fn(f){return Tm(f,ks,dL)}var Za=wm?function(f){return wm.get(f)}:EA;function Um(f){for(var g=f.name+"",E=hc[g],L=$n.call(hc,g)?E.length:0;L--;){var z=E[L],J=z.func;if(J==null||J==f)return z.name}return g}function Hm(f){var g=$n.call(K,"placeholder")?K:f;return g.placeholder}function nn(){var f=K.iteratee||wA;return f=f===wA?Nd:f,arguments.length?f(arguments[0],arguments[1]):f}function H_(f,g){var E=f.__data__;return X7(g)?E[typeof g=="string"?"string":"hash"]:E.map}function sA(f){for(var g=eo(f),E=g.length;E--;){var L=g[E],z=f[L];g[E]=[L,z,pL(z)]}return g}function Dh(f,g){var E=f0(f,g);return Dd(E)?E:t}function W7(f){var g=$n.call(f,qa),E=f[qa];try{f[qa]=t;var L=!0}catch{}var z=Xo.call(f);return L&&(g?f[qa]=E:delete f[qa]),z}var aA=_h?function(f){return f==null?[]:(f=rn(f),Kr(_h(f),function(g){return xm.call(f,g)}))}:bA,dL=_h?function(f){for(var g=[];f;)na(g,aA(f)),f=gh(f);return g}:bA,Lo=zr;(Td&&Lo(new Td(new ArrayBuffer(1)))!=Nt||xh&&Lo(new xh)!=je||_0&&Lo(_0.resolve())!=It||Bd&&Lo(new Bd)!=Kt||dc&&Lo(new dc)!=Je)&&(Lo=function(f){var g=zr(f),E=g==St?f.constructor:t,L=E?Ph(E):"";if(L)switch(L){case f_:return Nt;case h_:return je;case p_:return It;case m_:return Kt;case ja:return Je}return g});function V7(f,g,E){for(var L=-1,z=E.length;++L<z;){var J=E[L],ue=J.size;switch(J.type){case"drop":f+=ue;break;case"dropRight":g-=ue;break;case"take":g=$r(g,f+ue);break;case"takeRight":f=dr(f,g-ue);break}}return{start:f,end:g}}function K7(f){var g=f.match(Ie);return g?g[1].split(_e):[]}function fL(f,g,E){g=Bu(g,f);for(var L=-1,z=g.length,J=!1;++L<z;){var ue=ku(g[L]);if(!(J=f!=null&&E(f,ue)))break;f=f[ue]}return J||++L!=z?J:(z=f==null?0:f.length,!!z&&q_(z)&&_c(ue,z)&&(vn(f)||Nh(f)))}function $7(f){var g=f.length,E=new f.constructor(g);return g&&typeof f[0]=="string"&&$n.call(f,"index")&&(E.index=f.index,E.input=f.input),E}function hL(f){return typeof f.constructor=="function"&&!V0(f)?Ll(gh(f)):{}}function J7(f,g,E){var L=f.constructor;switch(g){case ot:return Nm(f);case ft:case _t:return new L(+f);case Nt:return iA(f,E);case Te:case Mt:case gt:case pt:case re:case Be:case et:case Ve:case Re:return O_(f,E);case je:return new L;case Ye:case Z:return new L(f);case qt:return Bs(f);case Kt:return new L;case q:return G0(f)}}function q7(f,g){var E=g.length;if(!E)return f;var L=E-1;return g[L]=(E>1?"& ":"")+g[L],g=g.join(E>2?", ":" "),f.replace(Ee,`{
/* [wrapped with `+g+`] */
`)}function j7(f){return vn(f)||Nh(f)||!!(v0&&f&&f[v0])}function _c(f,g){var E=typeof f;return g=g??O,!!g&&(E=="number"||E!="symbol"&&ye.test(f))&&f>-1&&f%1==0&&f<g}function is(f,g,E){if(!Oi(E))return!1;var L=typeof g;return(L=="number"?Is(E)&&_c(g,E.length):L=="string"&&g in E)?Pl(E[g],f):!1}function lA(f,g){if(vn(f))return!1;var E=typeof f;return E=="number"||E=="symbol"||E=="boolean"||f==null||fa(f)?!0:ho.test(f)||!Qs.test(f)||g!=null&&f in rn(g)}function X7(f){var g=typeof f;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?f!=="__proto__":f===null}function uA(f){var g=Um(f),E=K[g];if(typeof E!="function"||!(g in en.prototype))return!1;if(f===E)return!0;var L=Za(E);return!!L&&f===L[0]}function Q7(f){return!!Ja&&Ja in f}var Y7=cr?xc:AA;function V0(f){var g=f&&f.constructor,E=typeof g=="function"&&g.prototype||bd;return f===E}function pL(f){return f===f&&!Oi(f)}function mL(f,g){return function(E){return E==null?!1:E[f]===g&&(g!==t||f in rn(E))}}function Z7(f){var g=$_(f,function(L){return E.size===u&&E.clear(),L}),E=g.cache;return g}function eW(f,g){var E=f[1],L=g[1],z=E|L,J=z<(S|x|F),ue=L==F&&E==b||L==F&&E==R&&f[7].length<=g[8]||L==(F|R)&&g[7].length<=g[8]&&E==b;if(!(J||ue))return f;L&S&&(f[2]=g[2],z|=E&S?0:C);var fe=g[3];if(fe){var we=f[3];f[3]=we?Iu(we,fe,g[4]):fe,f[4]=we?sa(f[3],c):g[4]}return fe=g[5],fe&&(we=f[5],f[5]=we?Lh(we,fe,g[6]):fe,f[6]=we?sa(f[5],c):g[6]),fe=g[7],fe&&(f[7]=fe),L&F&&(f[8]=f[8]==null?g[8]:$r(f[8],g[8])),f[9]==null&&(f[9]=g[9]),f[0]=g[0],f[1]=z,f}function tW(f){var g=[];if(f!=null)for(var E in rn(f))g.push(E);return g}function nW(f){return Xo.call(f)}function gL(f,g,E){return g=dr(g===t?f.length-1:g,0),function(){for(var L=arguments,z=-1,J=dr(L.length-g,0),ue=Le(J);++z<J;)ue[z]=L[g+z];z=-1;for(var fe=Le(g+1);++z<g;)fe[z]=L[z];return fe[g]=E(ue),gi(f,this,fe)}}function vL(f,g){return g.length<2?f:ca(f,ts(g,0,-1))}function iW(f,g){for(var E=f.length,L=$r(g.length,E),z=Yr(f);L--;){var J=g[L];f[L]=_c(J,E)?z[J]:t}return f}function cA(f,g){if(!(g==="constructor"&&typeof f[g]=="function")&&g!="__proto__")return f[g]}var yL=_L(F_),K0=s_||function(f,g){return Yi.setTimeout(f,g)},dA=_L(bu);function SL(f,g,E){var L=g+"";return dA(f,q7(L,rW(K7(L),E)))}function _L(f){var g=0,E=0;return function(){var L=u_(),z=me-(L-E);if(E=L,z>0){if(++g>=oe)return arguments[0]}else g=0;return f.apply(t,arguments)}}function G_(f,g){var E=-1,L=f.length,z=L-1;for(g=g===t?L:g;++E<g;){var J=Qa(E,z),ue=f[J];f[J]=f[E],f[E]=ue}return f.length=g,f}var xL=Z7(function(f){var g=[];return f.charCodeAt(0)===46&&g.push(""),f.replace(bs,function(E,L,z,J){g.push(z?J.replace(D,"$1"):L||E)}),g});function ku(f){if(typeof f=="string"||fa(f))return f;var g=f+"";return g=="0"&&1/f==-de?"-0":g}function Ph(f){if(f!=null){try{return Ad.call(f)}catch{}try{return f+""}catch{}}return""}function rW(f,g){return ur(Fe,function(E){var L="_."+E[0];g&E[1]&&!ta(f,L)&&f.push(L)}),f.sort()}function wL(f){if(f instanceof en)return f.clone();var g=new Jr(f.__wrapped__,f.__chain__);return g.__actions__=Yr(f.__actions__),g.__index__=f.__index__,g.__values__=f.__values__,g}function oW(f,g,E){(E?is(f,g,E):g===t)?g=1:g=dr(Cn(g),0);var L=f==null?0:f.length;if(!L||g<1)return[];for(var z=0,J=0,ue=Le(yh(L/g));z<L;)ue[J++]=ts(f,z,z+=g);return ue}function sW(f){for(var g=-1,E=f==null?0:f.length,L=0,z=[];++g<E;){var J=f[g];J&&(z[L++]=J)}return z}function aW(){var f=arguments.length;if(!f)return[];for(var g=Le(f-1),E=arguments[0],L=f;L--;)g[L-1]=arguments[L];return na(vn(E)?Yr(E):[E],Mr(g,1))}var lW=Xt(function(f,g){return hr(f)?mc(f,Mr(g,1,hr,!0)):[]}),uW=Xt(function(f,g){var E=el(g);return hr(E)&&(E=t),hr(f)?mc(f,Mr(g,1,hr,!0),nn(E,2)):[]}),cW=Xt(function(f,g){var E=el(g);return hr(E)&&(E=t),hr(f)?mc(f,Mr(g,1,hr,!0),t,E):[]});function dW(f,g,E){var L=f==null?0:f.length;return L?(g=E||g===t?1:Cn(g),ts(f,g<0?0:g,L)):[]}function fW(f,g,E){var L=f==null?0:f.length;return L?(g=E||g===t?1:Cn(g),g=L-g,ts(f,0,g<0?0:g)):[]}function hW(f,g){return f&&f.length?kh(f,nn(g,3),!0,!0):[]}function pW(f,g){return f&&f.length?kh(f,nn(g,3),!0):[]}function mW(f,g,E,L){var z=f==null?0:f.length;return z?(E&&typeof E!="number"&&is(f,g,E)&&(E=0,L=z),I_(f,g,E,L)):[]}function CL(f,g,E){var L=f==null?0:f.length;if(!L)return-1;var z=E==null?0:Cn(E);return z<0&&(z=dr(L+z,0)),gd(f,nn(g,3),z)}function EL(f,g,E){var L=f==null?0:f.length;if(!L)return-1;var z=L-1;return E!==t&&(z=Cn(E),z=E<0?dr(L+z,0):$r(z,L-1)),gd(f,nn(g,3),z,!0)}function bL(f){var g=f==null?0:f.length;return g?Mr(f,1):[]}function gW(f){var g=f==null?0:f.length;return g?Mr(f,de):[]}function vW(f,g){var E=f==null?0:f.length;return E?(g=g===t?1:Cn(g),Mr(f,g)):[]}function yW(f){for(var g=-1,E=f==null?0:f.length,L={};++g<E;){var z=f[g];L[z[0]]=z[1]}return L}function AL(f){return f&&f.length?f[0]:t}function SW(f,g,E){var L=f==null?0:f.length;if(!L)return-1;var z=E==null?0:Cn(E);return z<0&&(z=dr(L+z,0)),ia(f,g,z)}function _W(f){var g=f==null?0:f.length;return g?ts(f,0,-1):[]}var xW=Xt(function(f){var g=fi(f,Pm);return g.length&&g[0]===f[0]?Ld(g):[]}),wW=Xt(function(f){var g=el(f),E=fi(f,Pm);return g===el(E)?g=t:E.pop(),E.length&&E[0]===f[0]?Ld(E,nn(g,2)):[]}),CW=Xt(function(f){var g=el(f),E=fi(f,Pm);return g=typeof g=="function"?g:t,g&&E.pop(),E.length&&E[0]===f[0]?Ld(E,t,g):[]});function EW(f,g){return f==null?"":jb.call(f,g)}function el(f){var g=f==null?0:f.length;return g?f[g-1]:t}function bW(f,g,E){var L=f==null?0:f.length;if(!L)return-1;var z=L;return E!==t&&(z=Cn(E),z=z<0?dr(L+z,0):$r(z,L-1)),g===g?i_(f,g,z):gd(f,lh,z,!0)}function AW(f,g){return f&&f.length?Fl(f,Cn(g)):t}var MW=Xt(ML);function ML(f,g){return f&&f.length&&g&&g.length?Od(f,g):f}function TW(f,g,E){return f&&f.length&&g&&g.length?Od(f,g,nn(E,2)):f}function BW(f,g,E){return f&&f.length&&g&&g.length?Od(f,g,t,E):f}var RW=xn(function(f,g){var E=f==null?0:f.length,L=Am(f,g);return jr(f,fi(g,function(z){return _c(z,E)?+z:z}).sort(Dl)),L});function IW(f,g){var E=[];if(!(f&&f.length))return E;var L=-1,z=[],J=f.length;for(g=nn(g,3);++L<J;){var ue=f[L];g(ue,L,f)&&(E.push(ue),z.push(L))}return jr(f,z),E}function fA(f){return f==null?f:d_.call(f)}function kW(f,g,E){var L=f==null?0:f.length;return L?(E&&typeof E!="number"&&is(f,g,E)?(g=0,E=L):(g=g==null?0:Cn(g),E=E===t?L:Cn(E)),ts(f,g,E)):[]}function LW(f,g){return Ya(f,g)}function FW(f,g,E){return Fm(f,g,nn(E,2))}function DW(f,g){var E=f==null?0:f.length;if(E){var L=Ya(f,g);if(L<E&&Pl(f[L],g))return L}return-1}function PW(f,g){return Ya(f,g,!0)}function NW(f,g,E){return Fm(f,g,nn(E,2),!0)}function OW(f,g){var E=f==null?0:f.length;if(E){var L=Ya(f,g,!0)-1;if(Pl(f[L],g))return L}return-1}function zW(f){return f&&f.length?N0(f):[]}function UW(f,g){return f&&f.length?N0(f,nn(g,2)):[]}function HW(f){var g=f==null?0:f.length;return g?ts(f,1,g):[]}function GW(f,g,E){return f&&f.length?(g=E||g===t?1:Cn(g),ts(f,0,g<0?0:g)):[]}function WW(f,g,E){var L=f==null?0:f.length;return L?(g=E||g===t?1:Cn(g),g=L-g,ts(f,g<0?0:g,L)):[]}function VW(f,g){return f&&f.length?kh(f,nn(g,3),!1,!0):[]}function KW(f,g){return f&&f.length?kh(f,nn(g,3)):[]}var $W=Xt(function(f){return Au(Mr(f,1,hr,!0))}),JW=Xt(function(f){var g=el(f);return hr(g)&&(g=t),Au(Mr(f,1,hr,!0),nn(g,2))}),qW=Xt(function(f){var g=el(f);return g=typeof g=="function"?g:t,Au(Mr(f,1,hr,!0),t,g)});function jW(f){return f&&f.length?Au(f):[]}function XW(f,g){return f&&f.length?Au(f,nn(g,2)):[]}function QW(f,g){return g=typeof g=="function"?g:t,f&&f.length?Au(f,t,g):[]}function hA(f){if(!(f&&f.length))return[];var g=0;return f=Kr(f,function(E){if(hr(E))return g=dr(E.length,g),!0}),Rl(g,function(E){return fi(f,Io(E))})}function TL(f,g){if(!(f&&f.length))return[];var E=hA(f);return g==null?E:fi(E,function(L){return gi(g,t,L)})}var YW=Xt(function(f,g){return hr(f)?mc(f,g):[]}),ZW=Xt(function(f){return U0(Kr(f,hr))}),eV=Xt(function(f){var g=el(f);return hr(g)&&(g=t),U0(Kr(f,hr),nn(g,2))}),tV=Xt(function(f){var g=el(f);return g=typeof g=="function"?g:t,U0(Kr(f,hr),t,g)}),nV=Xt(hA);function iV(f,g){return Tu(f||[],g||[],la)}function rV(f,g){return Tu(f||[],g||[],yc)}var oV=Xt(function(f){var g=f.length,E=g>1?f[g-1]:t;return E=typeof E=="function"?(f.pop(),E):t,TL(f,E)});function BL(f){var g=K(f);return g.__chain__=!0,g}function sV(f,g){return g(f),f}function W_(f,g){return g(f)}var aV=xn(function(f){var g=f.length,E=g?f[0]:0,L=this.__wrapped__,z=function(J){return Am(J,f)};return g>1||this.__actions__.length||!(L instanceof en)||!_c(E)?this.thru(z):(L=L.slice(E,+E+(g?1:0)),L.__actions__.push({func:W_,args:[z],thisArg:t}),new Jr(L,this.__chain__).thru(function(J){return g&&!J.length&&J.push(t),J}))});function lV(){return BL(this)}function uV(){return new Jr(this.value(),this.__chain__)}function cV(){this.__values__===t&&(this.__values__=WL(this.value()));var f=this.__index__>=this.__values__.length,g=f?t:this.__values__[this.__index__++];return{done:f,value:g}}function dV(){return this}function fV(f){for(var g,E=this;E instanceof Ch;){var L=wL(E);L.__index__=0,L.__values__=t,g?z.__wrapped__=L:g=L;var z=L;E=E.__wrapped__}return z.__wrapped__=f,g}function hV(){var f=this.__wrapped__;if(f instanceof en){var g=f;return this.__actions__.length&&(g=new en(this)),g=g.reverse(),g.__actions__.push({func:W_,args:[fA],thisArg:t}),new Jr(g,this.__chain__)}return this.thru(fA)}function pV(){return Mu(this.__wrapped__,this.__actions__)}var mV=Fh(function(f,g,E){$n.call(f,E)?++f[E]:Xa(f,E,1)});function gV(f,g,E){var L=vn(f)?u0:tA;return E&&is(f,g,E)&&(g=t),L(f,nn(g,3))}function vV(f,g){var E=vn(f)?Kr:R0;return E(f,nn(g,3))}var yV=A(CL),SV=A(EL);function _V(f,g){return Mr(V_(f,g),1)}function xV(f,g){return Mr(V_(f,g),de)}function wV(f,g,E){return E=E===t?1:Cn(E),Mr(V_(f,g),E)}function RL(f,g){var E=vn(f)?ur:ua;return E(f,nn(g,3))}function IL(f,g){var E=vn(f)?l0:R_;return E(f,nn(g,3))}var CV=Fh(function(f,g,E){$n.call(f,E)?f[E].push(g):Xa(f,E,[g])});function EV(f,g,E,L){f=Is(f)?f:Wm(f),E=E&&!L?Cn(E):0;var z=f.length;return E<0&&(E=dr(z+E,0)),j_(f)?E<=z&&f.indexOf(g,E)>-1:!!z&&ia(f,g,E)>-1}var bV=Xt(function(f,g,E){var L=-1,z=typeof g=="function",J=Is(f)?Le(f.length):[];return ua(f,function(ue){J[++L]=z?gi(g,ue,E):pi(ue,g,E)}),J}),AV=Fh(function(f,g,E){Xa(f,E,g)});function V_(f,g){var E=vn(f)?fi:vc;return E(f,nn(g,3))}function MV(f,g,E,L){return f==null?[]:(vn(g)||(g=g==null?[]:[g]),E=L?t:E,vn(E)||(E=E==null?[]:[E]),Rh(f,g,E))}var TV=Fh(function(f,g,E){f[E?0:1].push(g)},function(){return[[],[]]});function BV(f,g,E){var L=vn(f)?gm:vu,z=arguments.length<3;return L(f,nn(g,4),E,z,ua)}function RV(f,g,E){var L=vn(f)?X1:vu,z=arguments.length<3;return L(f,nn(g,4),E,z,R_)}function IV(f,g){var E=vn(f)?Kr:R0;return E(f,J_(nn(g,3)))}function kV(f){var g=vn(f)?Eh:L_;return g(f)}function LV(f,g,E){(E?is(f,g,E):g===t)?g=1:g=Cn(g);var L=vn(f)?E0:D0;return L(f,g)}function FV(f){var g=vn(f)?T_:D_;return g(f)}function DV(f){if(f==null)return 0;if(Is(f))return j_(f)?Ka(f):f.length;var g=Lo(f);return g==je||g==Kt?f.size:qr(f).length}function PV(f,g,E){var L=vn(f)?ah:P0;return E&&is(f,g,E)&&(g=t),L(f,nn(g,3))}var NV=Xt(function(f,g){if(f==null)return[];var E=g.length;return E>1&&is(f,g[0],g[1])?g=[]:E>2&&is(g[0],g[1],g[2])&&(g=[g[0]]),Rh(f,Mr(g,1),[])}),K_=o_||function(){return Yi.Date.now()};function OV(f,g){if(typeof g!="function")throw new vo(s);return f=Cn(f),function(){if(--f<1)return g.apply(this,arguments)}}function kL(f,g,E){return g=E?t:g,g=f&&g==null?f.length:g,be(f,F,t,t,t,t,g)}function LL(f,g){var E;if(typeof g!="function")throw new vo(s);return f=Cn(f),function(){return--f>0&&(E=g.apply(this,arguments)),f<=1&&(g=t),E}}var pA=Xt(function(f,g,E){var L=S;if(E.length){var z=sa(E,Hm(pA));L|=B}return be(f,L,g,E,z)}),FL=Xt(function(f,g,E){var L=S|x;if(E.length){var z=sa(E,Hm(FL));L|=B}return be(g,L,f,E,z)});function DL(f,g,E){g=E?t:g;var L=be(f,b,t,t,t,t,t,g);return L.placeholder=DL.placeholder,L}function PL(f,g,E){g=E?t:g;var L=be(f,M,t,t,t,t,t,g);return L.placeholder=PL.placeholder,L}function NL(f,g,E){var L,z,J,ue,fe,we,$e=0,qe=!1,nt=!1,Et=!0;if(typeof f!="function")throw new vo(s);g=tl(g)||0,Oi(E)&&(qe=!!E.leading,nt="maxWait"in E,J=nt?dr(tl(E.maxWait)||0,g):J,Et="trailing"in E?!!E.trailing:Et);function Wt(pr){var Nl=L,Cc=z;return L=z=t,$e=pr,ue=f.apply(Cc,Nl),ue}function on(pr){return $e=pr,fe=K0(kn,g),qe?Wt(pr):ue}function bn(pr){var Nl=pr-we,Cc=pr-$e,nF=g-Nl;return nt?$r(nF,J-Cc):nF}function sn(pr){var Nl=pr-we,Cc=pr-$e;return we===t||Nl>=g||Nl<0||nt&&Cc>=J}function kn(){var pr=K_();if(sn(pr))return zn(pr);fe=K0(kn,bn(pr))}function zn(pr){return fe=t,Et&&L?Wt(pr):(L=z=t,ue)}function ha(){fe!==t&&N_(fe),$e=0,L=we=z=fe=t}function rs(){return fe===t?ue:zn(K_())}function pa(){var pr=K_(),Nl=sn(pr);if(L=arguments,z=this,we=pr,Nl){if(fe===t)return on(we);if(nt)return N_(fe),fe=K0(kn,g),Wt(we)}return fe===t&&(fe=K0(kn,g)),ue}return pa.cancel=ha,pa.flush=rs,pa}var zV=Xt(function(f,g){return B0(f,1,g)}),UV=Xt(function(f,g,E){return B0(f,tl(g)||0,E)});function HV(f){return be(f,N)}function $_(f,g){if(typeof f!="function"||g!=null&&typeof g!="function")throw new vo(s);var E=function(){var L=arguments,z=g?g.apply(this,L):L[0],J=E.cache;if(J.has(z))return J.get(z);var ue=f.apply(this,L);return E.cache=J.set(z,ue)||J,ue};return E.cache=new($_.Cache||Ms),E}$_.Cache=Ms;function J_(f){if(typeof f!="function")throw new vo(s);return function(){var g=arguments;switch(g.length){case 0:return!f.call(this);case 1:return!f.call(this,g[0]);case 2:return!f.call(this,g[0],g[1]);case 3:return!f.call(this,g[0],g[1],g[2])}return!f.apply(this,g)}}function GV(f){return LL(2,f)}var WV=P_(function(f,g){g=g.length==1&&vn(g[0])?fi(g[0],mo(nn())):fi(Mr(g,1),mo(nn()));var E=g.length;return Xt(function(L){for(var z=-1,J=$r(L.length,E);++z<J;)L[z]=g[z].call(this,L[z]);return gi(f,this,L)})}),mA=Xt(function(f,g){var E=sa(g,Hm(mA));return be(f,B,t,g,E)}),OL=Xt(function(f,g){var E=sa(g,Hm(OL));return be(f,k,t,g,E)}),VV=xn(function(f,g){return be(f,R,t,t,t,g)});function KV(f,g){if(typeof f!="function")throw new vo(s);return g=g===t?g:Cn(g),Xt(f,g)}function $V(f,g){if(typeof f!="function")throw new vo(s);return g=g==null?0:dr(Cn(g),0),Xt(function(E){var L=E[g],z=Ru(E,0,g);return L&&na(z,L),gi(f,this,z)})}function JV(f,g,E){var L=!0,z=!0;if(typeof f!="function")throw new vo(s);return Oi(E)&&(L="leading"in E?!!E.leading:L,z="trailing"in E?!!E.trailing:z),NL(f,g,{leading:L,maxWait:g,trailing:z})}function qV(f){return kL(f,1)}function jV(f,g){return mA(Qr(g),f)}function XV(){if(!arguments.length)return[];var f=arguments[0];return vn(f)?f:[f]}function QV(f){return Yo(f,v)}function YV(f,g){return g=typeof g=="function"?g:t,Yo(f,v,g)}function ZV(f){return Yo(f,d|v)}function eK(f,g){return g=typeof g=="function"?g:t,Yo(f,d|v,g)}function tK(f,g){return g==null||Mm(f,g,eo(g))}function Pl(f,g){return f===g||f!==f&&g!==g}var nK=$t(Mh),iK=$t(function(f,g){return f>=g}),Nh=Sn(function(){return arguments}())?Sn:function(f){return nr(f)&&$n.call(f,"callee")&&!xm.call(f,"callee")},vn=Le.isArray,rK=fm?mo(fm):Zi;function Is(f){return f!=null&&q_(f.length)&&!xc(f)}function hr(f){return nr(f)&&Is(f)}function oK(f){return f===!0||f===!1||nr(f)&&zr(f)==ft}var Ud=a_||AA,sK=hm?mo(hm):er;function aK(f){return nr(f)&&f.nodeType===1&&!$0(f)}function lK(f){if(f==null)return!0;if(Is(f)&&(vn(f)||typeof f=="string"||typeof f.splice=="function"||Ud(f)||Gm(f)||Nh(f)))return!f.length;var g=Lo(f);if(g==je||g==Kt)return!f.size;if(V0(f))return!qr(f).length;for(var E in f)if($n.call(f,E))return!1;return!0}function uK(f,g){return Pi(f,g)}function cK(f,g,E){E=typeof E=="function"?E:t;var L=E?E(f,g):t;return L===t?Pi(f,g,t,E):!!L}function gA(f){if(!nr(f))return!1;var g=zr(f);return g==ct||g==Ke||typeof f.message=="string"&&typeof f.name=="string"&&!$0(f)}function dK(f){return typeof f=="number"&&y0(f)}function xc(f){if(!Oi(f))return!1;var g=zr(f);return g==De||g==Ae||g==mt||g==Rt}function zL(f){return typeof f=="number"&&f==Cn(f)}function q_(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=O}function Oi(f){var g=typeof f;return f!=null&&(g=="object"||g=="function")}function nr(f){return f!=null&&typeof f=="object"}var UL=a0?mo(a0):Fd;function fK(f,g){return f===g||Ni(f,g,sA(g))}function hK(f,g,E){return E=typeof E=="function"?E:t,Ni(f,g,sA(g),E)}function pK(f){return HL(f)&&f!=+f}function mK(f){if(Y7(f))throw new an(o);return Dd(f)}function gK(f){return f===null}function vK(f){return f==null}function HL(f){return typeof f=="number"||nr(f)&&zr(f)==Ye}function $0(f){if(!nr(f)||zr(f)!=St)return!1;var g=gh(f);if(g===null)return!0;var E=$n.call(g,"constructor")&&g.constructor;return typeof E=="function"&&E instanceof E&&Ad.call(E)==cc}var vA=pm?mo(pm):Pd;function yK(f){return zL(f)&&f>=-O&&f<=O}var GL=mm?mo(mm):Bm;function j_(f){return typeof f=="string"||!vn(f)&&nr(f)&&zr(f)==Z}function fa(f){return typeof f=="symbol"||nr(f)&&zr(f)==q}var Gm=lc?mo(lc):L0;function SK(f){return f===t}function _K(f){return nr(f)&&Lo(f)==Je}function xK(f){return nr(f)&&zr(f)==it}var wK=$t(Th),CK=$t(function(f,g){return f<=g});function WL(f){if(!f)return[];if(Is(f))return j_(f)?Ii(f):Yr(f);if(xu&&f[xu])return Sd(f[xu]());var g=Lo(f),E=g==je?dh:g==Kt?fh:Wm;return E(f)}function wc(f){if(!f)return f===0?f:0;if(f=tl(f),f===de||f===-de){var g=f<0?-1:1;return g*V}return f===f?f:0}function Cn(f){var g=wc(f),E=g%1;return g===g?E?g-E:g:0}function VL(f){return f?Eu(Cn(f),0,ie):0}function tl(f){if(typeof f=="number")return f;if(fa(f))return $;if(Oi(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=Oi(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=ym(f);var E=se.test(f);return E||ce.test(f)?Jb(f.slice(2),E?2:8):ve.test(f)?$:+f}function KL(f){return Rs(f,ks(f))}function EK(f){return f?Eu(Cn(f),-O,O):f===0?f:0}function Zn(f){return f==null?"":Xr(f)}var bK=Sc(function(f,g){if(V0(g)||Is(g)){Rs(g,eo(g),f);return}for(var E in g)$n.call(g,E)&&la(f,E,g[E])}),$L=Sc(function(f,g){Rs(g,ks(g),f)}),X_=Sc(function(f,g,E,L){Rs(g,ks(g),f,L)}),AK=Sc(function(f,g,E,L){Rs(g,eo(g),f,L)}),MK=xn(Am);function TK(f,g){var E=Ll(f);return g==null?E:M0(E,g)}var BK=Xt(function(f,g){f=rn(f);var E=-1,L=g.length,z=L>2?g[2]:t;for(z&&is(g[0],g[1],z)&&(L=1);++E<L;)for(var J=g[E],ue=ks(J),fe=-1,we=ue.length;++fe<we;){var $e=ue[fe],qe=f[$e];(qe===t||Pl(qe,bd[$e])&&!$n.call(f,$e))&&(f[$e]=J[$e])}return f}),RK=Xt(function(f){return f.push(t,Pe),gi(JL,t,f)});function IK(f,g){return c0(f,nn(g,3),Zo)}function kK(f,g){return c0(f,nn(g,3),kd)}function LK(f,g){return f==null?f:Id(f,nn(g,3),ks)}function FK(f,g){return f==null?f:Ah(f,nn(g,3),ks)}function DK(f,g){return f&&Zo(f,nn(g,3))}function PK(f,g){return f&&kd(f,nn(g,3))}function NK(f){return f==null?[]:gc(f,eo(f))}function OK(f){return f==null?[]:gc(f,ks(f))}function yA(f,g,E){var L=f==null?t:ca(f,g);return L===t?E:L}function zK(f,g){return f!=null&&fL(f,g,k_)}function SA(f,g){return f!=null&&fL(f,g,I0)}var UK=ee(function(f,g,E){g!=null&&typeof g.toString!="function"&&(g=Xo.call(g)),f[g]=E},xA(Ls)),HK=ee(function(f,g,E){g!=null&&typeof g.toString!="function"&&(g=Xo.call(g)),$n.call(f,g)?f[g].push(E):f[g]=[E]},nn),GK=Xt(pi);function eo(f){return Is(f)?wt(f):qr(f)}function ks(f){return Is(f)?wt(f,!0):F0(f)}function WK(f,g){var E={};return g=nn(g,3),Zo(f,function(L,z,J){Xa(E,g(L,z,J),L)}),E}function VK(f,g){var E={};return g=nn(g,3),Zo(f,function(L,z,J){Xa(E,z,g(L,z,J))}),E}var KK=Sc(function(f,g,E){da(f,g,E)}),JL=Sc(function(f,g,E,L){da(f,g,E,L)}),$K=xn(function(f,g){var E={};if(f==null)return E;var L=!1;g=fi(g,function(J){return J=Bu(J,f),L||(L=J.length>1),J}),Rs(f,Fn(f),E),L&&(E=Yo(E,d|m|v,bt));for(var z=g.length;z--;)O0(E,g[z]);return E});function JK(f,g){return qL(f,J_(nn(g)))}var qK=xn(function(f,g){return f==null?{}:Ih(f,g)});function qL(f,g){if(f==null)return{};var E=fi(Fn(f),function(L){return[L]});return g=nn(g),km(f,E,function(L,z){return g(L,z[0])})}function jK(f,g,E){g=Bu(g,f);var L=-1,z=g.length;for(z||(z=1,f=t);++L<z;){var J=f==null?t:f[ku(g[L])];J===t&&(L=z,J=E),f=xc(J)?J.call(f):J}return f}function XK(f,g,E){return f==null?f:yc(f,g,E)}function QK(f,g,E,L){return L=typeof L=="function"?L:t,f==null?f:yc(f,g,E,L)}var jL=ns(eo),XL=ns(ks);function YK(f,g,E){var L=vn(f),z=L||Ud(f)||Gm(f);if(g=nn(g,4),E==null){var J=f&&f.constructor;z?E=L?new J:[]:Oi(f)?E=xc(J)?Ll(gh(f)):{}:E={}}return(z?ur:Zo)(f,function(ue,fe,we){return g(E,ue,fe,we)}),E}function ZK(f,g){return f==null?!0:O0(f,g)}function e$(f,g,E){return f==null?f:z0(f,g,Qr(E))}function t$(f,g,E,L){return L=typeof L=="function"?L:t,f==null?f:z0(f,g,Qr(E),L)}function Wm(f){return f==null?[]:go(f,eo(f))}function n$(f){return f==null?[]:go(f,ks(f))}function i$(f,g,E){return E===t&&(E=g,g=t),E!==t&&(E=tl(E),E=E===E?E:0),g!==t&&(g=tl(g),g=g===g?g:0),Eu(tl(f),g,E)}function r$(f,g,E){return g=wc(g),E===t?(E=g,g=0):E=wc(E),f=tl(f),nA(f,g,E)}function o$(f,g,E){if(E&&typeof E!="boolean"&&is(f,g,E)&&(g=E=t),E===t&&(typeof g=="boolean"?(E=g,g=t):typeof f=="boolean"&&(E=f,f=t)),f===t&&g===t?(f=0,g=1):(f=wc(f),g===t?(g=f,f=0):g=wc(g)),f>g){var L=f;f=g,g=L}if(E||f%1||g%1){var z=S0();return $r(f+z*(g-f+j1("1e-"+((z+"").length-1))),g)}return Qa(f,g)}var s$=h(function(f,g,E){return g=g.toLowerCase(),f+(E?QL(g):g)});function QL(f){return _A(Zn(f).toLowerCase())}function YL(f){return f=Zn(f),f&&f.replace(ze,e_).replace(Er,"")}function a$(f,g,E){f=Zn(f),g=Xr(g);var L=f.length;E=E===t?L:Eu(Cn(E),0,L);var z=E;return E-=g.length,E>=0&&f.slice(E,z)==g}function l$(f){return f=Zn(f),f&&ji.test(f)?f.replace(tn,t_):f}function u$(f){return f=Zn(f),f&&Dr.test(f)?f.replace(As,"\\$&"):f}var c$=h(function(f,g,E){return f+(E?"-":"")+g.toLowerCase()}),d$=h(function(f,g,E){return f+(E?" ":"")+g.toLowerCase()}),f$=U_("toLowerCase");function h$(f,g,E){f=Zn(f),g=Cn(g);var L=g?Ka(f):0;if(!g||L>=g)return f;var z=(g-L)/2;return lt(Sh(z),E)+f+lt(yh(z),E)}function p$(f,g,E){f=Zn(f),g=Cn(g);var L=g?Ka(f):0;return g&&L<g?f+lt(g-L,E):f}function m$(f,g,E){f=Zn(f),g=Cn(g);var L=g?Ka(f):0;return g&&L<g?lt(g-L,E)+f:f}function g$(f,g,E){return E||g==null?g=0:g&&(g=+g),c_(Zn(f).replace(lr,""),g||0)}function v$(f,g,E){return(E?is(f,g,E):g===t)?g=1:g=Cn(g),zd(Zn(f),g)}function y$(){var f=arguments,g=Zn(f[0]);return f.length<3?g:g.replace(f[1],f[2])}var S$=h(function(f,g,E){return f+(E?"_":"")+g.toLowerCase()});function _$(f,g,E){return E&&typeof E!="number"&&is(f,g,E)&&(g=E=t),E=E===t?ie:E>>>0,E?(f=Zn(f),f&&(typeof g=="string"||g!=null&&!vA(g))&&(g=Xr(g),!g&&uc(f))?Ru(Ii(f),0,E):f.split(g,E)):[]}var x$=h(function(f,g,E){return f+(E?" ":"")+_A(g)});function w$(f,g,E){return f=Zn(f),E=E==null?0:Eu(Cn(E),0,f.length),g=Xr(g),f.slice(E,E+g.length)==g}function C$(f,g,E){var L=K.templateSettings;E&&is(f,g,E)&&(g=t),f=Zn(f),g=X_({},g,L,xe);var z=X_({},g.imports,L.imports,xe),J=eo(z),ue=go(z,J),fe,we,$e=0,qe=g.interpolate||We,nt="__p += '",Et=br((g.escape||We).source+"|"+qe.source+"|"+(qe===fo?H:We).source+"|"+(g.evaluate||We).source+"|$","g"),Wt="//# sourceURL="+($n.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ga+"]")+`
`;f.replace(Et,function(sn,kn,zn,ha,rs,pa){return zn||(zn=ha),nt+=f.slice($e,pa).replace(Xe,d0),kn&&(fe=!0,nt+=`' +
__e(`+kn+`) +
'`),rs&&(we=!0,nt+=`';
`+rs+`;
__p += '`),zn&&(nt+=`' +
((__t = (`+zn+`)) == null ? '' : __t) +
'`),$e=pa+sn.length,sn}),nt+=`';
`;var on=$n.call(g,"variable")&&g.variable;if(!on)nt=`with (obj) {
`+nt+`
}
`;else if(at.test(on))throw new an(a);nt=(we?nt.replace(st,""):nt).replace(Ze,"$1").replace(He,"$1;"),nt="function("+(on||"obj")+`) {
`+(on?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fe?", __e = _.escape":"")+(we?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+nt+`return __p
}`;var bn=eF(function(){return pn(J,Wt+"return "+nt).apply(t,ue)});if(bn.source=nt,gA(bn))throw bn;return bn}function E$(f){return Zn(f).toLowerCase()}function b$(f){return Zn(f).toUpperCase()}function A$(f,g,E){if(f=Zn(f),f&&(E||g===t))return ym(f);if(!f||!(g=Xr(g)))return f;var L=Ii(f),z=Ii(g),J=hi(L,z),ue=yd(L,z)+1;return Ru(L,J,ue).join("")}function M$(f,g,E){if(f=Zn(f),f&&(E||g===t))return f.slice(0,wd(f)+1);if(!f||!(g=Xr(g)))return f;var L=Ii(f),z=yd(L,Ii(g))+1;return Ru(L,0,z).join("")}function T$(f,g,E){if(f=Zn(f),f&&(E||g===t))return f.replace(lr,"");if(!f||!(g=Xr(g)))return f;var L=Ii(f),z=hi(L,Ii(g));return Ru(L,z).join("")}function B$(f,g){var E=U,L=G;if(Oi(g)){var z="separator"in g?g.separator:z;E="length"in g?Cn(g.length):E,L="omission"in g?Xr(g.omission):L}f=Zn(f);var J=f.length;if(uc(f)){var ue=Ii(f);J=ue.length}if(E>=J)return f;var fe=E-Ka(L);if(fe<1)return L;var we=ue?Ru(ue,0,fe).join(""):f.slice(0,fe);if(z===t)return we+L;if(ue&&(fe+=we.length-fe),vA(z)){if(f.slice(fe).search(z)){var $e,qe=we;for(z.global||(z=br(z.source,Zn(Y.exec(z))+"g")),z.lastIndex=0;$e=z.exec(qe);)var nt=$e.index;we=we.slice(0,nt===t?fe:nt)}}else if(f.indexOf(Xr(z),fe)!=fe){var Et=we.lastIndexOf(z);Et>-1&&(we=we.slice(0,Et))}return we+L}function R$(f){return f=Zn(f),f&&ai.test(f)?f.replace(Ot,Cd):f}var I$=h(function(f,g,E){return f+(E?" ":"")+g.toUpperCase()}),_A=U_("toUpperCase");function ZL(f,g,E){return f=Zn(f),g=E?t:g,g===t?ch(f)?Ed(f):Y1(f):f.match(g)||[]}var eF=Xt(function(f,g){try{return gi(f,t,g)}catch(E){return gA(E)?E:new an(E)}}),k$=xn(function(f,g){return ur(g,function(E){E=ku(E),Xa(f,E,pA(f[E],f))}),f});function L$(f){var g=f==null?0:f.length,E=nn();return f=g?fi(f,function(L){if(typeof L[1]!="function")throw new vo(s);return[E(L[0]),L[1]]}):[],Xt(function(L){for(var z=-1;++z<g;){var J=f[z];if(gi(J[0],this,L))return gi(J[1],this,L)}})}function F$(f){return T0(Yo(f,d))}function xA(f){return function(){return f}}function D$(f,g){return f==null||f!==f?g:f}var P$=I(),N$=I(!0);function Ls(f){return f}function wA(f){return Nd(typeof f=="function"?f:Yo(f,d))}function O$(f){return Bh(Yo(f,d))}function z$(f,g){return Rm(f,Yo(g,d))}var U$=Xt(function(f,g){return function(E){return pi(E,f,g)}}),H$=Xt(function(f,g){return function(E){return pi(f,E,g)}});function CA(f,g,E){var L=eo(g),z=gc(g,L);E==null&&!(Oi(g)&&(z.length||!L.length))&&(E=g,g=f,f=this,z=gc(g,eo(g)));var J=!(Oi(E)&&"chain"in E)||!!E.chain,ue=xc(f);return ur(z,function(fe){var we=g[fe];f[fe]=we,ue&&(f.prototype[fe]=function(){var $e=this.__chain__;if(J||$e){var qe=f(this.__wrapped__),nt=qe.__actions__=Yr(this.__actions__);return nt.push({func:we,args:arguments,thisArg:f}),qe.__chain__=$e,qe}return we.apply(f,na([this.value()],arguments))})}),f}function G$(){return Yi._===this&&(Yi._=Sm),this}function EA(){}function W$(f){return f=Cn(f),Xt(function(g){return Fl(g,f)})}var V$=Oe(fi),K$=Oe(u0),$$=Oe(ah);function tF(f){return lA(f)?Io(ku(f)):Lm(f)}function J$(f){return function(g){return f==null?t:ca(f,g)}}var q$=dn(),j$=dn(!0);function bA(){return[]}function AA(){return!1}function X$(){return{}}function Q$(){return""}function Y$(){return!0}function Z$(f,g){if(f=Cn(f),f<1||f>O)return[];var E=ie,L=$r(f,ie);g=nn(g),f-=ie;for(var z=Rl(L,g);++E<f;)g(E);return z}function eJ(f){return vn(f)?fi(f,ku):fa(f)?[f]:Yr(xL(Zn(f)))}function tJ(f){var g=++p0;return Zn(f)+g}var nJ=Se(function(f,g){return f+g},0),iJ=Ht("ceil"),rJ=Se(function(f,g){return f/g},1),oJ=Ht("floor");function sJ(f){return f&&f.length?bh(f,Ls,Mh):t}function aJ(f,g){return f&&f.length?bh(f,nn(g,2),Mh):t}function lJ(f){return uh(f,Ls)}function uJ(f,g){return uh(f,nn(g,2))}function cJ(f){return f&&f.length?bh(f,Ls,Th):t}function dJ(f,g){return f&&f.length?bh(f,nn(g,2),Th):t}var fJ=Se(function(f,g){return f*g},1),hJ=Ht("round"),pJ=Se(function(f,g){return f-g},0);function mJ(f){return f&&f.length?ra(f,Ls):0}function gJ(f,g){return f&&f.length?ra(f,nn(g,2)):0}return K.after=OV,K.ary=kL,K.assign=bK,K.assignIn=$L,K.assignInWith=X_,K.assignWith=AK,K.at=MK,K.before=LL,K.bind=pA,K.bindAll=k$,K.bindKey=FL,K.castArray=XV,K.chain=BL,K.chunk=oW,K.compact=sW,K.concat=aW,K.cond=L$,K.conforms=F$,K.constant=xA,K.countBy=mV,K.create=TK,K.curry=DL,K.curryRight=PL,K.debounce=NL,K.defaults=BK,K.defaultsDeep=RK,K.defer=zV,K.delay=UV,K.difference=lW,K.differenceBy=uW,K.differenceWith=cW,K.drop=dW,K.dropRight=fW,K.dropRightWhile=hW,K.dropWhile=pW,K.fill=mW,K.filter=vV,K.flatMap=_V,K.flatMapDeep=xV,K.flatMapDepth=wV,K.flatten=bL,K.flattenDeep=gW,K.flattenDepth=vW,K.flip=HV,K.flow=P$,K.flowRight=N$,K.fromPairs=yW,K.functions=NK,K.functionsIn=OK,K.groupBy=CV,K.initial=_W,K.intersection=xW,K.intersectionBy=wW,K.intersectionWith=CW,K.invert=UK,K.invertBy=HK,K.invokeMap=bV,K.iteratee=wA,K.keyBy=AV,K.keys=eo,K.keysIn=ks,K.map=V_,K.mapKeys=WK,K.mapValues=VK,K.matches=O$,K.matchesProperty=z$,K.memoize=$_,K.merge=KK,K.mergeWith=JL,K.method=U$,K.methodOf=H$,K.mixin=CA,K.negate=J_,K.nthArg=W$,K.omit=$K,K.omitBy=JK,K.once=GV,K.orderBy=MV,K.over=V$,K.overArgs=WV,K.overEvery=K$,K.overSome=$$,K.partial=mA,K.partialRight=OL,K.partition=TV,K.pick=qK,K.pickBy=qL,K.property=tF,K.propertyOf=J$,K.pull=MW,K.pullAll=ML,K.pullAllBy=TW,K.pullAllWith=BW,K.pullAt=RW,K.range=q$,K.rangeRight=j$,K.rearg=VV,K.reject=IV,K.remove=IW,K.rest=KV,K.reverse=fA,K.sampleSize=LV,K.set=XK,K.setWith=QK,K.shuffle=FV,K.slice=kW,K.sortBy=NV,K.sortedUniq=zW,K.sortedUniqBy=UW,K.split=_$,K.spread=$V,K.tail=HW,K.take=GW,K.takeRight=WW,K.takeRightWhile=VW,K.takeWhile=KW,K.tap=sV,K.throttle=JV,K.thru=W_,K.toArray=WL,K.toPairs=jL,K.toPairsIn=XL,K.toPath=eJ,K.toPlainObject=KL,K.transform=YK,K.unary=qV,K.union=$W,K.unionBy=JW,K.unionWith=qW,K.uniq=jW,K.uniqBy=XW,K.uniqWith=QW,K.unset=ZK,K.unzip=hA,K.unzipWith=TL,K.update=e$,K.updateWith=t$,K.values=Wm,K.valuesIn=n$,K.without=YW,K.words=ZL,K.wrap=jV,K.xor=ZW,K.xorBy=eV,K.xorWith=tV,K.zip=nV,K.zipObject=iV,K.zipObjectDeep=rV,K.zipWith=oV,K.entries=jL,K.entriesIn=XL,K.extend=$L,K.extendWith=X_,CA(K,K),K.add=nJ,K.attempt=eF,K.camelCase=s$,K.capitalize=QL,K.ceil=iJ,K.clamp=i$,K.clone=QV,K.cloneDeep=ZV,K.cloneDeepWith=eK,K.cloneWith=YV,K.conformsTo=tK,K.deburr=YL,K.defaultTo=D$,K.divide=rJ,K.endsWith=a$,K.eq=Pl,K.escape=l$,K.escapeRegExp=u$,K.every=gV,K.find=yV,K.findIndex=CL,K.findKey=IK,K.findLast=SV,K.findLastIndex=EL,K.findLastKey=kK,K.floor=oJ,K.forEach=RL,K.forEachRight=IL,K.forIn=LK,K.forInRight=FK,K.forOwn=DK,K.forOwnRight=PK,K.get=yA,K.gt=nK,K.gte=iK,K.has=zK,K.hasIn=SA,K.head=AL,K.identity=Ls,K.includes=EV,K.indexOf=SW,K.inRange=r$,K.invoke=GK,K.isArguments=Nh,K.isArray=vn,K.isArrayBuffer=rK,K.isArrayLike=Is,K.isArrayLikeObject=hr,K.isBoolean=oK,K.isBuffer=Ud,K.isDate=sK,K.isElement=aK,K.isEmpty=lK,K.isEqual=uK,K.isEqualWith=cK,K.isError=gA,K.isFinite=dK,K.isFunction=xc,K.isInteger=zL,K.isLength=q_,K.isMap=UL,K.isMatch=fK,K.isMatchWith=hK,K.isNaN=pK,K.isNative=mK,K.isNil=vK,K.isNull=gK,K.isNumber=HL,K.isObject=Oi,K.isObjectLike=nr,K.isPlainObject=$0,K.isRegExp=vA,K.isSafeInteger=yK,K.isSet=GL,K.isString=j_,K.isSymbol=fa,K.isTypedArray=Gm,K.isUndefined=SK,K.isWeakMap=_K,K.isWeakSet=xK,K.join=EW,K.kebabCase=c$,K.last=el,K.lastIndexOf=bW,K.lowerCase=d$,K.lowerFirst=f$,K.lt=wK,K.lte=CK,K.max=sJ,K.maxBy=aJ,K.mean=lJ,K.meanBy=uJ,K.min=cJ,K.minBy=dJ,K.stubArray=bA,K.stubFalse=AA,K.stubObject=X$,K.stubString=Q$,K.stubTrue=Y$,K.multiply=fJ,K.nth=AW,K.noConflict=G$,K.noop=EA,K.now=K_,K.pad=h$,K.padEnd=p$,K.padStart=m$,K.parseInt=g$,K.random=o$,K.reduce=BV,K.reduceRight=RV,K.repeat=v$,K.replace=y$,K.result=jK,K.round=hJ,K.runInContext=pe,K.sample=kV,K.size=DV,K.snakeCase=S$,K.some=PV,K.sortedIndex=LW,K.sortedIndexBy=FW,K.sortedIndexOf=DW,K.sortedLastIndex=PW,K.sortedLastIndexBy=NW,K.sortedLastIndexOf=OW,K.startCase=x$,K.startsWith=w$,K.subtract=pJ,K.sum=mJ,K.sumBy=gJ,K.template=C$,K.times=Z$,K.toFinite=wc,K.toInteger=Cn,K.toLength=VL,K.toLower=E$,K.toNumber=tl,K.toSafeInteger=EK,K.toString=Zn,K.toUpper=b$,K.trim=A$,K.trimEnd=M$,K.trimStart=T$,K.truncate=B$,K.unescape=R$,K.uniqueId=tJ,K.upperCase=I$,K.upperFirst=_A,K.each=RL,K.eachRight=IL,K.first=AL,CA(K,function(){var f={};return Zo(K,function(g,E){$n.call(K.prototype,E)||(f[E]=g)}),f}(),{chain:!1}),K.VERSION=i,ur(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){K[f].placeholder=K}),ur(["drop","take"],function(f,g){en.prototype[f]=function(E){E=E===t?1:dr(Cn(E),0);var L=this.__filtered__&&!g?new en(this):this.clone();return L.__filtered__?L.__takeCount__=$r(E,L.__takeCount__):L.__views__.push({size:$r(E,ie),type:f+(L.__dir__<0?"Right":"")}),L},en.prototype[f+"Right"]=function(E){return this.reverse()[f](E).reverse()}}),ur(["filter","map","takeWhile"],function(f,g){var E=g+1,L=E==j||E==te;en.prototype[f]=function(z){var J=this.clone();return J.__iteratees__.push({iteratee:nn(z,3),type:E}),J.__filtered__=J.__filtered__||L,J}}),ur(["head","last"],function(f,g){var E="take"+(g?"Right":"");en.prototype[f]=function(){return this[E](1).value()[0]}}),ur(["initial","tail"],function(f,g){var E="drop"+(g?"":"Right");en.prototype[f]=function(){return this.__filtered__?new en(this):this[E](1)}}),en.prototype.compact=function(){return this.filter(Ls)},en.prototype.find=function(f){return this.filter(f).head()},en.prototype.findLast=function(f){return this.reverse().find(f)},en.prototype.invokeMap=Xt(function(f,g){return typeof f=="function"?new en(this):this.map(function(E){return pi(E,f,g)})}),en.prototype.reject=function(f){return this.filter(J_(nn(f)))},en.prototype.slice=function(f,g){f=Cn(f);var E=this;return E.__filtered__&&(f>0||g<0)?new en(E):(f<0?E=E.takeRight(-f):f&&(E=E.drop(f)),g!==t&&(g=Cn(g),E=g<0?E.dropRight(-g):E.take(g-f)),E)},en.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},en.prototype.toArray=function(){return this.take(ie)},Zo(en.prototype,function(f,g){var E=/^(?:filter|find|map|reject)|While$/.test(g),L=/^(?:head|last)$/.test(g),z=K[L?"take"+(g=="last"?"Right":""):g],J=L||/^find/.test(g);z&&(K.prototype[g]=function(){var ue=this.__wrapped__,fe=L?[1]:arguments,we=ue instanceof en,$e=fe[0],qe=we||vn(ue),nt=function(kn){var zn=z.apply(K,na([kn],fe));return L&&Et?zn[0]:zn};qe&&E&&typeof $e=="function"&&$e.length!=1&&(we=qe=!1);var Et=this.__chain__,Wt=!!this.__actions__.length,on=J&&!Et,bn=we&&!Wt;if(!J&&qe){ue=bn?ue:new en(this);var sn=f.apply(ue,fe);return sn.__actions__.push({func:W_,args:[nt],thisArg:t}),new Jr(sn,Et)}return on&&bn?f.apply(this,fe):(sn=this.thru(nt),on?L?sn.value()[0]:sn.value():sn)})}),ur(["pop","push","shift","sort","splice","unshift"],function(f){var g=Su[f],E=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",L=/^(?:pop|shift)$/.test(f);K.prototype[f]=function(){var z=arguments;if(L&&!this.__chain__){var J=this.value();return g.apply(vn(J)?J:[],z)}return this[E](function(ue){return g.apply(vn(ue)?ue:[],z)})}}),Zo(en.prototype,function(f,g){var E=K[g];if(E){var L=E.name+"";$n.call(hc,L)||(hc[L]=[]),hc[L].push({name:g,func:E})}}),hc[P(t,x).name]=[{name:"wrapper",func:t}],en.prototype.clone=Xb,en.prototype.reverse=Qb,en.prototype.value=Qo,K.prototype.at=aV,K.prototype.chain=lV,K.prototype.commit=uV,K.prototype.next=cV,K.prototype.plant=fV,K.prototype.reverse=hV,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=pV,K.prototype.first=K.prototype.head,xu&&(K.prototype[xu]=dV),K},yu=r_();Pr?((Pr.exports=yu)._=yu,s0._=yu):Yi._=yu}).call(J0)})(IE,IE.exports);var z1e=IE.exports;const fT=kE(z1e);eL({PlaneBufferGeometry:Gf});const U1e="en-US-GuyNeural";async function H1e(n){const e=await voe(n,U1e),t=await yoe();return{blendshape:e,audio:t}}function G1e({avatar_name:n,speak:e,setSpeak:t,text:i,playing:r,playAudio:o}){const s=G7[n],a=s.scale;let l=aL(s.filename);l.scene.scale.set(a,a,a),l.scene.position.setX(s.x),l.scene.position.setY(s.y),l.scene.position.setZ(s.z),l.scene.rotation.y=s.r;let u,c;l.scene.traverse(S=>{(S.type==="Mesh"||S.type==="LineSegments"||S.type==="SkinnedMesh")&&(S.castShadow=!0,S.receiveShadow=!0,S.frustumCulled=!1,S.name.includes(s.head_dic)&&(u=S.morphTargetDictionary),S.name.includes(s.teeth_dic)&&(c=S.morphTargetDictionary))});const[d,m]=T.useState([]),v=T.useMemo(()=>new jk(l.scene),[]);T.useEffect(()=>{e!==!1&&H1e(i).then(S=>{console.log("viseme response",S);let x=S.blendshape.blend_data;if(console.log(u),u&&c){let C=[dT(x,u,s.head),dT(x,c,s.teeth)];m(C),o(S.audio)}}).catch(S=>{console.error(S),t(!1)})},[e]);let y=lL("/idle.fbx"),{clips:_}=R1e(y.animations);return _[0].tracks=fT.filter(_[0].tracks,S=>S.name.includes("Head")||S.name.includes("Neck")||S.name.includes("Spine2")),_[0].tracks=fT.map(_[0].tracks,S=>(S.name.includes("Head")&&(S.name="head.quaternion"),S.name.includes("Neck")&&(S.name="neck.quaternion"),S.name.includes("Spine")&&(S.name="spine2.quaternion"),S)),T.useEffect(()=>{let S=v.clipAction(_[0]);S.timeScale=1/4,S.play();let x;if(u){let C=dT(O1e,u,s.head);C&&(x=v.clipAction(C),x.timeScale=1/2,x.play())}return()=>{S.stop(),x&&x.stop(),console.log("Avatar Action stoped"),l.scene.traverse(function(C){C instanceof _r&&(C.geometry.dispose(),C.material.dispose(),l.scene.remove(C))}),l.scene.remove(),v.stopAllAction(),v.uncacheClip(_[0]),console.log("Avatar Unmounted")}},[]),T.useEffect(()=>{r!==!1&&(console.log("Clip playing"),fT.each(d,S=>{let x=v.clipAction(S);x.setLoop(gk,1),x.play()}))},[r]),Hb((S,x)=>{v.update(x)}),Ge("group",{name:"avatar",children:Ge("primitive",{object:l.scene,dispose:null})})}const tO=({inputText:n,avatar:e})=>{const[t,i]=T.useState(!1),[r,o]=T.useState(!1),s=T.useRef(null);function a(u){console.log("playByteArray");var c=window.AudioContext||window.webkitAudioContext||!1;if(c)var d=new c;else{alert("Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version or downloading Google Chrome or Mozilla Firefox");return}d.decodeAudioData(u,function(m){s.current=d.createBufferSource(),s.current.buffer=m,o(!0),s.current.connect(d.destination),s.current.start(),s.current.onended=()=>{console.log("clip ended"),l()}})}function l(){console.log("animation ended"),i(!1),o(!1)}return T.useEffect(()=>{n!==""&&i(!0)},[n]),ti("div",{className:Rde.Avatar,children:[ti(aSe,{dpr:2,onCreated:u=>{},children:[Ge(B1e,{makeDefault:!0,zoom:2,position:[.05,1.65,1],resolution:window.innerWidth/2}),Ge(T.Suspense,{fallback:null,children:Ge(P1e,{background:!1,files:"/photo_studio_loft_hall_1k.hdr"})}),Ge(T.Suspense,{fallback:null,children:Ge(W1e,{avatar:e})}),Ge(T.Suspense,{fallback:null,children:Ge(G1e,{avatar_name:e,speak:t,setSpeak:i,text:n,playing:r,playAudio:a})})]}),Ge(cSe,{dataInterpolation:u=>"Loading... please wait"})]})};function W1e({avatar:n}){const e=sL(G7[n].bg),t=T.useRef(null);return ti("mesh",{position:[.05,1.7,0],scale:[1.1,1.1,1],children:[Ge("planeBufferGeometry",{ref:t}),Ge("meshBasicMaterial",{map:e})]})}const V1e=()=>{const[n,e]=T.useState(!1),[t,i]=T.useState(""),[r,o]=T.useState(3),[s,a]=T.useState(kc.Hybrid),[l,u]=T.useState(!1),[c,d]=T.useState(!1),[m,v]=T.useState(""),[y,_]=T.useState(!1),[S,x]=T.useState(!0),[C,b]=T.useState(!1),M=T.useRef(null),B=T.useRef(null),k=T.useRef(""),F=T.useRef(null),[R,N]=T.useState(!1),[U,G]=T.useState(),[oe,me]=T.useState(),[j,ne]=T.useState(void 0),[te,de]=T.useState(0),[O,V]=T.useState([]),[$,ie]=T.useState("chat"),[ae,Ce]=T.useState(""),[Fe,Ne]=T.useState(!1),[he,mt]=T.useState(!1),[ft,_t]=T.useState(void 0);document.createElement("video");var Ke=T.useRef(void 0),ct=T.useRef(void 0);const[De,Ae]=T.useState("en-US-JennyNeural"),je=[{key:"en-US-JennyNeural",text:"Female Default"},{key:"en-US-GuyNeural",text:"Male Default"},{key:"custom",text:"Custom Voices",itemType:Zl.Header},{key:"Daniel HicksNeural",text:"Daniel Hicks"},{key:"Kit-Neural",text:"Dr. Chui"}],[Ye,rt]=T.useState("cartoon"),St={dropdown:{width:300}};function It(Ve){var Re=window.AudioContext||window.webkitAudioContext||!1;if(Re)ct.current==null&&(ct.current=new Re);else{alert("Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version or downloading Google Chrome or Mozilla Firefox");return}ct.current.decodeAudioData(Ve.slice(0),function(st){ct.current!=null&&(Ke.current=ct.current.createBufferSource(),Ke.current.buffer=st,Ke.current.connect(ct.current.destination),Ke.current.start(),Ne(!0),Ke.current.onended=()=>{Ne(!1),mt(!1)})})}function Rt(){var Ve;console.log("pauseByteArray"),(Ve=ct.current)==null||Ve.suspend(),mt(!0)}function qt(){var Ve;console.log("resumeByteArray"),(Ve=ct.current)==null||Ve.resume(),mt(!1)}function Kt(){ft&&It(ft)}async function Z(Ve,Re){console.log("TTS activcation: "+S+": "+Re.answer);const st=Re.answer.replaceAll(/\[[^\]]*\]/g,"");if($=="avatar")console.log("avatar speak text set"),Ce(st);else if(S){const Ze=await goe(st,De);_t(Ze),It(Ze)}Re.answer=Re.answer.replaceAll(/\$[^\$]*\$/g,""),console.log("TTS activcation: "+S+": "+Re.answer),V([...O,[Ve,Re]]),N(!1)}const q=async Ve=>{Ke.current&&(Ke.current.stop(0),Ke.current.disconnect(),Ke.current=void 0),k.current=Ve,U&&G(void 0),N(!0),me(void 0),ne(void 0);try{const st={history:[...O.map(He=>({user:He[0],bot:He[1].answer})),{user:Ve,bot:void 0}],approach:Iz.ReadRetrieveRead,overrides:{retrievalMode:s,promptTemplate:t.length===0?void 0:t,excludeCategory:m.length===0?void 0:m,top:r,semanticRanker:l,semanticCaptions:c,suggestFollowupQuestions:y}},Ze=await moe(st);return console.log("response",Ze),await Z(Ve,Ze),Promise.resolve()}catch(Re){return G(Re),Promise.reject()}finally{N(!1)}},Me=()=>{k.current="",U&&G(void 0),me(void 0),ne(void 0),setTimeout(()=>{b(!0)},3e3),V([])};T.useEffect(()=>{var Ve;return(Ve=F.current)==null?void 0:Ve.scrollIntoView({behavior:"smooth"})},[R]),T.useEffect(()=>{$=="avatar"?(Ye=="cartoon"?Ae("en-US-GuyNeural"):Ae("en-US-JennyMultilingualV2Neural"),S||x(!0)):Ce("")},[$]),T.useEffect(()=>{C?Je():it()},[C]);const Je=()=>{if(console.log("start streaming"),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const Ve={video:{frameRate:{ideal:30,max:60}}};navigator.mediaDevices.getUserMedia(Ve).then(Re=>{M.current&&(M.current.srcObject=Re,M.current.play()),B.current&&(B.current.srcObject=Re,B.current.play(),ot())}).catch(Re=>{console.error("Error accessing media devices.",Re)})}else console.log("getUserMedia is not supported");return()=>{}},it=()=>{const Ve=B.current;Ve&&Ve.srcObject&&setTimeout(()=>{var Re=Ve.srcObject;Re.getTracks().forEach(Ze=>Ze.stop()),Ve.srcObject=null},100)},ot=async()=>{console.log("process video");const Ve=B.current,Re=document.createElement("canvas");if(Ve&&C&&Re&&!k.current)try{if(Ve.videoHeight==0){setTimeout(ot,300);return}Re.width=Ve.offsetWidth,Re.height=Ve.offsetHeight;var st=Re.getContext("2d");if(st){st.drawImage(Ve,0,0,Ve.offsetWidth,Ve.offsetHeight);const Ot=Re.toDataURL("image/jpeg").split(";base64,")[1],tn=await poe(Ot);if(tn&&tn.face_number>0){it();let ai={answer:"早上好，有什么可以帮到你的吗",thoughts:null,data_points:[]};tn.name&&(ai.answer="Good morning, "+tn.name+", how can I help you?"),k.current="(detect_face)",Z("(detect_face)",ai)}}let Ze=Date.now(),He=3e3-(Date.now()-Ze)%100;k.current||setTimeout(ot,He)}catch(Ze){console.log("Error processing video: ",Ze)}else k.current?console.log("chatting: ",k.current):console.log(Ve?Re?"face detection is not activated":"load canvas source...":"load video source..."),setTimeout(ot,3e3)},Nt=(Ve,Re)=>{o(parseInt(Re||"3"))},Te=(Ve,Re)=>{d(!!Re)},Mt=(Ve,Re)=>{_(!!Re)},gt=Ve=>{q(Ve)},pt=(Ve,Re,st)=>{a((Re==null?void 0:Re.data)||kc.Hybrid)},re=(Ve,Re)=>{oe===Ve&&j===wf.CitationTab&&te===Re?ne(void 0):(me(Ve),ne(wf.CitationTab)),de(Re)},Be=(Ve,Re)=>{ne(j===Ve&&te===Re?void 0:Ve),de(Re)},et=(Ve,Re,st)=>{Re!=null&&Re.key&&Ae(String(Re==null?void 0:Re.key)),console.log(String(Re==null?void 0:Re.key))};return ti("div",{className:yi.layout,children:[Ge("video",{ref:B,autoPlay:!0,style:{visibility:"hidden",position:"absolute"}}),$=="avatar"&&Ge(mde,{setSelectedAvatar:rt,selectedAvatar:Ye,setSpeakText:Ce}),Ge(Tde,{setMode:ie,mode:$}),$=="avatar"&&Ye=="cartoon"&&Ge(tO,{inputText:ae,avatar:Ye}),$=="avatar"&&Ye=="robot"&&Ge(tO,{inputText:ae,avatar:Ye}),Ge("div",{className:$=="avatar"?yi.containerWhenAvatarMode:yi.container,children:ti("div",{className:yi.chatRoot,children:[ti("div",{className:yi.chatContainer,children:[Ge("div",{className:yi.chatHeader,children:ti("div",{className:yi.commandsContainer,children:[Ge(lde,{className:yi.commandButton,onClick:Me,disabled:!k.current||R,mode:$}),Ge(rde,{className:yi.commandButton,onClick:()=>e(!n),mode:$})]})}),!k.current&&$!="avatar"?ti("div",{className:yi.chatEmptyState,children:[Ge("h1",{className:yi.chatEmptyStateTitle,children:"Chat about Innovation Wing"}),Ge("h2",{className:yi.chatEmptyStateSubtitle,children:"Ask anything or try an example"}),Ge(Vce,{onExampleClicked:gt})]}):ti("div",{className:yi.chatMessageStream,children:[O.map((Ve,Re)=>ti("div",{children:[Ve[0]!="(detect_face)"&&Ge(aM,{message:Ve[0]}),Ge("div",{className:yi.chatMessageGpt,children:Ge(oue,{answer:Ve[1],isSelected:te===Re&&j!==void 0,onCitationClicked:st=>re(st,Re),onThoughtProcessClicked:()=>Be(wf.ThoughtProcessTab,Re),onSupportingContentClicked:()=>Be(wf.SupportingContentTab,Re),onFollowupQuestionClicked:st=>q(st),showFollowupQuestions:y&&O.length-1===Re,mode:$,playing:Fe,isLast:O.length-1===Re,pausePlay:Rt,resumePlay:qt,rePlay:Kt,paused:he,ttsOn:S},Re)})]},Re)),R&&ti(sF,{children:[Ge(aM,{message:k.current}),Ge("div",{className:yi.chatMessageGptMinWidth,children:Ge(Rce,{})})]}),U?ti(sF,{children:[Ge(aM,{message:k.current}),Ge("div",{className:yi.chatMessageGptMinWidth,children:Ge(Ice,{error:U.toString(),onRetry:()=>q(k.current)})})]}):null,Ge("div",{ref:F})]}),Ge("div",{className:yi.chatInput,children:Ge(Oce,{clearOnSend:!0,placeholder:"Ask a new question",disabled:R,onSend:q})})]}),O.length>0&&j&&Ge(tde,{className:yi.chatAnalysisPanel,activeCitation:oe,onActiveTabChanged:Ve=>Be(Ve,te),citationHeight:"810px",answer:O[te][1],activeTab:j}),ti(Z5,{headerText:"ChatBot Configure",isOpen:n,isBlocking:!1,onDismiss:()=>e(!1),closeButtonAriaLabel:"Close",onRenderFooterContent:()=>Ge(X5,{onClick:()=>e(!1),children:"Close"}),isFooterAtBottom:!0,children:[Ge(EB,{onChange:et,className:yi.chatSettingsSeparator,defaultSelectedKey:De,label:"Text to Speech Voice Model:",options:je,styles:St,disabled:!S||$=="avatar"}),Ge(Iy,{className:yi.chatSettingsSeparator,checked:S,label:"Activate Text to Speech",onChange:()=>x(!S),disabled:$=="avatar"}),Ge(Lie,{className:yi.chatSettingsSeparator,label:"Retrieve this many documents from search:",min:1,max:50,defaultValue:r.toString(),onChange:Nt}),Ge(EB,{className:yi.chatSettingsSeparator,label:"Retrieval mode",options:[{key:"hybrid",text:"Vectors + Text (Hybrid)",selected:s==kc.Hybrid,data:kc.Hybrid},{key:"vectors",text:"Vectors",selected:s==kc.Vectors,data:kc.Vectors},{key:"text",text:"Text",selected:s==kc.Text,data:kc.Text}],required:!0,onChange:pt}),Ge(Iy,{className:yi.chatSettingsSeparator,checked:c,label:"Use query-contextual summaries instead of whole documents",onChange:Te,disabled:!l}),Ge(Iy,{className:yi.chatSettingsSeparator,checked:y,label:"Suggest follow-up questions",onChange:Mt}),Ge(Iy,{className:yi.chatSettingsSeparator,checked:C,label:"Activate Face Recognition",onChange:()=>b(!C)}),C&&Ge("video",{ref:M,className:yi.videoElement,autoPlay:!0})]})]})})]})};pie();function K1e(){return Ge(DX,{children:Ge(FX,{children:Ge(A8,{path:"/",element:Ge(V1e,{})})})})}hT.createRoot(document.getElementById("root")).render(Ge(fO.StrictMode,{children:Ge(K1e,{})}));
//# sourceMappingURL=index-240b547d.js.map
